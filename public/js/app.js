!function (t) { var e = {}; function n(i) { if (e[i]) return e[i].exports; var r = e[i] = { i: i, l: !1, exports: {} }; return t[i].call(r.exports, r, r.exports, n), r.l = !0, r.exports } n.m = t, n.c = e, n.d = function (t, e, i) { n.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: i }) }, n.r = function (t) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 }) }, n.t = function (t, e) { if (1 & e && (t = n(t)), 8 & e) return t; if (4 & e && "object" == typeof t && t && t.__esModule) return t; var i = Object.create(null); if (n.r(i), Object.defineProperty(i, "default", { enumerable: !0, value: t }), 2 & e && "string" != typeof t) for (var r in t) n.d(i, r, function (e) { return t[e] }.bind(null, r)); return i }, n.n = function (t) { var e = t && t.__esModule ? function () { return t.default } : function () { return t }; return n.d(e, "a", e), e }, n.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, n.p = "", n(n.s = 0) }({ 0: function (t, e, n) { n("zk27"), n("oaNO"), t.exports = n("hnjw") }, "0oU+": function (t, e, n) { var i, r, o; o = "undefined" != typeof window ? window : this, i = [n("EVdn")], void 0 === (r = function (t) { return function (t, e, n, i) { "use strict"; var r, o = "object", s = "function", a = "array", u = "string", l = "boolean", c = "number", h = "null", p = { c: "class", s: "style", i: "id", l: "length", p: "prototype", ti: "tabindex", oH: "offsetHeight", cH: "clientHeight", sH: "scrollHeight", oW: "offsetWidth", cW: "clientWidth", sW: "scrollWidth", hOP: "hasOwnProperty", bCR: "getBoundingClientRect" }, f = function () { var i = {}, r = {}, o = ["-webkit-", "-moz-", "-o-", "-ms-"], s = ["WebKit", "Moz", "O", "MS"]; function a(t) { return t.charAt(0).toUpperCase() + t.slice(1) } return { _cssPrefixes: o, _jsPrefixes: s, _cssProperty: function (t) { var i = r[t]; if (r[p.hOP](t)) return i; for (var s, u, l, c = a(t), h = e.createElement("div")[p.s], f = 0; f < o.length; f++)for (l = o[f].replace(/-/g, ""), s = [t, o[f] + t, l + c, a(l) + c], u = 0; u < s[p.l]; u++)if (h[s[u]] !== n) { i = s[u]; break } return r[t] = i, i }, _cssPropertyValue: function (t, n, i) { var o = t + " " + n, s = r[o]; if (r[p.hOP](o)) return s; for (var a, u = e.createElement("div")[p.s], l = n.split(" "), c = i || "", h = 0, d = -1; h < l[p.l]; h++)for (; d < f._cssPrefixes[p.l]; d++)if (a = d < 0 ? l[h] : f._cssPrefixes[d] + l[h], u.cssText = t + ":" + a + c, u[p.l]) { s = a; break } return r[o] = s, s }, _jsAPI: function (e, n, r) { var o = 0, u = i[e]; if (!i[p.hOP](e)) { for (u = t[e]; o < s[p.l]; o++)u = u || t[(n ? s[o] : s[o].toLowerCase()) + a(e)]; i[e] = u } return u || r } } }(), d = function () { function i(n) { return n ? t.innerWidth || e.documentElement[p.cW] || e.body[p.cW] : t.innerHeight || e.documentElement[p.cH] || e.body[p.cH] } function r(t, e) { if (typeof t != s) throw "Can't bind function!"; var n = p.p, i = Array[n].slice.call(arguments, 2), r = function () { }, o = function () { return t.apply(this instanceof r ? this : e, i.concat(Array[n].slice.call(arguments))) }; return t[n] && (r[n] = t[n]), o[n] = new r, o } return { wW: r(i, 0, !0), wH: r(i, 0), mO: r(f._jsAPI, 0, "MutationObserver", !0), rO: r(f._jsAPI, 0, "ResizeObserver", !0), rAF: r(f._jsAPI, 0, "requestAnimationFrame", !1, (function (e) { return t.setTimeout(e, 1e3 / 60) })), cAF: r(f._jsAPI, 0, "cancelAnimationFrame", !1, (function (e) { return t.clearTimeout(e) })), now: function () { return Date.now && Date.now() || (new Date).getTime() }, stpP: function (t) { t.stopPropagation ? t.stopPropagation() : t.cancelBubble = !0 }, prvD: function (t) { t.preventDefault && t.cancelable ? t.preventDefault() : t.returnValue = !1 }, page: function (t) { var i = ((t = t.originalEvent || t).target || t.srcElement || e).ownerDocument || e, r = i.documentElement, o = i.body; if (t.touches !== n) { var s = t.touches[0]; return { x: s.pageX, y: s.pageY } } return !t.pageX && t.clientX && null != t.clientX ? { x: t.clientX + (r && r.scrollLeft || o && o.scrollLeft || 0) - (r && r.clientLeft || o && o.clientLeft || 0), y: t.clientY + (r && r.scrollTop || o && o.scrollTop || 0) - (r && r.clientTop || o && o.clientTop || 0) } : { x: t.pageX, y: t.pageY } }, mBtn: function (t) { var e = t.button; return t.which || e === n ? t.which : 1 & e ? 1 : 2 & e ? 3 : 4 & e ? 2 : 0 }, inA: function (t, e) { for (var n = 0; n < e[p.l]; n++)try { if (e[n] === t) return n } catch (t) { } return -1 }, isA: function (t) { var e = Array.isArray; return e ? e(t) : this.type(t) == a }, type: function (t) { return t === n || null === t ? t + "" : Object[p.p].toString.call(t).replace(/^\[object (.+)\]$/, "$1").toLowerCase() }, bind: r } }(), g = Math, y = i, m = (i.easing, i), v = (r = [], function (t, e) { var n = arguments[p.l]; if (n < 1) return r; if (e) t.__overlayScrollbars__ = e, r.push(t); else { var i = d.inA(t, r); if (i > -1) { if (!(n > 1)) return r[i].__overlayScrollbars__; delete t.__overlayScrollbars__, r.splice(i, 1) } } }), _ = function () { var i, r, _, b, w, x, E, C, D, S, T = [], I = (b = d.type, w = [l, c, u, a, o, s, h], D = { className: ["os-theme-dark", [h, u]], resize: ["none", "n:none b:both h:horizontal v:vertical"], sizeAutoCapable: x = [!0, l], clipAlways: x, normalizeRTL: x, paddingAbsolute: E = [!1, l], autoUpdate: [null, [h, l]], autoUpdateInterval: [33, c], updateOnLoad: [["img"], [u, a, h]], nativeScrollbarsOverlaid: { showNativeScrollbars: E, initialize: x }, overflowBehavior: { x: ["scroll", "v-h:visible-hidden v-s:visible-scroll s:scroll h:hidden"], y: ["scroll", "v-h:visible-hidden v-s:visible-scroll s:scroll h:hidden"] }, scrollbars: { visibility: ["auto", "v:visible h:hidden a:auto"], autoHide: ["never", "n:never s:scroll l:leave m:move"], autoHideDelay: [800, c], dragScrolling: x, clickScrolling: E, touchSupport: x, snapHandle: E }, textarea: { dynWidth: E, dynHeight: E, inheritedAttrs: [["style", "class"], [u, a, h]] }, callbacks: { onInitialized: C = [null, [h, s]], onInitializationWithdrawn: C, onDestroyed: C, onScrollStart: C, onScroll: C, onScrollStop: C, onOverflowChanged: C, onOverflowAmountChanged: C, onDirectionChanged: C, onContentSizeChanged: C, onHostSizeChanged: C, onUpdated: C } }, { _defaults: (S = function (t) { var e = function (n) { var i, r, s; for (i in n) n[p.hOP](i) && (r = n[i], (s = b(r)) == a ? n[i] = r[t ? 1 : 0] : s == o && (n[i] = e(r))); return n }; return e(m.extend(!0, {}, D)) })(), _template: S(!0), _validate: function (e, i, r, s) { var a = {}, l = {}, c = m.extend(!0, {}, e), h = m.inArray, f = m.isEmptyObject, g = function (t, e, i, s, a, l) { for (var c in e) if (e[p.hOP](c) && t[p.hOP](c)) { var y, v, _, x, E, C, D, S, T = !1, I = !1, N = e[c], P = b(N), A = P == o, M = d.isA(N) ? N : [N], L = i[c], O = t[c], k = b(O), F = l ? l + "." : "", R = 'The option "' + F + c + "\" wasn't set, because", q = [], j = []; if (L = L === n ? {} : L, A && k == o) s[c] = {}, a[c] = {}, g(O, N, L, s[c], a[c], F + c), m.each([t, s, a], (function (t, e) { f(e[c]) && delete e[c] })); else if (!A) { for (C = 0; C < M[p.l]; C++)if (E = M[C], _ = (P = b(E)) == u && -1 === h(E, w)) for (q.push(u), y = E.split(" "), j = j.concat(y), D = 0; D < y[p.l]; D++) { for (x = (v = y[D].split(":"))[0], S = 0; S < v[p.l]; S++)if (O === v[S]) { T = !0; break } if (T) break } else if (q.push(E), k === E) { T = !0; break } T ? ((I = O !== L) && (s[c] = O), (_ ? h(L, v) < 0 : I) && (a[c] = _ ? x : O)) : r && console.warn(R + " it doesn't accept the type [ " + k.toUpperCase() + ' ] with the value of "' + O + '".\r\nAccepted types are: [ ' + q.join(", ").toUpperCase() + " ]." + (j[length] > 0 ? "\r\nValid strings are: [ " + j.join(", ").split(":").join(", ") + " ]." : "")), delete t[c] } } }; return g(c, i, s || {}, a, l), !f(c) && r && console.warn("The following options are discarded due to invalidity:\r\n" + t.JSON.stringify(c, null, 2)), { _default: a, _prepared: l } } }); function N() { r || (r = new P(I._defaults)), _ || (_ = new A(r)) } function P(e) { var n = this, i = m("body"), r = m('<div id="os-dummy-scrollbar-size"><div></div></div>'), o = r[0], s = m(r.children("div").eq(0)); i.append(r), r.hide().show(); var a = c(o), u = { x: 0 === a.x, y: 0 === a.y }, l = function () { var e, n = t.navigator.userAgent, i = n.indexOf("MSIE "), r = n.indexOf("Trident/"), o = n.indexOf("Edge/"), s = n.indexOf("rv:"), a = parseInt; return i > 0 ? e = a(n.substring(i + 5, n.indexOf(".", i)), 10) : r > 0 ? e = a(n.substring(s + 3, n.indexOf(".", s)), 10) : o > 0 && (e = a(n.substring(o + 5, n.indexOf(".", o)), 10)), e }(); function c(t) { return { x: t[p.oH] - t[p.cH], y: t[p.oW] - t[p.cW] } } m.extend(n, { defaultOptions: e, msie: l, autoUpdateLoop: !1, autoUpdateRecommended: !d.mO(), nativeScrollbarSize: a, nativeScrollbarIsOverlaid: u, nativeScrollbarStyling: function () { var e = !1; r.addClass("os-viewport-native-scrollbars-invisible"); try { e = "none" === r.css("scrollbar-width") && (l > 9 || !l) || "none" === t.getComputedStyle(o, "::-webkit-scrollbar").getPropertyValue("display") } catch (t) { } return e }(), overlayScrollbarDummySize: { x: 30, y: 30 }, cssCalc: f._cssPropertyValue("width", "calc", "(1px)") || null, restrictedMeasuring: function () { r.css("overflow", "hidden"); var t = o[p.sW], e = o[p.sH]; r.css("overflow", "visible"); var n = o[p.sW], i = o[p.sH]; return t - n != 0 || e - i != 0 }(), rtlScrollBehavior: function () { r.css({ "overflow-y": "hidden", "overflow-x": "scroll", direction: "rtl" }).scrollLeft(0); var t = r.offset(), e = s.offset(); r.scrollLeft(-999); var n = s.offset(); return { i: t.left === e.left, n: e.left !== n.left } }(), supportTransform: !!f._cssProperty("transform"), supportTransition: !!f._cssProperty("transition"), supportPassiveEvents: function () { var e = !1; try { t.addEventListener("test", null, Object.defineProperty({}, "passive", { get: function () { e = !0 } })) } catch (t) { } return e }(), supportResizeObserver: !!d.rO(), supportMutationObserver: !!d.mO() }), r.removeAttr(p.s).remove(), function () { if (!u.x || !u.y) { var e = g.abs, o = d.wW(), s = d.wH(), a = l(); m(t).on("resize", (function () { if (v().length > 0) { var t = d.wW(), u = d.wH(), h = t - o, p = u - s; if (0 === h && 0 === p) return; var f, y = g.round(t / (o / 100)), _ = g.round(u / (s / 100)), b = e(h), w = e(p), x = e(y), E = e(_), C = l(), D = b > 2 && w > 2, S = (N = E, P = e(x), A = e(N), !(P !== A && P + 1 !== A && P - 1 !== A)), T = D && S && C !== a && a > 0, I = n.nativeScrollbarSize; T && (i.append(r), f = n.nativeScrollbarSize = c(r[0]), r.remove(), I.x === f.x && I.y === f.y || m.each(v(), (function () { v(this) && v(this).update("zoom") }))), o = t, s = u, a = C } var N, P, A })) } function l() { var e = t.screen.deviceXDPI || 0, n = t.screen.logicalXDPI || 1; return t.devicePixelRatio || e / n } }() } function A(t) { var e, i = m.inArray, r = d.now, o = p.l, s = [], a = [], u = !1, l = 33, c = r(), h = function () { if (s[o] > 0 && u) { e = d.rAF()((function () { h() })); var t, i, p, f, y, m, v = r(), _ = v - c; if (_ > l) { c = v - _ % l, t = 33; for (var b = 0; b < s[o]; b++)(i = s[b]) !== n && (f = (p = i.options()).autoUpdate, y = g.max(1, p.autoUpdateInterval), m = r(), (!0 === f || null === f) && m - a[b] > y && (i.update("auto"), a[b] = new Date(m += y)), t = g.max(1, g.min(t, y))); l = t } } else l = 33 }; this.add = function (e) { -1 === i(e, s) && (s.push(e), a.push(r()), s[o] > 0 && !u && (u = !0, t.autoUpdateLoop = u, h())) }, this.remove = function (r) { var l = i(r, s); l > -1 && (a.splice(l, 1), s.splice(l, 1), 0 === s[o] && u && (u = !1, t.autoUpdateLoop = u, e !== n && (d.cAF()(e), e = -1))) } } function M(r, h, _, b, w) { var x = d.type, E = m.inArray, C = m.each, D = new i, S = m[p.p]; if (fi(r)) { if (v(r)) { var T = v(r); return T.options(h), T } var N, P, A, M, L, O, k, F, R, q, j, B, $, z, V, U, H, G, X, Y, W, J, Z, K, Q, tt, et, nt, it, rt, ot, st, at, ut, lt, ct, ht, pt, ft, dt, gt, yt, mt, vt, _t, bt, wt, xt, Et, Ct, Dt, St, Tt, It, Nt, Pt, At, Mt, Lt, Ot, kt, Ft, Rt, qt, jt, Bt, $t, zt, Vt, Ut, Ht, Gt, Xt, Yt, Wt, Jt, Zt, Kt, Qt, te, ee, ne, ie, re, oe, se, ae, ue, le, ce, he, pe, fe, de, ge, ye, me, ve, _e, be, we, xe, Ee, Ce, De, Se, Te, Ie, Ne, Pe, Ae, Me, Le, Oe, ke, Fe, Re, qe, je, Be, $e = {}, ze = {}, Ve = {}, Ue = {}, He = {}, Ge = "transitionend webkitTransitionEnd oTransitionEnd", Xe = "os-host", Ye = Xe + "-foreign", We = Xe + "-textarea", Je = Xe + "-scrollbar-horizontal-hidden", Ze = Xe + "-scrollbar-vertical-hidden", Ke = Xe + "-transition", Qe = Xe + "-rtl", tn = Xe + "-resize-disabled", en = Xe + "-scrolling", nn = Xe + "-overflow", rn = (nn = Xe + "-overflow") + "-x", on = nn + "-y", sn = "os-textarea", an = sn + "-cover", un = "os-viewport-native-scrollbars-invisible", ln = "os-viewport-native-scrollbars-overlaid", cn = "os-text-inherit", hn = "os-scrollbar-track-off", pn = "os-scrollbar-handle-off", fn = "os-scrollbar-unusable", dn = "os-scrollbar-auto-hidden", gn = "os-scrollbar-corner-resize", yn = gn + "-both", mn = gn + "-horizontal", vn = gn + "-vertical", _n = "os-dragging", bn = "os-theme-none", wn = [un, ln, hn, pn, fn, dn, gn, yn, mn, vn, _n].join(" "), xn = [], En = [p.ti], Cn = {}, Dn = {}, Sn = [], Tn = {}, In = ["wrap", "cols", "rows"], Nn = [p.i, p.c, p.s, "open"].concat(En), Pn = []; return D.sleep = function () { it = !0 }, D.update = function (t) { var e, i, r, o, s; if (!V) return x(t) == u ? "auto" === t ? (e = function () { if (!it && !Se) { var t, e, i, r = [], o = [{ _elem: dt, _attrs: Nn.concat(":visible") }, { _elem: U ? ft : n, _attrs: In }]; return C(o, (function (n, o) { (t = o._elem) && C(o._attrs, (function (n, o) { e = ":" === o.charAt(0) ? t.is(o) : t.attr(o), i = Tn[o], xi(e, i) && r.push(o), Tn[o] = e })) })), Gn(r), r[p.l] > 0 } }(), i = function () { if (it) return !1; var t, e, n, i, r = yi(), o = U && Ut && !ye ? ft.val().length : 0, s = !Se && Ut && !U, a = {}; return s && (t = _t.css("float"), a.float = nt ? "right" : "left", a.width = "auto", _t.css(a)), i = { w: r[p.sW] + o, h: r[p.sH] + o }, s && (a.float = t, a.width = "100%", _t.css(a)), e = Un(), n = xi(i, se), se = i, n || e }(), (r = e || i) && Yn({ _contentSizeChanged: i, _changedOptions: z ? n : st })) : "sync" === t ? Se ? (o = Ce(xe.takeRecords()), s = De(Ee.takeRecords())) : o = D.update("auto") : "zoom" === t && Yn({ _hostSizeChanged: !0, _contentSizeChanged: !0 }) : (t = it || t, it = !1, D.update("sync") && !t || Yn({ _force: t })), Wn(), r || o || s }, D.options = function (t, e) { var n, i = {}; if (m.isEmptyObject(t) || !m.isPlainObject(t)) { if (x(t) != u) return ot; if (!(arguments.length > 1)) return _i(ot, t); bi(i, t, e), n = Jn(i) } else n = Jn(t); m.isEmptyObject(n) || Yn({ _changedOptions: n }) }, D.destroy = function () { if (!V) { for (var t in w.remove(D), Fn(), Ln(yt), Ln(gt), Cn) D.removeExt(t); for (; Pn[p.l] > 0;)Pn.pop()(); Vn(!0), wt && Ti(wt), bt && Ti(bt), W && Ti(gt), Qn(!0), ai(!0), Zn(!0); for (var e = 0; e < Sn[p.l]; e++)m(Sn[e]).off("load", zn); Sn = n, V = !0, it = !0, v(r, 0), ui("onDestroyed") } }, D.scroll = function (t, e, i, r) { if (0 === arguments.length || t === n) { var h = ze, f = Ve, v = fe && nt && A.i, _ = fe && nt && A.n, b = h._currentScroll, w = h._currentScrollRatio, C = h._maxScroll; return w = v ? 1 - w : w, b = v ? C - b : b, C *= _ ? -1 : 1, { position: { x: b *= _ ? -1 : 1, y: f._currentScroll }, ratio: { x: w, y: f._currentScrollRatio }, max: { x: C, y: f._maxScroll }, handleOffset: { x: h._handleOffset, y: f._handleOffset }, handleLength: { x: h._handleLength, y: f._handleLength }, handleLengthRatio: { x: h._handleLengthRatio, y: f._handleLengthRatio }, trackLength: { x: h._trackLength, y: f._trackLength }, snappedHandleOffset: { x: h._snappedHandleOffset, y: f._snappedHandleOffset }, isRTL: nt, isRTLNormalized: fe } } D.update("sync"); var S, T, I, N, P, M, L, O, k, F = fe, R = ["x", "left", "l"], j = ["y", "top", "t"], B = ["+=", "-=", "*=", "/="], $ = x(e) == o, z = $ ? e.complete : r, V = {}, U = {}, H = "end", G = "begin", X = "center", Y = "nearest", W = "always", J = "never", Z = "ifneeded", K = p.l, Q = ["x", "y", "xy", "yx"], tt = [G, H, X, Y], et = [W, J, Z], it = t[p.hOP]("el"), rt = it ? t.el : t, ot = !!(rt instanceof m || y) && rt instanceof y, st = !ot && fi(rt), at = function () { T && ri(!0), I && ri(!1) }, ut = x(z) != s ? n : function () { at(), z() }; function lt(t, e) { for (S = 0; S < e[K]; S++)if (t === e[S]) return !0; return !1 } function ct(t, e) { var n = t ? R : j; if (e = x(e) == u || x(e) == c ? [e, e] : e, d.isA(e)) return t ? e[0] : e[1]; if (x(e) == o) for (S = 0; S < n[K]; S++)if (n[S] in e) return e[n[S]] } function ht(t, e) { var i, r, o, s, a = x(e) == u, l = t ? ze : Ve, h = l._currentScroll, p = l._maxScroll, f = nt && t, d = f && A.n && !F, y = eval; if (a ? (e[K] > 2 && (s = e.substr(0, 2), E(s, B) > -1 && (i = s)), e = (e = i ? e.substr(2) : e).replace(/min/g, 0).replace(/</g, 0).replace(/max/g, (d ? "-" : "") + "100%").replace(/>/g, (d ? "-" : "") + "100%").replace(/px/g, "").replace(/%/g, " * " + p * (f && A.n ? -1 : 1) / 100).replace(/vw/g, " * " + Ue.w).replace(/vh/g, " * " + Ue.h), r = di(isNaN(e) ? di(y(e), !0).toFixed() : e)) : r = e, r !== n && !isNaN(r) && x(r) == c) { var m = F && f, v = h * (m && A.n ? -1 : 1), _ = m && A.i, b = m && A.n; switch (v = _ ? p - v : v, i) { case "+=": o = v + r; break; case "-=": o = v - r; break; case "*=": o = v * r; break; case "/=": o = v / r; break; default: o = r }o = _ ? p - o : o, o *= b ? -1 : 1, o = f && A.n ? g.min(0, g.max(p, o)) : g.max(0, g.min(p, o)) } return o === h ? n : o } function pt(t, e, n, i) { var r, s, u = [n, n], l = x(t); if (l == e) t = [t, t]; else if (l == a) { if ((r = t[K]) > 2 || r < 1) t = u; else for (1 === r && (t[1] = n), S = 0; S < r; S++)if (s = t[S], x(s) != e || !lt(s, i)) { t = u; break } } else t = l == o ? [t.x || n, t.y || n] : u; return { x: t[0], y: t[1] } } function ft(t) { var e, n, i = [], r = ["top", "right", "bottom", "left"]; for (S = 0; S < t[K] && S !== r[K]; S++)e = t[S], (n = x(e)) == l ? i.push(e ? di(k.css("margin-" + r[S])) : 0) : i.push(n == c ? e : 0); return i } if (ot || st) { var dt, gt = it ? t.margin : 0, yt = it ? t.axis : 0, _t = it ? t.scroll : 0, bt = it ? t.block : 0, wt = [0, 0, 0, 0], xt = x(gt); if ((k = ot ? rt : m(rt))[K] > 0) { gt = xt == c || xt == l ? ft([gt, gt, gt, gt]) : xt == a ? 2 === (dt = gt[K]) ? ft([gt[0], gt[1], gt[0], gt[1]]) : dt >= 4 ? ft(gt) : wt : xt == o ? ft([gt.top, gt.right, gt.bottom, gt.left]) : wt, P = lt(yt, Q) ? yt : "xy", M = pt(_t, u, W, et), L = pt(bt, u, G, tt), O = gt; var Et = { l: ze._currentScroll, t: Ve._currentScroll }, Ct = mt.offset(), Dt = k.offset(), St = { x: M.x == J || "y" == P, y: M.y == J || "x" == P }; Dt.top -= O[0], Dt.left -= O[3]; var Tt = { x: g.round(Dt.left - Ct.left + Et.l), y: g.round(Dt.top - Ct.top + Et.t) }; if (nt && (A.n || A.i || (Tt.x = g.round(Ct.left - Dt.left + Et.l)), A.n && F && (Tt.x *= -1), A.i && F && (Tt.x = g.round(Ct.left - Dt.left + (ze._maxScroll - Et.l)))), L.x != G || L.y != G || M.x == Z || M.y == Z || nt) { var It = k[0], Nt = q ? It[p.bCR]() : { width: It[p.oW], height: It[p.oH] }, Pt = { w: Nt.width + O[3] + O[1], h: Nt.height + O[0] + O[2] }, At = function (t) { var e = si(t), n = e._w_h, i = e._left_top, r = e._x_y, o = L[r] == (t && nt ? G : H), s = L[r] == X, a = L[r] == Y, u = M[r] == J, l = M[r] == Z, c = Ue[n], h = Ct[i], p = Pt[n], f = Dt[i], d = s ? 2 : 1, g = f + p / 2, y = h + c / 2, m = p <= c && f >= h && f + p <= h + c; u ? St[r] = !0 : St[r] || ((a || l) && (St[r] = !!l && m, o = p < c ? g > y : g < y), Tt[r] -= o || s ? (c / d - p / d) * (t && nt && F ? -1 : 1) : 0) }; At(!0), At(!1) } St.y && delete Tt.y, St.x && delete Tt.x, t = Tt } } V.scrollLeft = ht(!0, ct(!0, t)), V.scrollTop = ht(!1, ct(!1, t)), T = V.scrollLeft !== n, I = V.scrollTop !== n, (T || I) && (e > 0 || $) ? $ ? (e.complete = ut, vt.animate(V, e)) : (N = { duration: e, complete: ut }, d.isA(i) || m.isPlainObject(i) ? (U.scrollLeft = i[0] || i.x, U.scrollTop = i[1] || i.y, N.specialEasing = U) : N.easing = i, vt.animate(V, N)) : (T && vt.scrollLeft(V.scrollLeft), I && vt.scrollTop(V.scrollTop), at()) }, D.scrollStop = function (t, e, n) { return vt.stop(t, e, n), D }, D.getElements = function (t) { var e = { target: Mt, host: Lt, padding: Ft, viewport: Rt, content: qt, scrollbarHorizontal: { scrollbar: Ct[0], track: Dt[0], handle: St[0] }, scrollbarVertical: { scrollbar: Tt[0], track: It[0], handle: Nt[0] }, scrollbarCorner: Et[0] }; return x(t) == u ? _i(e, t) : e }, D.getState = function (t) { function e(t) { if (!m.isPlainObject(t)) return t; var e = Ei({}, t), n = function (t, n) { e[p.hOP](t) && (e[n] = e[t], delete e[t]) }; return n("w", "width"), n("h", "height"), delete e.c, e } var n = { destroyed: !!e(V), sleeping: !!e(it), autoUpdate: e(!Se), widthAuto: e(Ut), heightAuto: e(Ht), padding: e(Xt), overflowAmount: e(ne), hideOverflow: e(Vt), hasOverflow: e(zt), contentScrollSize: e(Bt), viewportSize: e(Ue), hostSize: e(jt), documentMixed: e(G) }; return x(t) == u ? _i(n, t) : n }, D.ext = function (t) { var e, n = "added removed on contract".split(" "), i = 0; if (x(t) == u) { if (Cn[p.hOP](t)) for (e = Ei({}, Cn[t]); i < n.length; i++)delete e[n[i]] } else for (i in e = {}, Cn) e[i] = Ei({}, D.ext(i)); return e }, D.addExt = function (e, n) { var r, o, a, u, c = i.extension(e), h = !0; if (c) { if (Cn[p.hOP](e)) return D.ext(e); if ((r = c.extensionFactory.call(D, Ei({}, c.defaultOptions), m, d)) && (a = r.contract, x(a) == s && (u = a(t), h = x(u) == l ? u : h), h)) return Cn[e] = r, o = r.added, x(o) == s && o(n), D.ext(e) } else console.warn('A extension with the name "' + e + "\" isn't registered.") }, D.removeExt = function (t) { var e, n = Cn[t]; return !!n && (delete Cn[t], e = n.removed, x(e) == s && e(), !0) }, i.valid(function (t, i, r) { var o, s; return rt = b.defaultOptions, O = b.nativeScrollbarStyling, F = Ei({}, b.nativeScrollbarSize), N = Ei({}, b.nativeScrollbarIsOverlaid), P = Ei({}, b.overlayScrollbarDummySize), A = Ei({}, b.rtlScrollBehavior), Jn(Ei({}, rt, i)), k = b.cssCalc, L = b.msie, M = b.autoUpdateRecommended, R = b.supportTransition, q = b.supportTransform, j = b.supportPassiveEvents, B = b.supportResizeObserver, $ = b.supportMutationObserver, b.restrictedMeasuring, ct = m(t.ownerDocument), At = ct[0], lt = m(At.defaultView || At.parentWindow), Pt = lt[0], ht = Ii(ct, "html"), pt = Ii(ht, "body"), ft = m(t), Mt = ft[0], U = ft.is("textarea"), H = ft.is("body"), G = At !== e, X = U ? ft.hasClass(sn) && ft.parent().hasClass("os-content") : ft.hasClass(Xe) && ft.children(".os-padding")[p.l], N.x && N.y && !st.nativeScrollbarsOverlaid.initialize ? (ui("onInitializationWithdrawn"), X && (Zn(!0), Qn(!0), ai(!0)), V = !0, it = !0, D) : (H && ((o = {}).l = g.max(ft.scrollLeft(), ht.scrollLeft(), lt.scrollLeft()), o.t = g.max(ft.scrollTop(), ht.scrollTop(), lt.scrollTop()), s = function () { vt.removeAttr(p.ti), An(vt, "mousedown touchstart", s, !0, !0) }), Zn(), Qn(), ai(), Kn(), ti(!0), ti(!1), function () { var t, e = Pt.top !== Pt, i = {}, r = {}, o = {}; function s(t) { if (u(t)) { var e = l(t), n = {}; (je || qe) && (n.width = r.w + (e.x - i.x) * o.x), (Be || qe) && (n.height = r.h + (e.y - i.y) * o.y), dt.css(n), d.stpP(t) } else a(t) } function a(e) { var i = e !== n; An(ct, ["selectstart", "mousemove touchmove", "mouseup touchend touchcancel"], [$n, s, a], !0), Di(pt, _n), Et.releaseCapture && Et.releaseCapture(), i && (t && kn(), D.update("auto")), t = !1 } function u(t) { var e = (t.originalEvent || t).touches !== n; return !it && !V && (1 === d.mBtn(t) || e) } function l(t) { return L && e ? { x: t.screenX, y: t.screenY } : d.page(t) } Mn(Et, "mousedown touchstart", (function (e) { u(e) && !Re && (Se && (t = !0, Fn()), i = l(e), r.w = Lt[p.oW] - (Y ? 0 : J), r.h = Lt[p.oH] - (Y ? 0 : Z), o = pi(), An(ct, ["selectstart", "mousemove touchmove", "mouseup touchend touchcancel"], [$n, s, a]), Ci(pt, _n), Et.setCapture && Et.setCapture(), d.prvD(e), d.stpP(e)) })) }(), On(), Ln(yt, Rn), H && (vt.scrollLeft(o.l).scrollTop(o.t), e.activeElement == t && Rt.focus && (vt.attr(p.ti, "-1"), Rt.focus(), An(vt, "mousedown touchstart", s, !1, !0))), D.update("auto"), z = !0, ui("onInitialized"), C(xn, (function (t, e) { ui(e.n, e.a) })), xn = [], x(r) == u && (r = [r]), d.isA(r) ? C(r, (function (t, e) { D.addExt(e) })) : m.isPlainObject(r) && C(r, (function (t, e) { D.addExt(t, e) })), setTimeout((function () { R && !V && Ci(dt, Ke) }), 333), D) }(r, h, _)) && v(r, D), D } function An(t, e, n, i, r) { var o = d.isA(e) && d.isA(n), s = i ? "removeEventListener" : "addEventListener", a = i ? "off" : "on", u = !o && e.split(" "), l = 0, c = m.isPlainObject(r), h = j && (c ? r._passive : r) || !1, f = c && (r._capture || !1), g = j ? { passive: h, capture: f } : f; if (o) for (; l < e[p.l]; l++)An(t, e[l], n[l], i, r); else for (; l < u[p.l]; l++)j ? t[0][s](u[l], n, g) : t[a](u[l], n) } function Mn(t, e, n, i) { An(t, e, n, !1, i), Pn.push(d.bind(An, 0, t, e, n, !0, i)) } function Ln(t, e) { if (t) { var i = d.rO(), r = "animationstart mozAnimationStart webkitAnimationStart MSAnimationStart", s = function () { t.scrollTop(3333333).scrollLeft(nt ? A.n ? -3333333 : A.i ? 0 : 3333333 : 3333333), e() }; if (e) { if (B) ((O = t.addClass("observed").append(mi("os-resize-observer")).contents()[0]).__overlayScrollbarsRO__ = new i(s)).observe(O); else if (L > 9 || !M) { t.prepend(mi("os-resize-observer", mi({ c: "os-resize-observer-item", dir: "ltr" }, mi("os-resize-observer-item", mi("os-resize-observer-item-final")) + mi("os-resize-observer-item", mi({ c: "os-resize-observer-item-final", style: "width: 200%; height: 200%" }))))); var a, u, l, c, h = t[0].childNodes[0].childNodes[0], f = m(h.childNodes[1]), g = m(h.childNodes[0]), y = m(g[0].childNodes[0]), v = h[p.oW], _ = h[p.oH], w = b.nativeScrollbarSize, x = function () { g.scrollLeft(3333333).scrollTop(3333333), f.scrollLeft(3333333).scrollTop(3333333) }, E = function () { u = 0, a && (v = l, _ = c, s()) }, C = function (t) { return l = h[p.oW], c = h[p.oH], a = l != v || c != _, t && a && !u ? (d.cAF()(u), u = d.rAF()(E)) : t || E(), x(), t && (d.prvD(t), d.stpP(t)), !1 }, D = {}, S = {}; li(S, "", [-2 * (w.y + 1), -2 * w.x, -2 * w.y, -2 * (w.x + 1)]), m(h).css(S), g.on("scroll", C), f.on("scroll", C), t.on(r, (function () { C(!1) })), D.width = 3333333, D.height = 3333333, y.css(D), x() } else { var T = At.attachEvent, I = L !== n; if (T) t.prepend(mi("os-resize-observer")), Ii(t, ".os-resize-observer")[0].attachEvent("onresize", s); else { var N = At.createElement(o); N.setAttribute(p.ti, "-1"), N.setAttribute(p.c, "os-resize-observer"), N.onload = function () { var t = this.contentDocument.defaultView; t.addEventListener("resize", s), t.document.documentElement.style.display = "none" }, N.type = "text/html", I && t.prepend(N), N.data = "about:blank", I || t.prepend(N), t.on(r, s) } } if (t[0] === kt) { var P = function () { var t = dt.css("direction"), e = {}, n = 0, i = !1; return t !== Zt && ("ltr" === t ? (e.left = 0, e.right = "auto", n = 3333333) : (e.left = "auto", e.right = 0, n = A.n ? -3333333 : A.i ? 0 : 3333333), yt.children().eq(0).css(e), yt.scrollLeft(n).scrollTop(3333333), Zt = t, i = !0), i }; P(), Mn(t, "scroll", (function (t) { return P() && Yn(), d.prvD(t), d.stpP(t), !1 })) } } else if (B) { var O, k = (O = t.contents()[0]).__overlayScrollbarsRO__; k && (k.disconnect(), delete O.__overlayScrollbarsRO__) } else Ti(t.children(".os-resize-observer").eq(0)) } } function On() { if ($) { var t, e, n, i, r, o, a, u, l, c, h = d.mO(), f = d.now(); De = function (t) { var e = !1; return z && !it && (C(t, (function () { return !(e = function (t) { var e = t.attributeName, n = t.target, i = t.type; if (n === qt) return null === e; if ("attributes" === i && (e === p.c || e === p.s) && !U) { if (e === p.c && m(n).hasClass(Xe)) return Hn(t.oldValue, n.className); if (typeof n.closest != s) return !0; if (null !== n.closest(".os-resize-observer") || null !== n.closest(".os-scrollbar") || null !== n.closest(".os-scrollbar-corner")) return !1 } return !0 }(this)) })), e && (u = d.now(), l = Ht || Ut, c = function () { V || (f = u, U && Xn(), l ? Yn() : D.update("auto")) }, clearTimeout(a), u - f > 11 || !l ? c() : a = setTimeout(c, 11))), e }, xe = new h(Ce = function (s) { var a, u = !1, l = !1, c = []; return z && !it && (C(s, (function () { t = (a = this).target, e = a.attributeName, n = e === p.c, i = a.oldValue, r = t.className, X && n && !l && i.indexOf(Ye) > -1 && r.indexOf(Ye) < 0 && (o = hi(!0), Lt.className = r.split(" ").concat(i.split(" ").filter((function (t) { return t.match(o) }))).join(" "), u = l = !0), u || (u = n ? Hn(i, r) : e !== p.s || i !== t[p.s].cssText), c.push(e) })), Gn(c), u && D.update(l || "auto")), u }), Ee = new h(De) } } function kn() { $ && !Se && (xe.observe(Lt, { attributes: !0, attributeOldValue: !0, attributeFilter: Nn }), Ee.observe(U ? Mt : qt, { attributes: !0, attributeOldValue: !0, subtree: !U, childList: !U, characterData: !U, attributeFilter: U ? In : Nn }), Se = !0) } function Fn() { $ && Se && (xe.disconnect(), Ee.disconnect(), Se = !1) } function Rn() { if (!it) { var t, e = { w: kt[p.sW], h: kt[p.sH] }; t = xi(e, ae), ae = e, t && Yn({ _hostSizeChanged: !0 }) } } function qn() { Oe && ni(!0) } function jn() { Oe && !pt.hasClass(_n) && ni(!1) } function Bn() { Le && (ni(!0), clearTimeout(Ne), Ne = setTimeout((function () { Le && !V && ni(!1) }), 100)) } function $n(t) { return d.prvD(t), !1 } function zn(t) { var e = m(t.target); wi((function (t, n) { e.is(n) && Yn({ _contentSizeChanged: !0 }) })) } function Vn(t) { t || Vn(!0), An(dt, "mousemove touchmove".split(" ")[0], Bn, !Le || t, !0), An(dt, ["mouseenter", "mouseleave"], [qn, jn], !Oe || t, !0), z || t || dt.one("mouseover", qn) } function Un() { var t = {}; return H && bt && (t.w = di(bt.css("min-width")), t.h = di(bt.css("min-height")), t.c = xi(t, we), t.f = !0), we = t, !!t.c } function Hn(t, e) { var n, i, r = typeof e == u ? e.split(" ") : [], o = function (t, e) { var n, i, r = [], o = []; for (n = 0; n < t.length; n++)r[t[n]] = !0; for (n = 0; n < e.length; n++)r[e[n]] ? delete r[e[n]] : r[e[n]] = !0; for (i in r) o.push(i); return o }(typeof t == u ? t.split(" ") : [], r), s = E(bn, o); if (s > -1 && o.splice(s, 1), o[p.l] > 0) for (i = hi(!0, !0), n = 0; n < o.length; n++)if (!o[n].match(i)) return !0; return !1 } function Gn(t) { C(t = t || En, (function (t, e) { if (d.inA(e, En) > -1) { var n = ft.attr(e); x(n) == u ? vt.attr(e, n) : vt.removeAttr(e) } })) } function Xn() { if (!it) { var t, e, n, i, r = !ye, o = Ue.w, s = Ue.h, a = {}, u = Ut || r; return a["min-width"] = "", a["min-height"] = "", a.width = "auto", ft.css(a), t = Mt[p.oW], e = u ? g.max(t, Mt[p.sW] - 1) : 1, a.width = Ut ? "auto" : "100%", a["min-width"] = "100%", a.height = "auto", ft.css(a), n = Mt[p.oH], i = g.max(n, Mt[p.sH] - 1), a.width = e, a.height = i, xt.css(a), a["min-width"] = o, a["min-height"] = s, ft.css(a), { _originalWidth: t, _originalHeight: n, _dynamicWidth: e, _dynamicHeight: i } } } function Yn(t) { clearTimeout(ut), t = t || {}, Dn._hostSizeChanged |= t._hostSizeChanged, Dn._contentSizeChanged |= t._contentSizeChanged, Dn._force |= t._force; var e, i = d.now(), r = !!Dn._hostSizeChanged, o = !!Dn._contentSizeChanged, s = !!Dn._force, a = t._changedOptions, u = z && !V && !s && !a && i - at < 42 && !Ht && !Ut; if (u && (ut = setTimeout(Yn, 42)), !(V || u || it && !a || z && !s && (e = dt.is(":hidden")) || "inline" === dt.css("display"))) { at = i, Dn = {}, !O || N.x && N.y ? F = Ei({}, b.nativeScrollbarSize) : (F.x = 0, F.y = 0), He = { x: 3 * (F.x + (N.x ? 0 : 3)), y: 3 * (F.y + (N.y ? 0 : 3)) }, a = a || {}; var l = function () { return xi.apply(this, [].slice.call(arguments).concat([s])) }, c = { x: vt.scrollLeft(), y: vt.scrollTop() }, h = st.scrollbars, y = st.textarea, v = h.visibility, _ = l(v, ue), x = h.autoHide, E = l(x, le), C = h.clickScrolling, S = l(C, ce), T = h.dragScrolling, I = l(T, he), L = st.className, R = l(L, de), q = st.resize, j = l(q, pe) && !H, B = st.paddingAbsolute, $ = l(B, Kt), G = st.clipAlways, X = l(G, Qt), rt = st.sizeAutoCapable && !H, ot = l(rt, oe), lt = st.nativeScrollbarsOverlaid.showNativeScrollbars, ct = l(lt, ie), ht = st.autoUpdate, pt = l(ht, re), Ct = st.overflowBehavior, Dt = l(Ct, ee, s), St = y.dynWidth, Tt = l(be, St), It = y.dynHeight, Nt = l(_e, It); if (Ae = "n" === x, Me = "s" === x, Le = "m" === x, Oe = "l" === x, Pe = h.autoHideDelay, ge = de, Re = "n" === q, qe = "b" === q, je = "h" === q, Be = "v" === q, fe = st.normalizeRTL, lt = lt && N.x && N.y, ue = v, le = x, ce = C, he = T, de = L, pe = q, Kt = B, Qt = G, oe = rt, ie = lt, re = ht, ee = Ei({}, Ct), be = St, _e = It, zt = zt || { x: !1, y: !1 }, R && (Di(dt, ge + " " + bn), Ci(dt, L !== n && null !== L && L.length > 0 ? L : bn)), pt && (!0 === ht || null === ht && M ? (Fn(), w.add(D)) : (w.remove(D), kn())), ot) if (rt) if (wt ? wt.show() : (wt = m(mi("os-content-glue")), mt.before(wt)), W) gt.show(); else { gt = m(mi("os-size-auto-observer")), Ot = gt[0], wt.before(gt); var Pt = { w: -1, h: -1 }; Ln(gt, (function () { var t = { w: Ot[p.oW], h: Ot[p.oH] }; xi(t, Pt) && (z && Ht && t.h > 0 || Ut && t.w > 0 || z && !Ht && 0 === t.h || !Ut && 0 === t.w) && Yn(), Pt = t })), W = !0, null !== k && gt.css("height", k + "(100% + 1px)") } else W && gt.hide(), wt && wt.hide(); s && (yt.find("*").trigger("scroll"), W && gt.find("*").trigger("scroll")), e = e === n ? dt.is(":hidden") : e; var At, kt = !!U && "off" !== ft.attr("wrap"), Zt = l(kt, ye), se = dt.css("direction"), ae = l(se, Jt), xe = dt.css("box-sizing"), Ee = l(xe, Gt), Ce = ci("padding-"); try { At = W ? Ot[p.bCR]() : null } catch (t) { return } Y = "border-box" === xe; var De = (nt = "rtl" === se) ? "left" : "right", Ie = nt ? "right" : "left", Ne = !1, ke = !(!W || "none" === dt.css("float")) && 0 === g.round(At.right - At.left) && (!!B || Lt[p.cW] - J > 0); if (rt && !ke) { var Fe = Lt[p.oW], ze = wt.css("width"); wt.css("width", "auto"); var Ve = Lt[p.oW]; wt.css("width", ze), (Ne = Fe !== Ve) || (wt.css("width", Fe + 1), Ve = Lt[p.oW], wt.css("width", ze), Ne = Fe !== Ve) } var Ge = (ke || Ne) && rt && !e, Xe = l(Ge, Ut), Ye = !Ge && Ut, We = !(!W || !rt || e) && 0 === g.round(At.bottom - At.top), Je = l(We, Ht), Ze = !We && Ht, Ke = ci("border-", "-width", !(Ge && Y || !Y), !(We && Y || !Y)), sn = ci("margin-"), an = {}, ln = {}, cn = function () { return { w: Lt[p.cW], h: Lt[p.cH] } }, hn = function () { return { w: Ft[p.oW] + g.max(0, qt[p.cW] - qt[p.sW]), h: Ft[p.oH] + g.max(0, qt[p.cH] - qt[p.sH]) } }, pn = J = Ce.l + Ce.r, fn = Z = Ce.t + Ce.b; if (pn *= B ? 1 : 0, fn *= B ? 1 : 0, Ce.c = l(Ce, Xt), K = Ke.l + Ke.r, Q = Ke.t + Ke.b, Ke.c = l(Ke, Yt), tt = sn.l + sn.r, et = sn.t + sn.b, sn.c = l(sn, Wt), ye = kt, Jt = se, Gt = xe, Ut = Ge, Ht = We, Xt = Ce, Yt = Ke, Wt = sn, ae && W && gt.css("float", Ie), Ce.c || ae || $ || Xe || Je || Ee || ot) { var dn = {}, _n = {}, wn = [Ce.t, Ce.r, Ce.b, Ce.l]; li(ln, "margin-", [-Ce.t, -Ce.r, -Ce.b, -Ce.l]), B ? (li(dn, "", wn), li(U ? _n : an, "padding-")) : (li(dn, ""), li(U ? _n : an, "padding-", wn)), mt.css(dn), ft.css(_n) } Ue = hn(); var xn = !!U && Xn(), En = U && l(xn, ve), Cn = U && xn ? { w: St ? xn._dynamicWidth : xn._originalWidth, h: It ? xn._dynamicHeight : xn._originalHeight } : {}; if (ve = xn, We && (Je || $ || Ee || Ce.c || Ke.c) ? an.height = "auto" : (Je || $) && (an.height = "100%"), Ge && (Xe || $ || Ee || Ce.c || Ke.c || ae) ? (an.width = "auto", ln["max-width"] = "100%") : (Xe || $) && (an.width = "100%", an.float = "", ln["max-width"] = ""), Ge ? (ln.width = "auto", an.width = f._cssPropertyValue("width", "max-content intrinsic") || "auto", an.float = Ie) : ln.width = "", ln.height = We ? Cn.h || qt[p.cH] : "", rt && wt.css(ln), _t.css(an), an = {}, ln = {}, r || o || En || ae || Ee || $ || Xe || Ge || Je || We || ct || Dt || X || j || _ || E || I || S || Tt || Nt || Zt) { if (!O) { var Sn = {}, Tn = zt.y && Vt.ys && !lt ? N.y ? vt.css(De) : -F.y : 0, In = zt.x && Vt.xs && !lt ? N.x ? vt.css("bottom") : -F.x : 0; li(Sn, ""), vt.css(Sn) } var Nn = yi(), Pn = { w: Cn.w || Nn[p.cW], h: Cn.h || Nn[p.cH] }, An = { w: Nn[p.sW], h: Nn[p.sH] }; O || (Sn.bottom = Ze ? "" : In, Sn[De] = Ye ? "" : Tn, vt.css(Sn)), Ue = hn(); var Mn = cn(), On = { w: Mn.w - tt - K - (Y ? 0 : J), h: Mn.h - et - Q - (Y ? 0 : Z) }, Rn = { w: g.max((Ge ? Pn.w : An.w) + pn, On.w), h: g.max((We ? Pn.h : An.h) + fn, On.h) }; if (Rn.c = l(Rn, te), te = Rn, rt) { (Rn.c || We || Ge) && (ln.width = Rn.w, ln.height = Rn.h, U || (Pn = { w: Nn[p.cW], h: Nn[p.cH] })); var qn = {}, jn = function (t) { var e = si(t), n = e._w_h, i = e._width_height, r = t ? Ge : We, o = t ? K : Q, s = t ? J : Z, a = t ? tt : et, u = Ue[n] - o - a - (Y ? 0 : s); (!r || !r && Ke.c) && (ln[i] = On[n] - 1), !(r && Pn[n] < u) || t && U && kt || (U && (qn[i] = di(xt.css(i)) - 1), ln[i] -= 1), Pn[n] > 0 && (ln[i] = g.max(1, ln[i])) }; jn(!0), jn(!1), U && xt.css(qn), wt.css(ln) } Ge && (an.width = "100%"), !Ge || Y || Se || (an.float = "none"), _t.css(an), an = {}; var Bn = { w: Nn[p.sW], h: Nn[p.sH] }; Bn.c = o = l(Bn, Bt), Bt = Bn, Ue = hn(), r = l(Mn = cn(), jt), jt = Mn; var $n = U && (0 === Ue.w || 0 === Ue.h), zn = ne, Hn = {}, Gn = {}, Jn = {}, Zn = {}, Kn = {}, Qn = {}, ti = {}, ai = Ft[p.bCR](), hi = function (t) { var e = si(t), n = si(!t)._x_y, i = e._x_y, r = e._w_h, o = e._width_height, s = "scroll" + e._Left_Top + "Max", a = ai[o] ? g.abs(ai[o] - Ue[r]) : 0, u = zn && zn[i] > 0 && 0 === Rt[s]; Hn[i] = "v-s" === Ct[i], Gn[i] = "v-h" === Ct[i], Jn[i] = "s" === Ct[i], Zn[i] = g.max(0, g.round(100 * (Bn[r] - Ue[r])) / 100), Zn[i] *= $n || u && a > 0 && a < 1 ? 0 : 1, Kn[i] = Zn[i] > 0, Qn[i] = Hn[i] || Gn[i] ? Kn[n] && !Hn[n] && !Gn[n] : Kn[i], Qn[i + "s"] = !!Qn[i] && (Jn[i] || Hn[i]), ti[i] = Kn[i] && Qn[i + "s"] }; if (hi(!0), hi(!1), Zn.c = l(Zn, ne), ne = Zn, Kn.c = l(Kn, zt), zt = Kn, Qn.c = l(Qn, Vt), Vt = Qn, N.x || N.y) { var pi, fi = {}, gi = {}, vi = s; (Kn.x || Kn.y) && (gi.w = N.y && Kn.y ? Bn.w + P.y : "", gi.h = N.x && Kn.x ? Bn.h + P.x : "", vi = l(gi, $t), $t = gi), (Kn.c || Qn.c || Bn.c || ae || Xe || Je || Ge || We || ct) && (an["margin-" + Ie] = an["border-" + Ie] = "", pi = function (t) { var e = si(t), n = si(!t), i = e._x_y, r = t ? "bottom" : De, o = t ? We : Ge; N[i] && Kn[i] && Qn[i + "s"] ? (an["margin-" + r] = o ? lt ? "" : P[i] : "", an["border-" + r] = t && o || lt ? "" : P[i] + "px solid transparent") : (gi[n._w_h] = an["margin-" + r] = an["border-" + r] = "", vi = !0) }, O ? Si(vt, un, !lt) : (pi(!0), pi(!1))), lt && (gi.w = gi.h = "", vi = !0), vi && !O && (fi.width = Qn.y ? gi.w : "", fi.height = Qn.x ? gi.h : "", bt || (bt = m(mi("os-content-arrange")), vt.prepend(bt)), bt.css(fi)), _t.css(an) } var _i, bi = {}; if (dn = {}, (r || Kn.c || Qn.c || Bn.c || Dt || Ee || ct || ae || X || Je) && (bi[Ie] = "", (_i = function (t) { var e = si(t), n = si(!t), i = e._x_y, r = e._X_Y, o = t ? "bottom" : De, s = function () { bi[o] = "", $e[n._w_h] = 0 }; Kn[i] && Qn[i + "s"] ? (bi["overflow" + r] = "scroll", lt || O ? s() : (bi[o] = -(N[i] ? P[i] : F[i]), $e[n._w_h] = N[i] ? P[n._x_y] : 0)) : (bi["overflow" + r] = "", s()) })(!0), _i(!1), !O && (Ue.h < He.x || Ue.w < He.y) && (Kn.x && Qn.x && !N.x || Kn.y && Qn.y && !N.y) ? (bi["padding-top"] = He.x, bi["margin-top"] = -He.x, bi["padding-" + Ie] = He.y, bi["margin-" + Ie] = -He.y) : bi["padding-top"] = bi["margin-top"] = bi["padding-" + Ie] = bi["margin-" + Ie] = "", bi["padding-" + De] = bi["margin-" + De] = "", Kn.x && Qn.x || Kn.y && Qn.y || $n ? U && $n && (dn["overflow-x"] = dn["overflow-y"] = "hidden") : (!G || Gn.x || Hn.x || Gn.y || Hn.y) && (U && (dn["overflow-x"] = dn["overflow-y"] = ""), bi["overflow-x"] = bi["overflow-y"] = "visible"), mt.css(dn), vt.css(bi), bi = {}, (Kn.c || Ee || Xe || Je) && (!N.x || !N.y))) { var wi = qt[p.s]; wi.webkitTransform = "scale(1)", wi.display = "run-in", qt[p.oH], wi.display = "", wi.webkitTransform = "" } if (an = {}, ae || Xe || Je) if (nt && Ge) { var Ti = _t.css("float"), Ii = g.round(_t.css("float", "").css("left", "").position().left); _t.css("float", Ti), Ii !== g.round(_t.position().left) && (an.left = Ii) } else an.left = ""; if (_t.css(an), U && o) { var Ni = function () { var t = Mt.selectionStart; if (t !== n) { var e, i, r = ft.val(), o = r[p.l], s = r.split("\n"), a = s[p.l], u = r.substr(0, t).split("\n"), l = 0, c = 0, h = u[p.l], f = u[u[p.l] - 1][p.l]; for (i = 0; i < s[p.l]; i++)(e = s[i][p.l]) > c && (l = i + 1, c = e); return { _cursorRow: h, _cursorColumn: f, _rows: a, _columns: c, _widestRow: l, _cursorPosition: t, _cursorMax: o } } }(); if (Ni) { var Pi = me === n || Ni._rows !== me._rows, Ai = Ni._cursorRow, Mi = Ni._cursorColumn, Li = Ni._widestRow, Oi = Ni._rows, ki = Ni._columns, Fi = Ni._cursorPosition >= Ni._cursorMax && Te, Ri = { x: kt || Mi !== ki || Ai !== Li ? -1 : ne.x, y: (kt ? Fi || Pi && zn && c.y === zn.y : (Fi || Pi) && Ai === Oi) ? ne.y : -1 }; c.x = Ri.x > -1 ? nt && fe && A.i ? 0 : Ri.x : c.x, c.y = Ri.y > -1 ? Ri.y : c.y } me = Ni } nt && A.i && N.y && Kn.x && fe && (c.x += $e.w || 0), Ge && dt.scrollLeft(0), We && dt.scrollTop(0), vt.scrollLeft(c.x).scrollTop(c.y); var qi = "v" === v, ji = "h" === v, Bi = "a" === v, $i = function (t, e) { e = e === n ? t : e, ei(!0, t, ti.x), ei(!1, e, ti.y) }; Si(dt, nn, Qn.x || Qn.y), Si(dt, rn, Qn.x), Si(dt, on, Qn.y), ae && !H && Si(dt, Qe, nt), H && Ci(dt, tn), j && (Si(dt, tn, Re), Si(Et, gn, !Re), Si(Et, yn, qe), Si(Et, mn, je), Si(Et, vn, Be)), (_ || Dt || Qn.c || Kn.c || ct) && (lt ? ct && (Di(dt, en), lt && $i(!1)) : Bi ? $i(ti.x, ti.y) : qi ? $i(!0) : ji && $i(!1)), (E || ct) && (Vn(!Oe && !Le), ni(Ae, !Ae)), (r || Zn.c || Je || Xe || j || Ee || $ || ct || ae) && (ii(!0), ri(!0), ii(!1), ri(!1)), S && oi(!0, C), I && oi(!1, T), ui("onDirectionChanged", { isRTL: nt, dir: se }, ae), ui("onHostSizeChanged", { width: jt.w, height: jt.h }, r), ui("onContentSizeChanged", { width: Bt.w, height: Bt.h }, o), ui("onOverflowChanged", { x: Kn.x, y: Kn.y, xScrollable: Qn.xs, yScrollable: Qn.ys, clipped: Qn.x || Qn.y }, Kn.c || Qn.c), ui("onOverflowAmountChanged", { x: Zn.x, y: Zn.y }, Zn.c) } H && we && (zt.c || we.c) && (we.f || Un(), N.y && zt.x && _t.css("min-width", we.w + P.y), N.x && zt.y && _t.css("min-height", we.h + P.x), we.c = !1), z && a.updateOnLoad && Wn(), ui("onUpdated", { forced: s }) } } function Wn() { U || wi((function (t, e) { _t.find(e).each((function (t, e) { d.inA(e, Sn) < 0 && (Sn.push(e), m(e).off("load", zn).on("load", zn)) })) })) } function Jn(t) { var e = I._validate(t, I._template, !0, ot); return ot = Ei({}, ot, e._default), st = Ei({}, st, e._prepared), e._prepared } function Zn(t) { var e = sn + " " + cn, i = U ? " " + cn : "", r = st.textarea.inheritedAttrs, o = {}, s = function () { var e = t ? ft : dt; C(o, (function (t, n) { x(n) == u && (t == p.c ? e.addClass(n) : e.attr(t, n)) })) }, a = [Xe, Ye, We, tn, Qe, Je, Ze, Ke, en, nn, rn, on, bn, sn, cn, de].join(" "), l = {}; dt = dt || (U ? X ? ft.parent().parent().parent().parent() : m(mi(We)) : ft), _t = _t || vi("os-content" + i), vt = vt || vi("os-viewport" + i), mt = mt || vi("os-padding" + i), yt = yt || vi("os-resize-observer-host"), xt = xt || (U ? vi(an) : n), X && Ci(dt, Ye), t && Di(dt, a), r = x(r) == u ? r.split(" ") : r, d.isA(r) && U && C(r, (function (e, n) { x(n) == u && (o[n] = t ? dt.attr(n) : ft.attr(n)) })), t ? (X && z ? (yt.children().remove(), C([mt, vt, _t, xt], (function (t, e) { e && Di(e.removeAttr(p.s), wn) })), Ci(dt, U ? We : Xe)) : (Ti(yt), _t.contents().unwrap().unwrap().unwrap(), U && (ft.unwrap(), Ti(dt), Ti(xt), s())), U && ft.removeAttr(p.s), H && Di(ht, "os-html")) : (U && (st.sizeAutoCapable || (l.width = ft.css("width"), l.height = ft.css("height")), X || ft.addClass(cn).wrap(dt), dt = ft.parent().css(l)), X || (Ci(ft, U ? e : Xe), dt.wrapInner(_t).wrapInner(vt).wrapInner(mt).prepend(yt), _t = Ii(dt, ".os-content"), vt = Ii(dt, ".os-viewport"), mt = Ii(dt, ".os-padding"), U && (_t.prepend(xt), s())), O && Ci(vt, un), N.x && N.y && Ci(vt, ln), H && Ci(ht, "os-html"), kt = yt[0], Lt = dt[0], Ft = mt[0], Rt = vt[0], qt = _t[0], Gn()) } function Kn() { var t, e, i = [112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 123, 33, 34, 37, 38, 39, 40, 16, 17, 18, 19, 20, 144], r = []; function o(e) { Xn(), D.update("auto"), e && M && clearInterval(t) } U ? (L > 9 || !M ? Mn(ft, "input", o) : Mn(ft, ["keydown", "keyup"], [function (e) { var n = e.keyCode; E(n, i) < 0 && (r[p.l] || (o(), t = setInterval(o, 1e3 / 60)), E(n, r) < 0 && r.push(n)) }, function (t) { var e = t.keyCode, n = E(e, r); E(e, i) < 0 && (n > -1 && r.splice(n, 1), r[p.l] || o(!0)) }]), Mn(ft, ["scroll", "drop", "focus", "focusout"], [function (t) { return ft.scrollLeft(A.i && fe ? 9999999 : 0), ft.scrollTop(0), d.prvD(t), d.stpP(t), !1 }, function (t) { setTimeout((function () { V || o() }), 50) }, function () { Te = !0, Ci(dt, "focus") }, function () { Te = !1, r = [], Di(dt, "focus"), o(!0) }])) : Mn(_t, Ge, (function (t) { !0 !== re && function (t) { if (!z) return !0; var e = ["width", "min-width", "max-width", "margin-left", "margin-right", "left", "right", "font-weight", "word-spacing", "flex-grow", "flex-shrink", "flex-basis"], n = ["padding-left", "padding-right", "border-leftwidth", "border-rightwidth"], i = ["height", "min-height", "max-height", "margin-top", "margin-bottom", "top", "bottom", "line-height", "flex-grow", "flex-shrink", "flex-basis"], r = ["padding-top", "padding-bottom", "border-topwidth", "border-bottomwidth"], o = "s" === ee.x || "v-s" === ee.x, s = !1, a = function (t, e) { for (var n = 0; n < t[p.l]; n++)if (t[n] === e) return !0; return !1 }; return ("s" === ee.y || "v-s" === ee.y) && ((s = a(i, t)) || Y || (s = a(r, t))), o && !s && ((s = a(e, t)) || Y || (s = a(n, t))), s }((t = t.originalEvent || t).propertyName) && D.update("auto") })), Mn(vt, "scroll", (function (t) { it || (e !== n ? clearTimeout(e) : ((Me || Le) && ni(!0), gi() || Ci(dt, en), ui("onScrollStart", t)), Fe || (ri(!0), ri(!1)), ui("onScroll", t), e = setTimeout((function () { V || (clearTimeout(e), e = n, (Me || Le) && ni(!1), gi() || Di(dt, en), ui("onScrollStop", t)) }), 175)) }), !0) } function Qn(t) { var e, n, i = function (e) { var n = vi("os-scrollbar " + (e ? "os-scrollbar-horizontal" : "os-scrollbar-vertical"), !0), i = vi("os-scrollbar-track", n), r = vi("os-scrollbar-handle", n); return X || t || (n.append(i), i.append(r)), { _scrollbar: n, _track: i, _handle: r } }; function r(t) { var e = si(t), n = e._scrollbar, r = e._track, o = e._handle; X && z ? C([n, r, o], (function (t, e) { Di(e.removeAttr(p.s), wn) })) : Ti(n || i(t)._scrollbar) } t ? (r(!0), r()) : (e = i(!0), n = i(), Ct = e._scrollbar, Dt = e._track, St = e._handle, Tt = n._scrollbar, It = n._track, Nt = n._handle, X || (mt.after(Tt), mt.after(Ct))) } function ti(t) { var e, i, r, o, s = si(t), a = s._info, u = Pt.top !== Pt, l = s._x_y, c = s._X_Y, h = "scroll" + s._Left_Top, f = 1, y = [16, 17]; function m(t) { return L && u ? t["screen" + c] : d.page(t)[l] } function v(t) { return st.scrollbars[t] } function _() { f = .5 } function b() { f = 1 } function w(t) { d.stpP(t) } function x(t) { E(t.keyCode, y) > -1 && _() } function C(t) { E(t.keyCode, y) > -1 && b() } function S(t) { var e = (t.originalEvent || t).touches !== n; return !(it || V || gi() || !he || e && !v("touchSupport")) && (1 === d.mBtn(t) || e) } function T(e) { if (S(e)) { var n = a._trackLength, s = a._handleLength, u = a._maxScroll * ((m(e) - r) * o / (n - s)); u = isFinite(u) ? u : 0, nt && t && !A.i && (u *= -1), vt[h](g.round(i + u)), Fe && ri(t, i + u), j || d.prvD(e) } else I(e) } function I(a) { if (a = a || a.originalEvent, An(ct, ["mousemove touchmove", "mouseup touchend touchcancel", "keydown", "keyup", "selectstart"], [T, I, x, C, $n], !0), d.rAF()((function () { An(ct, "click", w, !0, { _capture: !0 }) })), Fe && ri(t, !0), Fe = !1, Di(pt, _n), Di(s._handle, "active"), Di(s._track, "active"), Di(s._scrollbar, "active"), i = n, r = n, o = 1, b(), e !== n && (D.scrollStop(), clearTimeout(e), e = n), a) { var u = Lt[p.bCR](); a.clientX >= u.left && a.clientX <= u.right && a.clientY >= u.top && a.clientY <= u.bottom || jn(), (Me || Le) && ni(!1) } } function N(e) { i = vt[h](), i = isNaN(i) ? 0 : i, (nt && t && !A.n || !nt) && (i = i < 0 ? 0 : i), o = pi()[l], r = m(e), Fe = !v("snapHandle"), Ci(pt, _n), Ci(s._handle, "active"), Ci(s._scrollbar, "active"), An(ct, ["mousemove touchmove", "mouseup touchend touchcancel", "selectstart"], [T, I, $n]), d.rAF()((function () { An(ct, "click", w, !1, { _capture: !0 }) })), !L && G || d.prvD(e), d.stpP(e) } Mn(s._handle, "mousedown touchstart", (function (t) { S(t) && N(t) })), Mn(s._track, ["mousedown touchstart", "mouseenter", "mouseleave"], [function (i) { if (S(i)) { var u, c = s._info._handleLength / Math.round(g.min(1, Ue[s._w_h] / Bt[s._w_h]) * s._info._trackLength), p = g.round(Ue[s._w_h] * c), y = 270 * c, m = 400 * c, b = s._track.offset()[s._left_top], w = i.ctrlKey, E = i.shiftKey, T = E && w, P = !0, M = function (e) { Fe && ri(t, e) }, L = function () { M(), N(i) }, O = function () { if (!V) { var i = (r - b) * o, s = a._handleOffset, c = a._trackLength, d = a._handleLength, v = a._maxScroll, _ = a._currentScroll, w = y * f, x = P ? g.max(m, w) : w, C = v * ((i - d / 2) / (c - d)), S = nt && t && (!A.i && !A.n || fe), I = S ? s < i : s > i, N = {}, k = { easing: "linear", step: function (e) { Fe && (vt[h](e), ri(t, e)) } }; C = isFinite(C) ? C : 0, C = nt && t && !A.i ? v - C : C, E ? (vt[h](C), T ? (C = vt[h](), vt[h](_), C = S && A.i ? v - C : C, C = S && A.n ? -C : C, N[l] = C, D.scroll(N, Ei(k, { duration: 130, complete: L }))) : L()) : (u = P ? I : u, (S ? u ? s + d >= i : s <= i : u ? s <= i : s + d >= i) ? (clearTimeout(e), D.scrollStop(), e = n, M(!0)) : (e = setTimeout(O, x), N[l] = (u ? "-=" : "+=") + p, D.scroll(N, Ei(k, { duration: w }))), P = !1) } }; w && _(), o = pi()[l], r = d.page(i)[l], Fe = !v("snapHandle"), Ci(pt, _n), Ci(s._track, "active"), Ci(s._scrollbar, "active"), An(ct, ["mouseup touchend touchcancel", "keydown", "keyup", "selectstart"], [I, x, C, $n]), O(), d.prvD(i), d.stpP(i) } }, function (t) { ke = !0, (Me || Le) && ni(!0) }, function (t) { ke = !1, (Me || Le) && ni(!1) }]), Mn(s._scrollbar, "mousedown touchstart", (function (t) { d.stpP(t) })), R && Mn(s._scrollbar, Ge, (function (e) { e.target === s._scrollbar[0] && (ii(t), ri(t)) })) } function ei(t, e, n) { var i = t ? Ct : Tt; Si(dt, t ? Je : Ze, !e), Si(i, fn, !n) } function ni(t, e) { if (clearTimeout(Ie), t) Di(Ct, dn), Di(Tt, dn); else { var n, i = function () { ke || V || (!(n = St.hasClass("active") || Nt.hasClass("active")) && (Me || Le || Oe) && Ci(Ct, dn), !n && (Me || Le || Oe) && Ci(Tt, dn)) }; Pe > 0 && !0 !== e ? Ie = setTimeout(i, Pe) : i() } } function ii(t) { var e = {}, n = si(t), i = n._info, r = g.min(1, Ue[n._w_h] / Bt[n._w_h]); e[n._width_height] = g.floor(100 * r * 1e6) / 1e6 + "%", gi() || n._handle.css(e), i._handleLength = n._handle[0]["offset" + n._Width_Height], i._handleLengthRatio = r } function ri(t, e) { var i, r, o = x(e) == l, s = nt && t, a = si(t), u = a._info, c = f._cssProperty("transform"), h = f._cssProperty("transition"), d = t ? vt.scrollLeft() : vt.scrollTop(), y = e === n || o ? d : e, m = u._handleLength, v = a._track[0]["offset" + a._Width_Height], _ = v - m, b = {}, w = (Rt["scroll" + a._Width_Height] - Rt["client" + a._Width_Height]) * (A.n && s ? -1 : 1), E = function (t) { return isNaN(t / w) ? 0 : g.max(0, g.min(1, t / w)) }, C = function (t) { var e = _ * t; return e = isNaN(e) ? 0 : e, e = s && !A.i ? v - m - e : e, e = g.max(0, e) }, D = E(d), S = C(E(y)), T = C(D); u._maxScroll = w, u._currentScroll = d, u._currentScrollRatio = D, q ? (i = s ? -(v - m - S) : S, r = t ? "translate(" + i + "px, 0)" : "translate(0, " + i + "px)", b[c] = r, R && (b[h] = o && g.abs(S - u._handleOffset) > 1 ? function (t) { var e = f._cssProperty("transition"), n = t.css(e); if (n) return n; for (var i, r, o, s = new RegExp("\\s*(([^,(]+(\\(.+?\\))?)+)[\\s,]*"), a = new RegExp("^(\\s*(([^,(]+(\\(.+?\\))?)+)[\\s,]*)+$"), u = "property duration timing-function delay".split(" "), l = [], c = 0, h = function (t) { if (i = [], !t.match(a)) return t; for (; t.match(s);)i.push(RegExp.$1), t = t.replace(s, ""); return i }; c < u[p.l]; c++)for (r = h(t.css(e + "-" + u[c])), o = 0; o < r[p.l]; o++)l[o] = (l[o] ? l[o] + " " : "") + r[o]; return l.join(", ") }(a._handle) + ", " + c + " 250ms" : "")) : b[a._left_top] = S, gi() || (a._handle.css(b), q && R && o && a._handle.one(Ge, (function () { V || a._handle.css(h, "") }))), u._handleOffset = S, u._snappedHandleOffset = T, u._trackLength = v } function oi(t, e) { var n = e ? "removeClass" : "addClass", i = t ? It : Nt, r = t ? hn : pn; (t ? Dt : St)[n](r), i[n](r) } function si(t) { return { _width_height: t ? "width" : "height", _Width_Height: t ? "Width" : "Height", _left_top: t ? "left" : "top", _Left_Top: t ? "Left" : "Top", _x_y: t ? "x" : "y", _X_Y: t ? "X" : "Y", _w_h: t ? "w" : "h", _l_t: t ? "l" : "t", _track: t ? Dt : It, _handle: t ? St : Nt, _scrollbar: t ? Ct : Tt, _info: t ? ze : Ve } } function ai(t) { Et = Et || vi("os-scrollbar-corner", !0), t ? X && z ? Di(Et.removeAttr(p.s), wn) : Ti(Et) : X || dt.append(Et) } function ui(t, e, n) { if (!1 !== n) if (z) { var i, r = st.callbacks[t], o = t; "on" === o.substr(0, 2) && (o = o.substr(2, 1).toLowerCase() + o.substr(3)), x(r) == s && r.call(D, e), C(Cn, (function () { x((i = this).on) == s && i.on(o, e) })) } else V || xn.push({ n: t, a: e }) } function li(t, e, n) { n = n || ["", "", "", ""], t[(e = e || "") + "top"] = n[0], t[e + "right"] = n[1], t[e + "bottom"] = n[2], t[e + "left"] = n[3] } function ci(t, e, n, i) { return e = e || "", t = t || "", { t: i ? 0 : di(dt.css(t + "top" + e)), r: n ? 0 : di(dt.css(t + "right" + e)), b: i ? 0 : di(dt.css(t + "bottom" + e)), l: n ? 0 : di(dt.css(t + "left" + e)) } } function hi(t, e) { var n, i, r, o = function (t, e) { if (r = "", e && typeof t == u) for (i = t.split(" "), n = 0; n < i[p.l]; n++)r += "|" + i[n] + "$"; return r }; return new RegExp("(^" + Xe + "([-_].+|)$)" + o(de, t) + o(ge, e), "g") } function pi() { var t = Ft[p.bCR](); return { x: q && 1 / (g.round(t.width) / Ft[p.oW]) || 1, y: q && 1 / (g.round(t.height) / Ft[p.oH]) || 1 } } function fi(e) { var n = e && e.ownerDocument && e.ownerDocument.parentWindow || t; return typeof n.HTMLElement == o ? e instanceof n.HTMLElement : e && typeof e == o && null !== e && 1 === e.nodeType && typeof e.nodeName == u } function di(t, e) { var n = e ? parseFloat(t) : parseInt(t, 10); return isNaN(n) ? 0 : n } function gi() { return ie && N.x && N.y } function yi() { return U ? xt[0] : qt } function mi(t, e) { return "<div " + (t ? x(t) == u ? 'class="' + t + '"' : function () { var e, n = ""; if (m.isPlainObject(t)) for (e in t) n += ("c" === e ? "class" : e) + '="' + t[e] + '" '; return n }() : "") + ">" + (e || "") + "</div>" } function vi(t, e) { var n = x(e) == l, i = n ? dt : e || dt; return X && !i[p.l] ? null : X ? i[n ? "children" : "find"]("." + t.replace(/\s/g, ".")).eq(0) : m(mi(t)) } function _i(t, e) { for (var n, i = e.split("."), r = 0; r < i.length; r++) { if (!t[p.hOP](i[r])) return; n = t[i[r]], r < i.length && x(n) == o && (t = n) } return n } function bi(t, e, n) { for (var i = e.split("."), r = i.length, o = 0, s = {}, a = s; o < r; o++)s = s[i[o]] = o + 1 < r ? {} : n; m.extend(t, a, !0) } function wi(t) { var e = st.updateOnLoad; e = x(e) == u ? e.split(" ") : e, d.isA(e) && !V && C(e, t) } function xi(t, e, n) { if (n) return n; if (x(t) != o || x(e) != o) return t !== e; for (var i in t) if ("c" !== i) { if (!t[p.hOP](i) || !e[p.hOP](i)) return !0; if (xi(t[i], e[i])) return !0 } return !1 } function Ei() { return m.extend.apply(this, [!0].concat([].slice.call(arguments))) } function Ci(t, e) { return S.addClass.call(t, e) } function Di(t, e) { return S.removeClass.call(t, e) } function Si(t, e, n) { return n ? Ci(t, e) : Di(t, e) } function Ti(t) { return S.remove.call(t) } function Ii(t, e) { return S.find.call(t, e).eq(0) } } return (i = t.OverlayScrollbars = function (t, e, o) { if (0 === arguments[p.l]) return this; var a, u, l = [], c = m.isPlainObject(e); return t ? (t = t[p.l] != n ? t : [t[0] || t], N(), t[p.l] > 0 && (c ? m.each(t, (function (t, i) { (a = i) !== n && l.push(M(a, e, o, r, _)) })) : m.each(t, (function (t, r) { a = v(r), ("!" === e && i.valid(a) || d.type(e) == s && e(r, a) || e === n) && l.push(a) })), u = 1 === l[p.l] ? l[0] : l), u) : c || !e ? u : l }).globals = function () { N(); var t = m.extend(!0, {}, r); return delete t.msie, t }, i.defaultOptions = function (t) { N(); var e = r.defaultOptions; if (t === n) return m.extend(!0, {}, e); r.defaultOptions = m.extend(!0, {}, e, I._validate(t, I._template, !0, e)._default) }, i.valid = function (t) { return t instanceof i && !t.getState().destroyed }, i.extension = function (t, e, n) { var i = d.type(t) == u, r = arguments[p.l], o = 0; if (r < 1 || !i) return m.extend(!0, { length: T[p.l] }, T); if (i) if (d.type(e) == s) T.push({ name: t, extensionFactory: e, defaultOptions: n }); else for (; o < T[p.l]; o++)if (T[o].name === t) { if (!(r > 1)) return m.extend(!0, {}, T[o]); T.splice(o, 1) } }, i }(); return y && y.fn && (y.fn.overlayScrollbars = function (t, e) { return y.isPlainObject(t) ? (y.each(this, (function () { _(this, t, e) })), this) : _(this, t) }), _ }(o, o.document, void 0, t) }.apply(e, i)) || (t.exports = r) }, 1752: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, "1LHL": function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, "1iqW": function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, "2GmB": function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { this.options.$el.find('select option[value=""]').remove() }, e.a = i }).call(this, n("EVdn")) }, "2ltT": function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, "3A5M": function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, "3Okf": function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, "3nGU": function (t, e, n) { "use strict"; n.d(e, "b", (function () { return i })), n.d(e, "a", (function () { return r })); var i = function (t, e) { t.parentNode.insertBefore(e, t), e.appendChild(t) }, r = function (t) { for (var e = 0; e < t.length; e++) { var n = t[e], i = n.parentNode; i.parentNode && (i.outerHTML = n.innerHTML) } } }, "3nJQ": function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = n("JLJr"), r = n.n(i), o = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; o.prototype.init = function () { var e = this, n = this.options.$el.find("#video-player"); this.player = new r.a(n, { enabled: !0, controls: ["progress"], settings: ["captions", "quality", "speed", "loop"], autoplay: !1, muted: !1, clickToPlay: !0, hideControls: !1, resetOnEnd: !1, ratio: null }), this.options.$el.find(".play-button").on("click", (function () { console.log("play button click"), t(this).hasClass("playing") ? (console.log("pause"), e.player.pause()) : (console.log("play"), e.player.play()) })), this.player.on("playing", (function (t) { t.detail.plyr; e.options.$el.find(".play-button").removeClass("paused").addClass("playing") })), this.player.on("pause", (function (t) { t.detail.plyr; e.options.$el.find(".play-button").removeClass("playing").addClass("paused") })) }, e.a = o }).call(this, n("EVdn")) }, "3rzb": function (t, e, n) { (function (e) { (function () { var n, i, r; i = {}, r = function (t, e) { var n, r, o, s, a; for (n = i[t], i[t] = [], o = s = 0, a = n.length; s < a; o = ++s)r = n[o], o !== e && i[t].push(r); return !0 }, n = { publish: function (t, e) { var n, r, o; if (!i[t]) return !1; if (i[t].length > 0) for (n = 0, r = (o = i[t]).length; n < r; n++)o[n].call(this, e); return !0 }, subscribe: function (t, e) { return i[t] || (i[t] = []), i[t].push(e), [t, e] }, unsubscribe: function (t, e) { var n, o, s, a; if (!i[t]) return !0; for (n = o = 0, s = (a = i[t]).length; o < s; n = ++o)a[n] === e && r(t, n); return !0 } }, t.exports ? t.exports = n : this.PubSub = n, void 0 !== e && e.mixin && e.mixin({ publish: n.publish, subscribe: n.subscribe, unsubscribe: n.unsubscribe }) }).call(this) }).call(this, n("xG9w")) }, "40Bf": function (t, e, n) { "use strict"; (function (t) { var n = function (e) { this.options = { components: [] }, t.extend(!0, this.options, e), this.activeComponents = [] }; n.prototype.initScreen = function () { var e = this; this.activeComponents = [], t.each(this.options.components, (function () { var n = this; t(n.handle).each((function () { var i = new n.require({ $el: t(this) }); e.activeComponents.push(i) })) })), this.activeComponents.length > 1 && this.activeComponents.sort((function (t, e) { var n = t.options.$el.offset().top, i = e.options.$el.offset().top; return n < i ? -1 : n > i ? 1 : 0 })), console.log(this.activeComponents), t.each(this.activeComponents, (function () { this.init(), console.log("Component Loaded!", this) })) }, e.a = n }).call(this, n("EVdn")) }, "4ZB7": function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, "7h5Y": function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, "7wgh": function (t, e, n) { "use strict"; (function (t) { var i = n("3rzb"), r = n.n(i), o = (n("Zej/"), n("bzVz")), s = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; s.prototype.init = function () { var t = this; this.slideEq, this.$cardSlider = this.options.$el.find(".card-slider"), this.$cardSlider.on("init", (function (e) { sitewide.inlineSvgs(), t.slideEq = new o.a(t.options.$el.find(".card, .card-min-height-placeholder")), t.slideEq.equalizeHeights(), t.hideCardDetails() })), r.a.subscribe("Sitewide:inlineSvgs:svgReplaced", (function () { t.slideEq.equalizeHeights() })), this.$cardSlider.slick({ arrows: !1, fade: !1, speed: 450, slidesToShow: 5, swipeToSlide: !0, infinite: !0, centerMode: !0, centerPadding: "11%", responsive: [{ breakpoint: 2680, settings: { centerPadding: "7%" } }, { breakpoint: 2400, settings: { centerPadding: "3%" } }, { breakpoint: 2200, settings: { slidesToShow: 3, centerPadding: "20%" } }, { breakpoint: 1960, settings: { slidesToShow: 3, centerPadding: "14%" } }, { breakpoint: 1740, settings: { slidesToShow: 3, centerPadding: "11%" } }, { breakpoint: 1620, settings: { slidesToShow: 3, centerPadding: "8%" } }, { breakpoint: 1500, settings: { slidesToShow: 3, centerPadding: "4%" } }, { breakpoint: 1340, settings: { slidesToShow: 2, centerPadding: "15%" } }, { breakpoint: 1100, settings: { slidesToShow: 2, centerPadding: "12%" } }, { breakpoint: 960, settings: { slidesToShow: 2, centerPadding: "8%" } }, { breakpoint: 768, settings: { slidesToShow: 1, centerPadding: "25%" } }, { breakpoint: 620, settings: { slidesToShow: 1, centerPadding: "22%" } }, { breakpoint: 540, settings: { slidesToShow: 1, centerPadding: "18%" } }, { breakpoint: 460, settings: { slidesToShow: 1, centerPadding: "12%" } }, { breakpoint: 400, settings: { slidesToShow: 1, centerPadding: "6%" } }] }), r.a.subscribe("resized", (function () { t.slideEq = new o.a(t.options.$el.find(".card, .card-min-height-placeholder")), t.slideEq.equalizeHeights(), t.hideCardDetails() })), this.options.$el.find(".slider-navigation .previous-button").on("click", (function () { t.$cardSlider.slick("slickPrev") })), this.options.$el.find(".slider-navigation .next-button").on("click", (function () { t.$cardSlider.slick("slickNext") })) }, s.prototype.hideCardDetails = function () { this.options.$el.find(".slick-slide").each((function () { var e = t(this).find(".lower-content").outerHeight(); t(this).find(".card-content").css("top", e) })) }, e.a = s }).call(this, n("EVdn")) }, "81+h": function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, "90nL": function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, A1x7: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, Bvw5: function (t, e, n) { "use strict"; (function (t) { var i = n("3rzb"), r = n.n(i), o = (n("0oU+"), function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }); o.prototype.init = function () { var t = this; r.a.subscribe("NavOverlay:show", (function () { t.show() })), this.options.$el.find(".close-x").on("click", (function () { t.hide() })), this.options.$el.overlayScrollbars({ className: null }) }, o.prototype.show = function () { this.options.$el.addClass("active") }, o.prototype.hide = function () { this.options.$el.removeClass("active") }, e.a = o }).call(this, n("EVdn")) }, C8Kr: function (t, e, n) { "use strict"; (function (t) { var i = n("3rzb"), r = n.n(i), o = (n("Zej/"), function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }); o.prototype.init = function () { var t = this; this.$imageSlider = this.options.$el.find(".image-background-slider"), this.$textSlider = this.options.$el.find(".text-slider"), this.$imageSlider.slick({ arrows: !1, fade: !0, speed: 800, asNavFor: t.$textSlider[0] }), this.$textSlider.slick({ arrows: !1, fade: !0, speed: 200, asNavFor: t.$imageSlider[0] }), this.options.$el.find(".previous-button").on("click", (function () { t.$textSlider.slick("slickPrev"), t.startAutoplay() })), this.options.$el.find(".next-button").on("click", (function () { t.$textSlider.slick("slickNext"), t.startAutoplay() })), r.a.subscribe("HeroBgImageCenteredSlider.startAutoplay", (function () { t.startAutoplay() })) }, o.prototype.startAutoplay = function () { var t = this; console.log("autoplay"), this.autoplayInterval, window.clearInterval(t.autoplayInterval), this.autoplayInterval = window.setInterval((function () { t.$textSlider.slick("slickNext") }), 8e3) }, e.a = o }).call(this, n("EVdn")) }, DkkF: function (t, e, n) { "use strict"; (function (t) { n("3rzb"), n("Zej/"); var i = n("z/o8"), r = n("r7fk"); i.a.registerPlugin(r.b); var o = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; o.prototype.init = function () { this.$overlay = this.options.$el.find(".comp-HeroHomepage__overlay"), this.$carousel = this.options.$el.find(".comp-HeroHomepage__carousel"), this.$heading = this.options.$el.find(".comp-HeroHomepage__heading"), this.$subheading = this.options.$el.find(".comp-HeroHomepage__subheading"), this.$copy = this.options.$el.find(".comp-HeroHomepage__copy"), this.$content = this.options.$el.find(".comp-HeroHomepage__content"), this.$slides = this.options.$el.find(".comp-HeroHomepage__slides"), this.$carousel.show(), this.$slides.slick({ arrows: !1, fade: !0, dots: !1, autoplay: !0, autoplaySpeed: 4e3 }).slick("slickPause"), this.initAnimation() }, o.prototype.initAnimation = function () { var e = this, n = "comp-HeroHomepage__heading__line", o = "".concat(n, "__inner"); new r.b(e.$heading, { type: "lines", linesClass: n }); e.$lines = e.options.$el.find(".".concat(n)), e.$lines.each((function (e, n) { t(n).wrapInner('<span class="'.concat(o, '"></span>')) })), e.$linesInner = e.$lines.find(".".concat(o)), i.a.to(e.$carousel, { opacity: 1 }); var s = i.a.timeline({ defaults: { ease: "expo.out", duration: 1.4 }, delay: 1, paused: !0, onComplete: function () { i.a.delayedCall(2, (function () { return s.timeScale(1.8).reverse() })) }, onReverseComplete: function () { a.play() } }).set(e.$content, { opacity: 1 }).fromTo(e.$linesInner, { opacity: 0, yPercent: 50 }, { opacity: 1, yPercent: 0, stagger: .075 }).fromTo(e.$subheading, { opacity: 0, y: 20 }, { opacity: 1, y: 0 }, "<.2").fromTo(e.$copy, { opacity: 0, y: 20 }, { opacity: 1, y: 0 }, "<.2"), a = i.a.timeline({ defaults: { ease: "expo.out", duration: 1 }, paused: !0, onStart: function () { return e.$slides.slick("slickPlay") } }).to(e.$content, { opacity: 0 }).to(e.$overlay, { opacity: 0 }, "<"); s.play() }, e.a = o }).call(this, n("EVdn")) }, EVdn: function (t, e, n) { var i; !function (e, n) { "use strict"; "object" == typeof t.exports ? t.exports = e.document ? n(e, !0) : function (t) { if (!t.document) throw new Error("jQuery requires a window with a document"); return n(t) } : n(e) }("undefined" != typeof window ? window : this, (function (n, r) { "use strict"; var o = [], s = Object.getPrototypeOf, a = o.slice, u = o.flat ? function (t) { return o.flat.call(t) } : function (t) { return o.concat.apply([], t) }, l = o.push, c = o.indexOf, h = {}, p = h.toString, f = h.hasOwnProperty, d = f.toString, g = d.call(Object), y = {}, m = function (t) { return "function" == typeof t && "number" != typeof t.nodeType && "function" != typeof t.item }, v = function (t) { return null != t && t === t.window }, _ = n.document, b = { type: !0, src: !0, nonce: !0, noModule: !0 }; function w(t, e, n) { var i, r, o = (n = n || _).createElement("script"); if (o.text = t, e) for (i in b) (r = e[i] || e.getAttribute && e.getAttribute(i)) && o.setAttribute(i, r); n.head.appendChild(o).parentNode.removeChild(o) } function x(t) { return null == t ? t + "" : "object" == typeof t || "function" == typeof t ? h[p.call(t)] || "object" : typeof t } var E = function (t, e) { return new E.fn.init(t, e) }; function C(t) { var e = !!t && "length" in t && t.length, n = x(t); return !m(t) && !v(t) && ("array" === n || 0 === e || "number" == typeof e && e > 0 && e - 1 in t) } E.fn = E.prototype = { jquery: "3.6.0", constructor: E, length: 0, toArray: function () { return a.call(this) }, get: function (t) { return null == t ? a.call(this) : t < 0 ? this[t + this.length] : this[t] }, pushStack: function (t) { var e = E.merge(this.constructor(), t); return e.prevObject = this, e }, each: function (t) { return E.each(this, t) }, map: function (t) { return this.pushStack(E.map(this, (function (e, n) { return t.call(e, n, e) }))) }, slice: function () { return this.pushStack(a.apply(this, arguments)) }, first: function () { return this.eq(0) }, last: function () { return this.eq(-1) }, even: function () { return this.pushStack(E.grep(this, (function (t, e) { return (e + 1) % 2 }))) }, odd: function () { return this.pushStack(E.grep(this, (function (t, e) { return e % 2 }))) }, eq: function (t) { var e = this.length, n = +t + (t < 0 ? e : 0); return this.pushStack(n >= 0 && n < e ? [this[n]] : []) }, end: function () { return this.prevObject || this.constructor() }, push: l, sort: o.sort, splice: o.splice }, E.extend = E.fn.extend = function () { var t, e, n, i, r, o, s = arguments[0] || {}, a = 1, u = arguments.length, l = !1; for ("boolean" == typeof s && (l = s, s = arguments[a] || {}, a++), "object" == typeof s || m(s) || (s = {}), a === u && (s = this, a--); a < u; a++)if (null != (t = arguments[a])) for (e in t) i = t[e], "__proto__" !== e && s !== i && (l && i && (E.isPlainObject(i) || (r = Array.isArray(i))) ? (n = s[e], o = r && !Array.isArray(n) ? [] : r || E.isPlainObject(n) ? n : {}, r = !1, s[e] = E.extend(l, o, i)) : void 0 !== i && (s[e] = i)); return s }, E.extend({ expando: "jQuery" + ("3.6.0" + Math.random()).replace(/\D/g, ""), isReady: !0, error: function (t) { throw new Error(t) }, noop: function () { }, isPlainObject: function (t) { var e, n; return !(!t || "[object Object]" !== p.call(t)) && (!(e = s(t)) || "function" == typeof (n = f.call(e, "constructor") && e.constructor) && d.call(n) === g) }, isEmptyObject: function (t) { var e; for (e in t) return !1; return !0 }, globalEval: function (t, e, n) { w(t, { nonce: e && e.nonce }, n) }, each: function (t, e) { var n, i = 0; if (C(t)) for (n = t.length; i < n && !1 !== e.call(t[i], i, t[i]); i++); else for (i in t) if (!1 === e.call(t[i], i, t[i])) break; return t }, makeArray: function (t, e) { var n = e || []; return null != t && (C(Object(t)) ? E.merge(n, "string" == typeof t ? [t] : t) : l.call(n, t)), n }, inArray: function (t, e, n) { return null == e ? -1 : c.call(e, t, n) }, merge: function (t, e) { for (var n = +e.length, i = 0, r = t.length; i < n; i++)t[r++] = e[i]; return t.length = r, t }, grep: function (t, e, n) { for (var i = [], r = 0, o = t.length, s = !n; r < o; r++)!e(t[r], r) !== s && i.push(t[r]); return i }, map: function (t, e, n) { var i, r, o = 0, s = []; if (C(t)) for (i = t.length; o < i; o++)null != (r = e(t[o], o, n)) && s.push(r); else for (o in t) null != (r = e(t[o], o, n)) && s.push(r); return u(s) }, guid: 1, support: y }), "function" == typeof Symbol && (E.fn[Symbol.iterator] = o[Symbol.iterator]), E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), (function (t, e) { h["[object " + e + "]"] = e.toLowerCase() })); var D = function (t) { var e, n, i, r, o, s, a, u, l, c, h, p, f, d, g, y, m, v, _, b = "sizzle" + 1 * new Date, w = t.document, x = 0, E = 0, C = ut(), D = ut(), S = ut(), T = ut(), I = function (t, e) { return t === e && (h = !0), 0 }, N = {}.hasOwnProperty, P = [], A = P.pop, M = P.push, L = P.push, O = P.slice, k = function (t, e) { for (var n = 0, i = t.length; n < i; n++)if (t[n] === e) return n; return -1 }, F = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", R = "[\\x20\\t\\r\\n\\f]", q = "(?:\\\\[\\da-fA-F]{1,6}" + R + "?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+", j = "\\[" + R + "*(" + q + ")(?:" + R + "*([*^$|!~]?=)" + R + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + q + "))|)" + R + "*\\]", B = ":(" + q + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + j + ")*)|.*)\\)|)", $ = new RegExp(R + "+", "g"), z = new RegExp("^" + R + "+|((?:^|[^\\\\])(?:\\\\.)*)" + R + "+$", "g"), V = new RegExp("^" + R + "*," + R + "*"), U = new RegExp("^" + R + "*([>+~]|" + R + ")" + R + "*"), H = new RegExp(R + "|>"), G = new RegExp(B), X = new RegExp("^" + q + "$"), Y = { ID: new RegExp("^#(" + q + ")"), CLASS: new RegExp("^\\.(" + q + ")"), TAG: new RegExp("^(" + q + "|[*])"), ATTR: new RegExp("^" + j), PSEUDO: new RegExp("^" + B), CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + R + "*(even|odd|(([+-]|)(\\d*)n|)" + R + "*(?:([+-]|)" + R + "*(\\d+)|))" + R + "*\\)|)", "i"), bool: new RegExp("^(?:" + F + ")$", "i"), needsContext: new RegExp("^" + R + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + R + "*((?:-\\d)?\\d*)" + R + "*\\)|)(?=[^-]|$)", "i") }, W = /HTML$/i, J = /^(?:input|select|textarea|button)$/i, Z = /^h\d$/i, K = /^[^{]+\{\s*\[native \w/, Q = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, tt = /[+~]/, et = new RegExp("\\\\[\\da-fA-F]{1,6}" + R + "?|\\\\([^\\r\\n\\f])", "g"), nt = function (t, e) { var n = "0x" + t.slice(1) - 65536; return e || (n < 0 ? String.fromCharCode(n + 65536) : String.fromCharCode(n >> 10 | 55296, 1023 & n | 56320)) }, it = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g, rt = function (t, e) { return e ? "\0" === t ? "�" : t.slice(0, -1) + "\\" + t.charCodeAt(t.length - 1).toString(16) + " " : "\\" + t }, ot = function () { p() }, st = bt((function (t) { return !0 === t.disabled && "fieldset" === t.nodeName.toLowerCase() }), { dir: "parentNode", next: "legend" }); try { L.apply(P = O.call(w.childNodes), w.childNodes), P[w.childNodes.length].nodeType } catch (t) { L = { apply: P.length ? function (t, e) { M.apply(t, O.call(e)) } : function (t, e) { for (var n = t.length, i = 0; t[n++] = e[i++];); t.length = n - 1 } } } function at(t, e, i, r) { var o, a, l, c, h, d, m, v = e && e.ownerDocument, w = e ? e.nodeType : 9; if (i = i || [], "string" != typeof t || !t || 1 !== w && 9 !== w && 11 !== w) return i; if (!r && (p(e), e = e || f, g)) { if (11 !== w && (h = Q.exec(t))) if (o = h[1]) { if (9 === w) { if (!(l = e.getElementById(o))) return i; if (l.id === o) return i.push(l), i } else if (v && (l = v.getElementById(o)) && _(e, l) && l.id === o) return i.push(l), i } else { if (h[2]) return L.apply(i, e.getElementsByTagName(t)), i; if ((o = h[3]) && n.getElementsByClassName && e.getElementsByClassName) return L.apply(i, e.getElementsByClassName(o)), i } if (n.qsa && !T[t + " "] && (!y || !y.test(t)) && (1 !== w || "object" !== e.nodeName.toLowerCase())) { if (m = t, v = e, 1 === w && (H.test(t) || U.test(t))) { for ((v = tt.test(t) && mt(e.parentNode) || e) === e && n.scope || ((c = e.getAttribute("id")) ? c = c.replace(it, rt) : e.setAttribute("id", c = b)), a = (d = s(t)).length; a--;)d[a] = (c ? "#" + c : ":scope") + " " + _t(d[a]); m = d.join(",") } try { return L.apply(i, v.querySelectorAll(m)), i } catch (e) { T(t, !0) } finally { c === b && e.removeAttribute("id") } } } return u(t.replace(z, "$1"), e, i, r) } function ut() { var t = []; return function e(n, r) { return t.push(n + " ") > i.cacheLength && delete e[t.shift()], e[n + " "] = r } } function lt(t) { return t[b] = !0, t } function ct(t) { var e = f.createElement("fieldset"); try { return !!t(e) } catch (t) { return !1 } finally { e.parentNode && e.parentNode.removeChild(e), e = null } } function ht(t, e) { for (var n = t.split("|"), r = n.length; r--;)i.attrHandle[n[r]] = e } function pt(t, e) { var n = e && t, i = n && 1 === t.nodeType && 1 === e.nodeType && t.sourceIndex - e.sourceIndex; if (i) return i; if (n) for (; n = n.nextSibling;)if (n === e) return -1; return t ? 1 : -1 } function ft(t) { return function (e) { return "input" === e.nodeName.toLowerCase() && e.type === t } } function dt(t) { return function (e) { var n = e.nodeName.toLowerCase(); return ("input" === n || "button" === n) && e.type === t } } function gt(t) { return function (e) { return "form" in e ? e.parentNode && !1 === e.disabled ? "label" in e ? "label" in e.parentNode ? e.parentNode.disabled === t : e.disabled === t : e.isDisabled === t || e.isDisabled !== !t && st(e) === t : e.disabled === t : "label" in e && e.disabled === t } } function yt(t) { return lt((function (e) { return e = +e, lt((function (n, i) { for (var r, o = t([], n.length, e), s = o.length; s--;)n[r = o[s]] && (n[r] = !(i[r] = n[r])) })) })) } function mt(t) { return t && void 0 !== t.getElementsByTagName && t } for (e in n = at.support = {}, o = at.isXML = function (t) { var e = t && t.namespaceURI, n = t && (t.ownerDocument || t).documentElement; return !W.test(e || n && n.nodeName || "HTML") }, p = at.setDocument = function (t) { var e, r, s = t ? t.ownerDocument || t : w; return s != f && 9 === s.nodeType && s.documentElement ? (d = (f = s).documentElement, g = !o(f), w != f && (r = f.defaultView) && r.top !== r && (r.addEventListener ? r.addEventListener("unload", ot, !1) : r.attachEvent && r.attachEvent("onunload", ot)), n.scope = ct((function (t) { return d.appendChild(t).appendChild(f.createElement("div")), void 0 !== t.querySelectorAll && !t.querySelectorAll(":scope fieldset div").length })), n.attributes = ct((function (t) { return t.className = "i", !t.getAttribute("className") })), n.getElementsByTagName = ct((function (t) { return t.appendChild(f.createComment("")), !t.getElementsByTagName("*").length })), n.getElementsByClassName = K.test(f.getElementsByClassName), n.getById = ct((function (t) { return d.appendChild(t).id = b, !f.getElementsByName || !f.getElementsByName(b).length })), n.getById ? (i.filter.ID = function (t) { var e = t.replace(et, nt); return function (t) { return t.getAttribute("id") === e } }, i.find.ID = function (t, e) { if (void 0 !== e.getElementById && g) { var n = e.getElementById(t); return n ? [n] : [] } }) : (i.filter.ID = function (t) { var e = t.replace(et, nt); return function (t) { var n = void 0 !== t.getAttributeNode && t.getAttributeNode("id"); return n && n.value === e } }, i.find.ID = function (t, e) { if (void 0 !== e.getElementById && g) { var n, i, r, o = e.getElementById(t); if (o) { if ((n = o.getAttributeNode("id")) && n.value === t) return [o]; for (r = e.getElementsByName(t), i = 0; o = r[i++];)if ((n = o.getAttributeNode("id")) && n.value === t) return [o] } return [] } }), i.find.TAG = n.getElementsByTagName ? function (t, e) { return void 0 !== e.getElementsByTagName ? e.getElementsByTagName(t) : n.qsa ? e.querySelectorAll(t) : void 0 } : function (t, e) { var n, i = [], r = 0, o = e.getElementsByTagName(t); if ("*" === t) { for (; n = o[r++];)1 === n.nodeType && i.push(n); return i } return o }, i.find.CLASS = n.getElementsByClassName && function (t, e) { if (void 0 !== e.getElementsByClassName && g) return e.getElementsByClassName(t) }, m = [], y = [], (n.qsa = K.test(f.querySelectorAll)) && (ct((function (t) { var e; d.appendChild(t).innerHTML = "<a id='" + b + "'></a><select id='" + b + "-\r\\' msallowcapture=''><option selected=''></option></select>", t.querySelectorAll("[msallowcapture^='']").length && y.push("[*^$]=" + R + "*(?:''|\"\")"), t.querySelectorAll("[selected]").length || y.push("\\[" + R + "*(?:value|" + F + ")"), t.querySelectorAll("[id~=" + b + "-]").length || y.push("~="), (e = f.createElement("input")).setAttribute("name", ""), t.appendChild(e), t.querySelectorAll("[name='']").length || y.push("\\[" + R + "*name" + R + "*=" + R + "*(?:''|\"\")"), t.querySelectorAll(":checked").length || y.push(":checked"), t.querySelectorAll("a#" + b + "+*").length || y.push(".#.+[+~]"), t.querySelectorAll("\\\f"), y.push("[\\r\\n\\f]") })), ct((function (t) { t.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>"; var e = f.createElement("input"); e.setAttribute("type", "hidden"), t.appendChild(e).setAttribute("name", "D"), t.querySelectorAll("[name=d]").length && y.push("name" + R + "*[*^$|!~]?="), 2 !== t.querySelectorAll(":enabled").length && y.push(":enabled", ":disabled"), d.appendChild(t).disabled = !0, 2 !== t.querySelectorAll(":disabled").length && y.push(":enabled", ":disabled"), t.querySelectorAll("*,:x"), y.push(",.*:") }))), (n.matchesSelector = K.test(v = d.matches || d.webkitMatchesSelector || d.mozMatchesSelector || d.oMatchesSelector || d.msMatchesSelector)) && ct((function (t) { n.disconnectedMatch = v.call(t, "*"), v.call(t, "[s!='']:x"), m.push("!=", B) })), y = y.length && new RegExp(y.join("|")), m = m.length && new RegExp(m.join("|")), e = K.test(d.compareDocumentPosition), _ = e || K.test(d.contains) ? function (t, e) { var n = 9 === t.nodeType ? t.documentElement : t, i = e && e.parentNode; return t === i || !(!i || 1 !== i.nodeType || !(n.contains ? n.contains(i) : t.compareDocumentPosition && 16 & t.compareDocumentPosition(i))) } : function (t, e) { if (e) for (; e = e.parentNode;)if (e === t) return !0; return !1 }, I = e ? function (t, e) { if (t === e) return h = !0, 0; var i = !t.compareDocumentPosition - !e.compareDocumentPosition; return i || (1 & (i = (t.ownerDocument || t) == (e.ownerDocument || e) ? t.compareDocumentPosition(e) : 1) || !n.sortDetached && e.compareDocumentPosition(t) === i ? t == f || t.ownerDocument == w && _(w, t) ? -1 : e == f || e.ownerDocument == w && _(w, e) ? 1 : c ? k(c, t) - k(c, e) : 0 : 4 & i ? -1 : 1) } : function (t, e) { if (t === e) return h = !0, 0; var n, i = 0, r = t.parentNode, o = e.parentNode, s = [t], a = [e]; if (!r || !o) return t == f ? -1 : e == f ? 1 : r ? -1 : o ? 1 : c ? k(c, t) - k(c, e) : 0; if (r === o) return pt(t, e); for (n = t; n = n.parentNode;)s.unshift(n); for (n = e; n = n.parentNode;)a.unshift(n); for (; s[i] === a[i];)i++; return i ? pt(s[i], a[i]) : s[i] == w ? -1 : a[i] == w ? 1 : 0 }, f) : f }, at.matches = function (t, e) { return at(t, null, null, e) }, at.matchesSelector = function (t, e) { if (p(t), n.matchesSelector && g && !T[e + " "] && (!m || !m.test(e)) && (!y || !y.test(e))) try { var i = v.call(t, e); if (i || n.disconnectedMatch || t.document && 11 !== t.document.nodeType) return i } catch (t) { T(e, !0) } return at(e, f, null, [t]).length > 0 }, at.contains = function (t, e) { return (t.ownerDocument || t) != f && p(t), _(t, e) }, at.attr = function (t, e) { (t.ownerDocument || t) != f && p(t); var r = i.attrHandle[e.toLowerCase()], o = r && N.call(i.attrHandle, e.toLowerCase()) ? r(t, e, !g) : void 0; return void 0 !== o ? o : n.attributes || !g ? t.getAttribute(e) : (o = t.getAttributeNode(e)) && o.specified ? o.value : null }, at.escape = function (t) { return (t + "").replace(it, rt) }, at.error = function (t) { throw new Error("Syntax error, unrecognized expression: " + t) }, at.uniqueSort = function (t) { var e, i = [], r = 0, o = 0; if (h = !n.detectDuplicates, c = !n.sortStable && t.slice(0), t.sort(I), h) { for (; e = t[o++];)e === t[o] && (r = i.push(o)); for (; r--;)t.splice(i[r], 1) } return c = null, t }, r = at.getText = function (t) { var e, n = "", i = 0, o = t.nodeType; if (o) { if (1 === o || 9 === o || 11 === o) { if ("string" == typeof t.textContent) return t.textContent; for (t = t.firstChild; t; t = t.nextSibling)n += r(t) } else if (3 === o || 4 === o) return t.nodeValue } else for (; e = t[i++];)n += r(e); return n }, (i = at.selectors = { cacheLength: 50, createPseudo: lt, match: Y, attrHandle: {}, find: {}, relative: { ">": { dir: "parentNode", first: !0 }, " ": { dir: "parentNode" }, "+": { dir: "previousSibling", first: !0 }, "~": { dir: "previousSibling" } }, preFilter: { ATTR: function (t) { return t[1] = t[1].replace(et, nt), t[3] = (t[3] || t[4] || t[5] || "").replace(et, nt), "~=" === t[2] && (t[3] = " " + t[3] + " "), t.slice(0, 4) }, CHILD: function (t) { return t[1] = t[1].toLowerCase(), "nth" === t[1].slice(0, 3) ? (t[3] || at.error(t[0]), t[4] = +(t[4] ? t[5] + (t[6] || 1) : 2 * ("even" === t[3] || "odd" === t[3])), t[5] = +(t[7] + t[8] || "odd" === t[3])) : t[3] && at.error(t[0]), t }, PSEUDO: function (t) { var e, n = !t[6] && t[2]; return Y.CHILD.test(t[0]) ? null : (t[3] ? t[2] = t[4] || t[5] || "" : n && G.test(n) && (e = s(n, !0)) && (e = n.indexOf(")", n.length - e) - n.length) && (t[0] = t[0].slice(0, e), t[2] = n.slice(0, e)), t.slice(0, 3)) } }, filter: { TAG: function (t) { var e = t.replace(et, nt).toLowerCase(); return "*" === t ? function () { return !0 } : function (t) { return t.nodeName && t.nodeName.toLowerCase() === e } }, CLASS: function (t) { var e = C[t + " "]; return e || (e = new RegExp("(^|" + R + ")" + t + "(" + R + "|$)")) && C(t, (function (t) { return e.test("string" == typeof t.className && t.className || void 0 !== t.getAttribute && t.getAttribute("class") || "") })) }, ATTR: function (t, e, n) { return function (i) { var r = at.attr(i, t); return null == r ? "!=" === e : !e || (r += "", "=" === e ? r === n : "!=" === e ? r !== n : "^=" === e ? n && 0 === r.indexOf(n) : "*=" === e ? n && r.indexOf(n) > -1 : "$=" === e ? n && r.slice(-n.length) === n : "~=" === e ? (" " + r.replace($, " ") + " ").indexOf(n) > -1 : "|=" === e && (r === n || r.slice(0, n.length + 1) === n + "-")) } }, CHILD: function (t, e, n, i, r) { var o = "nth" !== t.slice(0, 3), s = "last" !== t.slice(-4), a = "of-type" === e; return 1 === i && 0 === r ? function (t) { return !!t.parentNode } : function (e, n, u) { var l, c, h, p, f, d, g = o !== s ? "nextSibling" : "previousSibling", y = e.parentNode, m = a && e.nodeName.toLowerCase(), v = !u && !a, _ = !1; if (y) { if (o) { for (; g;) { for (p = e; p = p[g];)if (a ? p.nodeName.toLowerCase() === m : 1 === p.nodeType) return !1; d = g = "only" === t && !d && "nextSibling" } return !0 } if (d = [s ? y.firstChild : y.lastChild], s && v) { for (_ = (f = (l = (c = (h = (p = y)[b] || (p[b] = {}))[p.uniqueID] || (h[p.uniqueID] = {}))[t] || [])[0] === x && l[1]) && l[2], p = f && y.childNodes[f]; p = ++f && p && p[g] || (_ = f = 0) || d.pop();)if (1 === p.nodeType && ++_ && p === e) { c[t] = [x, f, _]; break } } else if (v && (_ = f = (l = (c = (h = (p = e)[b] || (p[b] = {}))[p.uniqueID] || (h[p.uniqueID] = {}))[t] || [])[0] === x && l[1]), !1 === _) for (; (p = ++f && p && p[g] || (_ = f = 0) || d.pop()) && ((a ? p.nodeName.toLowerCase() !== m : 1 !== p.nodeType) || !++_ || (v && ((c = (h = p[b] || (p[b] = {}))[p.uniqueID] || (h[p.uniqueID] = {}))[t] = [x, _]), p !== e));); return (_ -= r) === i || _ % i == 0 && _ / i >= 0 } } }, PSEUDO: function (t, e) { var n, r = i.pseudos[t] || i.setFilters[t.toLowerCase()] || at.error("unsupported pseudo: " + t); return r[b] ? r(e) : r.length > 1 ? (n = [t, t, "", e], i.setFilters.hasOwnProperty(t.toLowerCase()) ? lt((function (t, n) { for (var i, o = r(t, e), s = o.length; s--;)t[i = k(t, o[s])] = !(n[i] = o[s]) })) : function (t) { return r(t, 0, n) }) : r } }, pseudos: { not: lt((function (t) { var e = [], n = [], i = a(t.replace(z, "$1")); return i[b] ? lt((function (t, e, n, r) { for (var o, s = i(t, null, r, []), a = t.length; a--;)(o = s[a]) && (t[a] = !(e[a] = o)) })) : function (t, r, o) { return e[0] = t, i(e, null, o, n), e[0] = null, !n.pop() } })), has: lt((function (t) { return function (e) { return at(t, e).length > 0 } })), contains: lt((function (t) { return t = t.replace(et, nt), function (e) { return (e.textContent || r(e)).indexOf(t) > -1 } })), lang: lt((function (t) { return X.test(t || "") || at.error("unsupported lang: " + t), t = t.replace(et, nt).toLowerCase(), function (e) { var n; do { if (n = g ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) return (n = n.toLowerCase()) === t || 0 === n.indexOf(t + "-") } while ((e = e.parentNode) && 1 === e.nodeType); return !1 } })), target: function (e) { var n = t.location && t.location.hash; return n && n.slice(1) === e.id }, root: function (t) { return t === d }, focus: function (t) { return t === f.activeElement && (!f.hasFocus || f.hasFocus()) && !!(t.type || t.href || ~t.tabIndex) }, enabled: gt(!1), disabled: gt(!0), checked: function (t) { var e = t.nodeName.toLowerCase(); return "input" === e && !!t.checked || "option" === e && !!t.selected }, selected: function (t) { return t.parentNode && t.parentNode.selectedIndex, !0 === t.selected }, empty: function (t) { for (t = t.firstChild; t; t = t.nextSibling)if (t.nodeType < 6) return !1; return !0 }, parent: function (t) { return !i.pseudos.empty(t) }, header: function (t) { return Z.test(t.nodeName) }, input: function (t) { return J.test(t.nodeName) }, button: function (t) { var e = t.nodeName.toLowerCase(); return "input" === e && "button" === t.type || "button" === e }, text: function (t) { var e; return "input" === t.nodeName.toLowerCase() && "text" === t.type && (null == (e = t.getAttribute("type")) || "text" === e.toLowerCase()) }, first: yt((function () { return [0] })), last: yt((function (t, e) { return [e - 1] })), eq: yt((function (t, e, n) { return [n < 0 ? n + e : n] })), even: yt((function (t, e) { for (var n = 0; n < e; n += 2)t.push(n); return t })), odd: yt((function (t, e) { for (var n = 1; n < e; n += 2)t.push(n); return t })), lt: yt((function (t, e, n) { for (var i = n < 0 ? n + e : n > e ? e : n; --i >= 0;)t.push(i); return t })), gt: yt((function (t, e, n) { for (var i = n < 0 ? n + e : n; ++i < e;)t.push(i); return t })) } }).pseudos.nth = i.pseudos.eq, { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }) i.pseudos[e] = ft(e); for (e in { submit: !0, reset: !0 }) i.pseudos[e] = dt(e); function vt() { } function _t(t) { for (var e = 0, n = t.length, i = ""; e < n; e++)i += t[e].value; return i } function bt(t, e, n) { var i = e.dir, r = e.next, o = r || i, s = n && "parentNode" === o, a = E++; return e.first ? function (e, n, r) { for (; e = e[i];)if (1 === e.nodeType || s) return t(e, n, r); return !1 } : function (e, n, u) { var l, c, h, p = [x, a]; if (u) { for (; e = e[i];)if ((1 === e.nodeType || s) && t(e, n, u)) return !0 } else for (; e = e[i];)if (1 === e.nodeType || s) if (c = (h = e[b] || (e[b] = {}))[e.uniqueID] || (h[e.uniqueID] = {}), r && r === e.nodeName.toLowerCase()) e = e[i] || e; else { if ((l = c[o]) && l[0] === x && l[1] === a) return p[2] = l[2]; if (c[o] = p, p[2] = t(e, n, u)) return !0 } return !1 } } function wt(t) { return t.length > 1 ? function (e, n, i) { for (var r = t.length; r--;)if (!t[r](e, n, i)) return !1; return !0 } : t[0] } function xt(t, e, n, i, r) { for (var o, s = [], a = 0, u = t.length, l = null != e; a < u; a++)(o = t[a]) && (n && !n(o, i, r) || (s.push(o), l && e.push(a))); return s } function Et(t, e, n, i, r, o) { return i && !i[b] && (i = Et(i)), r && !r[b] && (r = Et(r, o)), lt((function (o, s, a, u) { var l, c, h, p = [], f = [], d = s.length, g = o || function (t, e, n) { for (var i = 0, r = e.length; i < r; i++)at(t, e[i], n); return n }(e || "*", a.nodeType ? [a] : a, []), y = !t || !o && e ? g : xt(g, p, t, a, u), m = n ? r || (o ? t : d || i) ? [] : s : y; if (n && n(y, m, a, u), i) for (l = xt(m, f), i(l, [], a, u), c = l.length; c--;)(h = l[c]) && (m[f[c]] = !(y[f[c]] = h)); if (o) { if (r || t) { if (r) { for (l = [], c = m.length; c--;)(h = m[c]) && l.push(y[c] = h); r(null, m = [], l, u) } for (c = m.length; c--;)(h = m[c]) && (l = r ? k(o, h) : p[c]) > -1 && (o[l] = !(s[l] = h)) } } else m = xt(m === s ? m.splice(d, m.length) : m), r ? r(null, s, m, u) : L.apply(s, m) })) } function Ct(t) { for (var e, n, r, o = t.length, s = i.relative[t[0].type], a = s || i.relative[" "], u = s ? 1 : 0, c = bt((function (t) { return t === e }), a, !0), h = bt((function (t) { return k(e, t) > -1 }), a, !0), p = [function (t, n, i) { var r = !s && (i || n !== l) || ((e = n).nodeType ? c(t, n, i) : h(t, n, i)); return e = null, r }]; u < o; u++)if (n = i.relative[t[u].type]) p = [bt(wt(p), n)]; else { if ((n = i.filter[t[u].type].apply(null, t[u].matches))[b]) { for (r = ++u; r < o && !i.relative[t[r].type]; r++); return Et(u > 1 && wt(p), u > 1 && _t(t.slice(0, u - 1).concat({ value: " " === t[u - 2].type ? "*" : "" })).replace(z, "$1"), n, u < r && Ct(t.slice(u, r)), r < o && Ct(t = t.slice(r)), r < o && _t(t)) } p.push(n) } return wt(p) } return vt.prototype = i.filters = i.pseudos, i.setFilters = new vt, s = at.tokenize = function (t, e) { var n, r, o, s, a, u, l, c = D[t + " "]; if (c) return e ? 0 : c.slice(0); for (a = t, u = [], l = i.preFilter; a;) { for (s in n && !(r = V.exec(a)) || (r && (a = a.slice(r[0].length) || a), u.push(o = [])), n = !1, (r = U.exec(a)) && (n = r.shift(), o.push({ value: n, type: r[0].replace(z, " ") }), a = a.slice(n.length)), i.filter) !(r = Y[s].exec(a)) || l[s] && !(r = l[s](r)) || (n = r.shift(), o.push({ value: n, type: s, matches: r }), a = a.slice(n.length)); if (!n) break } return e ? a.length : a ? at.error(t) : D(t, u).slice(0) }, a = at.compile = function (t, e) { var n, r = [], o = [], a = S[t + " "]; if (!a) { for (e || (e = s(t)), n = e.length; n--;)(a = Ct(e[n]))[b] ? r.push(a) : o.push(a); (a = S(t, function (t, e) { var n = e.length > 0, r = t.length > 0, o = function (o, s, a, u, c) { var h, d, y, m = 0, v = "0", _ = o && [], b = [], w = l, E = o || r && i.find.TAG("*", c), C = x += null == w ? 1 : Math.random() || .1, D = E.length; for (c && (l = s == f || s || c); v !== D && null != (h = E[v]); v++) { if (r && h) { for (d = 0, s || h.ownerDocument == f || (p(h), a = !g); y = t[d++];)if (y(h, s || f, a)) { u.push(h); break } c && (x = C) } n && ((h = !y && h) && m--, o && _.push(h)) } if (m += v, n && v !== m) { for (d = 0; y = e[d++];)y(_, b, s, a); if (o) { if (m > 0) for (; v--;)_[v] || b[v] || (b[v] = A.call(u)); b = xt(b) } L.apply(u, b), c && !o && b.length > 0 && m + e.length > 1 && at.uniqueSort(u) } return c && (x = C, l = w), _ }; return n ? lt(o) : o }(o, r))).selector = t } return a }, u = at.select = function (t, e, n, r) { var o, u, l, c, h, p = "function" == typeof t && t, f = !r && s(t = p.selector || t); if (n = n || [], 1 === f.length) { if ((u = f[0] = f[0].slice(0)).length > 2 && "ID" === (l = u[0]).type && 9 === e.nodeType && g && i.relative[u[1].type]) { if (!(e = (i.find.ID(l.matches[0].replace(et, nt), e) || [])[0])) return n; p && (e = e.parentNode), t = t.slice(u.shift().value.length) } for (o = Y.needsContext.test(t) ? 0 : u.length; o-- && (l = u[o], !i.relative[c = l.type]);)if ((h = i.find[c]) && (r = h(l.matches[0].replace(et, nt), tt.test(u[0].type) && mt(e.parentNode) || e))) { if (u.splice(o, 1), !(t = r.length && _t(u))) return L.apply(n, r), n; break } } return (p || a(t, f))(r, e, !g, n, !e || tt.test(t) && mt(e.parentNode) || e), n }, n.sortStable = b.split("").sort(I).join("") === b, n.detectDuplicates = !!h, p(), n.sortDetached = ct((function (t) { return 1 & t.compareDocumentPosition(f.createElement("fieldset")) })), ct((function (t) { return t.innerHTML = "<a href='#'></a>", "#" === t.firstChild.getAttribute("href") })) || ht("type|href|height|width", (function (t, e, n) { if (!n) return t.getAttribute(e, "type" === e.toLowerCase() ? 1 : 2) })), n.attributes && ct((function (t) { return t.innerHTML = "<input/>", t.firstChild.setAttribute("value", ""), "" === t.firstChild.getAttribute("value") })) || ht("value", (function (t, e, n) { if (!n && "input" === t.nodeName.toLowerCase()) return t.defaultValue })), ct((function (t) { return null == t.getAttribute("disabled") })) || ht(F, (function (t, e, n) { var i; if (!n) return !0 === t[e] ? e.toLowerCase() : (i = t.getAttributeNode(e)) && i.specified ? i.value : null })), at }(n); E.find = D, E.expr = D.selectors, E.expr[":"] = E.expr.pseudos, E.uniqueSort = E.unique = D.uniqueSort, E.text = D.getText, E.isXMLDoc = D.isXML, E.contains = D.contains, E.escapeSelector = D.escape; var S = function (t, e, n) { for (var i = [], r = void 0 !== n; (t = t[e]) && 9 !== t.nodeType;)if (1 === t.nodeType) { if (r && E(t).is(n)) break; i.push(t) } return i }, T = function (t, e) { for (var n = []; t; t = t.nextSibling)1 === t.nodeType && t !== e && n.push(t); return n }, I = E.expr.match.needsContext; function N(t, e) { return t.nodeName && t.nodeName.toLowerCase() === e.toLowerCase() } var P = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i; function A(t, e, n) { return m(e) ? E.grep(t, (function (t, i) { return !!e.call(t, i, t) !== n })) : e.nodeType ? E.grep(t, (function (t) { return t === e !== n })) : "string" != typeof e ? E.grep(t, (function (t) { return c.call(e, t) > -1 !== n })) : E.filter(e, t, n) } E.filter = function (t, e, n) { var i = e[0]; return n && (t = ":not(" + t + ")"), 1 === e.length && 1 === i.nodeType ? E.find.matchesSelector(i, t) ? [i] : [] : E.find.matches(t, E.grep(e, (function (t) { return 1 === t.nodeType }))) }, E.fn.extend({ find: function (t) { var e, n, i = this.length, r = this; if ("string" != typeof t) return this.pushStack(E(t).filter((function () { for (e = 0; e < i; e++)if (E.contains(r[e], this)) return !0 }))); for (n = this.pushStack([]), e = 0; e < i; e++)E.find(t, r[e], n); return i > 1 ? E.uniqueSort(n) : n }, filter: function (t) { return this.pushStack(A(this, t || [], !1)) }, not: function (t) { return this.pushStack(A(this, t || [], !0)) }, is: function (t) { return !!A(this, "string" == typeof t && I.test(t) ? E(t) : t || [], !1).length } }); var M, L = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/; (E.fn.init = function (t, e, n) { var i, r; if (!t) return this; if (n = n || M, "string" == typeof t) { if (!(i = "<" === t[0] && ">" === t[t.length - 1] && t.length >= 3 ? [null, t, null] : L.exec(t)) || !i[1] && e) return !e || e.jquery ? (e || n).find(t) : this.constructor(e).find(t); if (i[1]) { if (e = e instanceof E ? e[0] : e, E.merge(this, E.parseHTML(i[1], e && e.nodeType ? e.ownerDocument || e : _, !0)), P.test(i[1]) && E.isPlainObject(e)) for (i in e) m(this[i]) ? this[i](e[i]) : this.attr(i, e[i]); return this } return (r = _.getElementById(i[2])) && (this[0] = r, this.length = 1), this } return t.nodeType ? (this[0] = t, this.length = 1, this) : m(t) ? void 0 !== n.ready ? n.ready(t) : t(E) : E.makeArray(t, this) }).prototype = E.fn, M = E(_); var O = /^(?:parents|prev(?:Until|All))/, k = { children: !0, contents: !0, next: !0, prev: !0 }; function F(t, e) { for (; (t = t[e]) && 1 !== t.nodeType;); return t } E.fn.extend({ has: function (t) { var e = E(t, this), n = e.length; return this.filter((function () { for (var t = 0; t < n; t++)if (E.contains(this, e[t])) return !0 })) }, closest: function (t, e) { var n, i = 0, r = this.length, o = [], s = "string" != typeof t && E(t); if (!I.test(t)) for (; i < r; i++)for (n = this[i]; n && n !== e; n = n.parentNode)if (n.nodeType < 11 && (s ? s.index(n) > -1 : 1 === n.nodeType && E.find.matchesSelector(n, t))) { o.push(n); break } return this.pushStack(o.length > 1 ? E.uniqueSort(o) : o) }, index: function (t) { return t ? "string" == typeof t ? c.call(E(t), this[0]) : c.call(this, t.jquery ? t[0] : t) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1 }, add: function (t, e) { return this.pushStack(E.uniqueSort(E.merge(this.get(), E(t, e)))) }, addBack: function (t) { return this.add(null == t ? this.prevObject : this.prevObject.filter(t)) } }), E.each({ parent: function (t) { var e = t.parentNode; return e && 11 !== e.nodeType ? e : null }, parents: function (t) { return S(t, "parentNode") }, parentsUntil: function (t, e, n) { return S(t, "parentNode", n) }, next: function (t) { return F(t, "nextSibling") }, prev: function (t) { return F(t, "previousSibling") }, nextAll: function (t) { return S(t, "nextSibling") }, prevAll: function (t) { return S(t, "previousSibling") }, nextUntil: function (t, e, n) { return S(t, "nextSibling", n) }, prevUntil: function (t, e, n) { return S(t, "previousSibling", n) }, siblings: function (t) { return T((t.parentNode || {}).firstChild, t) }, children: function (t) { return T(t.firstChild) }, contents: function (t) { return null != t.contentDocument && s(t.contentDocument) ? t.contentDocument : (N(t, "template") && (t = t.content || t), E.merge([], t.childNodes)) } }, (function (t, e) { E.fn[t] = function (n, i) { var r = E.map(this, e, n); return "Until" !== t.slice(-5) && (i = n), i && "string" == typeof i && (r = E.filter(i, r)), this.length > 1 && (k[t] || E.uniqueSort(r), O.test(t) && r.reverse()), this.pushStack(r) } })); var R = /[^\x20\t\r\n\f]+/g; function q(t) { return t } function j(t) { throw t } function B(t, e, n, i) { var r; try { t && m(r = t.promise) ? r.call(t).done(e).fail(n) : t && m(r = t.then) ? r.call(t, e, n) : e.apply(void 0, [t].slice(i)) } catch (t) { n.apply(void 0, [t]) } } E.Callbacks = function (t) { t = "string" == typeof t ? function (t) { var e = {}; return E.each(t.match(R) || [], (function (t, n) { e[n] = !0 })), e }(t) : E.extend({}, t); var e, n, i, r, o = [], s = [], a = -1, u = function () { for (r = r || t.once, i = e = !0; s.length; a = -1)for (n = s.shift(); ++a < o.length;)!1 === o[a].apply(n[0], n[1]) && t.stopOnFalse && (a = o.length, n = !1); t.memory || (n = !1), e = !1, r && (o = n ? [] : "") }, l = { add: function () { return o && (n && !e && (a = o.length - 1, s.push(n)), function e(n) { E.each(n, (function (n, i) { m(i) ? t.unique && l.has(i) || o.push(i) : i && i.length && "string" !== x(i) && e(i) })) }(arguments), n && !e && u()), this }, remove: function () { return E.each(arguments, (function (t, e) { for (var n; (n = E.inArray(e, o, n)) > -1;)o.splice(n, 1), n <= a && a-- })), this }, has: function (t) { return t ? E.inArray(t, o) > -1 : o.length > 0 }, empty: function () { return o && (o = []), this }, disable: function () { return r = s = [], o = n = "", this }, disabled: function () { return !o }, lock: function () { return r = s = [], n || e || (o = n = ""), this }, locked: function () { return !!r }, fireWith: function (t, n) { return r || (n = [t, (n = n || []).slice ? n.slice() : n], s.push(n), e || u()), this }, fire: function () { return l.fireWith(this, arguments), this }, fired: function () { return !!i } }; return l }, E.extend({ Deferred: function (t) { var e = [["notify", "progress", E.Callbacks("memory"), E.Callbacks("memory"), 2], ["resolve", "done", E.Callbacks("once memory"), E.Callbacks("once memory"), 0, "resolved"], ["reject", "fail", E.Callbacks("once memory"), E.Callbacks("once memory"), 1, "rejected"]], i = "pending", r = { state: function () { return i }, always: function () { return o.done(arguments).fail(arguments), this }, catch: function (t) { return r.then(null, t) }, pipe: function () { var t = arguments; return E.Deferred((function (n) { E.each(e, (function (e, i) { var r = m(t[i[4]]) && t[i[4]]; o[i[1]]((function () { var t = r && r.apply(this, arguments); t && m(t.promise) ? t.promise().progress(n.notify).done(n.resolve).fail(n.reject) : n[i[0] + "With"](this, r ? [t] : arguments) })) })), t = null })).promise() }, then: function (t, i, r) { var o = 0; function s(t, e, i, r) { return function () { var a = this, u = arguments, l = function () { var n, l; if (!(t < o)) { if ((n = i.apply(a, u)) === e.promise()) throw new TypeError("Thenable self-resolution"); l = n && ("object" == typeof n || "function" == typeof n) && n.then, m(l) ? r ? l.call(n, s(o, e, q, r), s(o, e, j, r)) : (o++, l.call(n, s(o, e, q, r), s(o, e, j, r), s(o, e, q, e.notifyWith))) : (i !== q && (a = void 0, u = [n]), (r || e.resolveWith)(a, u)) } }, c = r ? l : function () { try { l() } catch (n) { E.Deferred.exceptionHook && E.Deferred.exceptionHook(n, c.stackTrace), t + 1 >= o && (i !== j && (a = void 0, u = [n]), e.rejectWith(a, u)) } }; t ? c() : (E.Deferred.getStackHook && (c.stackTrace = E.Deferred.getStackHook()), n.setTimeout(c)) } } return E.Deferred((function (n) { e[0][3].add(s(0, n, m(r) ? r : q, n.notifyWith)), e[1][3].add(s(0, n, m(t) ? t : q)), e[2][3].add(s(0, n, m(i) ? i : j)) })).promise() }, promise: function (t) { return null != t ? E.extend(t, r) : r } }, o = {}; return E.each(e, (function (t, n) { var s = n[2], a = n[5]; r[n[1]] = s.add, a && s.add((function () { i = a }), e[3 - t][2].disable, e[3 - t][3].disable, e[0][2].lock, e[0][3].lock), s.add(n[3].fire), o[n[0]] = function () { return o[n[0] + "With"](this === o ? void 0 : this, arguments), this }, o[n[0] + "With"] = s.fireWith })), r.promise(o), t && t.call(o, o), o }, when: function (t) { var e = arguments.length, n = e, i = Array(n), r = a.call(arguments), o = E.Deferred(), s = function (t) { return function (n) { i[t] = this, r[t] = arguments.length > 1 ? a.call(arguments) : n, --e || o.resolveWith(i, r) } }; if (e <= 1 && (B(t, o.done(s(n)).resolve, o.reject, !e), "pending" === o.state() || m(r[n] && r[n].then))) return o.then(); for (; n--;)B(r[n], s(n), o.reject); return o.promise() } }); var $ = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/; E.Deferred.exceptionHook = function (t, e) { n.console && n.console.warn && t && $.test(t.name) && n.console.warn("jQuery.Deferred exception: " + t.message, t.stack, e) }, E.readyException = function (t) { n.setTimeout((function () { throw t })) }; var z = E.Deferred(); function V() { _.removeEventListener("DOMContentLoaded", V), n.removeEventListener("load", V), E.ready() } E.fn.ready = function (t) { return z.then(t).catch((function (t) { E.readyException(t) })), this }, E.extend({ isReady: !1, readyWait: 1, ready: function (t) { (!0 === t ? --E.readyWait : E.isReady) || (E.isReady = !0, !0 !== t && --E.readyWait > 0 || z.resolveWith(_, [E])) } }), E.ready.then = z.then, "complete" === _.readyState || "loading" !== _.readyState && !_.documentElement.doScroll ? n.setTimeout(E.ready) : (_.addEventListener("DOMContentLoaded", V), n.addEventListener("load", V)); var U = function (t, e, n, i, r, o, s) { var a = 0, u = t.length, l = null == n; if ("object" === x(n)) for (a in r = !0, n) U(t, e, a, n[a], !0, o, s); else if (void 0 !== i && (r = !0, m(i) || (s = !0), l && (s ? (e.call(t, i), e = null) : (l = e, e = function (t, e, n) { return l.call(E(t), n) })), e)) for (; a < u; a++)e(t[a], n, s ? i : i.call(t[a], a, e(t[a], n))); return r ? t : l ? e.call(t) : u ? e(t[0], n) : o }, H = /^-ms-/, G = /-([a-z])/g; function X(t, e) { return e.toUpperCase() } function Y(t) { return t.replace(H, "ms-").replace(G, X) } var W = function (t) { return 1 === t.nodeType || 9 === t.nodeType || !+t.nodeType }; function J() { this.expando = E.expando + J.uid++ } J.uid = 1, J.prototype = { cache: function (t) { var e = t[this.expando]; return e || (e = {}, W(t) && (t.nodeType ? t[this.expando] = e : Object.defineProperty(t, this.expando, { value: e, configurable: !0 }))), e }, set: function (t, e, n) { var i, r = this.cache(t); if ("string" == typeof e) r[Y(e)] = n; else for (i in e) r[Y(i)] = e[i]; return r }, get: function (t, e) { return void 0 === e ? this.cache(t) : t[this.expando] && t[this.expando][Y(e)] }, access: function (t, e, n) { return void 0 === e || e && "string" == typeof e && void 0 === n ? this.get(t, e) : (this.set(t, e, n), void 0 !== n ? n : e) }, remove: function (t, e) { var n, i = t[this.expando]; if (void 0 !== i) { if (void 0 !== e) { n = (e = Array.isArray(e) ? e.map(Y) : (e = Y(e)) in i ? [e] : e.match(R) || []).length; for (; n--;)delete i[e[n]] } (void 0 === e || E.isEmptyObject(i)) && (t.nodeType ? t[this.expando] = void 0 : delete t[this.expando]) } }, hasData: function (t) { var e = t[this.expando]; return void 0 !== e && !E.isEmptyObject(e) } }; var Z = new J, K = new J, Q = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, tt = /[A-Z]/g; function et(t, e, n) { var i; if (void 0 === n && 1 === t.nodeType) if (i = "data-" + e.replace(tt, "-$&").toLowerCase(), "string" == typeof (n = t.getAttribute(i))) { try { n = function (t) { return "true" === t || "false" !== t && ("null" === t ? null : t === +t + "" ? +t : Q.test(t) ? JSON.parse(t) : t) }(n) } catch (t) { } K.set(t, e, n) } else n = void 0; return n } E.extend({ hasData: function (t) { return K.hasData(t) || Z.hasData(t) }, data: function (t, e, n) { return K.access(t, e, n) }, removeData: function (t, e) { K.remove(t, e) }, _data: function (t, e, n) { return Z.access(t, e, n) }, _removeData: function (t, e) { Z.remove(t, e) } }), E.fn.extend({ data: function (t, e) { var n, i, r, o = this[0], s = o && o.attributes; if (void 0 === t) { if (this.length && (r = K.get(o), 1 === o.nodeType && !Z.get(o, "hasDataAttrs"))) { for (n = s.length; n--;)s[n] && 0 === (i = s[n].name).indexOf("data-") && (i = Y(i.slice(5)), et(o, i, r[i])); Z.set(o, "hasDataAttrs", !0) } return r } return "object" == typeof t ? this.each((function () { K.set(this, t) })) : U(this, (function (e) { var n; if (o && void 0 === e) return void 0 !== (n = K.get(o, t)) || void 0 !== (n = et(o, t)) ? n : void 0; this.each((function () { K.set(this, t, e) })) }), null, e, arguments.length > 1, null, !0) }, removeData: function (t) { return this.each((function () { K.remove(this, t) })) } }), E.extend({ queue: function (t, e, n) { var i; if (t) return e = (e || "fx") + "queue", i = Z.get(t, e), n && (!i || Array.isArray(n) ? i = Z.access(t, e, E.makeArray(n)) : i.push(n)), i || [] }, dequeue: function (t, e) { e = e || "fx"; var n = E.queue(t, e), i = n.length, r = n.shift(), o = E._queueHooks(t, e); "inprogress" === r && (r = n.shift(), i--), r && ("fx" === e && n.unshift("inprogress"), delete o.stop, r.call(t, (function () { E.dequeue(t, e) }), o)), !i && o && o.empty.fire() }, _queueHooks: function (t, e) { var n = e + "queueHooks"; return Z.get(t, n) || Z.access(t, n, { empty: E.Callbacks("once memory").add((function () { Z.remove(t, [e + "queue", n]) })) }) } }), E.fn.extend({ queue: function (t, e) { var n = 2; return "string" != typeof t && (e = t, t = "fx", n--), arguments.length < n ? E.queue(this[0], t) : void 0 === e ? this : this.each((function () { var n = E.queue(this, t, e); E._queueHooks(this, t), "fx" === t && "inprogress" !== n[0] && E.dequeue(this, t) })) }, dequeue: function (t) { return this.each((function () { E.dequeue(this, t) })) }, clearQueue: function (t) { return this.queue(t || "fx", []) }, promise: function (t, e) { var n, i = 1, r = E.Deferred(), o = this, s = this.length, a = function () { --i || r.resolveWith(o, [o]) }; for ("string" != typeof t && (e = t, t = void 0), t = t || "fx"; s--;)(n = Z.get(o[s], t + "queueHooks")) && n.empty && (i++, n.empty.add(a)); return a(), r.promise(e) } }); var nt = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, it = new RegExp("^(?:([+-])=|)(" + nt + ")([a-z%]*)$", "i"), rt = ["Top", "Right", "Bottom", "Left"], ot = _.documentElement, st = function (t) { return E.contains(t.ownerDocument, t) }, at = { composed: !0 }; ot.getRootNode && (st = function (t) { return E.contains(t.ownerDocument, t) || t.getRootNode(at) === t.ownerDocument }); var ut = function (t, e) { return "none" === (t = e || t).style.display || "" === t.style.display && st(t) && "none" === E.css(t, "display") }; function lt(t, e, n, i) { var r, o, s = 20, a = i ? function () { return i.cur() } : function () { return E.css(t, e, "") }, u = a(), l = n && n[3] || (E.cssNumber[e] ? "" : "px"), c = t.nodeType && (E.cssNumber[e] || "px" !== l && +u) && it.exec(E.css(t, e)); if (c && c[3] !== l) { for (u /= 2, l = l || c[3], c = +u || 1; s--;)E.style(t, e, c + l), (1 - o) * (1 - (o = a() / u || .5)) <= 0 && (s = 0), c /= o; c *= 2, E.style(t, e, c + l), n = n || [] } return n && (c = +c || +u || 0, r = n[1] ? c + (n[1] + 1) * n[2] : +n[2], i && (i.unit = l, i.start = c, i.end = r)), r } var ct = {}; function ht(t) { var e, n = t.ownerDocument, i = t.nodeName, r = ct[i]; return r || (e = n.body.appendChild(n.createElement(i)), r = E.css(e, "display"), e.parentNode.removeChild(e), "none" === r && (r = "block"), ct[i] = r, r) } function pt(t, e) { for (var n, i, r = [], o = 0, s = t.length; o < s; o++)(i = t[o]).style && (n = i.style.display, e ? ("none" === n && (r[o] = Z.get(i, "display") || null, r[o] || (i.style.display = "")), "" === i.style.display && ut(i) && (r[o] = ht(i))) : "none" !== n && (r[o] = "none", Z.set(i, "display", n))); for (o = 0; o < s; o++)null != r[o] && (t[o].style.display = r[o]); return t } E.fn.extend({ show: function () { return pt(this, !0) }, hide: function () { return pt(this) }, toggle: function (t) { return "boolean" == typeof t ? t ? this.show() : this.hide() : this.each((function () { ut(this) ? E(this).show() : E(this).hide() })) } }); var ft, dt, gt = /^(?:checkbox|radio)$/i, yt = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i, mt = /^$|^module$|\/(?:java|ecma)script/i; ft = _.createDocumentFragment().appendChild(_.createElement("div")), (dt = _.createElement("input")).setAttribute("type", "radio"), dt.setAttribute("checked", "checked"), dt.setAttribute("name", "t"), ft.appendChild(dt), y.checkClone = ft.cloneNode(!0).cloneNode(!0).lastChild.checked, ft.innerHTML = "<textarea>x</textarea>", y.noCloneChecked = !!ft.cloneNode(!0).lastChild.defaultValue, ft.innerHTML = "<option></option>", y.option = !!ft.lastChild; var vt = { thead: [1, "<table>", "</table>"], col: [2, "<table><colgroup>", "</colgroup></table>"], tr: [2, "<table><tbody>", "</tbody></table>"], td: [3, "<table><tbody><tr>", "</tr></tbody></table>"], _default: [0, "", ""] }; function _t(t, e) { var n; return n = void 0 !== t.getElementsByTagName ? t.getElementsByTagName(e || "*") : void 0 !== t.querySelectorAll ? t.querySelectorAll(e || "*") : [], void 0 === e || e && N(t, e) ? E.merge([t], n) : n } function bt(t, e) { for (var n = 0, i = t.length; n < i; n++)Z.set(t[n], "globalEval", !e || Z.get(e[n], "globalEval")) } vt.tbody = vt.tfoot = vt.colgroup = vt.caption = vt.thead, vt.th = vt.td, y.option || (vt.optgroup = vt.option = [1, "<select multiple='multiple'>", "</select>"]); var wt = /<|&#?\w+;/; function xt(t, e, n, i, r) { for (var o, s, a, u, l, c, h = e.createDocumentFragment(), p = [], f = 0, d = t.length; f < d; f++)if ((o = t[f]) || 0 === o) if ("object" === x(o)) E.merge(p, o.nodeType ? [o] : o); else if (wt.test(o)) { for (s = s || h.appendChild(e.createElement("div")), a = (yt.exec(o) || ["", ""])[1].toLowerCase(), u = vt[a] || vt._default, s.innerHTML = u[1] + E.htmlPrefilter(o) + u[2], c = u[0]; c--;)s = s.lastChild; E.merge(p, s.childNodes), (s = h.firstChild).textContent = "" } else p.push(e.createTextNode(o)); for (h.textContent = "", f = 0; o = p[f++];)if (i && E.inArray(o, i) > -1) r && r.push(o); else if (l = st(o), s = _t(h.appendChild(o), "script"), l && bt(s), n) for (c = 0; o = s[c++];)mt.test(o.type || "") && n.push(o); return h } var Et = /^([^.]*)(?:\.(.+)|)/; function Ct() { return !0 } function Dt() { return !1 } function St(t, e) { return t === function () { try { return _.activeElement } catch (t) { } }() == ("focus" === e) } function Tt(t, e, n, i, r, o) { var s, a; if ("object" == typeof e) { for (a in "string" != typeof n && (i = i || n, n = void 0), e) Tt(t, a, n, i, e[a], o); return t } if (null == i && null == r ? (r = n, i = n = void 0) : null == r && ("string" == typeof n ? (r = i, i = void 0) : (r = i, i = n, n = void 0)), !1 === r) r = Dt; else if (!r) return t; return 1 === o && (s = r, (r = function (t) { return E().off(t), s.apply(this, arguments) }).guid = s.guid || (s.guid = E.guid++)), t.each((function () { E.event.add(this, e, r, i, n) })) } function It(t, e, n) { n ? (Z.set(t, e, !1), E.event.add(t, e, { namespace: !1, handler: function (t) { var i, r, o = Z.get(this, e); if (1 & t.isTrigger && this[e]) { if (o.length) (E.event.special[e] || {}).delegateType && t.stopPropagation(); else if (o = a.call(arguments), Z.set(this, e, o), i = n(this, e), this[e](), o !== (r = Z.get(this, e)) || i ? Z.set(this, e, !1) : r = {}, o !== r) return t.stopImmediatePropagation(), t.preventDefault(), r && r.value } else o.length && (Z.set(this, e, { value: E.event.trigger(E.extend(o[0], E.Event.prototype), o.slice(1), this) }), t.stopImmediatePropagation()) } })) : void 0 === Z.get(t, e) && E.event.add(t, e, Ct) } E.event = { global: {}, add: function (t, e, n, i, r) { var o, s, a, u, l, c, h, p, f, d, g, y = Z.get(t); if (W(t)) for (n.handler && (n = (o = n).handler, r = o.selector), r && E.find.matchesSelector(ot, r), n.guid || (n.guid = E.guid++), (u = y.events) || (u = y.events = Object.create(null)), (s = y.handle) || (s = y.handle = function (e) { return void 0 !== E && E.event.triggered !== e.type ? E.event.dispatch.apply(t, arguments) : void 0 }), l = (e = (e || "").match(R) || [""]).length; l--;)f = g = (a = Et.exec(e[l]) || [])[1], d = (a[2] || "").split(".").sort(), f && (h = E.event.special[f] || {}, f = (r ? h.delegateType : h.bindType) || f, h = E.event.special[f] || {}, c = E.extend({ type: f, origType: g, data: i, handler: n, guid: n.guid, selector: r, needsContext: r && E.expr.match.needsContext.test(r), namespace: d.join(".") }, o), (p = u[f]) || ((p = u[f] = []).delegateCount = 0, h.setup && !1 !== h.setup.call(t, i, d, s) || t.addEventListener && t.addEventListener(f, s)), h.add && (h.add.call(t, c), c.handler.guid || (c.handler.guid = n.guid)), r ? p.splice(p.delegateCount++, 0, c) : p.push(c), E.event.global[f] = !0) }, remove: function (t, e, n, i, r) { var o, s, a, u, l, c, h, p, f, d, g, y = Z.hasData(t) && Z.get(t); if (y && (u = y.events)) { for (l = (e = (e || "").match(R) || [""]).length; l--;)if (f = g = (a = Et.exec(e[l]) || [])[1], d = (a[2] || "").split(".").sort(), f) { for (h = E.event.special[f] || {}, p = u[f = (i ? h.delegateType : h.bindType) || f] || [], a = a[2] && new RegExp("(^|\\.)" + d.join("\\.(?:.*\\.|)") + "(\\.|$)"), s = o = p.length; o--;)c = p[o], !r && g !== c.origType || n && n.guid !== c.guid || a && !a.test(c.namespace) || i && i !== c.selector && ("**" !== i || !c.selector) || (p.splice(o, 1), c.selector && p.delegateCount--, h.remove && h.remove.call(t, c)); s && !p.length && (h.teardown && !1 !== h.teardown.call(t, d, y.handle) || E.removeEvent(t, f, y.handle), delete u[f]) } else for (f in u) E.event.remove(t, f + e[l], n, i, !0); E.isEmptyObject(u) && Z.remove(t, "handle events") } }, dispatch: function (t) { var e, n, i, r, o, s, a = new Array(arguments.length), u = E.event.fix(t), l = (Z.get(this, "events") || Object.create(null))[u.type] || [], c = E.event.special[u.type] || {}; for (a[0] = u, e = 1; e < arguments.length; e++)a[e] = arguments[e]; if (u.delegateTarget = this, !c.preDispatch || !1 !== c.preDispatch.call(this, u)) { for (s = E.event.handlers.call(this, u, l), e = 0; (r = s[e++]) && !u.isPropagationStopped();)for (u.currentTarget = r.elem, n = 0; (o = r.handlers[n++]) && !u.isImmediatePropagationStopped();)u.rnamespace && !1 !== o.namespace && !u.rnamespace.test(o.namespace) || (u.handleObj = o, u.data = o.data, void 0 !== (i = ((E.event.special[o.origType] || {}).handle || o.handler).apply(r.elem, a)) && !1 === (u.result = i) && (u.preventDefault(), u.stopPropagation())); return c.postDispatch && c.postDispatch.call(this, u), u.result } }, handlers: function (t, e) { var n, i, r, o, s, a = [], u = e.delegateCount, l = t.target; if (u && l.nodeType && !("click" === t.type && t.button >= 1)) for (; l !== this; l = l.parentNode || this)if (1 === l.nodeType && ("click" !== t.type || !0 !== l.disabled)) { for (o = [], s = {}, n = 0; n < u; n++)void 0 === s[r = (i = e[n]).selector + " "] && (s[r] = i.needsContext ? E(r, this).index(l) > -1 : E.find(r, this, null, [l]).length), s[r] && o.push(i); o.length && a.push({ elem: l, handlers: o }) } return l = this, u < e.length && a.push({ elem: l, handlers: e.slice(u) }), a }, addProp: function (t, e) { Object.defineProperty(E.Event.prototype, t, { enumerable: !0, configurable: !0, get: m(e) ? function () { if (this.originalEvent) return e(this.originalEvent) } : function () { if (this.originalEvent) return this.originalEvent[t] }, set: function (e) { Object.defineProperty(this, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) } }) }, fix: function (t) { return t[E.expando] ? t : new E.Event(t) }, special: { load: { noBubble: !0 }, click: { setup: function (t) { var e = this || t; return gt.test(e.type) && e.click && N(e, "input") && It(e, "click", Ct), !1 }, trigger: function (t) { var e = this || t; return gt.test(e.type) && e.click && N(e, "input") && It(e, "click"), !0 }, _default: function (t) { var e = t.target; return gt.test(e.type) && e.click && N(e, "input") && Z.get(e, "click") || N(e, "a") } }, beforeunload: { postDispatch: function (t) { void 0 !== t.result && t.originalEvent && (t.originalEvent.returnValue = t.result) } } } }, E.removeEvent = function (t, e, n) { t.removeEventListener && t.removeEventListener(e, n) }, E.Event = function (t, e) { if (!(this instanceof E.Event)) return new E.Event(t, e); t && t.type ? (this.originalEvent = t, this.type = t.type, this.isDefaultPrevented = t.defaultPrevented || void 0 === t.defaultPrevented && !1 === t.returnValue ? Ct : Dt, this.target = t.target && 3 === t.target.nodeType ? t.target.parentNode : t.target, this.currentTarget = t.currentTarget, this.relatedTarget = t.relatedTarget) : this.type = t, e && E.extend(this, e), this.timeStamp = t && t.timeStamp || Date.now(), this[E.expando] = !0 }, E.Event.prototype = { constructor: E.Event, isDefaultPrevented: Dt, isPropagationStopped: Dt, isImmediatePropagationStopped: Dt, isSimulated: !1, preventDefault: function () { var t = this.originalEvent; this.isDefaultPrevented = Ct, t && !this.isSimulated && t.preventDefault() }, stopPropagation: function () { var t = this.originalEvent; this.isPropagationStopped = Ct, t && !this.isSimulated && t.stopPropagation() }, stopImmediatePropagation: function () { var t = this.originalEvent; this.isImmediatePropagationStopped = Ct, t && !this.isSimulated && t.stopImmediatePropagation(), this.stopPropagation() } }, E.each({ altKey: !0, bubbles: !0, cancelable: !0, changedTouches: !0, ctrlKey: !0, detail: !0, eventPhase: !0, metaKey: !0, pageX: !0, pageY: !0, shiftKey: !0, view: !0, char: !0, code: !0, charCode: !0, key: !0, keyCode: !0, button: !0, buttons: !0, clientX: !0, clientY: !0, offsetX: !0, offsetY: !0, pointerId: !0, pointerType: !0, screenX: !0, screenY: !0, targetTouches: !0, toElement: !0, touches: !0, which: !0 }, E.event.addProp), E.each({ focus: "focusin", blur: "focusout" }, (function (t, e) { E.event.special[t] = { setup: function () { return It(this, t, St), !1 }, trigger: function () { return It(this, t), !0 }, _default: function () { return !0 }, delegateType: e } })), E.each({ mouseenter: "mouseover", mouseleave: "mouseout", pointerenter: "pointerover", pointerleave: "pointerout" }, (function (t, e) { E.event.special[t] = { delegateType: e, bindType: e, handle: function (t) { var n, i = this, r = t.relatedTarget, o = t.handleObj; return r && (r === i || E.contains(i, r)) || (t.type = o.origType, n = o.handler.apply(this, arguments), t.type = e), n } } })), E.fn.extend({ on: function (t, e, n, i) { return Tt(this, t, e, n, i) }, one: function (t, e, n, i) { return Tt(this, t, e, n, i, 1) }, off: function (t, e, n) { var i, r; if (t && t.preventDefault && t.handleObj) return i = t.handleObj, E(t.delegateTarget).off(i.namespace ? i.origType + "." + i.namespace : i.origType, i.selector, i.handler), this; if ("object" == typeof t) { for (r in t) this.off(r, e, t[r]); return this } return !1 !== e && "function" != typeof e || (n = e, e = void 0), !1 === n && (n = Dt), this.each((function () { E.event.remove(this, t, n, e) })) } }); var Nt = /<script|<style|<link/i, Pt = /checked\s*(?:[^=]|=\s*.checked.)/i, At = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g; function Mt(t, e) { return N(t, "table") && N(11 !== e.nodeType ? e : e.firstChild, "tr") && E(t).children("tbody")[0] || t } function Lt(t) { return t.type = (null !== t.getAttribute("type")) + "/" + t.type, t } function Ot(t) { return "true/" === (t.type || "").slice(0, 5) ? t.type = t.type.slice(5) : t.removeAttribute("type"), t } function kt(t, e) { var n, i, r, o, s, a; if (1 === e.nodeType) { if (Z.hasData(t) && (a = Z.get(t).events)) for (r in Z.remove(e, "handle events"), a) for (n = 0, i = a[r].length; n < i; n++)E.event.add(e, r, a[r][n]); K.hasData(t) && (o = K.access(t), s = E.extend({}, o), K.set(e, s)) } } function Ft(t, e) { var n = e.nodeName.toLowerCase(); "input" === n && gt.test(t.type) ? e.checked = t.checked : "input" !== n && "textarea" !== n || (e.defaultValue = t.defaultValue) } function Rt(t, e, n, i) { e = u(e); var r, o, s, a, l, c, h = 0, p = t.length, f = p - 1, d = e[0], g = m(d); if (g || p > 1 && "string" == typeof d && !y.checkClone && Pt.test(d)) return t.each((function (r) { var o = t.eq(r); g && (e[0] = d.call(this, r, o.html())), Rt(o, e, n, i) })); if (p && (o = (r = xt(e, t[0].ownerDocument, !1, t, i)).firstChild, 1 === r.childNodes.length && (r = o), o || i)) { for (a = (s = E.map(_t(r, "script"), Lt)).length; h < p; h++)l = r, h !== f && (l = E.clone(l, !0, !0), a && E.merge(s, _t(l, "script"))), n.call(t[h], l, h); if (a) for (c = s[s.length - 1].ownerDocument, E.map(s, Ot), h = 0; h < a; h++)l = s[h], mt.test(l.type || "") && !Z.access(l, "globalEval") && E.contains(c, l) && (l.src && "module" !== (l.type || "").toLowerCase() ? E._evalUrl && !l.noModule && E._evalUrl(l.src, { nonce: l.nonce || l.getAttribute("nonce") }, c) : w(l.textContent.replace(At, ""), l, c)) } return t } function qt(t, e, n) { for (var i, r = e ? E.filter(e, t) : t, o = 0; null != (i = r[o]); o++)n || 1 !== i.nodeType || E.cleanData(_t(i)), i.parentNode && (n && st(i) && bt(_t(i, "script")), i.parentNode.removeChild(i)); return t } E.extend({ htmlPrefilter: function (t) { return t }, clone: function (t, e, n) { var i, r, o, s, a = t.cloneNode(!0), u = st(t); if (!(y.noCloneChecked || 1 !== t.nodeType && 11 !== t.nodeType || E.isXMLDoc(t))) for (s = _t(a), i = 0, r = (o = _t(t)).length; i < r; i++)Ft(o[i], s[i]); if (e) if (n) for (o = o || _t(t), s = s || _t(a), i = 0, r = o.length; i < r; i++)kt(o[i], s[i]); else kt(t, a); return (s = _t(a, "script")).length > 0 && bt(s, !u && _t(t, "script")), a }, cleanData: function (t) { for (var e, n, i, r = E.event.special, o = 0; void 0 !== (n = t[o]); o++)if (W(n)) { if (e = n[Z.expando]) { if (e.events) for (i in e.events) r[i] ? E.event.remove(n, i) : E.removeEvent(n, i, e.handle); n[Z.expando] = void 0 } n[K.expando] && (n[K.expando] = void 0) } } }), E.fn.extend({ detach: function (t) { return qt(this, t, !0) }, remove: function (t) { return qt(this, t) }, text: function (t) { return U(this, (function (t) { return void 0 === t ? E.text(this) : this.empty().each((function () { 1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = t) })) }), null, t, arguments.length) }, append: function () { return Rt(this, arguments, (function (t) { 1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || Mt(this, t).appendChild(t) })) }, prepend: function () { return Rt(this, arguments, (function (t) { if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) { var e = Mt(this, t); e.insertBefore(t, e.firstChild) } })) }, before: function () { return Rt(this, arguments, (function (t) { this.parentNode && this.parentNode.insertBefore(t, this) })) }, after: function () { return Rt(this, arguments, (function (t) { this.parentNode && this.parentNode.insertBefore(t, this.nextSibling) })) }, empty: function () { for (var t, e = 0; null != (t = this[e]); e++)1 === t.nodeType && (E.cleanData(_t(t, !1)), t.textContent = ""); return this }, clone: function (t, e) { return t = null != t && t, e = null == e ? t : e, this.map((function () { return E.clone(this, t, e) })) }, html: function (t) { return U(this, (function (t) { var e = this[0] || {}, n = 0, i = this.length; if (void 0 === t && 1 === e.nodeType) return e.innerHTML; if ("string" == typeof t && !Nt.test(t) && !vt[(yt.exec(t) || ["", ""])[1].toLowerCase()]) { t = E.htmlPrefilter(t); try { for (; n < i; n++)1 === (e = this[n] || {}).nodeType && (E.cleanData(_t(e, !1)), e.innerHTML = t); e = 0 } catch (t) { } } e && this.empty().append(t) }), null, t, arguments.length) }, replaceWith: function () { var t = []; return Rt(this, arguments, (function (e) { var n = this.parentNode; E.inArray(this, t) < 0 && (E.cleanData(_t(this)), n && n.replaceChild(e, this)) }), t) } }), E.each({ appendTo: "append", prependTo: "prepend", insertBefore: "before", insertAfter: "after", replaceAll: "replaceWith" }, (function (t, e) { E.fn[t] = function (t) { for (var n, i = [], r = E(t), o = r.length - 1, s = 0; s <= o; s++)n = s === o ? this : this.clone(!0), E(r[s])[e](n), l.apply(i, n.get()); return this.pushStack(i) } })); var jt = new RegExp("^(" + nt + ")(?!px)[a-z%]+$", "i"), Bt = function (t) { var e = t.ownerDocument.defaultView; return e && e.opener || (e = n), e.getComputedStyle(t) }, $t = function (t, e, n) { var i, r, o = {}; for (r in e) o[r] = t.style[r], t.style[r] = e[r]; for (r in i = n.call(t), e) t.style[r] = o[r]; return i }, zt = new RegExp(rt.join("|"), "i"); function Vt(t, e, n) { var i, r, o, s, a = t.style; return (n = n || Bt(t)) && ("" !== (s = n.getPropertyValue(e) || n[e]) || st(t) || (s = E.style(t, e)), !y.pixelBoxStyles() && jt.test(s) && zt.test(e) && (i = a.width, r = a.minWidth, o = a.maxWidth, a.minWidth = a.maxWidth = a.width = s, s = n.width, a.width = i, a.minWidth = r, a.maxWidth = o)), void 0 !== s ? s + "" : s } function Ut(t, e) { return { get: function () { if (!t()) return (this.get = e).apply(this, arguments); delete this.get } } } !function () { function t() { if (c) { l.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0", c.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%", ot.appendChild(l).appendChild(c); var t = n.getComputedStyle(c); i = "1%" !== t.top, u = 12 === e(t.marginLeft), c.style.right = "60%", s = 36 === e(t.right), r = 36 === e(t.width), c.style.position = "absolute", o = 12 === e(c.offsetWidth / 3), ot.removeChild(l), c = null } } function e(t) { return Math.round(parseFloat(t)) } var i, r, o, s, a, u, l = _.createElement("div"), c = _.createElement("div"); c.style && (c.style.backgroundClip = "content-box", c.cloneNode(!0).style.backgroundClip = "", y.clearCloneStyle = "content-box" === c.style.backgroundClip, E.extend(y, { boxSizingReliable: function () { return t(), r }, pixelBoxStyles: function () { return t(), s }, pixelPosition: function () { return t(), i }, reliableMarginLeft: function () { return t(), u }, scrollboxSize: function () { return t(), o }, reliableTrDimensions: function () { var t, e, i, r; return null == a && (t = _.createElement("table"), e = _.createElement("tr"), i = _.createElement("div"), t.style.cssText = "position:absolute;left:-11111px;border-collapse:separate", e.style.cssText = "border:1px solid", e.style.height = "1px", i.style.height = "9px", i.style.display = "block", ot.appendChild(t).appendChild(e).appendChild(i), r = n.getComputedStyle(e), a = parseInt(r.height, 10) + parseInt(r.borderTopWidth, 10) + parseInt(r.borderBottomWidth, 10) === e.offsetHeight, ot.removeChild(t)), a } })) }(); var Ht = ["Webkit", "Moz", "ms"], Gt = _.createElement("div").style, Xt = {}; function Yt(t) { var e = E.cssProps[t] || Xt[t]; return e || (t in Gt ? t : Xt[t] = function (t) { for (var e = t[0].toUpperCase() + t.slice(1), n = Ht.length; n--;)if ((t = Ht[n] + e) in Gt) return t }(t) || t) } var Wt = /^(none|table(?!-c[ea]).+)/, Jt = /^--/, Zt = { position: "absolute", visibility: "hidden", display: "block" }, Kt = { letterSpacing: "0", fontWeight: "400" }; function Qt(t, e, n) { var i = it.exec(e); return i ? Math.max(0, i[2] - (n || 0)) + (i[3] || "px") : e } function te(t, e, n, i, r, o) { var s = "width" === e ? 1 : 0, a = 0, u = 0; if (n === (i ? "border" : "content")) return 0; for (; s < 4; s += 2)"margin" === n && (u += E.css(t, n + rt[s], !0, r)), i ? ("content" === n && (u -= E.css(t, "padding" + rt[s], !0, r)), "margin" !== n && (u -= E.css(t, "border" + rt[s] + "Width", !0, r))) : (u += E.css(t, "padding" + rt[s], !0, r), "padding" !== n ? u += E.css(t, "border" + rt[s] + "Width", !0, r) : a += E.css(t, "border" + rt[s] + "Width", !0, r)); return !i && o >= 0 && (u += Math.max(0, Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - o - u - a - .5)) || 0), u } function ee(t, e, n) { var i = Bt(t), r = (!y.boxSizingReliable() || n) && "border-box" === E.css(t, "boxSizing", !1, i), o = r, s = Vt(t, e, i), a = "offset" + e[0].toUpperCase() + e.slice(1); if (jt.test(s)) { if (!n) return s; s = "auto" } return (!y.boxSizingReliable() && r || !y.reliableTrDimensions() && N(t, "tr") || "auto" === s || !parseFloat(s) && "inline" === E.css(t, "display", !1, i)) && t.getClientRects().length && (r = "border-box" === E.css(t, "boxSizing", !1, i), (o = a in t) && (s = t[a])), (s = parseFloat(s) || 0) + te(t, e, n || (r ? "border" : "content"), o, i, s) + "px" } function ne(t, e, n, i, r) { return new ne.prototype.init(t, e, n, i, r) } E.extend({ cssHooks: { opacity: { get: function (t, e) { if (e) { var n = Vt(t, "opacity"); return "" === n ? "1" : n } } } }, cssNumber: { animationIterationCount: !0, columnCount: !0, fillOpacity: !0, flexGrow: !0, flexShrink: !0, fontWeight: !0, gridArea: !0, gridColumn: !0, gridColumnEnd: !0, gridColumnStart: !0, gridRow: !0, gridRowEnd: !0, gridRowStart: !0, lineHeight: !0, opacity: !0, order: !0, orphans: !0, widows: !0, zIndex: !0, zoom: !0 }, cssProps: {}, style: function (t, e, n, i) { if (t && 3 !== t.nodeType && 8 !== t.nodeType && t.style) { var r, o, s, a = Y(e), u = Jt.test(e), l = t.style; if (u || (e = Yt(a)), s = E.cssHooks[e] || E.cssHooks[a], void 0 === n) return s && "get" in s && void 0 !== (r = s.get(t, !1, i)) ? r : l[e]; "string" === (o = typeof n) && (r = it.exec(n)) && r[1] && (n = lt(t, e, r), o = "number"), null != n && n == n && ("number" !== o || u || (n += r && r[3] || (E.cssNumber[a] ? "" : "px")), y.clearCloneStyle || "" !== n || 0 !== e.indexOf("background") || (l[e] = "inherit"), s && "set" in s && void 0 === (n = s.set(t, n, i)) || (u ? l.setProperty(e, n) : l[e] = n)) } }, css: function (t, e, n, i) { var r, o, s, a = Y(e); return Jt.test(e) || (e = Yt(a)), (s = E.cssHooks[e] || E.cssHooks[a]) && "get" in s && (r = s.get(t, !0, n)), void 0 === r && (r = Vt(t, e, i)), "normal" === r && e in Kt && (r = Kt[e]), "" === n || n ? (o = parseFloat(r), !0 === n || isFinite(o) ? o || 0 : r) : r } }), E.each(["height", "width"], (function (t, e) { E.cssHooks[e] = { get: function (t, n, i) { if (n) return !Wt.test(E.css(t, "display")) || t.getClientRects().length && t.getBoundingClientRect().width ? ee(t, e, i) : $t(t, Zt, (function () { return ee(t, e, i) })) }, set: function (t, n, i) { var r, o = Bt(t), s = !y.scrollboxSize() && "absolute" === o.position, a = (s || i) && "border-box" === E.css(t, "boxSizing", !1, o), u = i ? te(t, e, i, a, o) : 0; return a && s && (u -= Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - parseFloat(o[e]) - te(t, e, "border", !1, o) - .5)), u && (r = it.exec(n)) && "px" !== (r[3] || "px") && (t.style[e] = n, n = E.css(t, e)), Qt(0, n, u) } } })), E.cssHooks.marginLeft = Ut(y.reliableMarginLeft, (function (t, e) { if (e) return (parseFloat(Vt(t, "marginLeft")) || t.getBoundingClientRect().left - $t(t, { marginLeft: 0 }, (function () { return t.getBoundingClientRect().left }))) + "px" })), E.each({ margin: "", padding: "", border: "Width" }, (function (t, e) { E.cssHooks[t + e] = { expand: function (n) { for (var i = 0, r = {}, o = "string" == typeof n ? n.split(" ") : [n]; i < 4; i++)r[t + rt[i] + e] = o[i] || o[i - 2] || o[0]; return r } }, "margin" !== t && (E.cssHooks[t + e].set = Qt) })), E.fn.extend({ css: function (t, e) { return U(this, (function (t, e, n) { var i, r, o = {}, s = 0; if (Array.isArray(e)) { for (i = Bt(t), r = e.length; s < r; s++)o[e[s]] = E.css(t, e[s], !1, i); return o } return void 0 !== n ? E.style(t, e, n) : E.css(t, e) }), t, e, arguments.length > 1) } }), E.Tween = ne, ne.prototype = { constructor: ne, init: function (t, e, n, i, r, o) { this.elem = t, this.prop = n, this.easing = r || E.easing._default, this.options = e, this.start = this.now = this.cur(), this.end = i, this.unit = o || (E.cssNumber[n] ? "" : "px") }, cur: function () { var t = ne.propHooks[this.prop]; return t && t.get ? t.get(this) : ne.propHooks._default.get(this) }, run: function (t) { var e, n = ne.propHooks[this.prop]; return this.options.duration ? this.pos = e = E.easing[this.easing](t, this.options.duration * t, 0, 1, this.options.duration) : this.pos = e = t, this.now = (this.end - this.start) * e + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), n && n.set ? n.set(this) : ne.propHooks._default.set(this), this } }, ne.prototype.init.prototype = ne.prototype, ne.propHooks = { _default: { get: function (t) { var e; return 1 !== t.elem.nodeType || null != t.elem[t.prop] && null == t.elem.style[t.prop] ? t.elem[t.prop] : (e = E.css(t.elem, t.prop, "")) && "auto" !== e ? e : 0 }, set: function (t) { E.fx.step[t.prop] ? E.fx.step[t.prop](t) : 1 !== t.elem.nodeType || !E.cssHooks[t.prop] && null == t.elem.style[Yt(t.prop)] ? t.elem[t.prop] = t.now : E.style(t.elem, t.prop, t.now + t.unit) } } }, ne.propHooks.scrollTop = ne.propHooks.scrollLeft = { set: function (t) { t.elem.nodeType && t.elem.parentNode && (t.elem[t.prop] = t.now) } }, E.easing = { linear: function (t) { return t }, swing: function (t) { return .5 - Math.cos(t * Math.PI) / 2 }, _default: "swing" }, E.fx = ne.prototype.init, E.fx.step = {}; var ie, re, oe = /^(?:toggle|show|hide)$/, se = /queueHooks$/; function ae() { re && (!1 === _.hidden && n.requestAnimationFrame ? n.requestAnimationFrame(ae) : n.setTimeout(ae, E.fx.interval), E.fx.tick()) } function ue() { return n.setTimeout((function () { ie = void 0 })), ie = Date.now() } function le(t, e) { var n, i = 0, r = { height: t }; for (e = e ? 1 : 0; i < 4; i += 2 - e)r["margin" + (n = rt[i])] = r["padding" + n] = t; return e && (r.opacity = r.width = t), r } function ce(t, e, n) { for (var i, r = (he.tweeners[e] || []).concat(he.tweeners["*"]), o = 0, s = r.length; o < s; o++)if (i = r[o].call(n, e, t)) return i } function he(t, e, n) { var i, r, o = 0, s = he.prefilters.length, a = E.Deferred().always((function () { delete u.elem })), u = function () { if (r) return !1; for (var e = ie || ue(), n = Math.max(0, l.startTime + l.duration - e), i = 1 - (n / l.duration || 0), o = 0, s = l.tweens.length; o < s; o++)l.tweens[o].run(i); return a.notifyWith(t, [l, i, n]), i < 1 && s ? n : (s || a.notifyWith(t, [l, 1, 0]), a.resolveWith(t, [l]), !1) }, l = a.promise({ elem: t, props: E.extend({}, e), opts: E.extend(!0, { specialEasing: {}, easing: E.easing._default }, n), originalProperties: e, originalOptions: n, startTime: ie || ue(), duration: n.duration, tweens: [], createTween: function (e, n) { var i = E.Tween(t, l.opts, e, n, l.opts.specialEasing[e] || l.opts.easing); return l.tweens.push(i), i }, stop: function (e) { var n = 0, i = e ? l.tweens.length : 0; if (r) return this; for (r = !0; n < i; n++)l.tweens[n].run(1); return e ? (a.notifyWith(t, [l, 1, 0]), a.resolveWith(t, [l, e])) : a.rejectWith(t, [l, e]), this } }), c = l.props; for (!function (t, e) { var n, i, r, o, s; for (n in t) if (r = e[i = Y(n)], o = t[n], Array.isArray(o) && (r = o[1], o = t[n] = o[0]), n !== i && (t[i] = o, delete t[n]), (s = E.cssHooks[i]) && "expand" in s) for (n in o = s.expand(o), delete t[i], o) n in t || (t[n] = o[n], e[n] = r); else e[i] = r }(c, l.opts.specialEasing); o < s; o++)if (i = he.prefilters[o].call(l, t, c, l.opts)) return m(i.stop) && (E._queueHooks(l.elem, l.opts.queue).stop = i.stop.bind(i)), i; return E.map(c, ce, l), m(l.opts.start) && l.opts.start.call(t, l), l.progress(l.opts.progress).done(l.opts.done, l.opts.complete).fail(l.opts.fail).always(l.opts.always), E.fx.timer(E.extend(u, { elem: t, anim: l, queue: l.opts.queue })), l } E.Animation = E.extend(he, { tweeners: { "*": [function (t, e) { var n = this.createTween(t, e); return lt(n.elem, t, it.exec(e), n), n }] }, tweener: function (t, e) { m(t) ? (e = t, t = ["*"]) : t = t.match(R); for (var n, i = 0, r = t.length; i < r; i++)n = t[i], he.tweeners[n] = he.tweeners[n] || [], he.tweeners[n].unshift(e) }, prefilters: [function (t, e, n) { var i, r, o, s, a, u, l, c, h = "width" in e || "height" in e, p = this, f = {}, d = t.style, g = t.nodeType && ut(t), y = Z.get(t, "fxshow"); for (i in n.queue || (null == (s = E._queueHooks(t, "fx")).unqueued && (s.unqueued = 0, a = s.empty.fire, s.empty.fire = function () { s.unqueued || a() }), s.unqueued++, p.always((function () { p.always((function () { s.unqueued--, E.queue(t, "fx").length || s.empty.fire() })) }))), e) if (r = e[i], oe.test(r)) { if (delete e[i], o = o || "toggle" === r, r === (g ? "hide" : "show")) { if ("show" !== r || !y || void 0 === y[i]) continue; g = !0 } f[i] = y && y[i] || E.style(t, i) } if ((u = !E.isEmptyObject(e)) || !E.isEmptyObject(f)) for (i in h && 1 === t.nodeType && (n.overflow = [d.overflow, d.overflowX, d.overflowY], null == (l = y && y.display) && (l = Z.get(t, "display")), "none" === (c = E.css(t, "display")) && (l ? c = l : (pt([t], !0), l = t.style.display || l, c = E.css(t, "display"), pt([t]))), ("inline" === c || "inline-block" === c && null != l) && "none" === E.css(t, "float") && (u || (p.done((function () { d.display = l })), null == l && (c = d.display, l = "none" === c ? "" : c)), d.display = "inline-block")), n.overflow && (d.overflow = "hidden", p.always((function () { d.overflow = n.overflow[0], d.overflowX = n.overflow[1], d.overflowY = n.overflow[2] }))), u = !1, f) u || (y ? "hidden" in y && (g = y.hidden) : y = Z.access(t, "fxshow", { display: l }), o && (y.hidden = !g), g && pt([t], !0), p.done((function () { for (i in g || pt([t]), Z.remove(t, "fxshow"), f) E.style(t, i, f[i]) }))), u = ce(g ? y[i] : 0, i, p), i in y || (y[i] = u.start, g && (u.end = u.start, u.start = 0)) }], prefilter: function (t, e) { e ? he.prefilters.unshift(t) : he.prefilters.push(t) } }), E.speed = function (t, e, n) { var i = t && "object" == typeof t ? E.extend({}, t) : { complete: n || !n && e || m(t) && t, duration: t, easing: n && e || e && !m(e) && e }; return E.fx.off ? i.duration = 0 : "number" != typeof i.duration && (i.duration in E.fx.speeds ? i.duration = E.fx.speeds[i.duration] : i.duration = E.fx.speeds._default), null != i.queue && !0 !== i.queue || (i.queue = "fx"), i.old = i.complete, i.complete = function () { m(i.old) && i.old.call(this), i.queue && E.dequeue(this, i.queue) }, i }, E.fn.extend({ fadeTo: function (t, e, n, i) { return this.filter(ut).css("opacity", 0).show().end().animate({ opacity: e }, t, n, i) }, animate: function (t, e, n, i) { var r = E.isEmptyObject(t), o = E.speed(e, n, i), s = function () { var e = he(this, E.extend({}, t), o); (r || Z.get(this, "finish")) && e.stop(!0) }; return s.finish = s, r || !1 === o.queue ? this.each(s) : this.queue(o.queue, s) }, stop: function (t, e, n) { var i = function (t) { var e = t.stop; delete t.stop, e(n) }; return "string" != typeof t && (n = e, e = t, t = void 0), e && this.queue(t || "fx", []), this.each((function () { var e = !0, r = null != t && t + "queueHooks", o = E.timers, s = Z.get(this); if (r) s[r] && s[r].stop && i(s[r]); else for (r in s) s[r] && s[r].stop && se.test(r) && i(s[r]); for (r = o.length; r--;)o[r].elem !== this || null != t && o[r].queue !== t || (o[r].anim.stop(n), e = !1, o.splice(r, 1)); !e && n || E.dequeue(this, t) })) }, finish: function (t) { return !1 !== t && (t = t || "fx"), this.each((function () { var e, n = Z.get(this), i = n[t + "queue"], r = n[t + "queueHooks"], o = E.timers, s = i ? i.length : 0; for (n.finish = !0, E.queue(this, t, []), r && r.stop && r.stop.call(this, !0), e = o.length; e--;)o[e].elem === this && o[e].queue === t && (o[e].anim.stop(!0), o.splice(e, 1)); for (e = 0; e < s; e++)i[e] && i[e].finish && i[e].finish.call(this); delete n.finish })) } }), E.each(["toggle", "show", "hide"], (function (t, e) { var n = E.fn[e]; E.fn[e] = function (t, i, r) { return null == t || "boolean" == typeof t ? n.apply(this, arguments) : this.animate(le(e, !0), t, i, r) } })), E.each({ slideDown: le("show"), slideUp: le("hide"), slideToggle: le("toggle"), fadeIn: { opacity: "show" }, fadeOut: { opacity: "hide" }, fadeToggle: { opacity: "toggle" } }, (function (t, e) { E.fn[t] = function (t, n, i) { return this.animate(e, t, n, i) } })), E.timers = [], E.fx.tick = function () { var t, e = 0, n = E.timers; for (ie = Date.now(); e < n.length; e++)(t = n[e])() || n[e] !== t || n.splice(e--, 1); n.length || E.fx.stop(), ie = void 0 }, E.fx.timer = function (t) { E.timers.push(t), E.fx.start() }, E.fx.interval = 13, E.fx.start = function () { re || (re = !0, ae()) }, E.fx.stop = function () { re = null }, E.fx.speeds = { slow: 600, fast: 200, _default: 400 }, E.fn.delay = function (t, e) { return t = E.fx && E.fx.speeds[t] || t, e = e || "fx", this.queue(e, (function (e, i) { var r = n.setTimeout(e, t); i.stop = function () { n.clearTimeout(r) } })) }, function () { var t = _.createElement("input"), e = _.createElement("select").appendChild(_.createElement("option")); t.type = "checkbox", y.checkOn = "" !== t.value, y.optSelected = e.selected, (t = _.createElement("input")).value = "t", t.type = "radio", y.radioValue = "t" === t.value }(); var pe, fe = E.expr.attrHandle; E.fn.extend({ attr: function (t, e) { return U(this, E.attr, t, e, arguments.length > 1) }, removeAttr: function (t) { return this.each((function () { E.removeAttr(this, t) })) } }), E.extend({ attr: function (t, e, n) { var i, r, o = t.nodeType; if (3 !== o && 8 !== o && 2 !== o) return void 0 === t.getAttribute ? E.prop(t, e, n) : (1 === o && E.isXMLDoc(t) || (r = E.attrHooks[e.toLowerCase()] || (E.expr.match.bool.test(e) ? pe : void 0)), void 0 !== n ? null === n ? void E.removeAttr(t, e) : r && "set" in r && void 0 !== (i = r.set(t, n, e)) ? i : (t.setAttribute(e, n + ""), n) : r && "get" in r && null !== (i = r.get(t, e)) ? i : null == (i = E.find.attr(t, e)) ? void 0 : i) }, attrHooks: { type: { set: function (t, e) { if (!y.radioValue && "radio" === e && N(t, "input")) { var n = t.value; return t.setAttribute("type", e), n && (t.value = n), e } } } }, removeAttr: function (t, e) { var n, i = 0, r = e && e.match(R); if (r && 1 === t.nodeType) for (; n = r[i++];)t.removeAttribute(n) } }), pe = { set: function (t, e, n) { return !1 === e ? E.removeAttr(t, n) : t.setAttribute(n, n), n } }, E.each(E.expr.match.bool.source.match(/\w+/g), (function (t, e) { var n = fe[e] || E.find.attr; fe[e] = function (t, e, i) { var r, o, s = e.toLowerCase(); return i || (o = fe[s], fe[s] = r, r = null != n(t, e, i) ? s : null, fe[s] = o), r } })); var de = /^(?:input|select|textarea|button)$/i, ge = /^(?:a|area)$/i; function ye(t) { return (t.match(R) || []).join(" ") } function me(t) { return t.getAttribute && t.getAttribute("class") || "" } function ve(t) { return Array.isArray(t) ? t : "string" == typeof t && t.match(R) || [] } E.fn.extend({ prop: function (t, e) { return U(this, E.prop, t, e, arguments.length > 1) }, removeProp: function (t) { return this.each((function () { delete this[E.propFix[t] || t] })) } }), E.extend({ prop: function (t, e, n) { var i, r, o = t.nodeType; if (3 !== o && 8 !== o && 2 !== o) return 1 === o && E.isXMLDoc(t) || (e = E.propFix[e] || e, r = E.propHooks[e]), void 0 !== n ? r && "set" in r && void 0 !== (i = r.set(t, n, e)) ? i : t[e] = n : r && "get" in r && null !== (i = r.get(t, e)) ? i : t[e] }, propHooks: { tabIndex: { get: function (t) { var e = E.find.attr(t, "tabindex"); return e ? parseInt(e, 10) : de.test(t.nodeName) || ge.test(t.nodeName) && t.href ? 0 : -1 } } }, propFix: { for: "htmlFor", class: "className" } }), y.optSelected || (E.propHooks.selected = { get: function (t) { var e = t.parentNode; return e && e.parentNode && e.parentNode.selectedIndex, null }, set: function (t) { var e = t.parentNode; e && (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex) } }), E.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], (function () { E.propFix[this.toLowerCase()] = this })), E.fn.extend({ addClass: function (t) { var e, n, i, r, o, s, a, u = 0; if (m(t)) return this.each((function (e) { E(this).addClass(t.call(this, e, me(this))) })); if ((e = ve(t)).length) for (; n = this[u++];)if (r = me(n), i = 1 === n.nodeType && " " + ye(r) + " ") { for (s = 0; o = e[s++];)i.indexOf(" " + o + " ") < 0 && (i += o + " "); r !== (a = ye(i)) && n.setAttribute("class", a) } return this }, removeClass: function (t) { var e, n, i, r, o, s, a, u = 0; if (m(t)) return this.each((function (e) { E(this).removeClass(t.call(this, e, me(this))) })); if (!arguments.length) return this.attr("class", ""); if ((e = ve(t)).length) for (; n = this[u++];)if (r = me(n), i = 1 === n.nodeType && " " + ye(r) + " ") { for (s = 0; o = e[s++];)for (; i.indexOf(" " + o + " ") > -1;)i = i.replace(" " + o + " ", " "); r !== (a = ye(i)) && n.setAttribute("class", a) } return this }, toggleClass: function (t, e) { var n = typeof t, i = "string" === n || Array.isArray(t); return "boolean" == typeof e && i ? e ? this.addClass(t) : this.removeClass(t) : m(t) ? this.each((function (n) { E(this).toggleClass(t.call(this, n, me(this), e), e) })) : this.each((function () { var e, r, o, s; if (i) for (r = 0, o = E(this), s = ve(t); e = s[r++];)o.hasClass(e) ? o.removeClass(e) : o.addClass(e); else void 0 !== t && "boolean" !== n || ((e = me(this)) && Z.set(this, "__className__", e), this.setAttribute && this.setAttribute("class", e || !1 === t ? "" : Z.get(this, "__className__") || "")) })) }, hasClass: function (t) { var e, n, i = 0; for (e = " " + t + " "; n = this[i++];)if (1 === n.nodeType && (" " + ye(me(n)) + " ").indexOf(e) > -1) return !0; return !1 } }); var _e = /\r/g; E.fn.extend({ val: function (t) { var e, n, i, r = this[0]; return arguments.length ? (i = m(t), this.each((function (n) { var r; 1 === this.nodeType && (null == (r = i ? t.call(this, n, E(this).val()) : t) ? r = "" : "number" == typeof r ? r += "" : Array.isArray(r) && (r = E.map(r, (function (t) { return null == t ? "" : t + "" }))), (e = E.valHooks[this.type] || E.valHooks[this.nodeName.toLowerCase()]) && "set" in e && void 0 !== e.set(this, r, "value") || (this.value = r)) }))) : r ? (e = E.valHooks[r.type] || E.valHooks[r.nodeName.toLowerCase()]) && "get" in e && void 0 !== (n = e.get(r, "value")) ? n : "string" == typeof (n = r.value) ? n.replace(_e, "") : null == n ? "" : n : void 0 } }), E.extend({ valHooks: { option: { get: function (t) { var e = E.find.attr(t, "value"); return null != e ? e : ye(E.text(t)) } }, select: { get: function (t) { var e, n, i, r = t.options, o = t.selectedIndex, s = "select-one" === t.type, a = s ? null : [], u = s ? o + 1 : r.length; for (i = o < 0 ? u : s ? o : 0; i < u; i++)if (((n = r[i]).selected || i === o) && !n.disabled && (!n.parentNode.disabled || !N(n.parentNode, "optgroup"))) { if (e = E(n).val(), s) return e; a.push(e) } return a }, set: function (t, e) { for (var n, i, r = t.options, o = E.makeArray(e), s = r.length; s--;)((i = r[s]).selected = E.inArray(E.valHooks.option.get(i), o) > -1) && (n = !0); return n || (t.selectedIndex = -1), o } } } }), E.each(["radio", "checkbox"], (function () { E.valHooks[this] = { set: function (t, e) { if (Array.isArray(e)) return t.checked = E.inArray(E(t).val(), e) > -1 } }, y.checkOn || (E.valHooks[this].get = function (t) { return null === t.getAttribute("value") ? "on" : t.value }) })), y.focusin = "onfocusin" in n; var be = /^(?:focusinfocus|focusoutblur)$/, we = function (t) { t.stopPropagation() }; E.extend(E.event, { trigger: function (t, e, i, r) { var o, s, a, u, l, c, h, p, d = [i || _], g = f.call(t, "type") ? t.type : t, y = f.call(t, "namespace") ? t.namespace.split(".") : []; if (s = p = a = i = i || _, 3 !== i.nodeType && 8 !== i.nodeType && !be.test(g + E.event.triggered) && (g.indexOf(".") > -1 && (y = g.split("."), g = y.shift(), y.sort()), l = g.indexOf(":") < 0 && "on" + g, (t = t[E.expando] ? t : new E.Event(g, "object" == typeof t && t)).isTrigger = r ? 2 : 3, t.namespace = y.join("."), t.rnamespace = t.namespace ? new RegExp("(^|\\.)" + y.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, t.result = void 0, t.target || (t.target = i), e = null == e ? [t] : E.makeArray(e, [t]), h = E.event.special[g] || {}, r || !h.trigger || !1 !== h.trigger.apply(i, e))) { if (!r && !h.noBubble && !v(i)) { for (u = h.delegateType || g, be.test(u + g) || (s = s.parentNode); s; s = s.parentNode)d.push(s), a = s; a === (i.ownerDocument || _) && d.push(a.defaultView || a.parentWindow || n) } for (o = 0; (s = d[o++]) && !t.isPropagationStopped();)p = s, t.type = o > 1 ? u : h.bindType || g, (c = (Z.get(s, "events") || Object.create(null))[t.type] && Z.get(s, "handle")) && c.apply(s, e), (c = l && s[l]) && c.apply && W(s) && (t.result = c.apply(s, e), !1 === t.result && t.preventDefault()); return t.type = g, r || t.isDefaultPrevented() || h._default && !1 !== h._default.apply(d.pop(), e) || !W(i) || l && m(i[g]) && !v(i) && ((a = i[l]) && (i[l] = null), E.event.triggered = g, t.isPropagationStopped() && p.addEventListener(g, we), i[g](), t.isPropagationStopped() && p.removeEventListener(g, we), E.event.triggered = void 0, a && (i[l] = a)), t.result } }, simulate: function (t, e, n) { var i = E.extend(new E.Event, n, { type: t, isSimulated: !0 }); E.event.trigger(i, null, e) } }), E.fn.extend({ trigger: function (t, e) { return this.each((function () { E.event.trigger(t, e, this) })) }, triggerHandler: function (t, e) { var n = this[0]; if (n) return E.event.trigger(t, e, n, !0) } }), y.focusin || E.each({ focus: "focusin", blur: "focusout" }, (function (t, e) { var n = function (t) { E.event.simulate(e, t.target, E.event.fix(t)) }; E.event.special[e] = { setup: function () { var i = this.ownerDocument || this.document || this, r = Z.access(i, e); r || i.addEventListener(t, n, !0), Z.access(i, e, (r || 0) + 1) }, teardown: function () { var i = this.ownerDocument || this.document || this, r = Z.access(i, e) - 1; r ? Z.access(i, e, r) : (i.removeEventListener(t, n, !0), Z.remove(i, e)) } } })); var xe = n.location, Ee = { guid: Date.now() }, Ce = /\?/; E.parseXML = function (t) { var e, i; if (!t || "string" != typeof t) return null; try { e = (new n.DOMParser).parseFromString(t, "text/xml") } catch (t) { } return i = e && e.getElementsByTagName("parsererror")[0], e && !i || E.error("Invalid XML: " + (i ? E.map(i.childNodes, (function (t) { return t.textContent })).join("\n") : t)), e }; var De = /\[\]$/, Se = /\r?\n/g, Te = /^(?:submit|button|image|reset|file)$/i, Ie = /^(?:input|select|textarea|keygen)/i; function Ne(t, e, n, i) { var r; if (Array.isArray(e)) E.each(e, (function (e, r) { n || De.test(t) ? i(t, r) : Ne(t + "[" + ("object" == typeof r && null != r ? e : "") + "]", r, n, i) })); else if (n || "object" !== x(e)) i(t, e); else for (r in e) Ne(t + "[" + r + "]", e[r], n, i) } E.param = function (t, e) { var n, i = [], r = function (t, e) { var n = m(e) ? e() : e; i[i.length] = encodeURIComponent(t) + "=" + encodeURIComponent(null == n ? "" : n) }; if (null == t) return ""; if (Array.isArray(t) || t.jquery && !E.isPlainObject(t)) E.each(t, (function () { r(this.name, this.value) })); else for (n in t) Ne(n, t[n], e, r); return i.join("&") }, E.fn.extend({ serialize: function () { return E.param(this.serializeArray()) }, serializeArray: function () { return this.map((function () { var t = E.prop(this, "elements"); return t ? E.makeArray(t) : this })).filter((function () { var t = this.type; return this.name && !E(this).is(":disabled") && Ie.test(this.nodeName) && !Te.test(t) && (this.checked || !gt.test(t)) })).map((function (t, e) { var n = E(this).val(); return null == n ? null : Array.isArray(n) ? E.map(n, (function (t) { return { name: e.name, value: t.replace(Se, "\r\n") } })) : { name: e.name, value: n.replace(Se, "\r\n") } })).get() } }); var Pe = /%20/g, Ae = /#.*$/, Me = /([?&])_=[^&]*/, Le = /^(.*?):[ \t]*([^\r\n]*)$/gm, Oe = /^(?:GET|HEAD)$/, ke = /^\/\//, Fe = {}, Re = {}, qe = "*/".concat("*"), je = _.createElement("a"); function Be(t) { return function (e, n) { "string" != typeof e && (n = e, e = "*"); var i, r = 0, o = e.toLowerCase().match(R) || []; if (m(n)) for (; i = o[r++];)"+" === i[0] ? (i = i.slice(1) || "*", (t[i] = t[i] || []).unshift(n)) : (t[i] = t[i] || []).push(n) } } function $e(t, e, n, i) { var r = {}, o = t === Re; function s(a) { var u; return r[a] = !0, E.each(t[a] || [], (function (t, a) { var l = a(e, n, i); return "string" != typeof l || o || r[l] ? o ? !(u = l) : void 0 : (e.dataTypes.unshift(l), s(l), !1) })), u } return s(e.dataTypes[0]) || !r["*"] && s("*") } function ze(t, e) { var n, i, r = E.ajaxSettings.flatOptions || {}; for (n in e) void 0 !== e[n] && ((r[n] ? t : i || (i = {}))[n] = e[n]); return i && E.extend(!0, t, i), t } je.href = xe.href, E.extend({ active: 0, lastModified: {}, etag: {}, ajaxSettings: { url: xe.href, type: "GET", isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xe.protocol), global: !0, processData: !0, async: !0, contentType: "application/x-www-form-urlencoded; charset=UTF-8", accepts: { "*": qe, text: "text/plain", html: "text/html", xml: "application/xml, text/xml", json: "application/json, text/javascript" }, contents: { xml: /\bxml\b/, html: /\bhtml/, json: /\bjson\b/ }, responseFields: { xml: "responseXML", text: "responseText", json: "responseJSON" }, converters: { "* text": String, "text html": !0, "text json": JSON.parse, "text xml": E.parseXML }, flatOptions: { url: !0, context: !0 } }, ajaxSetup: function (t, e) { return e ? ze(ze(t, E.ajaxSettings), e) : ze(E.ajaxSettings, t) }, ajaxPrefilter: Be(Fe), ajaxTransport: Be(Re), ajax: function (t, e) { "object" == typeof t && (e = t, t = void 0), e = e || {}; var i, r, o, s, a, u, l, c, h, p, f = E.ajaxSetup({}, e), d = f.context || f, g = f.context && (d.nodeType || d.jquery) ? E(d) : E.event, y = E.Deferred(), m = E.Callbacks("once memory"), v = f.statusCode || {}, b = {}, w = {}, x = "canceled", C = { readyState: 0, getResponseHeader: function (t) { var e; if (l) { if (!s) for (s = {}; e = Le.exec(o);)s[e[1].toLowerCase() + " "] = (s[e[1].toLowerCase() + " "] || []).concat(e[2]); e = s[t.toLowerCase() + " "] } return null == e ? null : e.join(", ") }, getAllResponseHeaders: function () { return l ? o : null }, setRequestHeader: function (t, e) { return null == l && (t = w[t.toLowerCase()] = w[t.toLowerCase()] || t, b[t] = e), this }, overrideMimeType: function (t) { return null == l && (f.mimeType = t), this }, statusCode: function (t) { var e; if (t) if (l) C.always(t[C.status]); else for (e in t) v[e] = [v[e], t[e]]; return this }, abort: function (t) { var e = t || x; return i && i.abort(e), D(0, e), this } }; if (y.promise(C), f.url = ((t || f.url || xe.href) + "").replace(ke, xe.protocol + "//"), f.type = e.method || e.type || f.method || f.type, f.dataTypes = (f.dataType || "*").toLowerCase().match(R) || [""], null == f.crossDomain) { u = _.createElement("a"); try { u.href = f.url, u.href = u.href, f.crossDomain = je.protocol + "//" + je.host != u.protocol + "//" + u.host } catch (t) { f.crossDomain = !0 } } if (f.data && f.processData && "string" != typeof f.data && (f.data = E.param(f.data, f.traditional)), $e(Fe, f, e, C), l) return C; for (h in (c = E.event && f.global) && 0 == E.active++ && E.event.trigger("ajaxStart"), f.type = f.type.toUpperCase(), f.hasContent = !Oe.test(f.type), r = f.url.replace(Ae, ""), f.hasContent ? f.data && f.processData && 0 === (f.contentType || "").indexOf("application/x-www-form-urlencoded") && (f.data = f.data.replace(Pe, "+")) : (p = f.url.slice(r.length), f.data && (f.processData || "string" == typeof f.data) && (r += (Ce.test(r) ? "&" : "?") + f.data, delete f.data), !1 === f.cache && (r = r.replace(Me, "$1"), p = (Ce.test(r) ? "&" : "?") + "_=" + Ee.guid++ + p), f.url = r + p), f.ifModified && (E.lastModified[r] && C.setRequestHeader("If-Modified-Since", E.lastModified[r]), E.etag[r] && C.setRequestHeader("If-None-Match", E.etag[r])), (f.data && f.hasContent && !1 !== f.contentType || e.contentType) && C.setRequestHeader("Content-Type", f.contentType), C.setRequestHeader("Accept", f.dataTypes[0] && f.accepts[f.dataTypes[0]] ? f.accepts[f.dataTypes[0]] + ("*" !== f.dataTypes[0] ? ", " + qe + "; q=0.01" : "") : f.accepts["*"]), f.headers) C.setRequestHeader(h, f.headers[h]); if (f.beforeSend && (!1 === f.beforeSend.call(d, C, f) || l)) return C.abort(); if (x = "abort", m.add(f.complete), C.done(f.success), C.fail(f.error), i = $e(Re, f, e, C)) { if (C.readyState = 1, c && g.trigger("ajaxSend", [C, f]), l) return C; f.async && f.timeout > 0 && (a = n.setTimeout((function () { C.abort("timeout") }), f.timeout)); try { l = !1, i.send(b, D) } catch (t) { if (l) throw t; D(-1, t) } } else D(-1, "No Transport"); function D(t, e, s, u) { var h, p, _, b, w, x = e; l || (l = !0, a && n.clearTimeout(a), i = void 0, o = u || "", C.readyState = t > 0 ? 4 : 0, h = t >= 200 && t < 300 || 304 === t, s && (b = function (t, e, n) { for (var i, r, o, s, a = t.contents, u = t.dataTypes; "*" === u[0];)u.shift(), void 0 === i && (i = t.mimeType || e.getResponseHeader("Content-Type")); if (i) for (r in a) if (a[r] && a[r].test(i)) { u.unshift(r); break } if (u[0] in n) o = u[0]; else { for (r in n) { if (!u[0] || t.converters[r + " " + u[0]]) { o = r; break } s || (s = r) } o = o || s } if (o) return o !== u[0] && u.unshift(o), n[o] }(f, C, s)), !h && E.inArray("script", f.dataTypes) > -1 && E.inArray("json", f.dataTypes) < 0 && (f.converters["text script"] = function () { }), b = function (t, e, n, i) { var r, o, s, a, u, l = {}, c = t.dataTypes.slice(); if (c[1]) for (s in t.converters) l[s.toLowerCase()] = t.converters[s]; for (o = c.shift(); o;)if (t.responseFields[o] && (n[t.responseFields[o]] = e), !u && i && t.dataFilter && (e = t.dataFilter(e, t.dataType)), u = o, o = c.shift()) if ("*" === o) o = u; else if ("*" !== u && u !== o) { if (!(s = l[u + " " + o] || l["* " + o])) for (r in l) if ((a = r.split(" "))[1] === o && (s = l[u + " " + a[0]] || l["* " + a[0]])) { !0 === s ? s = l[r] : !0 !== l[r] && (o = a[0], c.unshift(a[1])); break } if (!0 !== s) if (s && t.throws) e = s(e); else try { e = s(e) } catch (t) { return { state: "parsererror", error: s ? t : "No conversion from " + u + " to " + o } } } return { state: "success", data: e } }(f, b, C, h), h ? (f.ifModified && ((w = C.getResponseHeader("Last-Modified")) && (E.lastModified[r] = w), (w = C.getResponseHeader("etag")) && (E.etag[r] = w)), 204 === t || "HEAD" === f.type ? x = "nocontent" : 304 === t ? x = "notmodified" : (x = b.state, p = b.data, h = !(_ = b.error))) : (_ = x, !t && x || (x = "error", t < 0 && (t = 0))), C.status = t, C.statusText = (e || x) + "", h ? y.resolveWith(d, [p, x, C]) : y.rejectWith(d, [C, x, _]), C.statusCode(v), v = void 0, c && g.trigger(h ? "ajaxSuccess" : "ajaxError", [C, f, h ? p : _]), m.fireWith(d, [C, x]), c && (g.trigger("ajaxComplete", [C, f]), --E.active || E.event.trigger("ajaxStop"))) } return C }, getJSON: function (t, e, n) { return E.get(t, e, n, "json") }, getScript: function (t, e) { return E.get(t, void 0, e, "script") } }), E.each(["get", "post"], (function (t, e) { E[e] = function (t, n, i, r) { return m(n) && (r = r || i, i = n, n = void 0), E.ajax(E.extend({ url: t, type: e, dataType: r, data: n, success: i }, E.isPlainObject(t) && t)) } })), E.ajaxPrefilter((function (t) { var e; for (e in t.headers) "content-type" === e.toLowerCase() && (t.contentType = t.headers[e] || "") })), E._evalUrl = function (t, e, n) { return E.ajax({ url: t, type: "GET", dataType: "script", cache: !0, async: !1, global: !1, converters: { "text script": function () { } }, dataFilter: function (t) { E.globalEval(t, e, n) } }) }, E.fn.extend({ wrapAll: function (t) { var e; return this[0] && (m(t) && (t = t.call(this[0])), e = E(t, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && e.insertBefore(this[0]), e.map((function () { for (var t = this; t.firstElementChild;)t = t.firstElementChild; return t })).append(this)), this }, wrapInner: function (t) { return m(t) ? this.each((function (e) { E(this).wrapInner(t.call(this, e)) })) : this.each((function () { var e = E(this), n = e.contents(); n.length ? n.wrapAll(t) : e.append(t) })) }, wrap: function (t) { var e = m(t); return this.each((function (n) { E(this).wrapAll(e ? t.call(this, n) : t) })) }, unwrap: function (t) { return this.parent(t).not("body").each((function () { E(this).replaceWith(this.childNodes) })), this } }), E.expr.pseudos.hidden = function (t) { return !E.expr.pseudos.visible(t) }, E.expr.pseudos.visible = function (t) { return !!(t.offsetWidth || t.offsetHeight || t.getClientRects().length) }, E.ajaxSettings.xhr = function () { try { return new n.XMLHttpRequest } catch (t) { } }; var Ve = { 0: 200, 1223: 204 }, Ue = E.ajaxSettings.xhr(); y.cors = !!Ue && "withCredentials" in Ue, y.ajax = Ue = !!Ue, E.ajaxTransport((function (t) { var e, i; if (y.cors || Ue && !t.crossDomain) return { send: function (r, o) { var s, a = t.xhr(); if (a.open(t.type, t.url, t.async, t.username, t.password), t.xhrFields) for (s in t.xhrFields) a[s] = t.xhrFields[s]; for (s in t.mimeType && a.overrideMimeType && a.overrideMimeType(t.mimeType), t.crossDomain || r["X-Requested-With"] || (r["X-Requested-With"] = "XMLHttpRequest"), r) a.setRequestHeader(s, r[s]); e = function (t) { return function () { e && (e = i = a.onload = a.onerror = a.onabort = a.ontimeout = a.onreadystatechange = null, "abort" === t ? a.abort() : "error" === t ? "number" != typeof a.status ? o(0, "error") : o(a.status, a.statusText) : o(Ve[a.status] || a.status, a.statusText, "text" !== (a.responseType || "text") || "string" != typeof a.responseText ? { binary: a.response } : { text: a.responseText }, a.getAllResponseHeaders())) } }, a.onload = e(), i = a.onerror = a.ontimeout = e("error"), void 0 !== a.onabort ? a.onabort = i : a.onreadystatechange = function () { 4 === a.readyState && n.setTimeout((function () { e && i() })) }, e = e("abort"); try { a.send(t.hasContent && t.data || null) } catch (t) { if (e) throw t } }, abort: function () { e && e() } } })), E.ajaxPrefilter((function (t) { t.crossDomain && (t.contents.script = !1) })), E.ajaxSetup({ accepts: { script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript" }, contents: { script: /\b(?:java|ecma)script\b/ }, converters: { "text script": function (t) { return E.globalEval(t), t } } }), E.ajaxPrefilter("script", (function (t) { void 0 === t.cache && (t.cache = !1), t.crossDomain && (t.type = "GET") })), E.ajaxTransport("script", (function (t) { var e, n; if (t.crossDomain || t.scriptAttrs) return { send: function (i, r) { e = E("<script>").attr(t.scriptAttrs || {}).prop({ charset: t.scriptCharset, src: t.url }).on("load error", n = function (t) { e.remove(), n = null, t && r("error" === t.type ? 404 : 200, t.type) }), _.head.appendChild(e[0]) }, abort: function () { n && n() } } })); var He, Ge = [], Xe = /(=)\?(?=&|$)|\?\?/; E.ajaxSetup({ jsonp: "callback", jsonpCallback: function () { var t = Ge.pop() || E.expando + "_" + Ee.guid++; return this[t] = !0, t } }), E.ajaxPrefilter("json jsonp", (function (t, e, i) { var r, o, s, a = !1 !== t.jsonp && (Xe.test(t.url) ? "url" : "string" == typeof t.data && 0 === (t.contentType || "").indexOf("application/x-www-form-urlencoded") && Xe.test(t.data) && "data"); if (a || "jsonp" === t.dataTypes[0]) return r = t.jsonpCallback = m(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback, a ? t[a] = t[a].replace(Xe, "$1" + r) : !1 !== t.jsonp && (t.url += (Ce.test(t.url) ? "&" : "?") + t.jsonp + "=" + r), t.converters["script json"] = function () { return s || E.error(r + " was not called"), s[0] }, t.dataTypes[0] = "json", o = n[r], n[r] = function () { s = arguments }, i.always((function () { void 0 === o ? E(n).removeProp(r) : n[r] = o, t[r] && (t.jsonpCallback = e.jsonpCallback, Ge.push(r)), s && m(o) && o(s[0]), s = o = void 0 })), "script" })), y.createHTMLDocument = ((He = _.implementation.createHTMLDocument("").body).innerHTML = "<form></form><form></form>", 2 === He.childNodes.length), E.parseHTML = function (t, e, n) { return "string" != typeof t ? [] : ("boolean" == typeof e && (n = e, e = !1), e || (y.createHTMLDocument ? ((i = (e = _.implementation.createHTMLDocument("")).createElement("base")).href = _.location.href, e.head.appendChild(i)) : e = _), o = !n && [], (r = P.exec(t)) ? [e.createElement(r[1])] : (r = xt([t], e, o), o && o.length && E(o).remove(), E.merge([], r.childNodes))); var i, r, o }, E.fn.load = function (t, e, n) { var i, r, o, s = this, a = t.indexOf(" "); return a > -1 && (i = ye(t.slice(a)), t = t.slice(0, a)), m(e) ? (n = e, e = void 0) : e && "object" == typeof e && (r = "POST"), s.length > 0 && E.ajax({ url: t, type: r || "GET", dataType: "html", data: e }).done((function (t) { o = arguments, s.html(i ? E("<div>").append(E.parseHTML(t)).find(i) : t) })).always(n && function (t, e) { s.each((function () { n.apply(this, o || [t.responseText, e, t]) })) }), this }, E.expr.pseudos.animated = function (t) { return E.grep(E.timers, (function (e) { return t === e.elem })).length }, E.offset = { setOffset: function (t, e, n) { var i, r, o, s, a, u, l = E.css(t, "position"), c = E(t), h = {}; "static" === l && (t.style.position = "relative"), a = c.offset(), o = E.css(t, "top"), u = E.css(t, "left"), ("absolute" === l || "fixed" === l) && (o + u).indexOf("auto") > -1 ? (s = (i = c.position()).top, r = i.left) : (s = parseFloat(o) || 0, r = parseFloat(u) || 0), m(e) && (e = e.call(t, n, E.extend({}, a))), null != e.top && (h.top = e.top - a.top + s), null != e.left && (h.left = e.left - a.left + r), "using" in e ? e.using.call(t, h) : c.css(h) } }, E.fn.extend({ offset: function (t) { if (arguments.length) return void 0 === t ? this : this.each((function (e) { E.offset.setOffset(this, t, e) })); var e, n, i = this[0]; return i ? i.getClientRects().length ? (e = i.getBoundingClientRect(), n = i.ownerDocument.defaultView, { top: e.top + n.pageYOffset, left: e.left + n.pageXOffset }) : { top: 0, left: 0 } : void 0 }, position: function () { if (this[0]) { var t, e, n, i = this[0], r = { top: 0, left: 0 }; if ("fixed" === E.css(i, "position")) e = i.getBoundingClientRect(); else { for (e = this.offset(), n = i.ownerDocument, t = i.offsetParent || n.documentElement; t && (t === n.body || t === n.documentElement) && "static" === E.css(t, "position");)t = t.parentNode; t && t !== i && 1 === t.nodeType && ((r = E(t).offset()).top += E.css(t, "borderTopWidth", !0), r.left += E.css(t, "borderLeftWidth", !0)) } return { top: e.top - r.top - E.css(i, "marginTop", !0), left: e.left - r.left - E.css(i, "marginLeft", !0) } } }, offsetParent: function () { return this.map((function () { for (var t = this.offsetParent; t && "static" === E.css(t, "position");)t = t.offsetParent; return t || ot })) } }), E.each({ scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, (function (t, e) { var n = "pageYOffset" === e; E.fn[t] = function (i) { return U(this, (function (t, i, r) { var o; if (v(t) ? o = t : 9 === t.nodeType && (o = t.defaultView), void 0 === r) return o ? o[e] : t[i]; o ? o.scrollTo(n ? o.pageXOffset : r, n ? r : o.pageYOffset) : t[i] = r }), t, i, arguments.length) } })), E.each(["top", "left"], (function (t, e) { E.cssHooks[e] = Ut(y.pixelPosition, (function (t, n) { if (n) return n = Vt(t, e), jt.test(n) ? E(t).position()[e] + "px" : n })) })), E.each({ Height: "height", Width: "width" }, (function (t, e) { E.each({ padding: "inner" + t, content: e, "": "outer" + t }, (function (n, i) { E.fn[i] = function (r, o) { var s = arguments.length && (n || "boolean" != typeof r), a = n || (!0 === r || !0 === o ? "margin" : "border"); return U(this, (function (e, n, r) { var o; return v(e) ? 0 === i.indexOf("outer") ? e["inner" + t] : e.document.documentElement["client" + t] : 9 === e.nodeType ? (o = e.documentElement, Math.max(e.body["scroll" + t], o["scroll" + t], e.body["offset" + t], o["offset" + t], o["client" + t])) : void 0 === r ? E.css(e, n, a) : E.style(e, n, r, a) }), e, s ? r : void 0, s) } })) })), E.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], (function (t, e) { E.fn[e] = function (t) { return this.on(e, t) } })), E.fn.extend({ bind: function (t, e, n) { return this.on(t, null, e, n) }, unbind: function (t, e) { return this.off(t, null, e) }, delegate: function (t, e, n, i) { return this.on(e, t, n, i) }, undelegate: function (t, e, n) { return 1 === arguments.length ? this.off(t, "**") : this.off(e, t || "**", n) }, hover: function (t, e) { return this.mouseenter(t).mouseleave(e || t) } }), E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), (function (t, e) { E.fn[e] = function (t, n) { return arguments.length > 0 ? this.on(e, null, t, n) : this.trigger(e) } })); var Ye = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g; E.proxy = function (t, e) { var n, i, r; if ("string" == typeof e && (n = t[e], e = t, t = n), m(t)) return i = a.call(arguments, 2), (r = function () { return t.apply(e || this, i.concat(a.call(arguments))) }).guid = t.guid = t.guid || E.guid++, r }, E.holdReady = function (t) { t ? E.readyWait++ : E.ready(!0) }, E.isArray = Array.isArray, E.parseJSON = JSON.parse, E.nodeName = N, E.isFunction = m, E.isWindow = v, E.camelCase = Y, E.type = x, E.now = Date.now, E.isNumeric = function (t) { var e = E.type(t); return ("number" === e || "string" === e) && !isNaN(t - parseFloat(t)) }, E.trim = function (t) { return null == t ? "" : (t + "").replace(Ye, "") }, void 0 === (i = function () { return E }.apply(e, [])) || (t.exports = i); var We = n.jQuery, Je = n.$; return E.noConflict = function (t) { return n.$ === E && (n.$ = Je), t && n.jQuery === E && (n.jQuery = We), E }, void 0 === r && (n.jQuery = n.$ = E), E })) }, IqVK: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, IsM2: function (t, e, n) { "use strict"; (function (t) { var i = n("3rzb"), r = n.n(i), o = (n("Zej/"), n("bzVz")), s = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; s.prototype.init = function () { var e = this; this.$imageSlider = this.options.$el.find(".image-slider"), this.$captionsSlider = this.options.$el.find(".slide-captions-slider"), this.$imageSlider.slick({ arrows: !1, fade: !0, speed: 450, autoplay: !1, asNavFor: e.$captionsSlider[0] }), this.$imageSlider.on("beforeChange", (function (t, n, i, r) { e.updateSlideCounter(r + 1), e.updateSlideContent(r + 1), e.restartCountdown() })), this.$captionsSlider.slick({ arrows: !1, fade: !0, speed: 450, autoplay: !1, asNavFor: e.$imageSlider[0] }), this.slideCounterEq = new o.a(e.options.$el.find(".slide-counter, .slide-counter .slide-number")), this.slideCounterEq.equalizeHeights(), r.a.subscribe("resized", (function () { e.slideCounterEq.equalizeHeights() })), this.options.$el.find(".play-pause-btn").on("click", (function () { t(this).hasClass("playing") ? (e.options.$el.find(".play-pause-btn").removeClass("playing"), e.options.$el.find(".play-pause-btn").addClass("paused"), e.pauseSlider()) : t(this).hasClass("paused") && (e.options.$el.find(".play-pause-btn").removeClass("paused"), e.options.$el.find(".play-pause-btn").addClass("playing"), e.playSlider()) })), this.startCountdown() }, s.prototype.restartCountdown = function () { this.stopCountdown(), this.startCountdown() }, s.prototype.stopCountdown = function () { clearInterval(this.countdownInterval) }, s.prototype.startCountdown = function () { var t = this; this.startCountdownAnimation(), this.countdownInterval = window.setInterval((function () { t.$imageSlider.slick("slickNext"), t.startCountdownAnimation() }), 8e3) }, s.prototype.startCountdownAnimation = function () { var t = this.options.$el.find(".play-pause-btn").first(), e = t.clone(!0); e.removeClass("playing"), t.remove(), this.options.$el.find(".play-pause-btn-wrapper").append(e), this.options.$el.find(".play-pause-btn").addClass("playing") }, s.prototype.pauseSlider = function () { this.options.$el.find(".play-pause-btn").removeClass("play"), this.options.$el.find(".play-pause-btn").removeClass("playing"), this.options.$el.find(".play-pause-btn").addClass("paused"), this.stopCountdown() }, s.prototype.playSlider = function () { this.options.$el.find(".play-pause-btn").removeClass("paused"), this.options.$el.find(".play-pause-btn").addClass("playing"), this.options.$el.find(".play-pause-btn").addClass("play"), this.startCountdown() }, s.prototype.updateSlideCounter = function (t) { this.options.$el.find(".slide-number").removeClass("active"), this.options.$el.find('.slide-number[data-slide-number="' + t + '"]').addClass("active") }, s.prototype.updateSlideContent = function (t) { this.options.$el.find(".slide-number").removeClass("active"), this.options.$el.find('.slide-number[data-slide-number="' + t + '"]').addClass("active") }, e.a = s }).call(this, n("EVdn")) }, JLJr: function (t, e, n) { (function (e, n, i) { var r; "object" == typeof navigator && (r = function () { "use strict"; !function () { if ("undefined" != typeof window) try { var t = new window.CustomEvent("test", { cancelable: !0 }); if (t.preventDefault(), !0 !== t.defaultPrevented) throw new Error("Could not prevent default") } catch (t) { var e = function (t, e) { var n, i; return (e = e || {}).bubbles = !!e.bubbles, e.cancelable = !!e.cancelable, (n = document.createEvent("CustomEvent")).initCustomEvent(t, e.bubbles, e.cancelable, e.detail), i = n.preventDefault, n.preventDefault = function () { i.call(this); try { Object.defineProperty(this, "defaultPrevented", { get: function () { return !0 } }) } catch (t) { this.defaultPrevented = !0 } }, n }; e.prototype = window.Event.prototype, window.CustomEvent = e } }(); var t = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : void 0 !== e ? e : "undefined" != typeof self ? self : {}; function r(t, e) { return t(e = { exports: {} }, e.exports), e.exports } var o = function (t) { return t && t.Math == Math && t }, s = o("object" == typeof globalThis && globalThis) || o("object" == typeof window && window) || o("object" == typeof self && self) || o("object" == typeof t && t) || function () { return this }() || Function("return this")(), a = function (t) { try { return !!t() } catch (t) { return !0 } }, u = !a((function () { return 7 != Object.defineProperty({}, 1, { get: function () { return 7 } })[1] })), l = {}.propertyIsEnumerable, c = Object.getOwnPropertyDescriptor, h = { f: c && !l.call({ 1: 2 }, 1) ? function (t) { var e = c(this, t); return !!e && e.enumerable } : l }, p = function (t, e) { return { enumerable: !(1 & t), configurable: !(2 & t), writable: !(4 & t), value: e } }, f = {}.toString, d = function (t) { return f.call(t).slice(8, -1) }, g = "".split, y = a((function () { return !Object("z").propertyIsEnumerable(0) })) ? function (t) { return "String" == d(t) ? g.call(t, "") : Object(t) } : Object, m = function (t) { if (null == t) throw TypeError("Can't call method on " + t); return t }, v = function (t) { return y(m(t)) }, _ = function (t) { return "object" == typeof t ? null !== t : "function" == typeof t }, b = function (t, e) { if (!_(t)) return t; var n, i; if (e && "function" == typeof (n = t.toString) && !_(i = n.call(t))) return i; if ("function" == typeof (n = t.valueOf) && !_(i = n.call(t))) return i; if (!e && "function" == typeof (n = t.toString) && !_(i = n.call(t))) return i; throw TypeError("Can't convert object to primitive value") }, w = {}.hasOwnProperty, x = function (t, e) { return w.call(t, e) }, E = s.document, C = _(E) && _(E.createElement), D = function (t) { return C ? E.createElement(t) : {} }, S = !u && !a((function () { return 7 != Object.defineProperty(D("div"), "a", { get: function () { return 7 } }).a })), T = Object.getOwnPropertyDescriptor, I = { f: u ? T : function (t, e) { if (t = v(t), e = b(e, !0), S) try { return T(t, e) } catch (t) { } if (x(t, e)) return p(!h.f.call(t, e), t[e]) } }, N = function (t) { if (!_(t)) throw TypeError(String(t) + " is not an object"); return t }, P = Object.defineProperty, A = { f: u ? P : function (t, e, n) { if (N(t), e = b(e, !0), N(n), S) try { return P(t, e, n) } catch (t) { } if ("get" in n || "set" in n) throw TypeError("Accessors not supported"); return "value" in n && (t[e] = n.value), t } }, M = u ? function (t, e, n) { return A.f(t, e, p(1, n)) } : function (t, e, n) { return t[e] = n, t }, L = function (t, e) { try { M(s, t, e) } catch (n) { s[t] = e } return e }, O = s["__core-js_shared__"] || L("__core-js_shared__", {}), k = Function.toString; "function" != typeof O.inspectSource && (O.inspectSource = function (t) { return k.call(t) }); var F, R, q, j = O.inspectSource, B = s.WeakMap, $ = "function" == typeof B && /native code/.test(j(B)), z = r((function (t) { (t.exports = function (t, e) { return O[t] || (O[t] = void 0 !== e ? e : {}) })("versions", []).push({ version: "3.10.1", mode: "global", copyright: "© 2021 Denis Pushkarev (zloirock.ru)" }) })), V = 0, U = Math.random(), H = function (t) { return "Symbol(" + String(void 0 === t ? "" : t) + ")_" + (++V + U).toString(36) }, G = z("keys"), X = function (t) { return G[t] || (G[t] = H(t)) }, Y = {}, W = s.WeakMap; if ($) { var J = O.state || (O.state = new W), Z = J.get, K = J.has, Q = J.set; F = function (t, e) { return e.facade = t, Q.call(J, t, e), e }, R = function (t) { return Z.call(J, t) || {} }, q = function (t) { return K.call(J, t) } } else { var tt = X("state"); Y[tt] = !0, F = function (t, e) { return e.facade = t, M(t, tt, e), e }, R = function (t) { return x(t, tt) ? t[tt] : {} }, q = function (t) { return x(t, tt) } } var et = { set: F, get: R, has: q, enforce: function (t) { return q(t) ? R(t) : F(t, {}) }, getterFor: function (t) { return function (e) { var n; if (!_(e) || (n = R(e)).type !== t) throw TypeError("Incompatible receiver, " + t + " required"); return n } } }, nt = r((function (t) { var e = et.get, n = et.enforce, i = String(String).split("String"); (t.exports = function (t, e, r, o) { var a, u = !!o && !!o.unsafe, l = !!o && !!o.enumerable, c = !!o && !!o.noTargetGet; "function" == typeof r && ("string" != typeof e || x(r, "name") || M(r, "name", e), (a = n(r)).source || (a.source = i.join("string" == typeof e ? e : ""))), t !== s ? (u ? !c && t[e] && (l = !0) : delete t[e], l ? t[e] = r : M(t, e, r)) : l ? t[e] = r : L(e, r) })(Function.prototype, "toString", (function () { return "function" == typeof this && e(this).source || j(this) })) })), it = s, rt = function (t) { return "function" == typeof t ? t : void 0 }, ot = function (t, e) { return arguments.length < 2 ? rt(it[t]) || rt(s[t]) : it[t] && it[t][e] || s[t] && s[t][e] }, st = Math.ceil, at = Math.floor, ut = function (t) { return isNaN(t = +t) ? 0 : (t > 0 ? at : st)(t) }, lt = Math.min, ct = function (t) { return t > 0 ? lt(ut(t), 9007199254740991) : 0 }, ht = Math.max, pt = Math.min, ft = function (t) { return function (e, n, i) { var r, o = v(e), s = ct(o.length), a = function (t, e) { var n = ut(t); return n < 0 ? ht(n + e, 0) : pt(n, e) }(i, s); if (t && n != n) { for (; s > a;)if ((r = o[a++]) != r) return !0 } else for (; s > a; a++)if ((t || a in o) && o[a] === n) return t || a || 0; return !t && -1 } }, dt = (ft(!0), ft(!1)), gt = function (t, e) { var n, i = v(t), r = 0, o = []; for (n in i) !x(Y, n) && x(i, n) && o.push(n); for (; e.length > r;)x(i, n = e[r++]) && (~dt(o, n) || o.push(n)); return o }, yt = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"], mt = yt.concat("length", "prototype"), vt = { f: Object.getOwnPropertyNames || function (t) { return gt(t, mt) } }, _t = { f: Object.getOwnPropertySymbols }, bt = ot("Reflect", "ownKeys") || function (t) { var e = vt.f(N(t)), n = _t.f; return n ? e.concat(n(t)) : e }, wt = function (t, e) { for (var n = bt(e), i = A.f, r = I.f, o = 0; o < n.length; o++) { var s = n[o]; x(t, s) || i(t, s, r(e, s)) } }, xt = /#|\.prototype\./, Et = function (t, e) { var n = Dt[Ct(t)]; return n == Tt || n != St && ("function" == typeof e ? a(e) : !!e) }, Ct = Et.normalize = function (t) { return String(t).replace(xt, ".").toLowerCase() }, Dt = Et.data = {}, St = Et.NATIVE = "N", Tt = Et.POLYFILL = "P", It = Et, Nt = I.f, Pt = function (t, e) { var n, i, r, o, a, u = t.target, l = t.global, c = t.stat; if (n = l ? s : c ? s[u] || L(u, {}) : (s[u] || {}).prototype) for (i in e) { if (o = e[i], r = t.noTargetGet ? (a = Nt(n, i)) && a.value : n[i], !It(l ? i : u + (c ? "." : "#") + i, t.forced) && void 0 !== r) { if (typeof o == typeof r) continue; wt(o, r) } (t.sham || r && r.sham) && M(o, "sham", !0), nt(n, i, o, t) } }, At = function () { var t = N(this), e = ""; return t.global && (e += "g"), t.ignoreCase && (e += "i"), t.multiline && (e += "m"), t.dotAll && (e += "s"), t.unicode && (e += "u"), t.sticky && (e += "y"), e }; function Mt(t, e) { return RegExp(t, e) } var Lt, Ot, kt = { UNSUPPORTED_Y: a((function () { var t = Mt("a", "y"); return t.lastIndex = 2, null != t.exec("abcd") })), BROKEN_CARET: a((function () { var t = Mt("^r", "gy"); return t.lastIndex = 2, null != t.exec("str") })) }, Ft = RegExp.prototype.exec, Rt = z("native-string-replace", String.prototype.replace), qt = Ft, jt = (Lt = /a/, Ot = /b*/g, Ft.call(Lt, "a"), Ft.call(Ot, "a"), 0 !== Lt.lastIndex || 0 !== Ot.lastIndex), Bt = kt.UNSUPPORTED_Y || kt.BROKEN_CARET, $t = void 0 !== /()??/.exec("")[1]; (jt || $t || Bt) && (qt = function (t) { var e, n, i, r, o = this, s = Bt && o.sticky, a = At.call(o), u = o.source, l = 0, c = t; return s && (-1 === (a = a.replace("y", "")).indexOf("g") && (a += "g"), c = String(t).slice(o.lastIndex), o.lastIndex > 0 && (!o.multiline || o.multiline && "\n" !== t[o.lastIndex - 1]) && (u = "(?: " + u + ")", c = " " + c, l++), n = new RegExp("^(?:" + u + ")", a)), $t && (n = new RegExp("^" + u + "$(?!\\s)", a)), jt && (e = o.lastIndex), i = Ft.call(s ? n : o, c), s ? i ? (i.input = i.input.slice(l), i[0] = i[0].slice(l), i.index = o.lastIndex, o.lastIndex += i[0].length) : o.lastIndex = 0 : jt && i && (o.lastIndex = o.global ? i.index + i[0].length : e), $t && i && i.length > 1 && Rt.call(i[0], n, (function () { for (r = 1; r < arguments.length - 2; r++)void 0 === arguments[r] && (i[r] = void 0) })), i }); var zt = qt; Pt({ target: "RegExp", proto: !0, forced: /./.exec !== zt }, { exec: zt }); var Vt, Ut, Ht = "process" == d(s.process), Gt = ot("navigator", "userAgent") || "", Xt = s.process, Yt = Xt && Xt.versions, Wt = Yt && Yt.v8; Wt ? Ut = (Vt = Wt.split("."))[0] + Vt[1] : Gt && (!(Vt = Gt.match(/Edge\/(\d+)/)) || Vt[1] >= 74) && (Vt = Gt.match(/Chrome\/(\d+)/)) && (Ut = Vt[1]); var Jt = Ut && +Ut, Zt = !!Object.getOwnPropertySymbols && !a((function () { return !Symbol.sham && (Ht ? 38 === Jt : Jt > 37 && Jt < 41) })), Kt = Zt && !Symbol.sham && "symbol" == typeof Symbol.iterator, Qt = z("wks"), te = s.Symbol, ee = Kt ? te : te && te.withoutSetter || H, ne = function (t) { return x(Qt, t) && (Zt || "string" == typeof Qt[t]) || (Zt && x(te, t) ? Qt[t] = te[t] : Qt[t] = ee("Symbol." + t)), Qt[t] }, ie = ne("species"), re = !a((function () { var t = /./; return t.exec = function () { var t = []; return t.groups = { a: "7" }, t }, "7" !== "".replace(t, "$<a>") })), oe = "$0" === "a".replace(/./, "$0"), se = ne("replace"), ae = !!/./[se] && "" === /./[se]("a", "$0"), ue = !a((function () { var t = /(?:)/, e = t.exec; t.exec = function () { return e.apply(this, arguments) }; var n = "ab".split(t); return 2 !== n.length || "a" !== n[0] || "b" !== n[1] })), le = function (t) { return function (e, n) { var i, r, o = String(m(e)), s = ut(n), a = o.length; return s < 0 || s >= a ? t ? "" : void 0 : (i = o.charCodeAt(s)) < 55296 || i > 56319 || s + 1 === a || (r = o.charCodeAt(s + 1)) < 56320 || r > 57343 ? t ? o.charAt(s) : i : t ? o.slice(s, s + 2) : r - 56320 + (i - 55296 << 10) + 65536 } }, ce = { codeAt: le(!1), charAt: le(!0) }, he = ce.charAt, pe = function (t, e, n) { return e + (n ? he(t, e).length : 1) }, fe = function (t) { return Object(m(t)) }, de = Math.floor, ge = "".replace, ye = /\$([$&'`]|\d{1,2}|<[^>]*>)/g, me = /\$([$&'`]|\d{1,2})/g, ve = function (t, e, n, i, r, o) { var s = n + t.length, a = i.length, u = me; return void 0 !== r && (r = fe(r), u = ye), ge.call(o, u, (function (o, u) { var l; switch (u.charAt(0)) { case "$": return "$"; case "&": return t; case "`": return e.slice(0, n); case "'": return e.slice(s); case "<": l = r[u.slice(1, -1)]; break; default: var c = +u; if (0 === c) return o; if (c > a) { var h = de(c / 10); return 0 === h ? o : h <= a ? void 0 === i[h - 1] ? u.charAt(1) : i[h - 1] + u.charAt(1) : o } l = i[c - 1] }return void 0 === l ? "" : l })) }, _e = function (t, e) { var n = t.exec; if ("function" == typeof n) { var i = n.call(t, e); if ("object" != typeof i) throw TypeError("RegExp exec method returned something other than an Object or null"); return i } if ("RegExp" !== d(t)) throw TypeError("RegExp#exec called on incompatible receiver"); return zt.call(t, e) }, be = Math.max, we = Math.min; !function (t, e, n, i) { var r = ne(t), o = !a((function () { var e = {}; return e[r] = function () { return 7 }, 7 != ""[t](e) })), s = o && !a((function () { var e = !1, n = /a/; return "split" === t && ((n = {}).constructor = {}, n.constructor[ie] = function () { return n }, n.flags = "", n[r] = /./[r]), n.exec = function () { return e = !0, null }, n[r](""), !e })); if (!o || !s || "replace" === t && (!re || !oe || ae) || "split" === t && !ue) { var u = /./[r], l = n(r, ""[t], (function (t, e, n, i, r) { return e.exec === RegExp.prototype.exec ? o && !r ? { done: !0, value: u.call(e, n, i) } : { done: !0, value: t.call(n, e, i) } : { done: !1 } }), { REPLACE_KEEPS_$0: oe, REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: ae }), c = l[0], h = l[1]; nt(String.prototype, t, c), nt(RegExp.prototype, r, 2 == e ? function (t, e) { return h.call(t, this, e) } : function (t) { return h.call(t, this) }) } i && M(RegExp.prototype[r], "sham", !0) }("replace", 2, (function (t, e, n, i) { var r = i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE, o = i.REPLACE_KEEPS_$0, s = r ? "$" : "$0"; return [function (n, i) { var r = m(this), o = null == n ? void 0 : n[t]; return void 0 !== o ? o.call(n, r, i) : e.call(String(r), n, i) }, function (t, i) { if (!r && o || "string" == typeof i && -1 === i.indexOf(s)) { var a = n(e, t, this, i); if (a.done) return a.value } var u = N(t), l = String(this), c = "function" == typeof i; c || (i = String(i)); var h = u.global; if (h) { var p = u.unicode; u.lastIndex = 0 } for (var f = []; ;) { var d = _e(u, l); if (null === d) break; if (f.push(d), !h) break; "" === String(d[0]) && (u.lastIndex = pe(l, ct(u.lastIndex), p)) } for (var g, y = "", m = 0, v = 0; v < f.length; v++) { d = f[v]; for (var _ = String(d[0]), b = be(we(ut(d.index), l.length), 0), w = [], x = 1; x < d.length; x++)w.push(void 0 === (g = d[x]) ? g : String(g)); var E = d.groups; if (c) { var C = [_].concat(w, b, l); void 0 !== E && C.push(E); var D = String(i.apply(void 0, C)) } else D = ve(_, l, b, w, E, i); b >= m && (y += l.slice(m, b) + D, m = b + _.length) } return y + l.slice(m) }] })); var xe, Ee, Ce, De = !a((function () { function t() { } return t.prototype.constructor = null, Object.getPrototypeOf(new t) !== t.prototype })), Se = X("IE_PROTO"), Te = Object.prototype, Ie = De ? Object.getPrototypeOf : function (t) { return t = fe(t), x(t, Se) ? t[Se] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? Te : null }, Ne = ne("iterator"), Pe = !1;[].keys && ("next" in (Ce = [].keys()) ? (Ee = Ie(Ie(Ce))) !== Object.prototype && (xe = Ee) : Pe = !0), (null == xe || a((function () { var t = {}; return xe[Ne].call(t) !== t }))) && (xe = {}), x(xe, Ne) || M(xe, Ne, (function () { return this })); var Ae, Me = { IteratorPrototype: xe, BUGGY_SAFARI_ITERATORS: Pe }, Le = Object.keys || function (t) { return gt(t, yt) }, Oe = u ? Object.defineProperties : function (t, e) { N(t); for (var n, i = Le(e), r = i.length, o = 0; r > o;)A.f(t, n = i[o++], e[n]); return t }, ke = ot("document", "documentElement"), Fe = X("IE_PROTO"), Re = function () { }, qe = function (t) { return "<script>" + t + "<\/script>" }, je = function () { try { Ae = document.domain && new ActiveXObject("htmlfile") } catch (t) { } var t, e; je = Ae ? function (t) { t.write(qe("")), t.close(); var e = t.parentWindow.Object; return t = null, e }(Ae) : ((e = D("iframe")).style.display = "none", ke.appendChild(e), e.src = String("javascript:"), (t = e.contentWindow.document).open(), t.write(qe("document.F=Object")), t.close(), t.F); for (var n = yt.length; n--;)delete je.prototype[yt[n]]; return je() }; Y[Fe] = !0; var Be = Object.create || function (t, e) { var n; return null !== t ? (Re.prototype = N(t), n = new Re, Re.prototype = null, n[Fe] = t) : n = je(), void 0 === e ? n : Oe(n, e) }, $e = A.f, ze = ne("toStringTag"), Ve = function (t, e, n) { t && !x(t = n ? t : t.prototype, ze) && $e(t, ze, { configurable: !0, value: e }) }, Ue = {}, He = Me.IteratorPrototype, Ge = function () { return this }, Xe = function (t, e, n) { var i = e + " Iterator"; return t.prototype = Be(He, { next: p(1, n) }), Ve(t, i, !1), Ue[i] = Ge, t }, Ye = Object.setPrototypeOf || ("__proto__" in {} ? function () { var t, e = !1, n = {}; try { (t = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set).call(n, []), e = n instanceof Array } catch (t) { } return function (n, i) { return N(n), function (t) { if (!_(t) && null !== t) throw TypeError("Can't set " + String(t) + " as a prototype") }(i), e ? t.call(n, i) : n.__proto__ = i, n } }() : void 0), We = Me.IteratorPrototype, Je = Me.BUGGY_SAFARI_ITERATORS, Ze = ne("iterator"), Ke = function () { return this }, Qe = function (t, e, n, i, r, o, s) { Xe(n, e, i); var a, u, l, c = function (t) { if (t === r && g) return g; if (!Je && t in f) return f[t]; switch (t) { case "keys": case "values": case "entries": return function () { return new n(this, t) } }return function () { return new n(this) } }, h = e + " Iterator", p = !1, f = t.prototype, d = f[Ze] || f["@@iterator"] || r && f[r], g = !Je && d || c(r), y = "Array" == e && f.entries || d; if (y && (a = Ie(y.call(new t)), We !== Object.prototype && a.next && (Ie(a) !== We && (Ye ? Ye(a, We) : "function" != typeof a[Ze] && M(a, Ze, Ke)), Ve(a, h, !0))), "values" == r && d && "values" !== d.name && (p = !0, g = function () { return d.call(this) }), f[Ze] !== g && M(f, Ze, g), Ue[e] = g, r) if (u = { values: c("values"), keys: o ? g : c("keys"), entries: c("entries") }, s) for (l in u) (Je || p || !(l in f)) && nt(f, l, u[l]); else Pt({ target: e, proto: !0, forced: Je || p }, u); return u }, tn = ce.charAt, en = et.set, nn = et.getterFor("String Iterator"); Qe(String, "String", (function (t) { en(this, { type: "String Iterator", string: String(t), index: 0 }) }), (function () { var t, e = nn(this), n = e.string, i = e.index; return i >= n.length ? { value: void 0, done: !0 } : (t = tn(n, i), e.index += t.length, { value: t, done: !1 }) })); var rn = ne("iterator"), on = !a((function () { var t = new URL("b?a=1&b=2&c=3", "http://a"), e = t.searchParams, n = ""; return t.pathname = "c%20d", e.forEach((function (t, i) { e.delete("b"), n += i + t })), !e.sort || "http://a/c%20d?a=1&c=3" !== t.href || "3" !== e.get("c") || "a=1" !== String(new URLSearchParams("?a=1")) || !e[rn] || "a" !== new URL("https://a@b").username || "b" !== new URLSearchParams(new URLSearchParams("a=b")).get("a") || "xn--e1aybc" !== new URL("http://тест").host || "#%D0%B1" !== new URL("http://a#б").hash || "a1c3" !== n || "x" !== new URL("http://x", void 0).host })), sn = function (t, e, n) { if (!(t instanceof e)) throw TypeError("Incorrect " + (n ? n + " " : "") + "invocation"); return t }, an = Object.assign, un = Object.defineProperty, ln = !an || a((function () { if (u && 1 !== an({ b: 1 }, an(un({}, "a", { enumerable: !0, get: function () { un(this, "b", { value: 3, enumerable: !1 }) } }), { b: 2 })).b) return !0; var t = {}, e = {}, n = Symbol(); return t[n] = 7, "abcdefghijklmnopqrst".split("").forEach((function (t) { e[t] = t })), 7 != an({}, t)[n] || "abcdefghijklmnopqrst" != Le(an({}, e)).join("") })) ? function (t, e) { for (var n = fe(t), i = arguments.length, r = 1, o = _t.f, s = h.f; i > r;)for (var a, l = y(arguments[r++]), c = o ? Le(l).concat(o(l)) : Le(l), p = c.length, f = 0; p > f;)a = c[f++], u && !s.call(l, a) || (n[a] = l[a]); return n } : an, cn = function (t, e, n) { if (function (t) { if ("function" != typeof t) throw TypeError(String(t) + " is not a function") }(t), void 0 === e) return t; switch (n) { case 0: return function () { return t.call(e) }; case 1: return function (n) { return t.call(e, n) }; case 2: return function (n, i) { return t.call(e, n, i) }; case 3: return function (n, i, r) { return t.call(e, n, i, r) } }return function () { return t.apply(e, arguments) } }, hn = function (t, e, n, i) { try { return i ? e(N(n)[0], n[1]) : e(n) } catch (e) { throw function (t) { var e = t.return; void 0 !== e && N(e.call(t)).value }(t), e } }, pn = ne("iterator"), fn = Array.prototype, dn = function (t) { return void 0 !== t && (Ue.Array === t || fn[pn] === t) }, gn = function (t, e, n) { var i = b(e); i in t ? A.f(t, i, p(0, n)) : t[i] = n }, yn = {}; yn[ne("toStringTag")] = "z"; var mn = "[object z]" === String(yn), vn = ne("toStringTag"), _n = "Arguments" == d(function () { return arguments }()), bn = mn ? d : function (t) { var e, n, i; return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof (n = function (t, e) { try { return t[e] } catch (t) { } }(e = Object(t), vn)) ? n : _n ? d(e) : "Object" == (i = d(e)) && "function" == typeof e.callee ? "Arguments" : i }, wn = ne("iterator"), xn = function (t) { if (null != t) return t[wn] || t["@@iterator"] || Ue[bn(t)] }, En = function (t) { var e, n, i, r, o, s, a = fe(t), u = "function" == typeof this ? this : Array, l = arguments.length, c = l > 1 ? arguments[1] : void 0, h = void 0 !== c, p = xn(a), f = 0; if (h && (c = cn(c, l > 2 ? arguments[2] : void 0, 2)), null == p || u == Array && dn(p)) for (n = new u(e = ct(a.length)); e > f; f++)s = h ? c(a[f], f) : a[f], gn(n, f, s); else for (o = (r = p.call(a)).next, n = new u; !(i = o.call(r)).done; f++)s = h ? hn(r, c, [i.value, f], !0) : i.value, gn(n, f, s); return n.length = f, n }, Cn = /[^\0-\u007E]/, Dn = /[.\u3002\uFF0E\uFF61]/g, Sn = "Overflow: input needs wider integers to process", Tn = Math.floor, In = String.fromCharCode, Nn = function (t) { return t + 22 + 75 * (t < 26) }, Pn = function (t, e, n) { var i = 0; for (t = n ? Tn(t / 700) : t >> 1, t += Tn(t / e); t > 455; i += 36)t = Tn(t / 35); return Tn(i + 36 * t / (t + 38)) }, An = function (t) { var e, n, i = [], r = (t = function (t) { for (var e = [], n = 0, i = t.length; n < i;) { var r = t.charCodeAt(n++); if (r >= 55296 && r <= 56319 && n < i) { var o = t.charCodeAt(n++); 56320 == (64512 & o) ? e.push(((1023 & r) << 10) + (1023 & o) + 65536) : (e.push(r), n--) } else e.push(r) } return e }(t)).length, o = 128, s = 0, a = 72; for (e = 0; e < t.length; e++)(n = t[e]) < 128 && i.push(In(n)); var u = i.length, l = u; for (u && i.push("-"); l < r;) { var c = 2147483647; for (e = 0; e < t.length; e++)(n = t[e]) >= o && n < c && (c = n); var h = l + 1; if (c - o > Tn((2147483647 - s) / h)) throw RangeError(Sn); for (s += (c - o) * h, o = c, e = 0; e < t.length; e++) { if ((n = t[e]) < o && ++s > 2147483647) throw RangeError(Sn); if (n == o) { for (var p = s, f = 36; ; f += 36) { var d = f <= a ? 1 : f >= a + 26 ? 26 : f - a; if (p < d) break; var g = p - d, y = 36 - d; i.push(In(Nn(d + g % y))), p = Tn(g / y) } i.push(In(Nn(p))), a = Pn(s, h, l == u), s = 0, ++l } } ++s, ++o } return i.join("") }, Mn = ne("unscopables"), Ln = Array.prototype; null == Ln[Mn] && A.f(Ln, Mn, { configurable: !0, value: Be(null) }); var On = function (t) { Ln[Mn][t] = !0 }, kn = et.set, Fn = et.getterFor("Array Iterator"); Qe(Array, "Array", (function (t, e) { kn(this, { type: "Array Iterator", target: v(t), index: 0, kind: e }) }), (function () { var t = Fn(this), e = t.target, n = t.kind, i = t.index++; return !e || i >= e.length ? (t.target = void 0, { value: void 0, done: !0 }) : "keys" == n ? { value: i, done: !1 } : "values" == n ? { value: e[i], done: !1 } : { value: [i, e[i]], done: !1 } }), "values"), Ue.Arguments = Ue.Array, On("keys"), On("values"), On("entries"); var Rn = function (t) { var e = xn(t); if ("function" != typeof e) throw TypeError(String(t) + " is not iterable"); return N(e.call(t)) }, qn = ot("fetch"), jn = ot("Headers"), Bn = ne("iterator"), $n = et.set, zn = et.getterFor("URLSearchParams"), Vn = et.getterFor("URLSearchParamsIterator"), Un = /\+/g, Hn = Array(4), Gn = function (t) { return Hn[t - 1] || (Hn[t - 1] = RegExp("((?:%[\\da-f]{2}){" + t + "})", "gi")) }, Xn = function (t) { try { return decodeURIComponent(t) } catch (e) { return t } }, Yn = function (t) { var e = t.replace(Un, " "), n = 4; try { return decodeURIComponent(e) } catch (t) { for (; n;)e = e.replace(Gn(n--), Xn); return e } }, Wn = /[!'()~]|%20/g, Jn = { "!": "%21", "'": "%27", "(": "%28", ")": "%29", "~": "%7E", "%20": "+" }, Zn = function (t) { return Jn[t] }, Kn = function (t) { return encodeURIComponent(t).replace(Wn, Zn) }, Qn = function (t, e) { if (e) for (var n, i, r = e.split("&"), o = 0; o < r.length;)(n = r[o++]).length && (i = n.split("="), t.push({ key: Yn(i.shift()), value: Yn(i.join("=")) })) }, ti = function (t) { this.entries.length = 0, Qn(this.entries, t) }, ei = function (t, e) { if (t < e) throw TypeError("Not enough arguments") }, ni = Xe((function (t, e) { $n(this, { type: "URLSearchParamsIterator", iterator: Rn(zn(t).entries), kind: e }) }), "Iterator", (function () { var t = Vn(this), e = t.kind, n = t.iterator.next(), i = n.value; return n.done || (n.value = "keys" === e ? i.key : "values" === e ? i.value : [i.key, i.value]), n })), ii = function () { sn(this, ii, "URLSearchParams"); var t, e, n, i, r, o, s, a, u, l = arguments.length > 0 ? arguments[0] : void 0, c = this, h = []; if ($n(c, { type: "URLSearchParams", entries: h, updateURL: function () { }, updateSearchParams: ti }), void 0 !== l) if (_(l)) if ("function" == typeof (t = xn(l))) for (n = (e = t.call(l)).next; !(i = n.call(e)).done;) { if ((s = (o = (r = Rn(N(i.value))).next).call(r)).done || (a = o.call(r)).done || !o.call(r).done) throw TypeError("Expected sequence with length 2"); h.push({ key: s.value + "", value: a.value + "" }) } else for (u in l) x(l, u) && h.push({ key: u, value: l[u] + "" }); else Qn(h, "string" == typeof l ? "?" === l.charAt(0) ? l.slice(1) : l : l + "") }, ri = ii.prototype; !function (t, e, n) { for (var i in e) nt(t, i, e[i], n) }(ri, { append: function (t, e) { ei(arguments.length, 2); var n = zn(this); n.entries.push({ key: t + "", value: e + "" }), n.updateURL() }, delete: function (t) { ei(arguments.length, 1); for (var e = zn(this), n = e.entries, i = t + "", r = 0; r < n.length;)n[r].key === i ? n.splice(r, 1) : r++; e.updateURL() }, get: function (t) { ei(arguments.length, 1); for (var e = zn(this).entries, n = t + "", i = 0; i < e.length; i++)if (e[i].key === n) return e[i].value; return null }, getAll: function (t) { ei(arguments.length, 1); for (var e = zn(this).entries, n = t + "", i = [], r = 0; r < e.length; r++)e[r].key === n && i.push(e[r].value); return i }, has: function (t) { ei(arguments.length, 1); for (var e = zn(this).entries, n = t + "", i = 0; i < e.length;)if (e[i++].key === n) return !0; return !1 }, set: function (t, e) { ei(arguments.length, 1); for (var n, i = zn(this), r = i.entries, o = !1, s = t + "", a = e + "", u = 0; u < r.length; u++)(n = r[u]).key === s && (o ? r.splice(u--, 1) : (o = !0, n.value = a)); o || r.push({ key: s, value: a }), i.updateURL() }, sort: function () { var t, e, n, i = zn(this), r = i.entries, o = r.slice(); for (r.length = 0, n = 0; n < o.length; n++) { for (t = o[n], e = 0; e < n; e++)if (r[e].key > t.key) { r.splice(e, 0, t); break } e === n && r.push(t) } i.updateURL() }, forEach: function (t) { for (var e, n = zn(this).entries, i = cn(t, arguments.length > 1 ? arguments[1] : void 0, 3), r = 0; r < n.length;)i((e = n[r++]).value, e.key, this) }, keys: function () { return new ni(this, "keys") }, values: function () { return new ni(this, "values") }, entries: function () { return new ni(this, "entries") } }, { enumerable: !0 }), nt(ri, Bn, ri.entries), nt(ri, "toString", (function () { for (var t, e = zn(this).entries, n = [], i = 0; i < e.length;)t = e[i++], n.push(Kn(t.key) + "=" + Kn(t.value)); return n.join("&") }), { enumerable: !0 }), Ve(ii, "URLSearchParams"), Pt({ global: !0, forced: !on }, { URLSearchParams: ii }), on || "function" != typeof qn || "function" != typeof jn || Pt({ global: !0, enumerable: !0, forced: !0 }, { fetch: function (t) { var e, n, i, r = [t]; return arguments.length > 1 && (_(e = arguments[1]) && (n = e.body, "URLSearchParams" === bn(n) && ((i = e.headers ? new jn(e.headers) : new jn).has("content-type") || i.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"), e = Be(e, { body: p(0, String(n)), headers: p(0, i) }))), r.push(e)), qn.apply(this, r) } }); var oi, si = { URLSearchParams: ii, getState: zn }, ai = ce.codeAt, ui = s.URL, li = si.URLSearchParams, ci = si.getState, hi = et.set, pi = et.getterFor("URL"), fi = Math.floor, di = Math.pow, gi = /[A-Za-z]/, yi = /[\d+-.A-Za-z]/, mi = /\d/, vi = /^(0x|0X)/, _i = /^[0-7]+$/, bi = /^\d+$/, wi = /^[\dA-Fa-f]+$/, xi = /[\u0000\t\u000A\u000D #%/:?@[\\]]/, Ei = /[\u0000\t\u000A\u000D #/:?@[\\]]/, Ci = /^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g, Di = /[\t\u000A\u000D]/g, Si = function (t, e) { var n, i, r; if ("[" == e.charAt(0)) { if ("]" != e.charAt(e.length - 1)) return "Invalid host"; if (!(n = Ii(e.slice(1, -1)))) return "Invalid host"; t.host = n } else if (Fi(t)) { if (e = function (t) { var e, n, i = [], r = t.toLowerCase().replace(Dn, ".").split("."); for (e = 0; e < r.length; e++)n = r[e], i.push(Cn.test(n) ? "xn--" + An(n) : n); return i.join(".") }(e), xi.test(e)) return "Invalid host"; if (null === (n = Ti(e))) return "Invalid host"; t.host = n } else { if (Ei.test(e)) return "Invalid host"; for (n = "", i = En(e), r = 0; r < i.length; r++)n += Oi(i[r], Pi); t.host = n } }, Ti = function (t) { var e, n, i, r, o, s, a, u = t.split("."); if (u.length && "" == u[u.length - 1] && u.pop(), (e = u.length) > 4) return t; for (n = [], i = 0; i < e; i++) { if ("" == (r = u[i])) return t; if (o = 10, r.length > 1 && "0" == r.charAt(0) && (o = vi.test(r) ? 16 : 8, r = r.slice(8 == o ? 1 : 2)), "" === r) s = 0; else { if (!(10 == o ? bi : 8 == o ? _i : wi).test(r)) return t; s = parseInt(r, o) } n.push(s) } for (i = 0; i < e; i++)if (s = n[i], i == e - 1) { if (s >= di(256, 5 - e)) return null } else if (s > 255) return null; for (a = n.pop(), i = 0; i < n.length; i++)a += n[i] * di(256, 3 - i); return a }, Ii = function (t) { var e, n, i, r, o, s, a, u = [0, 0, 0, 0, 0, 0, 0, 0], l = 0, c = null, h = 0, p = function () { return t.charAt(h) }; if (":" == p()) { if (":" != t.charAt(1)) return; h += 2, c = ++l } for (; p();) { if (8 == l) return; if (":" != p()) { for (e = n = 0; n < 4 && wi.test(p());)e = 16 * e + parseInt(p(), 16), h++, n++; if ("." == p()) { if (0 == n) return; if (h -= n, l > 6) return; for (i = 0; p();) { if (r = null, i > 0) { if (!("." == p() && i < 4)) return; h++ } if (!mi.test(p())) return; for (; mi.test(p());) { if (o = parseInt(p(), 10), null === r) r = o; else { if (0 == r) return; r = 10 * r + o } if (r > 255) return; h++ } u[l] = 256 * u[l] + r, 2 != ++i && 4 != i || l++ } if (4 != i) return; break } if (":" == p()) { if (h++, !p()) return } else if (p()) return; u[l++] = e } else { if (null !== c) return; h++, c = ++l } } if (null !== c) for (s = l - c, l = 7; 0 != l && s > 0;)a = u[l], u[l--] = u[c + s - 1], u[c + --s] = a; else if (8 != l) return; return u }, Ni = function (t) { var e, n, i, r; if ("number" == typeof t) { for (e = [], n = 0; n < 4; n++)e.unshift(t % 256), t = fi(t / 256); return e.join(".") } if ("object" == typeof t) { for (e = "", i = function (t) { for (var e = null, n = 1, i = null, r = 0, o = 0; o < 8; o++)0 !== t[o] ? (r > n && (e = i, n = r), i = null, r = 0) : (null === i && (i = o), ++r); return r > n && (e = i, n = r), e }(t), n = 0; n < 8; n++)r && 0 === t[n] || (r && (r = !1), i === n ? (e += n ? ":" : "::", r = !0) : (e += t[n].toString(16), n < 7 && (e += ":"))); return "[" + e + "]" } return t }, Pi = {}, Ai = ln({}, Pi, { " ": 1, '"': 1, "<": 1, ">": 1, "`": 1 }), Mi = ln({}, Ai, { "#": 1, "?": 1, "{": 1, "}": 1 }), Li = ln({}, Mi, { "/": 1, ":": 1, ";": 1, "=": 1, "@": 1, "[": 1, "\\": 1, "]": 1, "^": 1, "|": 1 }), Oi = function (t, e) { var n = ai(t, 0); return n > 32 && n < 127 && !x(e, t) ? t : encodeURIComponent(t) }, ki = { ftp: 21, file: null, http: 80, https: 443, ws: 80, wss: 443 }, Fi = function (t) { return x(ki, t.scheme) }, Ri = function (t) { return "" != t.username || "" != t.password }, qi = function (t) { return !t.host || t.cannotBeABaseURL || "file" == t.scheme }, ji = function (t, e) { var n; return 2 == t.length && gi.test(t.charAt(0)) && (":" == (n = t.charAt(1)) || !e && "|" == n) }, Bi = function (t) { var e; return t.length > 1 && ji(t.slice(0, 2)) && (2 == t.length || "/" === (e = t.charAt(2)) || "\\" === e || "?" === e || "#" === e) }, $i = function (t) { var e = t.path, n = e.length; !n || "file" == t.scheme && 1 == n && ji(e[0], !0) || e.pop() }, zi = function (t) { return "." === t || "%2e" === t.toLowerCase() }, Vi = {}, Ui = {}, Hi = {}, Gi = {}, Xi = {}, Yi = {}, Wi = {}, Ji = {}, Zi = {}, Ki = {}, Qi = {}, tr = {}, er = {}, nr = {}, ir = {}, rr = {}, or = {}, sr = {}, ar = {}, ur = {}, lr = {}, cr = function (t, e, n, i) { var r, o, s, a, u, l = n || Vi, c = 0, h = "", p = !1, f = !1, d = !1; for (n || (t.scheme = "", t.username = "", t.password = "", t.host = null, t.port = null, t.path = [], t.query = null, t.fragment = null, t.cannotBeABaseURL = !1, e = e.replace(Ci, "")), e = e.replace(Di, ""), r = En(e); c <= r.length;) { switch (o = r[c], l) { case Vi: if (!o || !gi.test(o)) { if (n) return "Invalid scheme"; l = Hi; continue } h += o.toLowerCase(), l = Ui; break; case Ui: if (o && (yi.test(o) || "+" == o || "-" == o || "." == o)) h += o.toLowerCase(); else { if (":" != o) { if (n) return "Invalid scheme"; h = "", l = Hi, c = 0; continue } if (n && (Fi(t) != x(ki, h) || "file" == h && (Ri(t) || null !== t.port) || "file" == t.scheme && !t.host)) return; if (t.scheme = h, n) return void (Fi(t) && ki[t.scheme] == t.port && (t.port = null)); h = "", "file" == t.scheme ? l = nr : Fi(t) && i && i.scheme == t.scheme ? l = Gi : Fi(t) ? l = Ji : "/" == r[c + 1] ? (l = Xi, c++) : (t.cannotBeABaseURL = !0, t.path.push(""), l = ar) } break; case Hi: if (!i || i.cannotBeABaseURL && "#" != o) return "Invalid scheme"; if (i.cannotBeABaseURL && "#" == o) { t.scheme = i.scheme, t.path = i.path.slice(), t.query = i.query, t.fragment = "", t.cannotBeABaseURL = !0, l = lr; break } l = "file" == i.scheme ? nr : Yi; continue; case Gi: if ("/" != o || "/" != r[c + 1]) { l = Yi; continue } l = Zi, c++; break; case Xi: if ("/" == o) { l = Ki; break } l = sr; continue; case Yi: if (t.scheme = i.scheme, o == oi) t.username = i.username, t.password = i.password, t.host = i.host, t.port = i.port, t.path = i.path.slice(), t.query = i.query; else if ("/" == o || "\\" == o && Fi(t)) l = Wi; else if ("?" == o) t.username = i.username, t.password = i.password, t.host = i.host, t.port = i.port, t.path = i.path.slice(), t.query = "", l = ur; else { if ("#" != o) { t.username = i.username, t.password = i.password, t.host = i.host, t.port = i.port, t.path = i.path.slice(), t.path.pop(), l = sr; continue } t.username = i.username, t.password = i.password, t.host = i.host, t.port = i.port, t.path = i.path.slice(), t.query = i.query, t.fragment = "", l = lr } break; case Wi: if (!Fi(t) || "/" != o && "\\" != o) { if ("/" != o) { t.username = i.username, t.password = i.password, t.host = i.host, t.port = i.port, l = sr; continue } l = Ki } else l = Zi; break; case Ji: if (l = Zi, "/" != o || "/" != h.charAt(c + 1)) continue; c++; break; case Zi: if ("/" != o && "\\" != o) { l = Ki; continue } break; case Ki: if ("@" == o) { p && (h = "%40" + h), p = !0, s = En(h); for (var g = 0; g < s.length; g++) { var y = s[g]; if (":" != y || d) { var m = Oi(y, Li); d ? t.password += m : t.username += m } else d = !0 } h = "" } else if (o == oi || "/" == o || "?" == o || "#" == o || "\\" == o && Fi(t)) { if (p && "" == h) return "Invalid authority"; c -= En(h).length + 1, h = "", l = Qi } else h += o; break; case Qi: case tr: if (n && "file" == t.scheme) { l = rr; continue } if (":" != o || f) { if (o == oi || "/" == o || "?" == o || "#" == o || "\\" == o && Fi(t)) { if (Fi(t) && "" == h) return "Invalid host"; if (n && "" == h && (Ri(t) || null !== t.port)) return; if (a = Si(t, h)) return a; if (h = "", l = or, n) return; continue } "[" == o ? f = !0 : "]" == o && (f = !1), h += o } else { if ("" == h) return "Invalid host"; if (a = Si(t, h)) return a; if (h = "", l = er, n == tr) return } break; case er: if (!mi.test(o)) { if (o == oi || "/" == o || "?" == o || "#" == o || "\\" == o && Fi(t) || n) { if ("" != h) { var v = parseInt(h, 10); if (v > 65535) return "Invalid port"; t.port = Fi(t) && v === ki[t.scheme] ? null : v, h = "" } if (n) return; l = or; continue } return "Invalid port" } h += o; break; case nr: if (t.scheme = "file", "/" == o || "\\" == o) l = ir; else { if (!i || "file" != i.scheme) { l = sr; continue } if (o == oi) t.host = i.host, t.path = i.path.slice(), t.query = i.query; else if ("?" == o) t.host = i.host, t.path = i.path.slice(), t.query = "", l = ur; else { if ("#" != o) { Bi(r.slice(c).join("")) || (t.host = i.host, t.path = i.path.slice(), $i(t)), l = sr; continue } t.host = i.host, t.path = i.path.slice(), t.query = i.query, t.fragment = "", l = lr } } break; case ir: if ("/" == o || "\\" == o) { l = rr; break } i && "file" == i.scheme && !Bi(r.slice(c).join("")) && (ji(i.path[0], !0) ? t.path.push(i.path[0]) : t.host = i.host), l = sr; continue; case rr: if (o == oi || "/" == o || "\\" == o || "?" == o || "#" == o) { if (!n && ji(h)) l = sr; else if ("" == h) { if (t.host = "", n) return; l = or } else { if (a = Si(t, h)) return a; if ("localhost" == t.host && (t.host = ""), n) return; h = "", l = or } continue } h += o; break; case or: if (Fi(t)) { if (l = sr, "/" != o && "\\" != o) continue } else if (n || "?" != o) if (n || "#" != o) { if (o != oi && (l = sr, "/" != o)) continue } else t.fragment = "", l = lr; else t.query = "", l = ur; break; case sr: if (o == oi || "/" == o || "\\" == o && Fi(t) || !n && ("?" == o || "#" == o)) { if (".." === (u = (u = h).toLowerCase()) || "%2e." === u || ".%2e" === u || "%2e%2e" === u ? ($i(t), "/" == o || "\\" == o && Fi(t) || t.path.push("")) : zi(h) ? "/" == o || "\\" == o && Fi(t) || t.path.push("") : ("file" == t.scheme && !t.path.length && ji(h) && (t.host && (t.host = ""), h = h.charAt(0) + ":"), t.path.push(h)), h = "", "file" == t.scheme && (o == oi || "?" == o || "#" == o)) for (; t.path.length > 1 && "" === t.path[0];)t.path.shift(); "?" == o ? (t.query = "", l = ur) : "#" == o && (t.fragment = "", l = lr) } else h += Oi(o, Mi); break; case ar: "?" == o ? (t.query = "", l = ur) : "#" == o ? (t.fragment = "", l = lr) : o != oi && (t.path[0] += Oi(o, Pi)); break; case ur: n || "#" != o ? o != oi && ("'" == o && Fi(t) ? t.query += "%27" : t.query += "#" == o ? "%23" : Oi(o, Pi)) : (t.fragment = "", l = lr); break; case lr: o != oi && (t.fragment += Oi(o, Ai)) }c++ } }, hr = function (t) { var e, n, i = sn(this, hr, "URL"), r = arguments.length > 1 ? arguments[1] : void 0, o = String(t), s = hi(i, { type: "URL" }); if (void 0 !== r) if (r instanceof hr) e = pi(r); else if (n = cr(e = {}, String(r))) throw TypeError(n); if (n = cr(s, o, null, e)) throw TypeError(n); var a = s.searchParams = new li, l = ci(a); l.updateSearchParams(s.query), l.updateURL = function () { s.query = String(a) || null }, u || (i.href = fr.call(i), i.origin = dr.call(i), i.protocol = gr.call(i), i.username = yr.call(i), i.password = mr.call(i), i.host = vr.call(i), i.hostname = _r.call(i), i.port = br.call(i), i.pathname = wr.call(i), i.search = xr.call(i), i.searchParams = Er.call(i), i.hash = Cr.call(i)) }, pr = hr.prototype, fr = function () { var t = pi(this), e = t.scheme, n = t.username, i = t.password, r = t.host, o = t.port, s = t.path, a = t.query, u = t.fragment, l = e + ":"; return null !== r ? (l += "//", Ri(t) && (l += n + (i ? ":" + i : "") + "@"), l += Ni(r), null !== o && (l += ":" + o)) : "file" == e && (l += "//"), l += t.cannotBeABaseURL ? s[0] : s.length ? "/" + s.join("/") : "", null !== a && (l += "?" + a), null !== u && (l += "#" + u), l }, dr = function () { var t = pi(this), e = t.scheme, n = t.port; if ("blob" == e) try { return new URL(e.path[0]).origin } catch (t) { return "null" } return "file" != e && Fi(t) ? e + "://" + Ni(t.host) + (null !== n ? ":" + n : "") : "null" }, gr = function () { return pi(this).scheme + ":" }, yr = function () { return pi(this).username }, mr = function () { return pi(this).password }, vr = function () { var t = pi(this), e = t.host, n = t.port; return null === e ? "" : null === n ? Ni(e) : Ni(e) + ":" + n }, _r = function () { var t = pi(this).host; return null === t ? "" : Ni(t) }, br = function () { var t = pi(this).port; return null === t ? "" : String(t) }, wr = function () { var t = pi(this), e = t.path; return t.cannotBeABaseURL ? e[0] : e.length ? "/" + e.join("/") : "" }, xr = function () { var t = pi(this).query; return t ? "?" + t : "" }, Er = function () { return pi(this).searchParams }, Cr = function () { var t = pi(this).fragment; return t ? "#" + t : "" }, Dr = function (t, e) { return { get: t, set: e, configurable: !0, enumerable: !0 } }; if (u && Oe(pr, { href: Dr(fr, (function (t) { var e = pi(this), n = String(t), i = cr(e, n); if (i) throw TypeError(i); ci(e.searchParams).updateSearchParams(e.query) })), origin: Dr(dr), protocol: Dr(gr, (function (t) { var e = pi(this); cr(e, String(t) + ":", Vi) })), username: Dr(yr, (function (t) { var e = pi(this), n = En(String(t)); if (!qi(e)) { e.username = ""; for (var i = 0; i < n.length; i++)e.username += Oi(n[i], Li) } })), password: Dr(mr, (function (t) { var e = pi(this), n = En(String(t)); if (!qi(e)) { e.password = ""; for (var i = 0; i < n.length; i++)e.password += Oi(n[i], Li) } })), host: Dr(vr, (function (t) { var e = pi(this); e.cannotBeABaseURL || cr(e, String(t), Qi) })), hostname: Dr(_r, (function (t) { var e = pi(this); e.cannotBeABaseURL || cr(e, String(t), tr) })), port: Dr(br, (function (t) { var e = pi(this); qi(e) || ("" == (t = String(t)) ? e.port = null : cr(e, t, er)) })), pathname: Dr(wr, (function (t) { var e = pi(this); e.cannotBeABaseURL || (e.path = [], cr(e, t + "", or)) })), search: Dr(xr, (function (t) { var e = pi(this); "" == (t = String(t)) ? e.query = null : ("?" == t.charAt(0) && (t = t.slice(1)), e.query = "", cr(e, t, ur)), ci(e.searchParams).updateSearchParams(e.query) })), searchParams: Dr(Er), hash: Dr(Cr, (function (t) { var e = pi(this); "" != (t = String(t)) ? ("#" == t.charAt(0) && (t = t.slice(1)), e.fragment = "", cr(e, t, lr)) : e.fragment = null })) }), nt(pr, "toJSON", (function () { return fr.call(this) }), { enumerable: !0 }), nt(pr, "toString", (function () { return fr.call(this) }), { enumerable: !0 }), ui) { var Sr = ui.createObjectURL, Tr = ui.revokeObjectURL; Sr && nt(hr, "createObjectURL", (function (t) { return Sr.apply(ui, arguments) })), Tr && nt(hr, "revokeObjectURL", (function (t) { return Tr.apply(ui, arguments) })) } function Ir(t, e, n) { return e in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function Nr(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } function Pr(t, e, n) { return e in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function Ar(t, e) { var n = Object.keys(t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(t); e && (i = i.filter((function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable }))), n.push.apply(n, i) } return n } function Mr(t) { for (var e = 1; e < arguments.length; e++) { var n = null != arguments[e] ? arguments[e] : {}; e % 2 ? Ar(Object(n), !0).forEach((function (e) { Pr(t, e, n[e]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Ar(Object(n)).forEach((function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e)) })) } return t } Ve(hr, "URL"), Pt({ global: !0, forced: !on, sham: !u }, { URL: hr }), function (t) { var e = function () { try { return !!Symbol.iterator } catch (t) { return !1 } }(), n = function (t) { var n = { next: function () { var e = t.shift(); return { done: void 0 === e, value: e } } }; return e && (n[Symbol.iterator] = function () { return n }), n }, i = function (t) { return encodeURIComponent(t).replace(/%20/g, "+") }, r = function (t) { return decodeURIComponent(String(t).replace(/\+/g, " ")) }; (function () { try { var e = t.URLSearchParams; return "a=1" === new e("?a=1").toString() && "function" == typeof e.prototype.set && "function" == typeof e.prototype.entries } catch (t) { return !1 } })() || function () { var r = function (t) { Object.defineProperty(this, "_entries", { writable: !0, value: {} }); var e = typeof t; if ("undefined" === e); else if ("string" === e) "" !== t && this._fromString(t); else if (t instanceof r) { var n = this; t.forEach((function (t, e) { n.append(e, t) })) } else { if (null === t || "object" !== e) throw new TypeError("Unsupported input's type for URLSearchParams"); if ("[object Array]" === Object.prototype.toString.call(t)) for (var i = 0; i < t.length; i++) { var o = t[i]; if ("[object Array]" !== Object.prototype.toString.call(o) && 2 === o.length) throw new TypeError("Expected [string, any] as entry at index " + i + " of URLSearchParams's input"); this.append(o[0], o[1]) } else for (var s in t) t.hasOwnProperty(s) && this.append(s, t[s]) } }, o = r.prototype; o.append = function (t, e) { t in this._entries ? this._entries[t].push(String(e)) : this._entries[t] = [String(e)] }, o.delete = function (t) { delete this._entries[t] }, o.get = function (t) { return t in this._entries ? this._entries[t][0] : null }, o.getAll = function (t) { return t in this._entries ? this._entries[t].slice(0) : [] }, o.has = function (t) { return t in this._entries }, o.set = function (t, e) { this._entries[t] = [String(e)] }, o.forEach = function (t, e) { var n; for (var i in this._entries) if (this._entries.hasOwnProperty(i)) { n = this._entries[i]; for (var r = 0; r < n.length; r++)t.call(e, n[r], i, this) } }, o.keys = function () { var t = []; return this.forEach((function (e, n) { t.push(n) })), n(t) }, o.values = function () { var t = []; return this.forEach((function (e) { t.push(e) })), n(t) }, o.entries = function () { var t = []; return this.forEach((function (e, n) { t.push([n, e]) })), n(t) }, e && (o[Symbol.iterator] = o.entries), o.toString = function () { var t = []; return this.forEach((function (e, n) { t.push(i(n) + "=" + i(e)) })), t.join("&") }, t.URLSearchParams = r }(); var o = t.URLSearchParams.prototype; "function" != typeof o.sort && (o.sort = function () { var t = this, e = []; this.forEach((function (n, i) { e.push([i, n]), t._entries || t.delete(i) })), e.sort((function (t, e) { return t[0] < e[0] ? -1 : t[0] > e[0] ? 1 : 0 })), t._entries && (t._entries = {}); for (var n = 0; n < e.length; n++)this.append(e[n][0], e[n][1]) }), "function" != typeof o._fromString && Object.defineProperty(o, "_fromString", { enumerable: !1, configurable: !1, writable: !1, value: function (t) { if (this._entries) this._entries = {}; else { var e = []; this.forEach((function (t, n) { e.push(n) })); for (var n = 0; n < e.length; n++)this.delete(e[n]) } var i, o = (t = t.replace(/^\?/, "")).split("&"); for (n = 0; n < o.length; n++)i = o[n].split("="), this.append(r(i[0]), i.length > 1 ? r(i[1]) : "") } }) }(void 0 !== t ? t : "undefined" != typeof window ? window : "undefined" != typeof self ? self : t), function (t) { if (function () { try { var e = new t.URL("b", "http://a"); return e.pathname = "c d", "http://a/c%20d" === e.href && e.searchParams } catch (t) { return !1 } }() || function () { var e = t.URL, n = function (e, n) { "string" != typeof e && (e = String(e)), n && "string" != typeof n && (n = String(n)); var i, r = document; if (n && (void 0 === t.location || n !== t.location.href)) { n = n.toLowerCase(), (i = (r = document.implementation.createHTMLDocument("")).createElement("base")).href = n, r.head.appendChild(i); try { if (0 !== i.href.indexOf(n)) throw new Error(i.href) } catch (t) { throw new Error("URL unable to set base " + n + " due to " + t) } } var o = r.createElement("a"); o.href = e, i && (r.body.appendChild(o), o.href = o.href); var s = r.createElement("input"); if (s.type = "url", s.value = e, ":" === o.protocol || !/:/.test(o.href) || !s.checkValidity() && !n) throw new TypeError("Invalid URL"); Object.defineProperty(this, "_anchorElement", { value: o }); var a = new t.URLSearchParams(this.search), u = !0, l = !0, c = this;["append", "delete", "set"].forEach((function (t) { var e = a[t]; a[t] = function () { e.apply(a, arguments), u && (l = !1, c.search = a.toString(), l = !0) } })), Object.defineProperty(this, "searchParams", { value: a, enumerable: !0 }); var h = void 0; Object.defineProperty(this, "_updateSearchParams", { enumerable: !1, configurable: !1, writable: !1, value: function () { this.search !== h && (h = this.search, l && (u = !1, this.searchParams._fromString(this.search), u = !0)) } }) }, i = n.prototype;["hash", "host", "hostname", "port", "protocol"].forEach((function (t) { !function (t) { Object.defineProperty(i, t, { get: function () { return this._anchorElement[t] }, set: function (e) { this._anchorElement[t] = e }, enumerable: !0 }) }(t) })), Object.defineProperty(i, "search", { get: function () { return this._anchorElement.search }, set: function (t) { this._anchorElement.search = t, this._updateSearchParams() }, enumerable: !0 }), Object.defineProperties(i, { toString: { get: function () { var t = this; return function () { return t.href } } }, href: { get: function () { return this._anchorElement.href.replace(/\?$/, "") }, set: function (t) { this._anchorElement.href = t, this._updateSearchParams() }, enumerable: !0 }, pathname: { get: function () { return this._anchorElement.pathname.replace(/(^\/?)/, "/") }, set: function (t) { this._anchorElement.pathname = t }, enumerable: !0 }, origin: { get: function () { var t = { "http:": 80, "https:": 443, "ftp:": 21 }[this._anchorElement.protocol], e = this._anchorElement.port != t && "" !== this._anchorElement.port; return this._anchorElement.protocol + "//" + this._anchorElement.hostname + (e ? ":" + this._anchorElement.port : "") }, enumerable: !0 }, password: { get: function () { return "" }, set: function (t) { }, enumerable: !0 }, username: { get: function () { return "" }, set: function (t) { }, enumerable: !0 } }), n.createObjectURL = function (t) { return e.createObjectURL.apply(e, arguments) }, n.revokeObjectURL = function (t) { return e.revokeObjectURL.apply(e, arguments) }, t.URL = n }(), void 0 !== t.location && !("origin" in t.location)) { var e = function () { return t.location.protocol + "//" + t.location.hostname + (t.location.port ? ":" + t.location.port : "") }; try { Object.defineProperty(t.location, "origin", { get: e, enumerable: !0 }) } catch (n) { setInterval((function () { t.location.origin = e() }), 100) } } }(void 0 !== t ? t : "undefined" != typeof window ? window : "undefined" != typeof self ? self : t); var Lr = { addCSS: !0, thumbWidth: 15, watch: !0 }; function Or(t, e) { return function () { return Array.from(document.querySelectorAll(e)).includes(this) }.call(t, e) } var kr = function (t) { return null != t ? t.constructor : null }, Fr = function (t, e) { return !!(t && e && t instanceof e) }, Rr = function (t) { return null == t }, qr = function (t) { return kr(t) === Object }, jr = function (t) { return kr(t) === String }, Br = function (t) { return Array.isArray(t) }, $r = function (t) { return Fr(t, NodeList) }, zr = jr, Vr = Br, Ur = $r, Hr = function (t) { return Fr(t, Element) }, Gr = function (t) { return Fr(t, Event) }, Xr = function (t) { return Rr(t) || (jr(t) || Br(t) || $r(t)) && !t.length || qr(t) && !Object.keys(t).length }; function Yr(t, e) { if (1 > e) { var n = function (t) { var e = "".concat(t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/); return e ? Math.max(0, (e[1] ? e[1].length : 0) - (e[2] ? +e[2] : 0)) : 0 }(e); return parseFloat(t.toFixed(n)) } return Math.round(t / e) * e } var Wr = function () { function t(e, n) { (function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") })(this, t), Hr(e) ? this.element = e : zr(e) && (this.element = document.querySelector(e)), Hr(this.element) && Xr(this.element.rangeTouch) && (this.config = Mr({}, Lr, {}, n), this.init()) } return function (t, e, n) { e && Nr(t.prototype, e), n && Nr(t, n) }(t, [{ key: "init", value: function () { t.enabled && (this.config.addCSS && (this.element.style.userSelect = "none", this.element.style.webKitUserSelect = "none", this.element.style.touchAction = "manipulation"), this.listeners(!0), this.element.rangeTouch = this) } }, { key: "destroy", value: function () { t.enabled && (this.config.addCSS && (this.element.style.userSelect = "", this.element.style.webKitUserSelect = "", this.element.style.touchAction = ""), this.listeners(!1), this.element.rangeTouch = null) } }, { key: "listeners", value: function (t) { var e = this, n = t ? "addEventListener" : "removeEventListener";["touchstart", "touchmove", "touchend"].forEach((function (t) { e.element[n](t, (function (t) { return e.set(t) }), !1) })) } }, { key: "get", value: function (e) { if (!t.enabled || !Gr(e)) return null; var n, i = e.target, r = e.changedTouches[0], o = parseFloat(i.getAttribute("min")) || 0, s = parseFloat(i.getAttribute("max")) || 100, a = parseFloat(i.getAttribute("step")) || 1, u = i.getBoundingClientRect(), l = 100 / u.width * (this.config.thumbWidth / 2) / 100; return 0 > (n = 100 / u.width * (r.clientX - u.left)) ? n = 0 : 100 < n && (n = 100), 50 > n ? n -= (100 - 2 * n) * l : 50 < n && (n += 2 * (n - 50) * l), o + Yr(n / 100 * (s - o), a) } }, { key: "set", value: function (e) { t.enabled && Gr(e) && !e.target.disabled && (e.preventDefault(), e.target.value = this.get(e), function (t, e) { if (t && e) { var n = new Event(e, { bubbles: !0 }); t.dispatchEvent(n) } }(e.target, "touchend" === e.type ? "change" : "input")) } }], [{ key: "setup", value: function (e) { var n = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}, i = null; if (Xr(e) || zr(e) ? i = Array.from(document.querySelectorAll(zr(e) ? e : 'input[type="range"]')) : Hr(e) ? i = [e] : Ur(e) ? i = Array.from(e) : Vr(e) && (i = e.filter(Hr)), Xr(i)) return null; var r = Mr({}, Lr, {}, n); if (zr(e) && r.watch) { var o = new MutationObserver((function (n) { Array.from(n).forEach((function (n) { Array.from(n.addedNodes).forEach((function (n) { Hr(n) && Or(n, e) && new t(n, r) })) })) })); o.observe(document.body, { childList: !0, subtree: !0 }) } return i.map((function (e) { return new t(e, n) })) } }, { key: "enabled", get: function () { return "ontouchstart" in document.documentElement } }]), t }(); const Jr = t => null != t ? t.constructor : null, Zr = (t, e) => Boolean(t && e && t instanceof e), Kr = t => null == t, Qr = t => Jr(t) === Object, to = t => Jr(t) === String, eo = t => Jr(t) === Function, no = t => Array.isArray(t), io = t => Zr(t, NodeList), ro = t => Kr(t) || (to(t) || no(t) || io(t)) && !t.length || Qr(t) && !Object.keys(t).length; var oo = Kr, so = Qr, ao = t => Jr(t) === Number && !Number.isNaN(t), uo = to, lo = t => Jr(t) === Boolean, co = eo, ho = no, po = io, fo = t => null !== t && "object" == typeof t && 1 === t.nodeType && "object" == typeof t.style && "object" == typeof t.ownerDocument, go = t => Zr(t, Event), yo = t => Zr(t, KeyboardEvent), mo = t => Zr(t, TextTrack) || !Kr(t) && to(t.kind), vo = t => Zr(t, Promise) && eo(t.then), _o = t => { if (Zr(t, window.URL)) return !0; if (!to(t)) return !1; let e = t; t.startsWith("http://") && t.startsWith("https://") || (e = "http://" + t); try { return !ro(new URL(e).hostname) } catch (t) { return !1 } }, bo = ro; const wo = (() => { const t = document.createElement("span"), e = { WebkitTransition: "webkitTransitionEnd", MozTransition: "transitionend", OTransition: "oTransitionEnd otransitionend", transition: "transitionend" }, n = Object.keys(e).find(e => void 0 !== t.style[e]); return !!uo(n) && e[n] })(); function xo(t, e) { setTimeout(() => { try { t.hidden = !0, t.offsetHeight, t.hidden = !1 } catch (t) { } }, e) } const Eo = { isIE: Boolean(window.document.documentMode), isEdge: window.navigator.userAgent.includes("Edge"), isWebkit: "WebkitAppearance" in document.documentElement.style && !/Edge/.test(navigator.userAgent), isIPhone: /(iPhone|iPod)/gi.test(navigator.platform), isIos: "MacIntel" === navigator.platform && navigator.maxTouchPoints > 1 || /(iPad|iPhone|iPod)/gi.test(navigator.platform) }; function Co(t, e) { return e.split(".").reduce((t, e) => t && t[e], t) } function Do(t = {}, ...e) { if (!e.length) return t; const n = e.shift(); return so(n) ? (Object.keys(n).forEach(e => { so(n[e]) ? (Object.keys(t).includes(e) || Object.assign(t, { [e]: {} }), Do(t[e], n[e])) : Object.assign(t, { [e]: n[e] }) }), Do(t, ...e)) : t } function So(t, e) { const n = t.length ? t : [t]; Array.from(n).reverse().forEach((t, n) => { const i = n > 0 ? e.cloneNode(!0) : e, r = t.parentNode, o = t.nextSibling; i.appendChild(t), o ? r.insertBefore(i, o) : r.appendChild(i) }) } function To(t, e) { fo(t) && !bo(e) && Object.entries(e).filter(([, t]) => !oo(t)).forEach(([e, n]) => t.setAttribute(e, n)) } function Io(t, e, n) { const i = document.createElement(t); return so(e) && To(i, e), uo(n) && (i.innerText = n), i } function No(t, e, n, i) { fo(e) && e.appendChild(Io(t, n, i)) } function Po(t) { po(t) || ho(t) ? Array.from(t).forEach(Po) : fo(t) && fo(t.parentNode) && t.parentNode.removeChild(t) } function Ao(t) { if (!fo(t)) return; let { length: e } = t.childNodes; for (; e > 0;)t.removeChild(t.lastChild), e -= 1 } function Mo(t, e) { return fo(e) && fo(e.parentNode) && fo(t) ? (e.parentNode.replaceChild(t, e), t) : null } function Lo(t, e) { if (!uo(t) || bo(t)) return {}; const n = {}, i = Do({}, e); return t.split(",").forEach(t => { const e = t.trim(), r = e.replace(".", ""), o = e.replace(/[[\]]/g, "").split("="), [s] = o, a = o.length > 1 ? o[1].replace(/["']/g, "") : ""; switch (e.charAt(0)) { case ".": uo(i.class) ? n.class = `${i.class} ${r}` : n.class = r; break; case "#": n.id = e.replace("#", ""); break; case "[": n[s] = a } }), Do(i, n) } function Oo(t, e) { if (!fo(t)) return; let n = e; lo(n) || (n = !t.hidden), t.hidden = n } function ko(t, e, n) { if (po(t)) return Array.from(t).map(t => ko(t, e, n)); if (fo(t)) { let i = "toggle"; return void 0 !== n && (i = n ? "add" : "remove"), t.classList[i](e), t.classList.contains(e) } return !1 } function Fo(t, e) { return fo(t) && t.classList.contains(e) } function Ro(t, e) { const { prototype: n } = Element; return (n.matches || n.webkitMatchesSelector || n.mozMatchesSelector || n.msMatchesSelector || function () { return Array.from(document.querySelectorAll(e)).includes(this) }).call(t, e) } function qo(t) { return this.elements.container.querySelectorAll(t) } function jo(t) { return this.elements.container.querySelector(t) } function Bo(t = null, e = !1) { fo(t) && (t.focus({ preventScroll: !0 }), e && ko(t, this.config.classNames.tabFocus)) } const $o = { "audio/ogg": "vorbis", "audio/wav": "1", "video/webm": "vp8, vorbis", "video/mp4": "avc1.42E01E, mp4a.40.2", "video/ogg": "theora" }, zo = { audio: "canPlayType" in document.createElement("audio"), video: "canPlayType" in document.createElement("video"), check(t, e, n) { const i = Eo.isIPhone && n && zo.playsinline, r = zo[t] || "html5" !== e; return { api: r, ui: r && zo.rangeInput && ("video" !== t || !Eo.isIPhone || i) } }, pip: !(Eo.isIPhone || !co(Io("video").webkitSetPresentationMode) && (!document.pictureInPictureEnabled || Io("video").disablePictureInPicture)), airplay: co(window.WebKitPlaybackTargetAvailabilityEvent), playsinline: "playsInline" in document.createElement("video"), mime(t) { if (bo(t)) return !1; const [e] = t.split("/"); let n = t; if (!this.isHTML5 || e !== this.type) return !1; Object.keys($o).includes(n) && (n += `; codecs="${$o[t]}"`); try { return Boolean(n && this.media.canPlayType(n).replace(/no/, "")) } catch (t) { return !1 } }, textTracks: "textTracks" in document.createElement("video"), rangeInput: (() => { const t = document.createElement("input"); return t.type = "range", "range" === t.type })(), touch: "ontouchstart" in document.documentElement, transitions: !1 !== wo, reducedMotion: "matchMedia" in window && window.matchMedia("(prefers-reduced-motion)").matches }, Vo = (() => { let t = !1; try { const e = Object.defineProperty({}, "passive", { get: () => (t = !0, null) }); window.addEventListener("test", null, e), window.removeEventListener("test", null, e) } catch (t) { } return t })(); function Uo(t, e, n, i = !1, r = !0, o = !1) { if (!t || !("addEventListener" in t) || bo(e) || !co(n)) return; const s = e.split(" "); let a = o; Vo && (a = { passive: r, capture: o }), s.forEach(e => { this && this.eventListeners && i && this.eventListeners.push({ element: t, type: e, callback: n, options: a }), t[i ? "addEventListener" : "removeEventListener"](e, n, a) }) } function Ho(t, e = "", n, i = !0, r = !1) { Uo.call(this, t, e, n, !0, i, r) } function Go(t, e = "", n, i = !0, r = !1) { Uo.call(this, t, e, n, !1, i, r) } function Xo(t, e = "", n, i = !0, r = !1) { const o = (...s) => { Go(t, e, o, i, r), n.apply(this, s) }; Uo.call(this, t, e, o, !0, i, r) } function Yo(t, e = "", n = !1, i = {}) { if (!fo(t) || bo(e)) return; const r = new CustomEvent(e, { bubbles: n, detail: { ...i, plyr: this } }); t.dispatchEvent(r) } function Wo() { this && this.eventListeners && (this.eventListeners.forEach(t => { const { element: e, type: n, callback: i, options: r } = t; e.removeEventListener(n, i, r) }), this.eventListeners = []) } function Jo() { return new Promise(t => this.ready ? setTimeout(t, 0) : Ho.call(this, this.elements.container, "ready", t)).then(() => { }) } function Zo(t) { vo(t) && t.then(null, () => { }) } function Ko(t) { return ho(t) ? t.filter((e, n) => t.indexOf(e) === n) : t } function Qo(t, e) { return ho(t) && t.length ? t.reduce((t, n) => Math.abs(n - e) < Math.abs(t - e) ? n : t) : null } function ts(t) { return !(!window || !window.CSS) && window.CSS.supports(t) } const es = [[1, 1], [4, 3], [3, 4], [5, 4], [4, 5], [3, 2], [2, 3], [16, 10], [10, 16], [16, 9], [9, 16], [21, 9], [9, 21], [32, 9], [9, 32]].reduce((t, [e, n]) => ({ ...t, [e / n]: [e, n] }), {}); function ns(t) { return !!(ho(t) || uo(t) && t.includes(":")) && (ho(t) ? t : t.split(":")).map(Number).every(ao) } function is(t) { if (!ho(t) || !t.every(ao)) return null; const [e, n] = t, i = (t, e) => 0 === e ? t : i(e, t % e), r = i(e, n); return [e / r, n / r] } function rs(t) { const e = t => ns(t) ? t.split(":").map(Number) : null; let n = e(t); if (null === n && (n = e(this.config.ratio)), null === n && !bo(this.embed) && ho(this.embed.ratio) && ({ ratio: n } = this.embed), null === n && this.isHTML5) { const { videoWidth: t, videoHeight: e } = this.media; n = [t, e] } return is(n) } function os(t) { if (!this.isVideo) return {}; const { wrapper: e } = this.elements, n = rs.call(this, t); if (!ho(n)) return {}; const [i, r] = is(n), o = 100 / i * r; if (ts(`aspect-ratio: ${i}/${r}`) ? e.style.aspectRatio = `${i}/${r}` : e.style.paddingBottom = o + "%", this.isVimeo && !this.config.vimeo.premium && this.supported.ui) { const t = 100 / this.media.offsetWidth * parseInt(window.getComputedStyle(this.media).paddingBottom, 10), n = (t - o) / (t / 50); this.fullscreen.active ? e.style.paddingBottom = null : this.media.style.transform = `translateY(-${n}%)` } else this.isHTML5 && e.classList.add(this.config.classNames.videoFixedRatio); return { padding: o, ratio: n } } function ss(t, e, n = .05) { const i = t / e, r = Qo(Object.keys(es), i); return Math.abs(r - i) <= n ? es[r] : [t, e] } const as = { getSources() { return this.isHTML5 ? Array.from(this.media.querySelectorAll("source")).filter(t => { const e = t.getAttribute("type"); return !!bo(e) || zo.mime.call(this, e) }) : [] }, getQualityOptions() { return this.config.quality.forced ? this.config.quality.options : as.getSources.call(this).map(t => Number(t.getAttribute("size"))).filter(Boolean) }, setup() { if (!this.isHTML5) return; const t = this; t.options.speed = t.config.speed.options, bo(this.config.ratio) || os.call(t), Object.defineProperty(t.media, "quality", { get() { const e = as.getSources.call(t).find(e => e.getAttribute("src") === t.source); return e && Number(e.getAttribute("size")) }, set(e) { if (t.quality !== e) { if (t.config.quality.forced && co(t.config.quality.onChange)) t.config.quality.onChange(e); else { const n = as.getSources.call(t).find(t => Number(t.getAttribute("size")) === e); if (!n) return; const { currentTime: i, paused: r, preload: o, readyState: s, playbackRate: a } = t.media; t.media.src = n.getAttribute("src"), ("none" !== o || s) && (t.once("loadedmetadata", () => { t.speed = a, t.currentTime = i, r || Zo(t.play()) }), t.media.load()) } Yo.call(t, t.media, "qualitychange", !1, { quality: e }) } } }) }, cancelRequests() { this.isHTML5 && (Po(as.getSources.call(this)), this.media.setAttribute("src", this.config.blankVideo), this.media.load(), this.debug.log("Cancelled network requests")) } }; function us(t, ...e) { return bo(t) ? t : t.toString().replace(/{(\d+)}/g, (t, n) => e[n].toString()) } const ls = (t = "", e = "", n = "") => t.replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g, "\\$1"), "g"), n.toString()), cs = (t = "") => t.toString().replace(/\w\S*/g, t => t.charAt(0).toUpperCase() + t.substr(1).toLowerCase()); function hs(t = "") { let e = t.toString(); return e = function (t = "") { let e = t.toString(); return e = ls(e, "-", " "), e = ls(e, "_", " "), e = cs(e), ls(e, " ", "") }(e), e.charAt(0).toLowerCase() + e.slice(1) } function ps(t) { const e = document.createElement("div"); return e.appendChild(t), e.innerHTML } const fs = { pip: "PIP", airplay: "AirPlay", html5: "HTML5", vimeo: "Vimeo", youtube: "YouTube" }, ds = { get(t = "", e = {}) { if (bo(t) || bo(e)) return ""; let n = Co(e.i18n, t); if (bo(n)) return Object.keys(fs).includes(t) ? fs[t] : ""; const i = { "{seektime}": e.seekTime, "{title}": e.title }; return Object.entries(i).forEach(([t, e]) => { n = ls(n, t, e) }), n } }; class gs { constructor(t) { Ir(this, "get", t => { if (!gs.supported || !this.enabled) return null; const e = window.localStorage.getItem(this.key); if (bo(e)) return null; const n = JSON.parse(e); return uo(t) && t.length ? n[t] : n }), Ir(this, "set", t => { if (!gs.supported || !this.enabled) return; if (!so(t)) return; let e = this.get(); bo(e) && (e = {}), Do(e, t), window.localStorage.setItem(this.key, JSON.stringify(e)) }), this.enabled = t.config.storage.enabled, this.key = t.config.storage.key } static get supported() { try { if (!("localStorage" in window)) return !1; const t = "___test"; return window.localStorage.setItem(t, t), window.localStorage.removeItem(t), !0 } catch (t) { return !1 } } } function ys(t, e = "text") { return new Promise((n, i) => { try { const i = new XMLHttpRequest; if (!("withCredentials" in i)) return; i.addEventListener("load", () => { if ("text" === e) try { n(JSON.parse(i.responseText)) } catch (t) { n(i.responseText) } else n(i.response) }), i.addEventListener("error", () => { throw new Error(i.status) }), i.open("GET", t, !0), i.responseType = e, i.send() } catch (t) { i(t) } }) } function ms(t, e) { if (!uo(t)) return; const n = uo(e); let i = !1; const r = () => null !== document.getElementById(e), o = (t, e) => { t.innerHTML = e, n && r() || document.body.insertAdjacentElement("afterbegin", t) }; if (!n || !r()) { const r = gs.supported, s = document.createElement("div"); if (s.setAttribute("hidden", ""), n && s.setAttribute("id", e), r) { const t = window.localStorage.getItem("cache-" + e); if (i = null !== t, i) { const e = JSON.parse(t); o(s, e.content) } } ys(t).then(t => { bo(t) || (r && window.localStorage.setItem("cache-" + e, JSON.stringify({ content: t })), o(s, t)) }).catch(() => { }) } } const vs = t => Math.trunc(t / 60 / 60 % 60, 10); function _s(t = 0, e = !1, n = !1) { if (!ao(t)) return _s(void 0, e, n); const i = t => ("0" + t).slice(-2); let r = vs(t); const o = (s = t, Math.trunc(s / 60 % 60, 10)); var s; const a = (t => Math.trunc(t % 60, 10))(t); return e || r > 0 ? r += ":" : r = "", `${n && t > 0 ? "-" : ""}${r}${i(o)}:${i(a)}` } const bs = { getIconUrl() { const t = new URL(this.config.iconUrl, window.location).host !== window.location.host || Eo.isIE && !window.svg4everybody; return { url: this.config.iconUrl, cors: t } }, findElements() { try { return this.elements.controls = jo.call(this, this.config.selectors.controls.wrapper), this.elements.buttons = { play: qo.call(this, this.config.selectors.buttons.play), pause: jo.call(this, this.config.selectors.buttons.pause), restart: jo.call(this, this.config.selectors.buttons.restart), rewind: jo.call(this, this.config.selectors.buttons.rewind), fastForward: jo.call(this, this.config.selectors.buttons.fastForward), mute: jo.call(this, this.config.selectors.buttons.mute), pip: jo.call(this, this.config.selectors.buttons.pip), airplay: jo.call(this, this.config.selectors.buttons.airplay), settings: jo.call(this, this.config.selectors.buttons.settings), captions: jo.call(this, this.config.selectors.buttons.captions), fullscreen: jo.call(this, this.config.selectors.buttons.fullscreen) }, this.elements.progress = jo.call(this, this.config.selectors.progress), this.elements.inputs = { seek: jo.call(this, this.config.selectors.inputs.seek), volume: jo.call(this, this.config.selectors.inputs.volume) }, this.elements.display = { buffer: jo.call(this, this.config.selectors.display.buffer), currentTime: jo.call(this, this.config.selectors.display.currentTime), duration: jo.call(this, this.config.selectors.display.duration) }, fo(this.elements.progress) && (this.elements.display.seekTooltip = this.elements.progress.querySelector("." + this.config.classNames.tooltip)), !0 } catch (t) { return this.debug.warn("It looks like there is a problem with your custom controls HTML", t), this.toggleNativeControls(!0), !1 } }, createIcon(t, e) { const n = bs.getIconUrl.call(this), i = `${n.cors ? "" : n.url}#${this.config.iconPrefix}`, r = document.createElementNS("http://www.w3.org/2000/svg", "svg"); To(r, Do(e, { "aria-hidden": "true", focusable: "false" })); const o = document.createElementNS("http://www.w3.org/2000/svg", "use"), s = `${i}-${t}`; return "href" in o && o.setAttributeNS("http://www.w3.org/1999/xlink", "href", s), o.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", s), r.appendChild(o), r }, createLabel(t, e = {}) { const n = ds.get(t, this.config); return Io("span", { ...e, class: [e.class, this.config.classNames.hidden].filter(Boolean).join(" ") }, n) }, createBadge(t) { if (bo(t)) return null; const e = Io("span", { class: this.config.classNames.menu.value }); return e.appendChild(Io("span", { class: this.config.classNames.menu.badge }, t)), e }, createButton(t, e) { const n = Do({}, e); let i = hs(t); const r = { element: "button", toggle: !1, label: null, icon: null, labelPressed: null, iconPressed: null }; switch (["element", "icon", "label"].forEach(t => { Object.keys(n).includes(t) && (r[t] = n[t], delete n[t]) }), "button" !== r.element || Object.keys(n).includes("type") || (n.type = "button"), Object.keys(n).includes("class") ? n.class.split(" ").some(t => t === this.config.classNames.control) || Do(n, { class: `${n.class} ${this.config.classNames.control}` }) : n.class = this.config.classNames.control, t) { case "play": r.toggle = !0, r.label = "play", r.labelPressed = "pause", r.icon = "play", r.iconPressed = "pause"; break; case "mute": r.toggle = !0, r.label = "mute", r.labelPressed = "unmute", r.icon = "volume", r.iconPressed = "muted"; break; case "captions": r.toggle = !0, r.label = "enableCaptions", r.labelPressed = "disableCaptions", r.icon = "captions-off", r.iconPressed = "captions-on"; break; case "fullscreen": r.toggle = !0, r.label = "enterFullscreen", r.labelPressed = "exitFullscreen", r.icon = "enter-fullscreen", r.iconPressed = "exit-fullscreen"; break; case "play-large": n.class += ` ${this.config.classNames.control}--overlaid`, i = "play", r.label = "play", r.icon = "play"; break; default: bo(r.label) && (r.label = i), bo(r.icon) && (r.icon = t) }const o = Io(r.element); return r.toggle ? (o.appendChild(bs.createIcon.call(this, r.iconPressed, { class: "icon--pressed" })), o.appendChild(bs.createIcon.call(this, r.icon, { class: "icon--not-pressed" })), o.appendChild(bs.createLabel.call(this, r.labelPressed, { class: "label--pressed" })), o.appendChild(bs.createLabel.call(this, r.label, { class: "label--not-pressed" }))) : (o.appendChild(bs.createIcon.call(this, r.icon)), o.appendChild(bs.createLabel.call(this, r.label))), Do(n, Lo(this.config.selectors.buttons[i], n)), To(o, n), "play" === i ? (ho(this.elements.buttons[i]) || (this.elements.buttons[i] = []), this.elements.buttons[i].push(o)) : this.elements.buttons[i] = o, o }, createRange(t, e) { const n = Io("input", Do(Lo(this.config.selectors.inputs[t]), { type: "range", min: 0, max: 100, step: .01, value: 0, autocomplete: "off", role: "slider", "aria-label": ds.get(t, this.config), "aria-valuemin": 0, "aria-valuemax": 100, "aria-valuenow": 0 }, e)); return this.elements.inputs[t] = n, bs.updateRangeFill.call(this, n), Wr.setup(n), n }, createProgress(t, e) { const n = Io("progress", Do(Lo(this.config.selectors.display[t]), { min: 0, max: 100, value: 0, role: "progressbar", "aria-hidden": !0 }, e)); if ("volume" !== t) { n.appendChild(Io("span", null, "0")); const e = { played: "played", buffer: "buffered" }[t], i = e ? ds.get(e, this.config) : ""; n.innerText = "% " + i.toLowerCase() } return this.elements.display[t] = n, n }, createTime(t, e) { const n = Lo(this.config.selectors.display[t], e), i = Io("div", Do(n, { class: `${n.class ? n.class : ""} ${this.config.classNames.display.time} `.trim(), "aria-label": ds.get(t, this.config) }), "00:00"); return this.elements.display[t] = i, i }, bindMenuItemShortcuts(t, e) { Ho.call(this, t, "keydown keyup", n => { if (![32, 38, 39, 40].includes(n.which)) return; if (n.preventDefault(), n.stopPropagation(), "keydown" === n.type) return; const i = Ro(t, '[role="menuitemradio"]'); if (!i && [32, 39].includes(n.which)) bs.showMenuPanel.call(this, e, !0); else { let e; 32 !== n.which && (40 === n.which || i && 39 === n.which ? (e = t.nextElementSibling, fo(e) || (e = t.parentNode.firstElementChild)) : (e = t.previousElementSibling, fo(e) || (e = t.parentNode.lastElementChild)), Bo.call(this, e, !0)) } }, !1), Ho.call(this, t, "keyup", t => { 13 === t.which && bs.focusFirstMenuItem.call(this, null, !0) }) }, createMenuItem({ value: t, list: e, type: n, title: i, badge: r = null, checked: o = !1 }) { const s = Lo(this.config.selectors.inputs[n]), a = Io("button", Do(s, { type: "button", role: "menuitemradio", class: `${this.config.classNames.control} ${s.class ? s.class : ""}`.trim(), "aria-checked": o, value: t })), u = Io("span"); u.innerHTML = i, fo(r) && u.appendChild(r), a.appendChild(u), Object.defineProperty(a, "checked", { enumerable: !0, get: () => "true" === a.getAttribute("aria-checked"), set(t) { t && Array.from(a.parentNode.children).filter(t => Ro(t, '[role="menuitemradio"]')).forEach(t => t.setAttribute("aria-checked", "false")), a.setAttribute("aria-checked", t ? "true" : "false") } }), this.listeners.bind(a, "click keyup", e => { if (!yo(e) || 32 === e.which) { switch (e.preventDefault(), e.stopPropagation(), a.checked = !0, n) { case "language": this.currentTrack = Number(t); break; case "quality": this.quality = t; break; case "speed": this.speed = parseFloat(t) }bs.showMenuPanel.call(this, "home", yo(e)) } }, n, !1), bs.bindMenuItemShortcuts.call(this, a, n), e.appendChild(a) }, formatTime(t = 0, e = !1) { return ao(t) ? _s(t, vs(this.duration) > 0, e) : t }, updateTimeDisplay(t = null, e = 0, n = !1) { fo(t) && ao(e) && (t.innerText = bs.formatTime(e, n)) }, updateVolume() { this.supported.ui && (fo(this.elements.inputs.volume) && bs.setRange.call(this, this.elements.inputs.volume, this.muted ? 0 : this.volume), fo(this.elements.buttons.mute) && (this.elements.buttons.mute.pressed = this.muted || 0 === this.volume)) }, setRange(t, e = 0) { fo(t) && (t.value = e, bs.updateRangeFill.call(this, t)) }, updateProgress(t) { if (!this.supported.ui || !go(t)) return; let e = 0; const n = (t, e) => { const n = ao(e) ? e : 0, i = fo(t) ? t : this.elements.display.buffer; if (fo(i)) { i.value = n; const t = i.getElementsByTagName("span")[0]; fo(t) && (t.childNodes[0].nodeValue = n) } }; if (t) switch (t.type) { case "timeupdate": case "seeking": case "seeked": e = function (t, e) { return 0 === t || 0 === e || Number.isNaN(t) || Number.isNaN(e) ? 0 : (t / e * 100).toFixed(2) }(this.currentTime, this.duration), "timeupdate" === t.type && bs.setRange.call(this, this.elements.inputs.seek, e); break; case "playing": case "progress": n(this.elements.display.buffer, 100 * this.buffered) } }, updateRangeFill(t) { const e = go(t) ? t.target : t; if (fo(e) && "range" === e.getAttribute("type")) { if (Ro(e, this.config.selectors.inputs.seek)) { e.setAttribute("aria-valuenow", this.currentTime); const t = bs.formatTime(this.currentTime), n = bs.formatTime(this.duration), i = ds.get("seekLabel", this.config); e.setAttribute("aria-valuetext", i.replace("{currentTime}", t).replace("{duration}", n)) } else if (Ro(e, this.config.selectors.inputs.volume)) { const t = 100 * e.value; e.setAttribute("aria-valuenow", t), e.setAttribute("aria-valuetext", t.toFixed(1) + "%") } else e.setAttribute("aria-valuenow", e.value); Eo.isWebkit && e.style.setProperty("--value", e.value / e.max * 100 + "%") } }, updateSeekTooltip(t) { if (!this.config.tooltips.seek || !fo(this.elements.inputs.seek) || !fo(this.elements.display.seekTooltip) || 0 === this.duration) return; const e = this.config.classNames.tooltip + "--visible", n = t => ko(this.elements.display.seekTooltip, e, t); if (this.touch) return void n(!1); let i = 0; const r = this.elements.progress.getBoundingClientRect(); if (go(t)) i = 100 / r.width * (t.pageX - r.left); else { if (!Fo(this.elements.display.seekTooltip, e)) return; i = parseFloat(this.elements.display.seekTooltip.style.left, 10) } i < 0 ? i = 0 : i > 100 && (i = 100), bs.updateTimeDisplay.call(this, this.elements.display.seekTooltip, this.duration / 100 * i), this.elements.display.seekTooltip.style.left = i + "%", go(t) && ["mouseenter", "mouseleave"].includes(t.type) && n("mouseenter" === t.type) }, timeUpdate(t) { const e = !fo(this.elements.display.duration) && this.config.invertTime; bs.updateTimeDisplay.call(this, this.elements.display.currentTime, e ? this.duration - this.currentTime : this.currentTime, e), t && "timeupdate" === t.type && this.media.seeking || bs.updateProgress.call(this, t) }, durationUpdate() { if (!this.supported.ui || !this.config.invertTime && this.currentTime) return; if (this.duration >= 2 ** 32) return Oo(this.elements.display.currentTime, !0), void Oo(this.elements.progress, !0); fo(this.elements.inputs.seek) && this.elements.inputs.seek.setAttribute("aria-valuemax", this.duration); const t = fo(this.elements.display.duration); !t && this.config.displayDuration && this.paused && bs.updateTimeDisplay.call(this, this.elements.display.currentTime, this.duration), t && bs.updateTimeDisplay.call(this, this.elements.display.duration, this.duration), bs.updateSeekTooltip.call(this) }, toggleMenuButton(t, e) { Oo(this.elements.settings.buttons[t], !e) }, updateSetting(t, e, n) { const i = this.elements.settings.panels[t]; let r = null, o = e; if ("captions" === t) r = this.currentTrack; else { if (r = bo(n) ? this[t] : n, bo(r) && (r = this.config[t].default), !bo(this.options[t]) && !this.options[t].includes(r)) return void this.debug.warn(`Unsupported value of '${r}' for ${t}`); if (!this.config[t].options.includes(r)) return void this.debug.warn(`Disabled value of '${r}' for ${t}`) } if (fo(o) || (o = i && i.querySelector('[role="menu"]')), !fo(o)) return; this.elements.settings.buttons[t].querySelector("." + this.config.classNames.menu.value).innerHTML = bs.getLabel.call(this, t, r); const s = o && o.querySelector(`[value="${r}"]`); fo(s) && (s.checked = !0) }, getLabel(t, e) { switch (t) { case "speed": return 1 === e ? ds.get("normal", this.config) : e + "&times;"; case "quality": if (ao(e)) { const t = ds.get("qualityLabel." + e, this.config); return t.length ? t : e + "p" } return cs(e); case "captions": return Es.getLabel.call(this); default: return null } }, setQualityMenu(t) { if (!fo(this.elements.settings.panels.quality)) return; const e = this.elements.settings.panels.quality.querySelector('[role="menu"]'); ho(t) && (this.options.quality = Ko(t).filter(t => this.config.quality.options.includes(t))); const n = !bo(this.options.quality) && this.options.quality.length > 1; if (bs.toggleMenuButton.call(this, "quality", n), Ao(e), bs.checkMenu.call(this), !n) return; const i = t => { const e = ds.get("qualityBadge." + t, this.config); return e.length ? bs.createBadge.call(this, e) : null }; this.options.quality.sort((t, e) => { const n = this.config.quality.options; return n.indexOf(t) > n.indexOf(e) ? 1 : -1 }).forEach(t => { bs.createMenuItem.call(this, { value: t, list: e, type: "quality", title: bs.getLabel.call(this, "quality", t), badge: i(t) }) }), bs.updateSetting.call(this, "quality", e) }, setCaptionsMenu() { if (!fo(this.elements.settings.panels.captions)) return; const t = this.elements.settings.panels.captions.querySelector('[role="menu"]'), e = Es.getTracks.call(this), n = Boolean(e.length); if (bs.toggleMenuButton.call(this, "captions", n), Ao(t), bs.checkMenu.call(this), !n) return; const i = e.map((e, n) => ({ value: n, checked: this.captions.toggled && this.currentTrack === n, title: Es.getLabel.call(this, e), badge: e.language && bs.createBadge.call(this, e.language.toUpperCase()), list: t, type: "language" })); i.unshift({ value: -1, checked: !this.captions.toggled, title: ds.get("disabled", this.config), list: t, type: "language" }), i.forEach(bs.createMenuItem.bind(this)), bs.updateSetting.call(this, "captions", t) }, setSpeedMenu() { if (!fo(this.elements.settings.panels.speed)) return; const t = this.elements.settings.panels.speed.querySelector('[role="menu"]'); this.options.speed = this.options.speed.filter(t => t >= this.minimumSpeed && t <= this.maximumSpeed); const e = !bo(this.options.speed) && this.options.speed.length > 1; bs.toggleMenuButton.call(this, "speed", e), Ao(t), bs.checkMenu.call(this), e && (this.options.speed.forEach(e => { bs.createMenuItem.call(this, { value: e, list: t, type: "speed", title: bs.getLabel.call(this, "speed", e) }) }), bs.updateSetting.call(this, "speed", t)) }, checkMenu() { const { buttons: t } = this.elements.settings, e = !bo(t) && Object.values(t).some(t => !t.hidden); Oo(this.elements.settings.menu, !e) }, focusFirstMenuItem(t, e = !1) { if (this.elements.settings.popup.hidden) return; let n = t; fo(n) || (n = Object.values(this.elements.settings.panels).find(t => !t.hidden)); const i = n.querySelector('[role^="menuitem"]'); Bo.call(this, i, e) }, toggleMenu(t) { const { popup: e } = this.elements.settings, n = this.elements.buttons.settings; if (!fo(e) || !fo(n)) return; const { hidden: i } = e; let r = i; if (lo(t)) r = t; else if (yo(t) && 27 === t.which) r = !1; else if (go(t)) { const i = co(t.composedPath) ? t.composedPath()[0] : t.target, o = e.contains(i); if (o || !o && t.target !== n && r) return } n.setAttribute("aria-expanded", r), Oo(e, !r), ko(this.elements.container, this.config.classNames.menu.open, r), r && yo(t) ? bs.focusFirstMenuItem.call(this, null, !0) : r || i || Bo.call(this, n, yo(t)) }, getMenuSize(t) { const e = t.cloneNode(!0); e.style.position = "absolute", e.style.opacity = 0, e.removeAttribute("hidden"), t.parentNode.appendChild(e); const n = e.scrollWidth, i = e.scrollHeight; return Po(e), { width: n, height: i } }, showMenuPanel(t = "", e = !1) { const n = this.elements.container.querySelector(`#plyr-settings-${this.id}-${t}`); if (!fo(n)) return; const i = n.parentNode, r = Array.from(i.children).find(t => !t.hidden); if (zo.transitions && !zo.reducedMotion) { i.style.width = r.scrollWidth + "px", i.style.height = r.scrollHeight + "px"; const t = bs.getMenuSize.call(this, n), e = t => { t.target === i && ["width", "height"].includes(t.propertyName) && (i.style.width = "", i.style.height = "", Go.call(this, i, wo, e)) }; Ho.call(this, i, wo, e), i.style.width = t.width + "px", i.style.height = t.height + "px" } Oo(r, !0), Oo(n, !1), bs.focusFirstMenuItem.call(this, n, e) }, setDownloadUrl() { const t = this.elements.buttons.download; fo(t) && t.setAttribute("href", this.download) }, create(t) { const { bindMenuItemShortcuts: e, createButton: n, createProgress: i, createRange: r, createTime: o, setQualityMenu: s, setSpeedMenu: a, showMenuPanel: u } = bs; this.elements.controls = null, ho(this.config.controls) && this.config.controls.includes("play-large") && this.elements.container.appendChild(n.call(this, "play-large")); const l = Io("div", Lo(this.config.selectors.controls.wrapper)); this.elements.controls = l; const c = { class: "plyr__controls__item" }; return Ko(ho(this.config.controls) ? this.config.controls : []).forEach(s => { if ("restart" === s && l.appendChild(n.call(this, "restart", c)), "rewind" === s && l.appendChild(n.call(this, "rewind", c)), "play" === s && l.appendChild(n.call(this, "play", c)), "fast-forward" === s && l.appendChild(n.call(this, "fast-forward", c)), "progress" === s) { const e = Io("div", { class: c.class + " plyr__progress__container" }), n = Io("div", Lo(this.config.selectors.progress)); if (n.appendChild(r.call(this, "seek", { id: "plyr-seek-" + t.id })), n.appendChild(i.call(this, "buffer")), this.config.tooltips.seek) { const t = Io("span", { class: this.config.classNames.tooltip }, "00:00"); n.appendChild(t), this.elements.display.seekTooltip = t } this.elements.progress = n, e.appendChild(this.elements.progress), l.appendChild(e) } if ("current-time" === s && l.appendChild(o.call(this, "currentTime", c)), "duration" === s && l.appendChild(o.call(this, "duration", c)), "mute" === s || "volume" === s) { let { volume: e } = this.elements; if (fo(e) && l.contains(e) || (e = Io("div", Do({}, c, { class: (c.class + " plyr__volume").trim() })), this.elements.volume = e, l.appendChild(e)), "mute" === s && e.appendChild(n.call(this, "mute")), "volume" === s && !Eo.isIos) { const n = { max: 1, step: .05, value: this.config.volume }; e.appendChild(r.call(this, "volume", Do(n, { id: "plyr-volume-" + t.id }))) } } if ("captions" === s && l.appendChild(n.call(this, "captions", c)), "settings" === s && !bo(this.config.settings)) { const i = Io("div", Do({}, c, { class: (c.class + " plyr__menu").trim(), hidden: "" })); i.appendChild(n.call(this, "settings", { "aria-haspopup": !0, "aria-controls": "plyr-settings-" + t.id, "aria-expanded": !1 })); const r = Io("div", { class: "plyr__menu__container", id: "plyr-settings-" + t.id, hidden: "" }), o = Io("div"), s = Io("div", { id: `plyr-settings-${t.id}-home` }), a = Io("div", { role: "menu" }); s.appendChild(a), o.appendChild(s), this.elements.settings.panels.home = s, this.config.settings.forEach(n => { const i = Io("button", Do(Lo(this.config.selectors.buttons.settings), { type: "button", class: `${this.config.classNames.control} ${this.config.classNames.control}--forward`, role: "menuitem", "aria-haspopup": !0, hidden: "" })); e.call(this, i, n), Ho.call(this, i, "click", () => { u.call(this, n, !1) }); const r = Io("span", null, ds.get(n, this.config)), s = Io("span", { class: this.config.classNames.menu.value }); s.innerHTML = t[n], r.appendChild(s), i.appendChild(r), a.appendChild(i); const l = Io("div", { id: `plyr-settings-${t.id}-${n}`, hidden: "" }), c = Io("button", { type: "button", class: `${this.config.classNames.control} ${this.config.classNames.control}--back` }); c.appendChild(Io("span", { "aria-hidden": !0 }, ds.get(n, this.config))), c.appendChild(Io("span", { class: this.config.classNames.hidden }, ds.get("menuBack", this.config))), Ho.call(this, l, "keydown", t => { 37 === t.which && (t.preventDefault(), t.stopPropagation(), u.call(this, "home", !0)) }, !1), Ho.call(this, c, "click", () => { u.call(this, "home", !1) }), l.appendChild(c), l.appendChild(Io("div", { role: "menu" })), o.appendChild(l), this.elements.settings.buttons[n] = i, this.elements.settings.panels[n] = l }), r.appendChild(o), i.appendChild(r), l.appendChild(i), this.elements.settings.popup = r, this.elements.settings.menu = i } if ("pip" === s && zo.pip && l.appendChild(n.call(this, "pip", c)), "airplay" === s && zo.airplay && l.appendChild(n.call(this, "airplay", c)), "download" === s) { const t = Do({}, c, { element: "a", href: this.download, target: "_blank" }); this.isHTML5 && (t.download = ""); const { download: e } = this.config.urls; !_o(e) && this.isEmbed && Do(t, { icon: "logo-" + this.provider, label: this.provider }), l.appendChild(n.call(this, "download", t)) } "fullscreen" === s && l.appendChild(n.call(this, "fullscreen", c)) }), this.isHTML5 && s.call(this, as.getQualityOptions.call(this)), a.call(this), l }, inject() { if (this.config.loadSprite) { const t = bs.getIconUrl.call(this); t.cors && ms(t.url, "sprite-plyr") } this.id = Math.floor(1e4 * Math.random()); let t = null; this.elements.controls = null; const e = { id: this.id, seektime: this.config.seekTime, title: this.config.title }; let n, i = !0; if (co(this.config.controls) && (this.config.controls = this.config.controls.call(this, e)), this.config.controls || (this.config.controls = []), fo(this.config.controls) || uo(this.config.controls) ? t = this.config.controls : (t = bs.create.call(this, { id: this.id, seektime: this.config.seekTime, speed: this.speed, quality: this.quality, captions: Es.getLabel.call(this) }), i = !1), i && uo(this.config.controls) && (t = (t => { let n = t; return Object.entries(e).forEach(([t, e]) => { n = ls(n, `{${t}}`, e) }), n })(t)), uo(this.config.selectors.controls.container) && (n = document.querySelector(this.config.selectors.controls.container)), fo(n) || (n = this.elements.container), n[fo(t) ? "insertAdjacentElement" : "insertAdjacentHTML"]("afterbegin", t), fo(this.elements.controls) || bs.findElements.call(this), !bo(this.elements.buttons)) { const t = t => { const e = this.config.classNames.controlPressed; Object.defineProperty(t, "pressed", { enumerable: !0, get: () => Fo(t, e), set(n = !1) { ko(t, e, n) } }) }; Object.values(this.elements.buttons).filter(Boolean).forEach(e => { ho(e) || po(e) ? Array.from(e).filter(Boolean).forEach(t) : t(e) }) } if (Eo.isEdge && xo(n), this.config.tooltips.controls) { const { classNames: t, selectors: e } = this.config, n = `${e.controls.wrapper} ${e.labels} .${t.hidden}`, i = qo.call(this, n); Array.from(i).forEach(t => { ko(t, this.config.classNames.hidden, !1), ko(t, this.config.classNames.tooltip, !0) }) } } }; function ws(t, e = !0) { let n = t; if (e) { const t = document.createElement("a"); t.href = n, n = t.href } try { return new URL(n) } catch (t) { return null } } function xs(t) { const e = new URLSearchParams; return so(t) && Object.entries(t).forEach(([t, n]) => { e.set(t, n) }), e } const Es = { setup() { if (!this.supported.ui) return; if (!this.isVideo || this.isYouTube || this.isHTML5 && !zo.textTracks) return void (ho(this.config.controls) && this.config.controls.includes("settings") && this.config.settings.includes("captions") && bs.setCaptionsMenu.call(this)); var t, e; if (fo(this.elements.captions) || (this.elements.captions = Io("div", Lo(this.config.selectors.captions)), t = this.elements.captions, e = this.elements.wrapper, fo(t) && fo(e) && e.parentNode.insertBefore(t, e.nextSibling)), Eo.isIE && window.URL) { const t = this.media.querySelectorAll("track"); Array.from(t).forEach(t => { const e = t.getAttribute("src"), n = ws(e); null !== n && n.hostname !== window.location.href.hostname && ["http:", "https:"].includes(n.protocol) && ys(e, "blob").then(e => { t.setAttribute("src", window.URL.createObjectURL(e)) }).catch(() => { Po(t) }) }) } const n = Ko((navigator.languages || [navigator.language || navigator.userLanguage || "en"]).map(t => t.split("-")[0])); let i = (this.storage.get("language") || this.config.captions.language || "auto").toLowerCase(); "auto" === i && ([i] = n); let r = this.storage.get("captions"); if (lo(r) || ({ active: r } = this.config.captions), Object.assign(this.captions, { toggled: !1, active: r, language: i, languages: n }), this.isHTML5) { const t = this.config.captions.update ? "addtrack removetrack" : "removetrack"; Ho.call(this, this.media.textTracks, t, Es.update.bind(this)) } setTimeout(Es.update.bind(this), 0) }, update() { const t = Es.getTracks.call(this, !0), { active: e, language: n, meta: i, currentTrackNode: r } = this.captions, o = Boolean(t.find(t => t.language === n)); this.isHTML5 && this.isVideo && t.filter(t => !i.get(t)).forEach(t => { this.debug.log("Track added", t), i.set(t, { default: "showing" === t.mode }), "showing" === t.mode && (t.mode = "hidden"), Ho.call(this, t, "cuechange", () => Es.updateCues.call(this)) }), (o && this.language !== n || !t.includes(r)) && (Es.setLanguage.call(this, n), Es.toggle.call(this, e && o)), ko(this.elements.container, this.config.classNames.captions.enabled, !bo(t)), ho(this.config.controls) && this.config.controls.includes("settings") && this.config.settings.includes("captions") && bs.setCaptionsMenu.call(this) }, toggle(t, e = !0) { if (!this.supported.ui) return; const { toggled: n } = this.captions, i = this.config.classNames.captions.active, r = oo(t) ? !n : t; if (r !== n) { if (e || (this.captions.active = r, this.storage.set({ captions: r })), !this.language && r && !e) { const t = Es.getTracks.call(this), e = Es.findTrack.call(this, [this.captions.language, ...this.captions.languages], !0); return this.captions.language = e.language, void Es.set.call(this, t.indexOf(e)) } this.elements.buttons.captions && (this.elements.buttons.captions.pressed = r), ko(this.elements.container, i, r), this.captions.toggled = r, bs.updateSetting.call(this, "captions"), Yo.call(this, this.media, r ? "captionsenabled" : "captionsdisabled") } setTimeout(() => { r && this.captions.toggled && (this.captions.currentTrackNode.mode = "hidden") }) }, set(t, e = !0) { const n = Es.getTracks.call(this); if (-1 !== t) if (ao(t)) if (t in n) { if (this.captions.currentTrack !== t) { this.captions.currentTrack = t; const i = n[t], { language: r } = i || {}; this.captions.currentTrackNode = i, bs.updateSetting.call(this, "captions"), e || (this.captions.language = r, this.storage.set({ language: r })), this.isVimeo && this.embed.enableTextTrack(r), Yo.call(this, this.media, "languagechange") } Es.toggle.call(this, !0, e), this.isHTML5 && this.isVideo && Es.updateCues.call(this) } else this.debug.warn("Track not found", t); else this.debug.warn("Invalid caption argument", t); else Es.toggle.call(this, !1, e) }, setLanguage(t, e = !0) { if (!uo(t)) return void this.debug.warn("Invalid language argument", t); const n = t.toLowerCase(); this.captions.language = n; const i = Es.getTracks.call(this), r = Es.findTrack.call(this, [n]); Es.set.call(this, i.indexOf(r), e) }, getTracks(t = !1) { return Array.from((this.media || {}).textTracks || []).filter(e => !this.isHTML5 || t || this.captions.meta.has(e)).filter(t => ["captions", "subtitles"].includes(t.kind)) }, findTrack(t, e = !1) { const n = Es.getTracks.call(this), i = t => Number((this.captions.meta.get(t) || {}).default), r = Array.from(n).sort((t, e) => i(e) - i(t)); let o; return t.every(t => (o = r.find(e => e.language === t), !o)), o || (e ? r[0] : void 0) }, getCurrentTrack() { return Es.getTracks.call(this)[this.currentTrack] }, getLabel(t) { let e = t; return !mo(e) && zo.textTracks && this.captions.toggled && (e = Es.getCurrentTrack.call(this)), mo(e) ? bo(e.label) ? bo(e.language) ? ds.get("enabled", this.config) : t.language.toUpperCase() : e.label : ds.get("disabled", this.config) }, updateCues(t) { if (!this.supported.ui) return; if (!fo(this.elements.captions)) return void this.debug.warn("No captions element to render to"); if (!oo(t) && !Array.isArray(t)) return void this.debug.warn("updateCues: Invalid input", t); let e = t; if (!e) { const t = Es.getCurrentTrack.call(this); e = Array.from((t || {}).activeCues || []).map(t => t.getCueAsHTML()).map(ps) } const n = e.map(t => t.trim()).join("\n"); if (n !== this.elements.captions.innerHTML) { Ao(this.elements.captions); const t = Io("span", Lo(this.config.selectors.caption)); t.innerHTML = n, this.elements.captions.appendChild(t), Yo.call(this, this.media, "cuechange") } } }, Cs = { enabled: !0, title: "", debug: !1, autoplay: !1, autopause: !0, playsinline: !0, seekTime: 10, volume: 1, muted: !1, duration: null, displayDuration: !0, invertTime: !0, toggleInvert: !0, ratio: null, clickToPlay: !0, hideControls: !0, resetOnEnd: !1, disableContextMenu: !0, loadSprite: !0, iconPrefix: "plyr", iconUrl: "https://cdn.plyr.io/3.6.8/plyr.svg", blankVideo: "https://cdn.plyr.io/static/blank.mp4", quality: { default: 576, options: [4320, 2880, 2160, 1440, 1080, 720, 576, 480, 360, 240], forced: !1, onChange: null }, loop: { active: !1 }, speed: { selected: 1, options: [.5, .75, 1, 1.25, 1.5, 1.75, 2, 4] }, keyboard: { focused: !0, global: !1 }, tooltips: { controls: !1, seek: !0 }, captions: { active: !1, language: "auto", update: !1 }, fullscreen: { enabled: !0, fallback: !0, iosNative: !1 }, storage: { enabled: !0, key: "plyr" }, controls: ["play-large", "play", "progress", "current-time", "mute", "volume", "captions", "settings", "pip", "airplay", "fullscreen"], settings: ["captions", "quality", "speed"], i18n: { restart: "Restart", rewind: "Rewind {seektime}s", play: "Play", pause: "Pause", fastForward: "Forward {seektime}s", seek: "Seek", seekLabel: "{currentTime} of {duration}", played: "Played", buffered: "Buffered", currentTime: "Current time", duration: "Duration", volume: "Volume", mute: "Mute", unmute: "Unmute", enableCaptions: "Enable captions", disableCaptions: "Disable captions", download: "Download", enterFullscreen: "Enter fullscreen", exitFullscreen: "Exit fullscreen", frameTitle: "Player for {title}", captions: "Captions", settings: "Settings", pip: "PIP", menuBack: "Go back to previous menu", speed: "Speed", normal: "Normal", quality: "Quality", loop: "Loop", start: "Start", end: "End", all: "All", reset: "Reset", disabled: "Disabled", enabled: "Enabled", advertisement: "Ad", qualityBadge: { 2160: "4K", 1440: "HD", 1080: "HD", 720: "HD", 576: "SD", 480: "SD" } }, urls: { download: null, vimeo: { sdk: "https://player.vimeo.com/api/player.js", iframe: "https://player.vimeo.com/video/{0}?{1}", api: "https://vimeo.com/api/oembed.json?url={0}" }, youtube: { sdk: "https://www.youtube.com/iframe_api", api: "https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}" }, googleIMA: { sdk: "https://imasdk.googleapis.com/js/sdkloader/ima3.js" } }, listeners: { seek: null, play: null, pause: null, restart: null, rewind: null, fastForward: null, mute: null, volume: null, captions: null, download: null, fullscreen: null, pip: null, airplay: null, speed: null, quality: null, loop: null, language: null }, events: ["ended", "progress", "stalled", "playing", "waiting", "canplay", "canplaythrough", "loadstart", "loadeddata", "loadedmetadata", "timeupdate", "volumechange", "play", "pause", "error", "seeking", "seeked", "emptied", "ratechange", "cuechange", "download", "enterfullscreen", "exitfullscreen", "captionsenabled", "captionsdisabled", "languagechange", "controlshidden", "controlsshown", "ready", "statechange", "qualitychange", "adsloaded", "adscontentpause", "adscontentresume", "adstarted", "adsmidpoint", "adscomplete", "adsallcomplete", "adsimpression", "adsclick"], selectors: { editable: "input, textarea, select, [contenteditable]", container: ".plyr", controls: { container: null, wrapper: ".plyr__controls" }, labels: "[data-plyr]", buttons: { play: '[data-plyr="play"]', pause: '[data-plyr="pause"]', restart: '[data-plyr="restart"]', rewind: '[data-plyr="rewind"]', fastForward: '[data-plyr="fast-forward"]', mute: '[data-plyr="mute"]', captions: '[data-plyr="captions"]', download: '[data-plyr="download"]', fullscreen: '[data-plyr="fullscreen"]', pip: '[data-plyr="pip"]', airplay: '[data-plyr="airplay"]', settings: '[data-plyr="settings"]', loop: '[data-plyr="loop"]' }, inputs: { seek: '[data-plyr="seek"]', volume: '[data-plyr="volume"]', speed: '[data-plyr="speed"]', language: '[data-plyr="language"]', quality: '[data-plyr="quality"]' }, display: { currentTime: ".plyr__time--current", duration: ".plyr__time--duration", buffer: ".plyr__progress__buffer", loop: ".plyr__progress__loop", volume: ".plyr__volume--display" }, progress: ".plyr__progress", captions: ".plyr__captions", caption: ".plyr__caption" }, classNames: { type: "plyr--{0}", provider: "plyr--{0}", video: "plyr__video-wrapper", embed: "plyr__video-embed", videoFixedRatio: "plyr__video-wrapper--fixed-ratio", embedContainer: "plyr__video-embed__container", poster: "plyr__poster", posterEnabled: "plyr__poster-enabled", ads: "plyr__ads", control: "plyr__control", controlPressed: "plyr__control--pressed", playing: "plyr--playing", paused: "plyr--paused", stopped: "plyr--stopped", loading: "plyr--loading", hover: "plyr--hover", tooltip: "plyr__tooltip", cues: "plyr__cues", hidden: "plyr__sr-only", hideControls: "plyr--hide-controls", isIos: "plyr--is-ios", isTouch: "plyr--is-touch", uiSupported: "plyr--full-ui", noTransition: "plyr--no-transition", display: { time: "plyr__time" }, menu: { value: "plyr__menu__value", badge: "plyr__badge", open: "plyr--menu-open" }, captions: { enabled: "plyr--captions-enabled", active: "plyr--captions-active" }, fullscreen: { enabled: "plyr--fullscreen-enabled", fallback: "plyr--fullscreen-fallback" }, pip: { supported: "plyr--pip-supported", active: "plyr--pip-active" }, airplay: { supported: "plyr--airplay-supported", active: "plyr--airplay-active" }, tabFocus: "plyr__tab-focus", previewThumbnails: { thumbContainer: "plyr__preview-thumb", thumbContainerShown: "plyr__preview-thumb--is-shown", imageContainer: "plyr__preview-thumb__image-container", timeContainer: "plyr__preview-thumb__time-container", scrubbingContainer: "plyr__preview-scrubbing", scrubbingContainerShown: "plyr__preview-scrubbing--is-shown" } }, attributes: { embed: { provider: "data-plyr-provider", id: "data-plyr-embed-id" } }, ads: { enabled: !1, publisherId: "", tagUrl: "" }, previewThumbnails: { enabled: !1, src: "" }, vimeo: { byline: !1, portrait: !1, title: !1, speed: !0, transparent: !1, customControls: !0, referrerPolicy: null, premium: !1 }, youtube: { rel: 0, showinfo: 0, iv_load_policy: 3, modestbranding: 1, customControls: !0, noCookie: !1 } }, Ds = "picture-in-picture", Ss = "inline", Ts = { html5: "html5", youtube: "youtube", vimeo: "vimeo" }, Is = "audio", Ns = "video", Ps = () => { }; class As { constructor(t = !1) { this.enabled = window.console && t, this.enabled && this.log("Debugging enabled") } get log() { return this.enabled ? Function.prototype.bind.call(console.log, console) : Ps } get warn() { return this.enabled ? Function.prototype.bind.call(console.warn, console) : Ps } get error() { return this.enabled ? Function.prototype.bind.call(console.error, console) : Ps } } class Ms { constructor(t) { Ir(this, "onChange", () => { if (!this.enabled) return; const t = this.player.elements.buttons.fullscreen; fo(t) && (t.pressed = this.active); const e = this.target === this.player.media ? this.target : this.player.elements.container; Yo.call(this.player, e, this.active ? "enterfullscreen" : "exitfullscreen", !0) }), Ir(this, "toggleFallback", (t = !1) => { if (t ? this.scrollPosition = { x: window.scrollX || 0, y: window.scrollY || 0 } : window.scrollTo(this.scrollPosition.x, this.scrollPosition.y), document.body.style.overflow = t ? "hidden" : "", ko(this.target, this.player.config.classNames.fullscreen.fallback, t), Eo.isIos) { let e = document.head.querySelector('meta[name="viewport"]'); const n = "viewport-fit=cover"; e || (e = document.createElement("meta"), e.setAttribute("name", "viewport")); const i = uo(e.content) && e.content.includes(n); t ? (this.cleanupViewport = !i, i || (e.content += "," + n)) : this.cleanupViewport && (e.content = e.content.split(",").filter(t => t.trim() !== n).join(",")) } this.onChange() }), Ir(this, "trapFocus", t => { if (Eo.isIos || !this.active || "Tab" !== t.key || 9 !== t.keyCode) return; const e = document.activeElement, n = qo.call(this.player, "a[href], button:not(:disabled), input:not(:disabled), [tabindex]"), [i] = n, r = n[n.length - 1]; e !== r || t.shiftKey ? e === i && t.shiftKey && (r.focus(), t.preventDefault()) : (i.focus(), t.preventDefault()) }), Ir(this, "update", () => { if (this.enabled) { let t; t = this.forceFallback ? "Fallback (forced)" : Ms.native ? "Native" : "Fallback", this.player.debug.log(t + " fullscreen enabled") } else this.player.debug.log("Fullscreen not supported and fallback disabled"); ko(this.player.elements.container, this.player.config.classNames.fullscreen.enabled, this.enabled) }), Ir(this, "enter", () => { this.enabled && (Eo.isIos && this.player.config.fullscreen.iosNative ? this.player.isVimeo ? this.player.embed.requestFullscreen() : this.target.webkitEnterFullscreen() : !Ms.native || this.forceFallback ? this.toggleFallback(!0) : this.prefix ? bo(this.prefix) || this.target[`${this.prefix}Request${this.property}`]() : this.target.requestFullscreen({ navigationUI: "hide" })) }), Ir(this, "exit", () => { if (this.enabled) if (Eo.isIos && this.player.config.fullscreen.iosNative) this.target.webkitExitFullscreen(), Zo(this.player.play()); else if (!Ms.native || this.forceFallback) this.toggleFallback(!1); else if (this.prefix) { if (!bo(this.prefix)) { const t = "moz" === this.prefix ? "Cancel" : "Exit"; document[`${this.prefix}${t}${this.property}`]() } } else (document.cancelFullScreen || document.exitFullscreen).call(document) }), Ir(this, "toggle", () => { this.active ? this.exit() : this.enter() }), this.player = t, this.prefix = Ms.prefix, this.property = Ms.property, this.scrollPosition = { x: 0, y: 0 }, this.forceFallback = "force" === t.config.fullscreen.fallback, this.player.elements.fullscreen = t.config.fullscreen.container && function (t, e) { const { prototype: n } = Element; return (n.closest || function () { let t = this; do { if (Ro.matches(t, e)) return t; t = t.parentElement || t.parentNode } while (null !== t && 1 === t.nodeType); return null }).call(t, e) }(this.player.elements.container, t.config.fullscreen.container), Ho.call(this.player, document, "ms" === this.prefix ? "MSFullscreenChange" : this.prefix + "fullscreenchange", () => { this.onChange() }), Ho.call(this.player, this.player.elements.container, "dblclick", t => { fo(this.player.elements.controls) && this.player.elements.controls.contains(t.target) || this.player.listeners.proxy(t, this.toggle, "fullscreen") }), Ho.call(this, this.player.elements.container, "keydown", t => this.trapFocus(t)), this.update() } static get native() { return !!(document.fullscreenEnabled || document.webkitFullscreenEnabled || document.mozFullScreenEnabled || document.msFullscreenEnabled) } get usingNative() { return Ms.native && !this.forceFallback } static get prefix() { if (co(document.exitFullscreen)) return ""; let t = ""; return ["webkit", "moz", "ms"].some(e => !(!co(document[e + "ExitFullscreen"]) && !co(document[e + "CancelFullScreen"]) || (t = e, 0))), t } static get property() { return "moz" === this.prefix ? "FullScreen" : "Fullscreen" } get enabled() { return (Ms.native || this.player.config.fullscreen.fallback) && this.player.config.fullscreen.enabled && this.player.supported.ui && this.player.isVideo } get active() { if (!this.enabled) return !1; if (!Ms.native || this.forceFallback) return Fo(this.target, this.player.config.classNames.fullscreen.fallback); const t = this.prefix ? document[`${this.prefix}${this.property}Element`] : document.fullscreenElement; return t && t.shadowRoot ? t === this.target.getRootNode().host : t === this.target } get target() { return Eo.isIos && this.player.config.fullscreen.iosNative ? this.player.media : this.player.elements.fullscreen || this.player.elements.container } } function Ls(t, e = 1) { return new Promise((n, i) => { const r = new Image, o = () => { delete r.onload, delete r.onerror, (r.naturalWidth >= e ? n : i)(r) }; Object.assign(r, { onload: o, onerror: o, src: t }) }) } const Os = { addStyleHook() { ko(this.elements.container, this.config.selectors.container.replace(".", ""), !0), ko(this.elements.container, this.config.classNames.uiSupported, this.supported.ui) }, toggleNativeControls(t = !1) { t && this.isHTML5 ? this.media.setAttribute("controls", "") : this.media.removeAttribute("controls") }, build() { if (this.listeners.media(), !this.supported.ui) return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`), void Os.toggleNativeControls.call(this, !0); fo(this.elements.controls) || (bs.inject.call(this), this.listeners.controls()), Os.toggleNativeControls.call(this), this.isHTML5 && Es.setup.call(this), this.volume = null, this.muted = null, this.loop = null, this.quality = null, this.speed = null, bs.updateVolume.call(this), bs.timeUpdate.call(this), Os.checkPlaying.call(this), ko(this.elements.container, this.config.classNames.pip.supported, zo.pip && this.isHTML5 && this.isVideo), ko(this.elements.container, this.config.classNames.airplay.supported, zo.airplay && this.isHTML5), ko(this.elements.container, this.config.classNames.isIos, Eo.isIos), ko(this.elements.container, this.config.classNames.isTouch, this.touch), this.ready = !0, setTimeout(() => { Yo.call(this, this.media, "ready") }, 0), Os.setTitle.call(this), this.poster && Os.setPoster.call(this, this.poster, !1).catch(() => { }), this.config.duration && bs.durationUpdate.call(this) }, setTitle() { let t = ds.get("play", this.config); if (uo(this.config.title) && !bo(this.config.title) && (t += ", " + this.config.title), Array.from(this.elements.buttons.play || []).forEach(e => { e.setAttribute("aria-label", t) }), this.isEmbed) { const t = jo.call(this, "iframe"); if (!fo(t)) return; const e = bo(this.config.title) ? "video" : this.config.title, n = ds.get("frameTitle", this.config); t.setAttribute("title", n.replace("{title}", e)) } }, togglePoster(t) { ko(this.elements.container, this.config.classNames.posterEnabled, t) }, setPoster(t, e = !0) { return e && this.poster ? Promise.reject(new Error("Poster already set")) : (this.media.setAttribute("data-poster", t), this.elements.poster.removeAttribute("hidden"), Jo.call(this).then(() => Ls(t)).catch(e => { throw t === this.poster && Os.togglePoster.call(this, !1), e }).then(() => { if (t !== this.poster) throw new Error("setPoster cancelled by later call to setPoster") }).then(() => (Object.assign(this.elements.poster.style, { backgroundImage: `url('${t}')`, backgroundSize: "" }), Os.togglePoster.call(this, !0), t))) }, checkPlaying(t) { ko(this.elements.container, this.config.classNames.playing, this.playing), ko(this.elements.container, this.config.classNames.paused, this.paused), ko(this.elements.container, this.config.classNames.stopped, this.stopped), Array.from(this.elements.buttons.play || []).forEach(t => { Object.assign(t, { pressed: this.playing }), t.setAttribute("aria-label", ds.get(this.playing ? "pause" : "play", this.config)) }), go(t) && "timeupdate" === t.type || Os.toggleControls.call(this) }, checkLoading(t) { this.loading = ["stalled", "waiting"].includes(t.type), clearTimeout(this.timers.loading), this.timers.loading = setTimeout(() => { ko(this.elements.container, this.config.classNames.loading, this.loading), Os.toggleControls.call(this) }, this.loading ? 250 : 0) }, toggleControls(t) { const { controls: e } = this.elements; if (e && this.config.hideControls) { const n = this.touch && this.lastSeekTime + 2e3 > Date.now(); this.toggleControls(Boolean(t || this.loading || this.paused || e.pressed || e.hover || n)) } }, migrateStyles() { Object.values({ ...this.media.style }).filter(t => !bo(t) && uo(t) && t.startsWith("--plyr")).forEach(t => { this.elements.container.style.setProperty(t, this.media.style.getPropertyValue(t)), this.media.style.removeProperty(t) }), bo(this.media.style) && this.media.removeAttribute("style") } }; class ks { constructor(t) { Ir(this, "firstTouch", () => { const { player: t } = this, { elements: e } = t; t.touch = !0, ko(e.container, t.config.classNames.isTouch, !0) }), Ir(this, "setTabFocus", t => { const { player: e } = this, { elements: n } = e; if (clearTimeout(this.focusTimer), "keydown" === t.type && 9 !== t.which) return; "keydown" === t.type && (this.lastKeyDown = t.timeStamp); const i = t.timeStamp - this.lastKeyDown <= 20; ("focus" !== t.type || i) && ((() => { const t = e.config.classNames.tabFocus; ko(qo.call(e, "." + t), t, !1) })(), "focusout" !== t.type && (this.focusTimer = setTimeout(() => { const t = document.activeElement; n.container.contains(t) && ko(document.activeElement, e.config.classNames.tabFocus, !0) }, 10))) }), Ir(this, "global", (t = !0) => { const { player: e } = this; e.config.keyboard.global && Uo.call(e, window, "keydown keyup", this.handleKey, t, !1), Uo.call(e, document.body, "click", this.toggleMenu, t), Xo.call(e, document.body, "touchstart", this.firstTouch), Uo.call(e, document.body, "keydown focus blur focusout", this.setTabFocus, t, !1, !0) }), Ir(this, "container", () => { const { player: t } = this, { config: e, elements: n, timers: i } = t; !e.keyboard.global && e.keyboard.focused && Ho.call(t, n.container, "keydown keyup", this.handleKey, !1), Ho.call(t, n.container, "mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen", e => { const { controls: r } = n; r && "enterfullscreen" === e.type && (r.pressed = !1, r.hover = !1); let o = 0;["touchstart", "touchmove", "mousemove"].includes(e.type) && (Os.toggleControls.call(t, !0), o = t.touch ? 3e3 : 2e3), clearTimeout(i.controls), i.controls = setTimeout(() => Os.toggleControls.call(t, !1), o) }); const r = () => { if (!t.isVimeo || t.config.vimeo.premium) return; const e = n.wrapper, { active: i } = t.fullscreen, [r, o] = rs.call(t), s = ts(`aspect-ratio: ${r} / ${o}`); if (!i) return void (s ? (e.style.width = null, e.style.height = null) : (e.style.maxWidth = null, e.style.margin = null)); const [a, u] = [Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0), Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0)], l = a / u > r / o; s ? (e.style.width = l ? "auto" : "100%", e.style.height = l ? "100%" : "auto") : (e.style.maxWidth = l ? u / o * r + "px" : null, e.style.margin = l ? "0 auto" : null) }, o = () => { clearTimeout(i.resized), i.resized = setTimeout(r, 50) }; Ho.call(t, n.container, "enterfullscreen exitfullscreen", e => { const { target: i } = t.fullscreen; i === n.container && (!t.isEmbed && bo(t.config.ratio) || (r(), ("enterfullscreen" === e.type ? Ho : Go).call(t, window, "resize", o))) }) }), Ir(this, "media", () => { const { player: t } = this, { elements: e } = t; if (Ho.call(t, t.media, "timeupdate seeking seeked", e => bs.timeUpdate.call(t, e)), Ho.call(t, t.media, "durationchange loadeddata loadedmetadata", e => bs.durationUpdate.call(t, e)), Ho.call(t, t.media, "ended", () => { t.isHTML5 && t.isVideo && t.config.resetOnEnd && (t.restart(), t.pause()) }), Ho.call(t, t.media, "progress playing seeking seeked", e => bs.updateProgress.call(t, e)), Ho.call(t, t.media, "volumechange", e => bs.updateVolume.call(t, e)), Ho.call(t, t.media, "playing play pause ended emptied timeupdate", e => Os.checkPlaying.call(t, e)), Ho.call(t, t.media, "waiting canplay seeked playing", e => Os.checkLoading.call(t, e)), t.supported.ui && t.config.clickToPlay && !t.isAudio) { const n = jo.call(t, "." + t.config.classNames.video); if (!fo(n)) return; Ho.call(t, e.container, "click", i => { ([e.container, n].includes(i.target) || n.contains(i.target)) && (t.touch && t.config.hideControls || (t.ended ? (this.proxy(i, t.restart, "restart"), this.proxy(i, () => { Zo(t.play()) }, "play")) : this.proxy(i, () => { Zo(t.togglePlay()) }, "play"))) }) } t.supported.ui && t.config.disableContextMenu && Ho.call(t, e.wrapper, "contextmenu", t => { t.preventDefault() }, !1), Ho.call(t, t.media, "volumechange", () => { t.storage.set({ volume: t.volume, muted: t.muted }) }), Ho.call(t, t.media, "ratechange", () => { bs.updateSetting.call(t, "speed"), t.storage.set({ speed: t.speed }) }), Ho.call(t, t.media, "qualitychange", e => { bs.updateSetting.call(t, "quality", null, e.detail.quality) }), Ho.call(t, t.media, "ready qualitychange", () => { bs.setDownloadUrl.call(t) }); const n = t.config.events.concat(["keyup", "keydown"]).join(" "); Ho.call(t, t.media, n, n => { let { detail: i = {} } = n; "error" === n.type && (i = t.media.error), Yo.call(t, e.container, n.type, !0, i) }) }), Ir(this, "proxy", (t, e, n) => { const { player: i } = this, r = i.config.listeners[n]; let o = !0; co(r) && (o = r.call(i, t)), !1 !== o && co(e) && e.call(i, t) }), Ir(this, "bind", (t, e, n, i, r = !0) => { const { player: o } = this, s = o.config.listeners[i], a = co(s); Ho.call(o, t, e, t => this.proxy(t, n, i), r && !a) }), Ir(this, "controls", () => { const { player: t } = this, { elements: e } = t, n = Eo.isIE ? "change" : "input"; if (e.buttons.play && Array.from(e.buttons.play).forEach(e => { this.bind(e, "click", () => { Zo(t.togglePlay()) }, "play") }), this.bind(e.buttons.restart, "click", t.restart, "restart"), this.bind(e.buttons.rewind, "click", () => { t.lastSeekTime = Date.now(), t.rewind() }, "rewind"), this.bind(e.buttons.fastForward, "click", () => { t.lastSeekTime = Date.now(), t.forward() }, "fastForward"), this.bind(e.buttons.mute, "click", () => { t.muted = !t.muted }, "mute"), this.bind(e.buttons.captions, "click", () => t.toggleCaptions()), this.bind(e.buttons.download, "click", () => { Yo.call(t, t.media, "download") }, "download"), this.bind(e.buttons.fullscreen, "click", () => { t.fullscreen.toggle() }, "fullscreen"), this.bind(e.buttons.pip, "click", () => { t.pip = "toggle" }, "pip"), this.bind(e.buttons.airplay, "click", t.airplay, "airplay"), this.bind(e.buttons.settings, "click", e => { e.stopPropagation(), e.preventDefault(), bs.toggleMenu.call(t, e) }, null, !1), this.bind(e.buttons.settings, "keyup", e => { const n = e.which;[13, 32].includes(n) && (13 !== n ? (e.preventDefault(), e.stopPropagation(), bs.toggleMenu.call(t, e)) : bs.focusFirstMenuItem.call(t, null, !0)) }, null, !1), this.bind(e.settings.menu, "keydown", e => { 27 === e.which && bs.toggleMenu.call(t, e) }), this.bind(e.inputs.seek, "mousedown mousemove", t => { const n = e.progress.getBoundingClientRect(), i = 100 / n.width * (t.pageX - n.left); t.currentTarget.setAttribute("seek-value", i) }), this.bind(e.inputs.seek, "mousedown mouseup keydown keyup touchstart touchend", e => { const n = e.currentTarget, i = e.keyCode ? e.keyCode : e.which; if (yo(e) && 39 !== i && 37 !== i) return; t.lastSeekTime = Date.now(); const r = n.hasAttribute("play-on-seeked"), o = ["mouseup", "touchend", "keyup"].includes(e.type); r && o ? (n.removeAttribute("play-on-seeked"), Zo(t.play())) : !o && t.playing && (n.setAttribute("play-on-seeked", ""), t.pause()) }), Eo.isIos) { const e = qo.call(t, 'input[type="range"]'); Array.from(e).forEach(t => this.bind(t, n, t => xo(t.target))) } this.bind(e.inputs.seek, n, e => { const n = e.currentTarget; let i = n.getAttribute("seek-value"); bo(i) && (i = n.value), n.removeAttribute("seek-value"), t.currentTime = i / n.max * t.duration }, "seek"), this.bind(e.progress, "mouseenter mouseleave mousemove", e => bs.updateSeekTooltip.call(t, e)), this.bind(e.progress, "mousemove touchmove", e => { const { previewThumbnails: n } = t; n && n.loaded && n.startMove(e) }), this.bind(e.progress, "mouseleave touchend click", () => { const { previewThumbnails: e } = t; e && e.loaded && e.endMove(!1, !0) }), this.bind(e.progress, "mousedown touchstart", e => { const { previewThumbnails: n } = t; n && n.loaded && n.startScrubbing(e) }), this.bind(e.progress, "mouseup touchend", e => { const { previewThumbnails: n } = t; n && n.loaded && n.endScrubbing(e) }), Eo.isWebkit && Array.from(qo.call(t, 'input[type="range"]')).forEach(e => { this.bind(e, "input", e => bs.updateRangeFill.call(t, e.target)) }), t.config.toggleInvert && !fo(e.display.duration) && this.bind(e.display.currentTime, "click", () => { 0 !== t.currentTime && (t.config.invertTime = !t.config.invertTime, bs.timeUpdate.call(t)) }), this.bind(e.inputs.volume, n, e => { t.volume = e.target.value }, "volume"), this.bind(e.controls, "mouseenter mouseleave", n => { e.controls.hover = !t.touch && "mouseenter" === n.type }), e.fullscreen && Array.from(e.fullscreen.children).filter(t => !t.contains(e.container)).forEach(n => { this.bind(n, "mouseenter mouseleave", n => { e.controls.hover = !t.touch && "mouseenter" === n.type }) }), this.bind(e.controls, "mousedown mouseup touchstart touchend touchcancel", t => { e.controls.pressed = ["mousedown", "touchstart"].includes(t.type) }), this.bind(e.controls, "focusin", () => { const { config: n, timers: i } = t; ko(e.controls, n.classNames.noTransition, !0), Os.toggleControls.call(t, !0), setTimeout(() => { ko(e.controls, n.classNames.noTransition, !1) }, 0); const r = this.touch ? 3e3 : 4e3; clearTimeout(i.controls), i.controls = setTimeout(() => Os.toggleControls.call(t, !1), r) }), this.bind(e.inputs.volume, "wheel", e => { const n = e.webkitDirectionInvertedFromDevice, [i, r] = [e.deltaX, -e.deltaY].map(t => n ? -t : t), o = Math.sign(Math.abs(i) > Math.abs(r) ? i : r); t.increaseVolume(o / 50); const { volume: s } = t.media; (1 === o && s < 1 || -1 === o && s > 0) && e.preventDefault() }, "volume", !1) }), this.player = t, this.lastKey = null, this.focusTimer = null, this.lastKeyDown = null, this.handleKey = this.handleKey.bind(this), this.toggleMenu = this.toggleMenu.bind(this), this.setTabFocus = this.setTabFocus.bind(this), this.firstTouch = this.firstTouch.bind(this) } handleKey(t) { const { player: e } = this, { elements: n } = e, i = t.keyCode ? t.keyCode : t.which, r = "keydown" === t.type, o = r && i === this.lastKey; if (!(t.altKey || t.ctrlKey || t.metaKey || t.shiftKey) && ao(i)) if (r) { const r = document.activeElement; if (fo(r)) { const { editable: i } = e.config.selectors, { seek: o } = n.inputs; if (r !== o && Ro(r, i)) return; if (32 === t.which && Ro(r, 'button, [role^="menuitem"]')) return } switch ([32, 37, 38, 39, 40, 48, 49, 50, 51, 52, 53, 54, 56, 57, 67, 70, 73, 75, 76, 77, 79].includes(i) && (t.preventDefault(), t.stopPropagation()), i) { case 48: case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: o || (e.currentTime = e.duration / 10 * (i - 48)); break; case 32: case 75: o || Zo(e.togglePlay()); break; case 38: e.increaseVolume(.1); break; case 40: e.decreaseVolume(.1); break; case 77: o || (e.muted = !e.muted); break; case 39: e.forward(); break; case 37: e.rewind(); break; case 70: e.fullscreen.toggle(); break; case 67: o || e.toggleCaptions(); break; case 76: e.loop = !e.loop }27 === i && !e.fullscreen.usingNative && e.fullscreen.active && e.fullscreen.toggle(), this.lastKey = i } else this.lastKey = null } toggleMenu(t) { bs.toggleMenu.call(this.player, t) } } var Fs = r((function (t, e) { t.exports = function () { var t = function () { }, e = {}, n = {}, i = {}; function r(t, e) { if (t) { var r = i[t]; if (n[t] = e, r) for (; r.length;)r[0](t, e), r.splice(0, 1) } } function o(e, n) { e.call && (e = { success: e }), n.length ? (e.error || t)(n) : (e.success || t)(e) } function s(e, n, i, r) { var o, a, u = document, l = i.async, c = (i.numRetries || 0) + 1, h = i.before || t, p = e.replace(/[\?|#].*$/, ""), f = e.replace(/^(css|img)!/, ""); r = r || 0, /(^css!|\.css$)/.test(p) ? ((a = u.createElement("link")).rel = "stylesheet", a.href = f, (o = "hideFocus" in a) && a.relList && (o = 0, a.rel = "preload", a.as = "style")) : /(^img!|\.(png|gif|jpg|svg|webp)$)/.test(p) ? (a = u.createElement("img")).src = f : ((a = u.createElement("script")).src = e, a.async = void 0 === l || l), a.onload = a.onerror = a.onbeforeload = function (t) { var u = t.type[0]; if (o) try { a.sheet.cssText.length || (u = "e") } catch (t) { 18 != t.code && (u = "e") } if ("e" == u) { if ((r += 1) < c) return s(e, n, i, r) } else if ("preload" == a.rel && "style" == a.as) return a.rel = "stylesheet"; n(e, u, t.defaultPrevented) }, !1 !== h(e, a) && u.head.appendChild(a) } function a(t, n, i) { var a, u; if (n && n.trim && (a = n), u = (a ? i : n) || {}, a) { if (a in e) throw "LoadJS"; e[a] = !0 } function l(e, n) { !function (t, e, n) { var i, r, o = (t = t.push ? t : [t]).length, a = o, u = []; for (i = function (t, n, i) { if ("e" == n && u.push(t), "b" == n) { if (!i) return; u.push(t) } --o || e(u) }, r = 0; r < a; r++)s(t[r], i, n) }(t, (function (t) { o(u, t), e && o({ success: e, error: n }, t), r(a, t) }), u) } if (u.returnPromise) return new Promise(l); l() } return a.ready = function (t, e) { return function (t, e) { t = t.push ? t : [t]; var r, o, s, a = [], u = t.length, l = u; for (r = function (t, n) { n.length && a.push(t), --l || e(a) }; u--;)o = t[u], (s = n[o]) ? r(o, s) : (i[o] = i[o] || []).push(r) }(t, (function (t) { o(e, t) })), a }, a.done = function (t) { r(t, []) }, a.reset = function () { e = {}, n = {}, i = {} }, a.isDefined = function (t) { return t in e }, a }() })); function Rs(t) { return new Promise((e, n) => { Fs(t, { success: e, error: n }) }) } function qs(t) { t && !this.embed.hasPlayed && (this.embed.hasPlayed = !0), this.media.paused === t && (this.media.paused = !t, Yo.call(this, this.media, t ? "play" : "pause")) } const js = { setup() { const t = this; ko(t.elements.wrapper, t.config.classNames.embed, !0), t.options.speed = t.config.speed.options, os.call(t), so(window.Vimeo) ? js.ready.call(t) : Rs(t.config.urls.vimeo.sdk).then(() => { js.ready.call(t) }).catch(e => { t.debug.warn("Vimeo SDK (player.js) failed to load", e) }) }, ready() { const t = this, e = t.config.vimeo, { premium: n, referrerPolicy: i, ...r } = e; n && Object.assign(r, { controls: !1, sidedock: !1 }); const o = xs({ loop: t.config.loop.active, autoplay: t.autoplay, muted: t.muted, gesture: "media", playsinline: !this.config.fullscreen.iosNative, ...r }); let s = t.media.getAttribute("src"); bo(s) && (s = t.media.getAttribute(t.config.attributes.embed.id)); const a = bo(u = s) ? null : ao(Number(u)) ? u : u.match(/^.*(vimeo.com\/|video\/)(\d+).*/) ? RegExp.$2 : u; var u; const l = Io("iframe"), c = us(t.config.urls.vimeo.iframe, a, o); if (l.setAttribute("src", c), l.setAttribute("allowfullscreen", ""), l.setAttribute("allow", ["autoplay", "fullscreen", "picture-in-picture", "encrypted-media", "accelerometer", "gyroscope"].join("; ")), bo(i) || l.setAttribute("referrerPolicy", i), n || !e.customControls) l.setAttribute("data-poster", t.poster), t.media = Mo(l, t.media); else { const e = Io("div", { class: t.config.classNames.embedContainer, "data-poster": t.poster }); e.appendChild(l), t.media = Mo(e, t.media) } e.customControls || ys(us(t.config.urls.vimeo.api, c)).then(e => { !bo(e) && e.thumbnail_url && Os.setPoster.call(t, e.thumbnail_url).catch(() => { }) }), t.embed = new window.Vimeo.Player(l, { autopause: t.config.autopause, muted: t.muted }), t.media.paused = !0, t.media.currentTime = 0, t.supported.ui && t.embed.disableTextTrack(), t.media.play = () => (qs.call(t, !0), t.embed.play()), t.media.pause = () => (qs.call(t, !1), t.embed.pause()), t.media.stop = () => { t.pause(), t.currentTime = 0 }; let { currentTime: h } = t.media; Object.defineProperty(t.media, "currentTime", { get: () => h, set(e) { const { embed: n, media: i, paused: r, volume: o } = t, s = r && !n.hasPlayed; i.seeking = !0, Yo.call(t, i, "seeking"), Promise.resolve(s && n.setVolume(0)).then(() => n.setCurrentTime(e)).then(() => s && n.pause()).then(() => s && n.setVolume(o)).catch(() => { }) } }); let p = t.config.speed.selected; Object.defineProperty(t.media, "playbackRate", { get: () => p, set(e) { t.embed.setPlaybackRate(e).then(() => { p = e, Yo.call(t, t.media, "ratechange") }).catch(() => { t.options.speed = [1] }) } }); let { volume: f } = t.config; Object.defineProperty(t.media, "volume", { get: () => f, set(e) { t.embed.setVolume(e).then(() => { f = e, Yo.call(t, t.media, "volumechange") }) } }); let { muted: d } = t.config; Object.defineProperty(t.media, "muted", { get: () => d, set(e) { const n = !!lo(e) && e; t.embed.setVolume(n ? 0 : t.config.volume).then(() => { d = n, Yo.call(t, t.media, "volumechange") }) } }); let g, { loop: y } = t.config; Object.defineProperty(t.media, "loop", { get: () => y, set(e) { const n = lo(e) ? e : t.config.loop.active; t.embed.setLoop(n).then(() => { y = n }) } }), t.embed.getVideoUrl().then(e => { g = e, bs.setDownloadUrl.call(t) }).catch(t => { this.debug.warn(t) }), Object.defineProperty(t.media, "currentSrc", { get: () => g }), Object.defineProperty(t.media, "ended", { get: () => t.currentTime === t.duration }), Promise.all([t.embed.getVideoWidth(), t.embed.getVideoHeight()]).then(e => { const [n, i] = e; t.embed.ratio = ss(n, i), os.call(this) }), t.embed.setAutopause(t.config.autopause).then(e => { t.config.autopause = e }), t.embed.getVideoTitle().then(e => { t.config.title = e, Os.setTitle.call(this) }), t.embed.getCurrentTime().then(e => { h = e, Yo.call(t, t.media, "timeupdate") }), t.embed.getDuration().then(e => { t.media.duration = e, Yo.call(t, t.media, "durationchange") }), t.embed.getTextTracks().then(e => { t.media.textTracks = e, Es.setup.call(t) }), t.embed.on("cuechange", ({ cues: e = [] }) => { const n = e.map(t => function (t) { const e = document.createDocumentFragment(), n = document.createElement("div"); return e.appendChild(n), n.innerHTML = t, e.firstChild.innerText }(t.text)); Es.updateCues.call(t, n) }), t.embed.on("loaded", () => { t.embed.getPaused().then(e => { qs.call(t, !e), e || Yo.call(t, t.media, "playing") }), fo(t.embed.element) && t.supported.ui && t.embed.element.setAttribute("tabindex", -1) }), t.embed.on("bufferstart", () => { Yo.call(t, t.media, "waiting") }), t.embed.on("bufferend", () => { Yo.call(t, t.media, "playing") }), t.embed.on("play", () => { qs.call(t, !0), Yo.call(t, t.media, "playing") }), t.embed.on("pause", () => { qs.call(t, !1) }), t.embed.on("timeupdate", e => { t.media.seeking = !1, h = e.seconds, Yo.call(t, t.media, "timeupdate") }), t.embed.on("progress", e => { t.media.buffered = e.percent, Yo.call(t, t.media, "progress"), 1 === parseInt(e.percent, 10) && Yo.call(t, t.media, "canplaythrough"), t.embed.getDuration().then(e => { e !== t.media.duration && (t.media.duration = e, Yo.call(t, t.media, "durationchange")) }) }), t.embed.on("seeked", () => { t.media.seeking = !1, Yo.call(t, t.media, "seeked") }), t.embed.on("ended", () => { t.media.paused = !0, Yo.call(t, t.media, "ended") }), t.embed.on("error", e => { t.media.error = e, Yo.call(t, t.media, "error") }), e.customControls && setTimeout(() => Os.build.call(t), 0) } }; function Bs(t) { t && !this.embed.hasPlayed && (this.embed.hasPlayed = !0), this.media.paused === t && (this.media.paused = !t, Yo.call(this, this.media, t ? "play" : "pause")) } function $s(t) { return t.noCookie ? "https://www.youtube-nocookie.com" : "http:" === window.location.protocol ? "http://www.youtube.com" : void 0 } const zs = { setup() { if (ko(this.elements.wrapper, this.config.classNames.embed, !0), so(window.YT) && co(window.YT.Player)) zs.ready.call(this); else { const t = window.onYouTubeIframeAPIReady; window.onYouTubeIframeAPIReady = () => { co(t) && t(), zs.ready.call(this) }, Rs(this.config.urls.youtube.sdk).catch(t => { this.debug.warn("YouTube API failed to load", t) }) } }, getTitle(t) { ys(us(this.config.urls.youtube.api, t)).then(t => { if (so(t)) { const { title: e, height: n, width: i } = t; this.config.title = e, Os.setTitle.call(this), this.embed.ratio = ss(i, n) } os.call(this) }).catch(() => { os.call(this) }) }, ready() { const t = this, e = t.config.youtube, n = t.media && t.media.getAttribute("id"); if (!bo(n) && n.startsWith("youtube-")) return; let i = t.media.getAttribute("src"); bo(i) && (i = t.media.getAttribute(this.config.attributes.embed.id)); const r = bo(o = i) ? null : o.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/) ? RegExp.$2 : o; var o; const s = Io("div", { id: `${t.provider}-${Math.floor(1e4 * Math.random())}`, "data-poster": e.customControls ? t.poster : void 0 }); if (t.media = Mo(s, t.media), e.customControls) { const e = t => `https://i.ytimg.com/vi/${r}/${t}default.jpg`; Ls(e("maxres"), 121).catch(() => Ls(e("sd"), 121)).catch(() => Ls(e("hq"))).then(e => Os.setPoster.call(t, e.src)).then(e => { e.includes("maxres") || (t.elements.poster.style.backgroundSize = "cover") }).catch(() => { }) } t.embed = new window.YT.Player(t.media, { videoId: r, host: $s(e), playerVars: Do({}, { autoplay: t.config.autoplay ? 1 : 0, hl: t.config.hl, controls: t.supported.ui && e.customControls ? 0 : 1, disablekb: 1, playsinline: t.config.fullscreen.iosNative ? 0 : 1, cc_load_policy: t.captions.active ? 1 : 0, cc_lang_pref: t.config.captions.language, widget_referrer: window ? window.location.href : null }, e), events: { onError(e) { if (!t.media.error) { const n = e.data, i = { 2: "The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.", 5: "The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.", 100: "The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.", 101: "The owner of the requested video does not allow it to be played in embedded players.", 150: "The owner of the requested video does not allow it to be played in embedded players." }[n] || "An unknown error occured"; t.media.error = { code: n, message: i }, Yo.call(t, t.media, "error") } }, onPlaybackRateChange(e) { const n = e.target; t.media.playbackRate = n.getPlaybackRate(), Yo.call(t, t.media, "ratechange") }, onReady(n) { if (co(t.media.play)) return; const i = n.target; zs.getTitle.call(t, r), t.media.play = () => { Bs.call(t, !0), i.playVideo() }, t.media.pause = () => { Bs.call(t, !1), i.pauseVideo() }, t.media.stop = () => { i.stopVideo() }, t.media.duration = i.getDuration(), t.media.paused = !0, t.media.currentTime = 0, Object.defineProperty(t.media, "currentTime", { get: () => Number(i.getCurrentTime()), set(e) { t.paused && !t.embed.hasPlayed && t.embed.mute(), t.media.seeking = !0, Yo.call(t, t.media, "seeking"), i.seekTo(e) } }), Object.defineProperty(t.media, "playbackRate", { get: () => i.getPlaybackRate(), set(t) { i.setPlaybackRate(t) } }); let { volume: o } = t.config; Object.defineProperty(t.media, "volume", { get: () => o, set(e) { o = e, i.setVolume(100 * o), Yo.call(t, t.media, "volumechange") } }); let { muted: s } = t.config; Object.defineProperty(t.media, "muted", { get: () => s, set(e) { const n = lo(e) ? e : s; s = n, i[n ? "mute" : "unMute"](), i.setVolume(100 * o), Yo.call(t, t.media, "volumechange") } }), Object.defineProperty(t.media, "currentSrc", { get: () => i.getVideoUrl() }), Object.defineProperty(t.media, "ended", { get: () => t.currentTime === t.duration }); const a = i.getAvailablePlaybackRates(); t.options.speed = a.filter(e => t.config.speed.options.includes(e)), t.supported.ui && e.customControls && t.media.setAttribute("tabindex", -1), Yo.call(t, t.media, "timeupdate"), Yo.call(t, t.media, "durationchange"), clearInterval(t.timers.buffering), t.timers.buffering = setInterval(() => { t.media.buffered = i.getVideoLoadedFraction(), (null === t.media.lastBuffered || t.media.lastBuffered < t.media.buffered) && Yo.call(t, t.media, "progress"), t.media.lastBuffered = t.media.buffered, 1 === t.media.buffered && (clearInterval(t.timers.buffering), Yo.call(t, t.media, "canplaythrough")) }, 200), e.customControls && setTimeout(() => Os.build.call(t), 50) }, onStateChange(n) { const i = n.target; switch (clearInterval(t.timers.playing), t.media.seeking && [1, 2].includes(n.data) && (t.media.seeking = !1, Yo.call(t, t.media, "seeked")), n.data) { case -1: Yo.call(t, t.media, "timeupdate"), t.media.buffered = i.getVideoLoadedFraction(), Yo.call(t, t.media, "progress"); break; case 0: Bs.call(t, !1), t.media.loop ? (i.stopVideo(), i.playVideo()) : Yo.call(t, t.media, "ended"); break; case 1: e.customControls && !t.config.autoplay && t.media.paused && !t.embed.hasPlayed ? t.media.pause() : (Bs.call(t, !0), Yo.call(t, t.media, "playing"), t.timers.playing = setInterval(() => { Yo.call(t, t.media, "timeupdate") }, 50), t.media.duration !== i.getDuration() && (t.media.duration = i.getDuration(), Yo.call(t, t.media, "durationchange"))); break; case 2: t.muted || t.embed.unMute(), Bs.call(t, !1); break; case 3: Yo.call(t, t.media, "waiting") }Yo.call(t, t.elements.container, "statechange", !1, { code: n.data }) } } }) } }, Vs = { setup() { this.media ? (ko(this.elements.container, this.config.classNames.type.replace("{0}", this.type), !0), ko(this.elements.container, this.config.classNames.provider.replace("{0}", this.provider), !0), this.isEmbed && ko(this.elements.container, this.config.classNames.type.replace("{0}", "video"), !0), this.isVideo && (this.elements.wrapper = Io("div", { class: this.config.classNames.video }), So(this.media, this.elements.wrapper), this.elements.poster = Io("div", { class: this.config.classNames.poster }), this.elements.wrapper.appendChild(this.elements.poster)), this.isHTML5 ? as.setup.call(this) : this.isYouTube ? zs.setup.call(this) : this.isVimeo && js.setup.call(this)) : this.debug.warn("No media element found!") } }; class Us { constructor(t) { Ir(this, "load", () => { this.enabled && (so(window.google) && so(window.google.ima) ? this.ready() : Rs(this.player.config.urls.googleIMA.sdk).then(() => { this.ready() }).catch(() => { this.trigger("error", new Error("Google IMA SDK failed to load")) })) }), Ir(this, "ready", () => { var t; this.enabled || ((t = this).manager && t.manager.destroy(), t.elements.displayContainer && t.elements.displayContainer.destroy(), t.elements.container.remove()), this.startSafetyTimer(12e3, "ready()"), this.managerPromise.then(() => { this.clearSafetyTimer("onAdsManagerLoaded()") }), this.listeners(), this.setupIMA() }), Ir(this, "setupIMA", () => { this.elements.container = Io("div", { class: this.player.config.classNames.ads }), this.player.elements.container.appendChild(this.elements.container), google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED), google.ima.settings.setLocale(this.player.config.ads.language), google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline), this.elements.displayContainer = new google.ima.AdDisplayContainer(this.elements.container, this.player.media), this.loader = new google.ima.AdsLoader(this.elements.displayContainer), this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, t => this.onAdsManagerLoaded(t), !1), this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, t => this.onAdError(t), !1), this.requestAds() }), Ir(this, "requestAds", () => { const { container: t } = this.player.elements; try { const e = new google.ima.AdsRequest; e.adTagUrl = this.tagUrl, e.linearAdSlotWidth = t.offsetWidth, e.linearAdSlotHeight = t.offsetHeight, e.nonLinearAdSlotWidth = t.offsetWidth, e.nonLinearAdSlotHeight = t.offsetHeight, e.forceNonLinearFullSlot = !1, e.setAdWillPlayMuted(!this.player.muted), this.loader.requestAds(e) } catch (t) { this.onAdError(t) } }), Ir(this, "pollCountdown", (t = !1) => { if (!t) return clearInterval(this.countdownTimer), void this.elements.container.removeAttribute("data-badge-text"); this.countdownTimer = setInterval(() => { const t = _s(Math.max(this.manager.getRemainingTime(), 0)), e = `${ds.get("advertisement", this.player.config)} - ${t}`; this.elements.container.setAttribute("data-badge-text", e) }, 100) }), Ir(this, "onAdsManagerLoaded", t => { if (!this.enabled) return; const e = new google.ima.AdsRenderingSettings; e.restoreCustomPlaybackStateOnAdBreakComplete = !0, e.enablePreloading = !0, this.manager = t.getAdsManager(this.player, e), this.cuePoints = this.manager.getCuePoints(), this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, t => this.onAdError(t)), Object.keys(google.ima.AdEvent.Type).forEach(t => { this.manager.addEventListener(google.ima.AdEvent.Type[t], t => this.onAdEvent(t)) }), this.trigger("loaded") }), Ir(this, "addCuePoints", () => { bo(this.cuePoints) || this.cuePoints.forEach(t => { if (0 !== t && -1 !== t && t < this.player.duration) { const e = this.player.elements.progress; if (fo(e)) { const n = 100 / this.player.duration * t, i = Io("span", { class: this.player.config.classNames.cues }); i.style.left = n.toString() + "%", e.appendChild(i) } } }) }), Ir(this, "onAdEvent", t => { const { container: e } = this.player.elements, n = t.getAd(), i = t.getAdData(); switch ((t => { Yo.call(this.player, this.player.media, "ads" + t.replace(/_/g, "").toLowerCase()) })(t.type), t.type) { case google.ima.AdEvent.Type.LOADED: this.trigger("loaded"), this.pollCountdown(!0), n.isLinear() || (n.width = e.offsetWidth, n.height = e.offsetHeight); break; case google.ima.AdEvent.Type.STARTED: this.manager.setVolume(this.player.volume); break; case google.ima.AdEvent.Type.ALL_ADS_COMPLETED: this.player.ended ? this.loadAds() : this.loader.contentComplete(); break; case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED: this.pauseContent(); break; case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED: this.pollCountdown(), this.resumeContent(); break; case google.ima.AdEvent.Type.LOG: i.adError && this.player.debug.warn("Non-fatal ad error: " + i.adError.getMessage()) } }), Ir(this, "onAdError", t => { this.cancel(), this.player.debug.warn("Ads error", t) }), Ir(this, "listeners", () => { const { container: t } = this.player.elements; let e; this.player.on("canplay", () => { this.addCuePoints() }), this.player.on("ended", () => { this.loader.contentComplete() }), this.player.on("timeupdate", () => { e = this.player.currentTime }), this.player.on("seeked", () => { const t = this.player.currentTime; bo(this.cuePoints) || this.cuePoints.forEach((n, i) => { e < n && n < t && (this.manager.discardAdBreak(), this.cuePoints.splice(i, 1)) }) }), window.addEventListener("resize", () => { this.manager && this.manager.resize(t.offsetWidth, t.offsetHeight, google.ima.ViewMode.NORMAL) }) }), Ir(this, "play", () => { const { container: t } = this.player.elements; this.managerPromise || this.resumeContent(), this.managerPromise.then(() => { this.manager.setVolume(this.player.volume), this.elements.displayContainer.initialize(); try { this.initialized || (this.manager.init(t.offsetWidth, t.offsetHeight, google.ima.ViewMode.NORMAL), this.manager.start()), this.initialized = !0 } catch (t) { this.onAdError(t) } }).catch(() => { }) }), Ir(this, "resumeContent", () => { this.elements.container.style.zIndex = "", this.playing = !1, Zo(this.player.media.play()) }), Ir(this, "pauseContent", () => { this.elements.container.style.zIndex = 3, this.playing = !0, this.player.media.pause() }), Ir(this, "cancel", () => { this.initialized && this.resumeContent(), this.trigger("error"), this.loadAds() }), Ir(this, "loadAds", () => { this.managerPromise.then(() => { this.manager && this.manager.destroy(), this.managerPromise = new Promise(t => { this.on("loaded", t), this.player.debug.log(this.manager) }), this.initialized = !1, this.requestAds() }).catch(() => { }) }), Ir(this, "trigger", (t, ...e) => { const n = this.events[t]; ho(n) && n.forEach(t => { co(t) && t.apply(this, e) }) }), Ir(this, "on", (t, e) => (ho(this.events[t]) || (this.events[t] = []), this.events[t].push(e), this)), Ir(this, "startSafetyTimer", (t, e) => { this.player.debug.log("Safety timer invoked from: " + e), this.safetyTimer = setTimeout(() => { this.cancel(), this.clearSafetyTimer("startSafetyTimer()") }, t) }), Ir(this, "clearSafetyTimer", t => { oo(this.safetyTimer) || (this.player.debug.log("Safety timer cleared from: " + t), clearTimeout(this.safetyTimer), this.safetyTimer = null) }), this.player = t, this.config = t.config.ads, this.playing = !1, this.initialized = !1, this.elements = { container: null, displayContainer: null }, this.manager = null, this.loader = null, this.cuePoints = null, this.events = {}, this.safetyTimer = null, this.countdownTimer = null, this.managerPromise = new Promise((t, e) => { this.on("loaded", t), this.on("error", e) }), this.load() } get enabled() { const { config: t } = this; return this.player.isHTML5 && this.player.isVideo && t.enabled && (!bo(t.publisherId) || _o(t.tagUrl)) } get tagUrl() { const { config: t } = this; return _o(t.tagUrl) ? t.tagUrl : "https://go.aniview.com/api/adserver6/vast/?" + xs({ AV_PUBLISHERID: "58c25bb0073ef448b1087ad6", AV_CHANNELID: "5a0458dc28a06145e4519d21", AV_URL: window.location.hostname, cb: Date.now(), AV_WIDTH: 640, AV_HEIGHT: 480, AV_CDIM2: t.publisherId }) } } const Hs = t => { const e = []; return t.split(/\r\n\r\n|\n\n|\r\r/).forEach(t => { const n = {}; t.split(/\r\n|\n|\r/).forEach(t => { if (ao(n.startTime)) { if (!bo(t.trim()) && bo(n.text)) { const e = t.trim().split("#xywh=");[n.text] = e, e[1] && ([n.x, n.y, n.w, n.h] = e[1].split(",")) } } else { const e = t.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/); e && (n.startTime = 60 * Number(e[1] || 0) * 60 + 60 * Number(e[2]) + Number(e[3]) + Number("0." + e[4]), n.endTime = 60 * Number(e[6] || 0) * 60 + 60 * Number(e[7]) + Number(e[8]) + Number("0." + e[9])) } }), n.text && e.push(n) }), e }, Gs = (t, e) => { const n = {}; return t > e.width / e.height ? (n.width = e.width, n.height = 1 / t * e.width) : (n.height = e.height, n.width = t * e.height), n }; class Xs { constructor(t) { Ir(this, "load", () => { this.player.elements.display.seekTooltip && (this.player.elements.display.seekTooltip.hidden = this.enabled), this.enabled && this.getThumbnails().then(() => { this.enabled && (this.render(), this.determineContainerAutoSizing(), this.loaded = !0) }) }), Ir(this, "getThumbnails", () => new Promise(t => { const { src: e } = this.player.config.previewThumbnails; if (bo(e)) throw new Error("Missing previewThumbnails.src config attribute"); const n = () => { this.thumbnails.sort((t, e) => t.height - e.height), this.player.debug.log("Preview thumbnails", this.thumbnails), t() }; if (co(e)) e(t => { this.thumbnails = t, n() }); else { const t = (uo(e) ? [e] : e).map(t => this.getThumbnail(t)); Promise.all(t).then(n) } })), Ir(this, "getThumbnail", t => new Promise(e => { ys(t).then(n => { const i = { frames: Hs(n), height: null, urlPrefix: "" }; i.frames[0].text.startsWith("/") || i.frames[0].text.startsWith("http://") || i.frames[0].text.startsWith("https://") || (i.urlPrefix = t.substring(0, t.lastIndexOf("/") + 1)); const r = new Image; r.onload = () => { i.height = r.naturalHeight, i.width = r.naturalWidth, this.thumbnails.push(i), e() }, r.src = i.urlPrefix + i.frames[0].text }) })), Ir(this, "startMove", t => { if (this.loaded && go(t) && ["touchmove", "mousemove"].includes(t.type) && this.player.media.duration) { if ("touchmove" === t.type) this.seekTime = this.player.media.duration * (this.player.elements.inputs.seek.value / 100); else { const e = this.player.elements.progress.getBoundingClientRect(), n = 100 / e.width * (t.pageX - e.left); this.seekTime = this.player.media.duration * (n / 100), this.seekTime < 0 && (this.seekTime = 0), this.seekTime > this.player.media.duration - 1 && (this.seekTime = this.player.media.duration - 1), this.mousePosX = t.pageX, this.elements.thumb.time.innerText = _s(this.seekTime) } this.showImageAtCurrentTime() } }), Ir(this, "endMove", () => { this.toggleThumbContainer(!1, !0) }), Ir(this, "startScrubbing", t => { (oo(t.button) || !1 === t.button || 0 === t.button) && (this.mouseDown = !0, this.player.media.duration && (this.toggleScrubbingContainer(!0), this.toggleThumbContainer(!1, !0), this.showImageAtCurrentTime())) }), Ir(this, "endScrubbing", () => { this.mouseDown = !1, Math.ceil(this.lastTime) === Math.ceil(this.player.media.currentTime) ? this.toggleScrubbingContainer(!1) : Xo.call(this.player, this.player.media, "timeupdate", () => { this.mouseDown || this.toggleScrubbingContainer(!1) }) }), Ir(this, "listeners", () => { this.player.on("play", () => { this.toggleThumbContainer(!1, !0) }), this.player.on("seeked", () => { this.toggleThumbContainer(!1) }), this.player.on("timeupdate", () => { this.lastTime = this.player.media.currentTime }) }), Ir(this, "render", () => { this.elements.thumb.container = Io("div", { class: this.player.config.classNames.previewThumbnails.thumbContainer }), this.elements.thumb.imageContainer = Io("div", { class: this.player.config.classNames.previewThumbnails.imageContainer }), this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer); const t = Io("div", { class: this.player.config.classNames.previewThumbnails.timeContainer }); this.elements.thumb.time = Io("span", {}, "00:00"), t.appendChild(this.elements.thumb.time), this.elements.thumb.container.appendChild(t), fo(this.player.elements.progress) && this.player.elements.progress.appendChild(this.elements.thumb.container), this.elements.scrubbing.container = Io("div", { class: this.player.config.classNames.previewThumbnails.scrubbingContainer }), this.player.elements.wrapper.appendChild(this.elements.scrubbing.container) }), Ir(this, "destroy", () => { this.elements.thumb.container && this.elements.thumb.container.remove(), this.elements.scrubbing.container && this.elements.scrubbing.container.remove() }), Ir(this, "showImageAtCurrentTime", () => { this.mouseDown ? this.setScrubbingContainerSize() : this.setThumbContainerSizeAndPos(); const t = this.thumbnails[0].frames.findIndex(t => this.seekTime >= t.startTime && this.seekTime <= t.endTime), e = t >= 0; let n = 0; this.mouseDown || this.toggleThumbContainer(e), e && (this.thumbnails.forEach((e, i) => { this.loadedImages.includes(e.frames[t].text) && (n = i) }), t !== this.showingThumb && (this.showingThumb = t, this.loadImage(n))) }), Ir(this, "loadImage", (t = 0) => { const e = this.showingThumb, n = this.thumbnails[t], { urlPrefix: i } = n, r = n.frames[e], o = n.frames[e].text, s = i + o; if (this.currentImageElement && this.currentImageElement.dataset.filename === o) this.showImage(this.currentImageElement, r, t, e, o, !1), this.currentImageElement.dataset.index = e, this.removeOldImages(this.currentImageElement); else { this.loadingImage && this.usingSprites && (this.loadingImage.onload = null); const n = new Image; n.src = s, n.dataset.index = e, n.dataset.filename = o, this.showingThumbFilename = o, this.player.debug.log("Loading image: " + s), n.onload = () => this.showImage(n, r, t, e, o, !0), this.loadingImage = n, this.removeOldImages(n) } }), Ir(this, "showImage", (t, e, n, i, r, o = !0) => { this.player.debug.log(`Showing thumb: ${r}. num: ${i}. qual: ${n}. newimg: ${o}`), this.setImageSizeAndOffset(t, e), o && (this.currentImageContainer.appendChild(t), this.currentImageElement = t, this.loadedImages.includes(r) || this.loadedImages.push(r)), this.preloadNearby(i, !0).then(this.preloadNearby(i, !1)).then(this.getHigherQuality(n, t, e, r)) }), Ir(this, "removeOldImages", t => { Array.from(this.currentImageContainer.children).forEach(e => { if ("img" !== e.tagName.toLowerCase()) return; const n = this.usingSprites ? 500 : 1e3; if (e.dataset.index !== t.dataset.index && !e.dataset.deleting) { e.dataset.deleting = !0; const { currentImageContainer: t } = this; setTimeout(() => { t.removeChild(e), this.player.debug.log("Removing thumb: " + e.dataset.filename) }, n) } }) }), Ir(this, "preloadNearby", (t, e = !0) => new Promise(n => { setTimeout(() => { const i = this.thumbnails[0].frames[t].text; if (this.showingThumbFilename === i) { let r; r = e ? this.thumbnails[0].frames.slice(t) : this.thumbnails[0].frames.slice(0, t).reverse(); let o = !1; r.forEach(t => { const e = t.text; if (e !== i && !this.loadedImages.includes(e)) { o = !0, this.player.debug.log("Preloading thumb filename: " + e); const { urlPrefix: t } = this.thumbnails[0], i = t + e, r = new Image; r.src = i, r.onload = () => { this.player.debug.log("Preloaded thumb filename: " + e), this.loadedImages.includes(e) || this.loadedImages.push(e), n() } } }), o || n() } }, 300) })), Ir(this, "getHigherQuality", (t, e, n, i) => { if (t < this.thumbnails.length - 1) { let r = e.naturalHeight; this.usingSprites && (r = n.h), r < this.thumbContainerHeight && setTimeout(() => { this.showingThumbFilename === i && (this.player.debug.log("Showing higher quality thumb for: " + i), this.loadImage(t + 1)) }, 300) } }), Ir(this, "toggleThumbContainer", (t = !1, e = !1) => { const n = this.player.config.classNames.previewThumbnails.thumbContainerShown; this.elements.thumb.container.classList.toggle(n, t), !t && e && (this.showingThumb = null, this.showingThumbFilename = null) }), Ir(this, "toggleScrubbingContainer", (t = !1) => { const e = this.player.config.classNames.previewThumbnails.scrubbingContainerShown; this.elements.scrubbing.container.classList.toggle(e, t), t || (this.showingThumb = null, this.showingThumbFilename = null) }), Ir(this, "determineContainerAutoSizing", () => { (this.elements.thumb.imageContainer.clientHeight > 20 || this.elements.thumb.imageContainer.clientWidth > 20) && (this.sizeSpecifiedInCSS = !0) }), Ir(this, "setThumbContainerSizeAndPos", () => { if (this.sizeSpecifiedInCSS) { if (this.elements.thumb.imageContainer.clientHeight > 20 && this.elements.thumb.imageContainer.clientWidth < 20) { const t = Math.floor(this.elements.thumb.imageContainer.clientHeight * this.thumbAspectRatio); this.elements.thumb.imageContainer.style.width = t + "px" } else if (this.elements.thumb.imageContainer.clientHeight < 20 && this.elements.thumb.imageContainer.clientWidth > 20) { const t = Math.floor(this.elements.thumb.imageContainer.clientWidth / this.thumbAspectRatio); this.elements.thumb.imageContainer.style.height = t + "px" } } else { const t = Math.floor(this.thumbContainerHeight * this.thumbAspectRatio); this.elements.thumb.imageContainer.style.height = this.thumbContainerHeight + "px", this.elements.thumb.imageContainer.style.width = t + "px" } this.setThumbContainerPos() }), Ir(this, "setThumbContainerPos", () => { const t = this.player.elements.progress.getBoundingClientRect(), e = this.player.elements.container.getBoundingClientRect(), { container: n } = this.elements.thumb, i = e.left - t.left + 10, r = e.right - t.left - n.clientWidth - 10; let o = this.mousePosX - t.left - n.clientWidth / 2; o < i && (o = i), o > r && (o = r), n.style.left = o + "px" }), Ir(this, "setScrubbingContainerSize", () => { const { width: t, height: e } = Gs(this.thumbAspectRatio, { width: this.player.media.clientWidth, height: this.player.media.clientHeight }); this.elements.scrubbing.container.style.width = t + "px", this.elements.scrubbing.container.style.height = e + "px" }), Ir(this, "setImageSizeAndOffset", (t, e) => { if (!this.usingSprites) return; const n = this.thumbContainerHeight / e.h; t.style.height = t.naturalHeight * n + "px", t.style.width = t.naturalWidth * n + "px", t.style.left = `-${e.x * n}px`, t.style.top = `-${e.y * n}px` }), this.player = t, this.thumbnails = [], this.loaded = !1, this.lastMouseMoveTime = Date.now(), this.mouseDown = !1, this.loadedImages = [], this.elements = { thumb: {}, scrubbing: {} }, this.load() } get enabled() { return this.player.isHTML5 && this.player.isVideo && this.player.config.previewThumbnails.enabled } get currentImageContainer() { return this.mouseDown ? this.elements.scrubbing.container : this.elements.thumb.imageContainer } get usingSprites() { return Object.keys(this.thumbnails[0].frames[0]).includes("w") } get thumbAspectRatio() { return this.usingSprites ? this.thumbnails[0].frames[0].w / this.thumbnails[0].frames[0].h : this.thumbnails[0].width / this.thumbnails[0].height } get thumbContainerHeight() { if (this.mouseDown) { const { height: t } = Gs(this.thumbAspectRatio, { width: this.player.media.clientWidth, height: this.player.media.clientHeight }); return t } return this.sizeSpecifiedInCSS ? this.elements.thumb.imageContainer.clientHeight : Math.floor(this.player.media.clientWidth / this.thumbAspectRatio / 4) } get currentImageElement() { return this.mouseDown ? this.currentScrubbingImageElement : this.currentThumbnailImageElement } set currentImageElement(t) { this.mouseDown ? this.currentScrubbingImageElement = t : this.currentThumbnailImageElement = t } } const Ys = { insertElements(t, e) { uo(e) ? No(t, this.media, { src: e }) : ho(e) && e.forEach(e => { No(t, this.media, e) }) }, change(t) { Co(t, "sources.length") ? (as.cancelRequests.call(this), this.destroy.call(this, () => { this.options.quality = [], Po(this.media), this.media = null, fo(this.elements.container) && this.elements.container.removeAttribute("class"); const { sources: e, type: n } = t, [{ provider: i = Ts.html5, src: r }] = e, o = "html5" === i ? n : "div", s = "html5" === i ? {} : { src: r }; Object.assign(this, { provider: i, type: n, supported: zo.check(n, i, this.config.playsinline), media: Io(o, s) }), this.elements.container.appendChild(this.media), lo(t.autoplay) && (this.config.autoplay = t.autoplay), this.isHTML5 && (this.config.crossorigin && this.media.setAttribute("crossorigin", ""), this.config.autoplay && this.media.setAttribute("autoplay", ""), bo(t.poster) || (this.poster = t.poster), this.config.loop.active && this.media.setAttribute("loop", ""), this.config.muted && this.media.setAttribute("muted", ""), this.config.playsinline && this.media.setAttribute("playsinline", "")), Os.addStyleHook.call(this), this.isHTML5 && Ys.insertElements.call(this, "source", e), this.config.title = t.title, Vs.setup.call(this), this.isHTML5 && Object.keys(t).includes("tracks") && Ys.insertElements.call(this, "track", t.tracks), (this.isHTML5 || this.isEmbed && !this.supported.ui) && Os.build.call(this), this.isHTML5 && this.media.load(), bo(t.previewThumbnails) || (Object.assign(this.config.previewThumbnails, t.previewThumbnails), this.previewThumbnails && this.previewThumbnails.loaded && (this.previewThumbnails.destroy(), this.previewThumbnails = null), this.config.previewThumbnails.enabled && (this.previewThumbnails = new Xs(this))), this.fullscreen.update() }, !0)) : this.debug.warn("Invalid source format") } }; class Ws { constructor(t, e) { if (Ir(this, "play", () => co(this.media.play) ? (this.ads && this.ads.enabled && this.ads.managerPromise.then(() => this.ads.play()).catch(() => Zo(this.media.play())), this.media.play()) : null), Ir(this, "pause", () => this.playing && co(this.media.pause) ? this.media.pause() : null), Ir(this, "togglePlay", t => (lo(t) ? t : !this.playing) ? this.play() : this.pause()), Ir(this, "stop", () => { this.isHTML5 ? (this.pause(), this.restart()) : co(this.media.stop) && this.media.stop() }), Ir(this, "restart", () => { this.currentTime = 0 }), Ir(this, "rewind", t => { this.currentTime -= ao(t) ? t : this.config.seekTime }), Ir(this, "forward", t => { this.currentTime += ao(t) ? t : this.config.seekTime }), Ir(this, "increaseVolume", t => { const e = this.media.muted ? 0 : this.volume; this.volume = e + (ao(t) ? t : 0) }), Ir(this, "decreaseVolume", t => { this.increaseVolume(-t) }), Ir(this, "airplay", () => { zo.airplay && this.media.webkitShowPlaybackTargetPicker() }), Ir(this, "toggleControls", t => { if (this.supported.ui && !this.isAudio) { const e = Fo(this.elements.container, this.config.classNames.hideControls), n = void 0 === t ? void 0 : !t, i = ko(this.elements.container, this.config.classNames.hideControls, n); if (i && ho(this.config.controls) && this.config.controls.includes("settings") && !bo(this.config.settings) && bs.toggleMenu.call(this, !1), i !== e) { const t = i ? "controlshidden" : "controlsshown"; Yo.call(this, this.media, t) } return !i } return !1 }), Ir(this, "on", (t, e) => { Ho.call(this, this.elements.container, t, e) }), Ir(this, "once", (t, e) => { Xo.call(this, this.elements.container, t, e) }), Ir(this, "off", (t, e) => { Go(this.elements.container, t, e) }), Ir(this, "destroy", (t, e = !1) => { if (!this.ready) return; const n = () => { document.body.style.overflow = "", this.embed = null, e ? (Object.keys(this.elements).length && (Po(this.elements.buttons.play), Po(this.elements.captions), Po(this.elements.controls), Po(this.elements.wrapper), this.elements.buttons.play = null, this.elements.captions = null, this.elements.controls = null, this.elements.wrapper = null), co(t) && t()) : (Wo.call(this), as.cancelRequests.call(this), Mo(this.elements.original, this.elements.container), Yo.call(this, this.elements.original, "destroyed", !0), co(t) && t.call(this.elements.original), this.ready = !1, setTimeout(() => { this.elements = null, this.media = null }, 200)) }; this.stop(), clearTimeout(this.timers.loading), clearTimeout(this.timers.controls), clearTimeout(this.timers.resized), this.isHTML5 ? (Os.toggleNativeControls.call(this, !0), n()) : this.isYouTube ? (clearInterval(this.timers.buffering), clearInterval(this.timers.playing), null !== this.embed && co(this.embed.destroy) && this.embed.destroy(), n()) : this.isVimeo && (null !== this.embed && this.embed.unload().then(n), setTimeout(n, 200)) }), Ir(this, "supports", t => zo.mime.call(this, t)), this.timers = {}, this.ready = !1, this.loading = !1, this.failed = !1, this.touch = zo.touch, this.media = t, uo(this.media) && (this.media = document.querySelectorAll(this.media)), (n && this.media instanceof i || po(this.media) || ho(this.media)) && (this.media = this.media[0]), this.config = Do({}, Cs, Ws.defaults, e || {}, (() => { try { return JSON.parse(this.media.getAttribute("data-plyr-config")) } catch (t) { return {} } })()), this.elements = { container: null, fullscreen: null, captions: null, buttons: {}, display: {}, progress: {}, inputs: {}, settings: { popup: null, menu: null, panels: {}, buttons: {} } }, this.captions = { active: null, currentTrack: -1, meta: new WeakMap }, this.fullscreen = { active: !1 }, this.options = { speed: [], quality: [] }, this.debug = new As(this.config.debug), this.debug.log("Config", this.config), this.debug.log("Support", zo), oo(this.media) || !fo(this.media)) return void this.debug.error("Setup failed: no suitable element passed"); if (this.media.plyr) return void this.debug.warn("Target already setup"); if (!this.config.enabled) return void this.debug.error("Setup failed: disabled by config"); if (!zo.check().api) return void this.debug.error("Setup failed: no support"); const r = this.media.cloneNode(!0); r.autoplay = !1, this.elements.original = r; const o = this.media.tagName.toLowerCase(); let s = null, a = null; switch (o) { case "div": if (s = this.media.querySelector("iframe"), fo(s)) { if (a = ws(s.getAttribute("src")), this.provider = function (t) { return /^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(t) ? Ts.youtube : /^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(t) ? Ts.vimeo : null }(a.toString()), this.elements.container = this.media, this.media = s, this.elements.container.className = "", a.search.length) { const t = ["1", "true"]; t.includes(a.searchParams.get("autoplay")) && (this.config.autoplay = !0), t.includes(a.searchParams.get("loop")) && (this.config.loop.active = !0), this.isYouTube ? (this.config.playsinline = t.includes(a.searchParams.get("playsinline")), this.config.youtube.hl = a.searchParams.get("hl")) : this.config.playsinline = !0 } } else this.provider = this.media.getAttribute(this.config.attributes.embed.provider), this.media.removeAttribute(this.config.attributes.embed.provider); if (bo(this.provider) || !Object.values(Ts).includes(this.provider)) return void this.debug.error("Setup failed: Invalid provider"); this.type = Ns; break; case "video": case "audio": this.type = o, this.provider = Ts.html5, this.media.hasAttribute("crossorigin") && (this.config.crossorigin = !0), this.media.hasAttribute("autoplay") && (this.config.autoplay = !0), (this.media.hasAttribute("playsinline") || this.media.hasAttribute("webkit-playsinline")) && (this.config.playsinline = !0), this.media.hasAttribute("muted") && (this.config.muted = !0), this.media.hasAttribute("loop") && (this.config.loop.active = !0); break; default: return void this.debug.error("Setup failed: unsupported type") }this.supported = zo.check(this.type, this.provider, this.config.playsinline), this.supported.api ? (this.eventListeners = [], this.listeners = new ks(this), this.storage = new gs(this), this.media.plyr = this, fo(this.elements.container) || (this.elements.container = Io("div", { tabindex: 0 }), So(this.media, this.elements.container)), Os.migrateStyles.call(this), Os.addStyleHook.call(this), Vs.setup.call(this), this.config.debug && Ho.call(this, this.elements.container, this.config.events.join(" "), t => { this.debug.log("event: " + t.type) }), this.fullscreen = new Ms(this), (this.isHTML5 || this.isEmbed && !this.supported.ui) && Os.build.call(this), this.listeners.container(), this.listeners.global(), this.config.ads.enabled && (this.ads = new Us(this)), this.isHTML5 && this.config.autoplay && this.once("canplay", () => Zo(this.play())), this.lastSeekTime = 0, this.config.previewThumbnails.enabled && (this.previewThumbnails = new Xs(this))) : this.debug.error("Setup failed: no support") } get isHTML5() { return this.provider === Ts.html5 } get isEmbed() { return this.isYouTube || this.isVimeo } get isYouTube() { return this.provider === Ts.youtube } get isVimeo() { return this.provider === Ts.vimeo } get isVideo() { return this.type === Ns } get isAudio() { return this.type === Is } get playing() { return Boolean(this.ready && !this.paused && !this.ended) } get paused() { return Boolean(this.media.paused) } get stopped() { return Boolean(this.paused && 0 === this.currentTime) } get ended() { return Boolean(this.media.ended) } set currentTime(t) { if (!this.duration) return; const e = ao(t) && t > 0; this.media.currentTime = e ? Math.min(t, this.duration) : 0, this.debug.log(`Seeking to ${this.currentTime} seconds`) } get currentTime() { return Number(this.media.currentTime) } get buffered() { const { buffered: t } = this.media; return ao(t) ? t : t && t.length && this.duration > 0 ? t.end(0) / this.duration : 0 } get seeking() { return Boolean(this.media.seeking) } get duration() { const t = parseFloat(this.config.duration), e = (this.media || {}).duration, n = ao(e) && e !== 1 / 0 ? e : 0; return t || n } set volume(t) { let e = t; uo(e) && (e = Number(e)), ao(e) || (e = this.storage.get("volume")), ao(e) || ({ volume: e } = this.config), e > 1 && (e = 1), e < 0 && (e = 0), this.config.volume = e, this.media.volume = e, !bo(t) && this.muted && e > 0 && (this.muted = !1) } get volume() { return Number(this.media.volume) } set muted(t) { let e = t; lo(e) || (e = this.storage.get("muted")), lo(e) || (e = this.config.muted), this.config.muted = e, this.media.muted = e } get muted() { return Boolean(this.media.muted) } get hasAudio() { return !this.isHTML5 || !!this.isAudio || Boolean(this.media.mozHasAudio) || Boolean(this.media.webkitAudioDecodedByteCount) || Boolean(this.media.audioTracks && this.media.audioTracks.length) } set speed(t) { let e = null; ao(t) && (e = t), ao(e) || (e = this.storage.get("speed")), ao(e) || (e = this.config.speed.selected); const { minimumSpeed: n, maximumSpeed: i } = this; e = function (t = 0, e = 0, n = 255) { return Math.min(Math.max(t, e), n) }(e, n, i), this.config.speed.selected = e, setTimeout(() => { this.media.playbackRate = e }, 0) } get speed() { return Number(this.media.playbackRate) } get minimumSpeed() { return this.isYouTube ? Math.min(...this.options.speed) : this.isVimeo ? .5 : .0625 } get maximumSpeed() { return this.isYouTube ? Math.max(...this.options.speed) : this.isVimeo ? 2 : 16 } set quality(t) { const e = this.config.quality, n = this.options.quality; if (!n.length) return; let i = [!bo(t) && Number(t), this.storage.get("quality"), e.selected, e.default].find(ao), r = !0; if (!n.includes(i)) { const t = Qo(n, i); this.debug.warn(`Unsupported quality option: ${i}, using ${t} instead`), i = t, r = !1 } e.selected = i, this.media.quality = i, r && this.storage.set({ quality: i }) } get quality() { return this.media.quality } set loop(t) { const e = lo(t) ? t : this.config.loop.active; this.config.loop.active = e, this.media.loop = e } get loop() { return Boolean(this.media.loop) } set source(t) { Ys.change.call(this, t) } get source() { return this.media.currentSrc } get download() { const { download: t } = this.config.urls; return _o(t) ? t : this.source } set download(t) { _o(t) && (this.config.urls.download = t, bs.setDownloadUrl.call(this)) } set poster(t) { this.isVideo ? Os.setPoster.call(this, t, !1).catch(() => { }) : this.debug.warn("Poster can only be set for video") } get poster() { return this.isVideo ? this.media.getAttribute("poster") || this.media.getAttribute("data-poster") : null } get ratio() { if (!this.isVideo) return null; const t = is(rs.call(this)); return ho(t) ? t.join(":") : t } set ratio(t) { this.isVideo ? uo(t) && ns(t) ? (this.config.ratio = is(t), os.call(this)) : this.debug.error(`Invalid aspect ratio specified (${t})`) : this.debug.warn("Aspect ratio can only be set for video") } set autoplay(t) { const e = lo(t) ? t : this.config.autoplay; this.config.autoplay = e } get autoplay() { return Boolean(this.config.autoplay) } toggleCaptions(t) { Es.toggle.call(this, t, !1) } set currentTrack(t) { Es.set.call(this, t, !1) } get currentTrack() { const { toggled: t, currentTrack: e } = this.captions; return t ? e : -1 } set language(t) { Es.setLanguage.call(this, t, !1) } get language() { return (Es.getCurrentTrack.call(this) || {}).language } set pip(t) { if (!zo.pip) return; const e = lo(t) ? t : !this.pip; co(this.media.webkitSetPresentationMode) && this.media.webkitSetPresentationMode(e ? Ds : Ss), co(this.media.requestPictureInPicture) && (!this.pip && e ? this.media.requestPictureInPicture() : this.pip && !e && document.exitPictureInPicture()) } get pip() { return zo.pip ? bo(this.media.webkitPresentationMode) ? this.media === document.pictureInPictureElement : this.media.webkitPresentationMode === Ds : null } static supported(t, e, n) { return zo.check(t, e, n) } static loadSprite(t, e) { return ms(t, e) } static setup(t, e = {}) { let n = null; return uo(t) ? n = Array.from(document.querySelectorAll(t)) : po(t) ? n = Array.from(t) : ho(t) && (n = t.filter(fo)), bo(n) ? null : n.map(t => new Ws(t, e)) } } var Js; return Ws.defaults = (Js = Cs, JSON.parse(JSON.stringify(Js))), Ws }, t.exports = r()) }).call(this, n("yLpj"), n("EVdn"), n("EVdn")) }, K0DA: function (t, e, n) { "use strict"; (function (t) { var i = n("3rzb"), r = n.n(i), o = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; o.prototype.init = function () { this.options.$el.find(".hamburger").on("click", (function () { r.a.publish("NavOverlay:show") })) }, e.a = o }).call(this, n("EVdn")) }, L0c3: function (t, e, n) { "use strict"; (function (t) { n.d(e, "e", (function () { return i })), n.d(e, "p", (function () { return r })), n.d(e, "a", (function () { return o })), n.d(e, "c", (function () { return s })), n.d(e, "d", (function () { return a })), n.d(e, "o", (function () { return u })), n.d(e, "q", (function () { return l })), n.d(e, "t", (function () { return c })), n.d(e, "i", (function () { return h })), n.d(e, "r", (function () { return p })), n.d(e, "s", (function () { return f })), n.d(e, "k", (function () { return d })), n.d(e, "m", (function () { return g })), n.d(e, "j", (function () { return y })), n.d(e, "l", (function () { return m })), n.d(e, "g", (function () { return v })), n.d(e, "f", (function () { return _ })), n.d(e, "h", (function () { return b })), n.d(e, "n", (function () { return w })), n.d(e, "b", (function () { return x })); var i = "1.13.1", r = "object" == typeof self && self.self === self && self || "object" == typeof t && t.global === t && t || Function("return this")() || {}, o = Array.prototype, s = Object.prototype, a = "undefined" != typeof Symbol ? Symbol.prototype : null, u = o.push, l = o.slice, c = s.toString, h = s.hasOwnProperty, p = "undefined" != typeof ArrayBuffer, f = "undefined" != typeof DataView, d = Array.isArray, g = Object.keys, y = Object.create, m = p && ArrayBuffer.isView, v = isNaN, _ = isFinite, b = !{ toString: null }.propertyIsEnumerable("toString"), w = ["valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString"], x = Math.pow(2, 53) - 1 }).call(this, n("yLpj")) }, LEGP: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, NUvY: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, POyA: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, Pp9c: function (t, e, n) { "use strict"; (function (t) { var i = n("3rzb"), r = n.n(i), o = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; o.prototype.init = function () { var t = this; this.positionLeftSideText(), r.a.subscribe("resized", (function () { t.positionLeftSideText() })) }, o.prototype.positionLeftSideText = function () { var t = this.options.$el.find(".left-side-text"), e = this.options.$el, n = t.width(), i = t.height(), r = e.outerHeight(), o = (e.width(), r / 2 - i / 2); t.css("top", o); var s = n / 2 * -1 + i / 2 - i / 2; t.css("left", s) }, e.a = o }).call(this, n("EVdn")) }, Pwth: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, "Q/IP": function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, QTSV: function (t, e, n) { "use strict"; (function (t) { n("3rzb"), n("j4iJ"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, SQpw: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, SmdU: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, TbSm: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, VJ4P: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, W4kt: function (t, e, n) { "use strict"; (function (t) { var i = n("3rzb"), r = n.n(i), o = (n("Zej/"), n("bzVz")), s = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; s.prototype.init = function () { var e = this; this.$cardSlider = this.options.$el.find(".card-slider"), this.$cardSlider.slick({ arrows: !1, fade: !1, speed: 450, slidesToShow: 1, infinite: !1, centerMode: !0, centerPadding: "28%", responsive: [{ breakpoint: 2600, settings: { centerPadding: "26%" } }, { breakpoint: 2e3, settings: { centerPadding: "24%" } }, { breakpoint: 1700, settings: { centerPadding: "22%" } }, { breakpoint: 1200, settings: { centerPadding: "20%" } }, { breakpoint: 768, settings: { centerPadding: "120px" } }, { breakpoint: 640, settings: { centerPadding: "90px" } }, { breakpoint: 560, settings: { centerPadding: "70px" } }, { breakpoint: 500, settings: { centerPadding: "12%" } }, { breakpoint: 420, settings: { centerPadding: "8%" } }] }), this.slideEq = new o.a(e.options.$el.find(".slick-slide .card")), this.slideEq.equalizeHeights(), t(window).on("load", (function () { e.slideEq.equalizeHeights() })), r.a.subscribe("resized", (function () { e.slideEq.equalizeHeights() })) }, e.a = s }).call(this, n("EVdn")) }, WANX: function (t, e, n) { "use strict"; (function (t) { var i = n("3rzb"), r = n.n(i), o = (n("Zej/"), n("bzVz")), s = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; s.prototype.init = function () { var t = this; this.$cardSlider = this.options.$el.find(".card-slider"), this.$cardSlider.slick({ arrows: !1, fade: !1, speed: 450, swipeToSlide: !0, infinite: !1, variableWidth: !0, responsive: [{ breakpoint: 768, settings: { centerMode: !0, centerPadding: "0px", variableWidth: !1, slidesToShow: 1 } }] }), this.options.$el.find(".slider-navigation .previous-button").on("click", (function () { t.$cardSlider.slick("slickPrev") })), this.options.$el.find(".slider-navigation .next-button").on("click", (function () { t.$cardSlider.slick("slickNext") })), this.$cardSlider.on("beforeChange", (function (e, n, i, r) { t.updateSlideCounter(r + 1) })), this.slideCounterEq = new o.a(t.options.$el.find(".slide-counter, .slide-counter .slide-number")), this.slideCounterEq.equalizeHeights(), r.a.subscribe("resized", (function () { t.slideCounterEq.equalizeHeights() })) }, s.prototype.updateSlideCounter = function (t) { this.options.$el.find(".slide-number").removeClass("active"), this.options.$el.find('.slide-number[data-slide-number="' + t + '"]').addClass("active") }, e.a = s }).call(this, n("EVdn")) }, "WVt+": function (t, e, n) { !function (t) { "use strict"; function e(t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var i = n.bbox, r = n.id; if (void 0 === t) throw new Error("geometry is required"); if (e && e.constructor !== Object) throw new Error("properties must be an Object"); i && D(i), r && S(r); var o = { type: "Feature" }; return r && (o.id = r), i && (o.bbox = i), o.properties = e || {}, o.geometry = t, o } function n(t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var r, s = n.bbox; if (!t) throw new Error("type is required"); if (!e) throw new Error("coordinates is required"); if (!Array.isArray(e)) throw new Error("coordinates must be an Array"); switch (s && D(s), t) { case "Point": r = i(e).geometry; break; case "LineString": r = a(e).geometry; break; case "Polygon": r = o(e).geometry; break; case "MultiPoint": r = h(e).geometry; break; case "MultiLineString": r = c(e).geometry; break; case "MultiPolygon": r = p(e).geometry; break; default: throw new Error(t + " is invalid") }return s && (r.bbox = s), r } function i(t, n, i) { if (!t) throw new Error("coordinates is required"); if (!Array.isArray(t)) throw new Error("coordinates must be an Array"); if (t.length < 2) throw new Error("coordinates must be at least 2 numbers long"); if (!E(t[0]) || !E(t[1])) throw new Error("coordinates must contain numbers"); return e({ type: "Point", coordinates: t }, n, i) } function r(t, e, n) { if (!t) throw new Error("coordinates is required"); if (!Array.isArray(t)) throw new Error("coordinates must be an Array"); return l(t.map((function (t) { return i(t, e) })), n) } function o(t, n, i) { if (!t) throw new Error("coordinates is required"); for (var r = 0; r < t.length; r++) { var o = t[r]; if (o.length < 4) throw new Error("Each LinearRing of a Polygon must have 4 or more Positions."); for (var s = 0; s < o[o.length - 1].length; s++) { if (0 === r && 0 === s && !E(o[0][0]) || !E(o[0][1])) throw new Error("coordinates must contain numbers"); if (o[o.length - 1][s] !== o[0][s]) throw new Error("First and last Position are not equivalent.") } } return e({ type: "Polygon", coordinates: t }, n, i) } function s(t, e, n) { if (!t) throw new Error("coordinates is required"); if (!Array.isArray(t)) throw new Error("coordinates must be an Array"); return l(t.map((function (t) { return o(t, e) })), n) } function a(t, n, i) { if (!t) throw new Error("coordinates is required"); if (t.length < 2) throw new Error("coordinates must be an array of two or more positions"); if (!E(t[0][1]) || !E(t[0][1])) throw new Error("coordinates must contain numbers"); return e({ type: "LineString", coordinates: t }, n, i) } function u(t, e, n) { if (!t) throw new Error("coordinates is required"); if (!Array.isArray(t)) throw new Error("coordinates must be an Array"); return l(t.map((function (t) { return a(t, e) })), n) } function l(t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.bbox, i = e.id; if (!t) throw new Error("No features passed"); if (!Array.isArray(t)) throw new Error("features must be an Array"); n && D(n), i && S(i); var r = { type: "FeatureCollection" }; return i && (r.id = i), n && (r.bbox = n), r.features = t, r } function c(t, n, i) { if (!t) throw new Error("coordinates is required"); return e({ type: "MultiLineString", coordinates: t }, n, i) } function h(t, n, i) { if (!t) throw new Error("coordinates is required"); return e({ type: "MultiPoint", coordinates: t }, n, i) } function p(t, n, i) { if (!t) throw new Error("coordinates is required"); return e({ type: "MultiPolygon", coordinates: t }, n, i) } function f(t, n, i) { if (!t) throw new Error("geometries is required"); if (!Array.isArray(t)) throw new Error("geometries must be an Array"); return e({ type: "GeometryCollection", geometries: t }, n, i) } function d(t, e) { if (null == t || isNaN(t)) throw new Error("num is required"); if (e && !(e >= 0)) throw new Error("precision must be a positive number"); var n = Math.pow(10, e || 0); return Math.round(t * n) / n } function g(t, e) { if (null == t) throw new Error("radians is required"); if (e && "string" != typeof e) throw new Error("units must be a string"); var n = Eo[e || "kilometers"]; if (!n) throw new Error(e + " units is invalid"); return t * n } function y(t, e) { if (null == t) throw new Error("distance is required"); if (e && "string" != typeof e) throw new Error("units must be a string"); var n = Eo[e || "kilometers"]; if (!n) throw new Error(e + " units is invalid"); return t / n } function m(t, e) { return _(y(t, e)) } function v(t) { if (null == t) throw new Error("bearing is required"); var e = t % 360; return e < 0 && (e += 360), e } function _(t) { if (null == t) throw new Error("radians is required"); return t % (2 * Math.PI) * 180 / Math.PI } function b(t) { if (null == t) throw new Error("degrees is required"); return t % 360 * Math.PI / 180 } function w(t, e, n) { if (null == t) throw new Error("length is required"); if (!(t >= 0)) throw new Error("length must be a positive number"); return g(y(t, e), n || "kilometers") } function x(t, e, n) { if (null == t) throw new Error("area is required"); if (!(t >= 0)) throw new Error("area must be a positive number"); var i = Do[e || "meters"]; if (!i) throw new Error("invalid original units"); var r = Do[n || "kilometers"]; if (!r) throw new Error("invalid final units"); return t / i * r } function E(t) { return !isNaN(t) && null !== t && !Array.isArray(t) } function C(t) { return !!t && t.constructor === Object } function D(t) { if (!t) throw new Error("bbox is required"); if (!Array.isArray(t)) throw new Error("bbox must be an Array"); if (4 !== t.length && 6 !== t.length) throw new Error("bbox must be an Array of 4 or 6 numbers"); t.forEach((function (t) { if (!E(t)) throw new Error("bbox must only contain numbers") })) } function S(t) { if (!t) throw new Error("id is required"); if (-1 === ["string", "number"].indexOf(typeof t)) throw new Error("id must be a number or a string") } function T(t, e, n) { if (null !== t) for (var i, r, o, s, a, u, l, c, h = 0, p = 0, f = t.type, d = "FeatureCollection" === f, g = "Feature" === f, y = d ? t.features.length : 1, m = 0; m < y; m++) { a = (c = !!(l = d ? t.features[m].geometry : g ? t.geometry : t) && "GeometryCollection" === l.type) ? l.geometries.length : 1; for (var v = 0; v < a; v++) { var _ = 0, b = 0; if (null !== (s = c ? l.geometries[v] : l)) { u = s.coordinates; var w = s.type; switch (h = !n || "Polygon" !== w && "MultiPolygon" !== w ? 0 : 1, w) { case null: break; case "Point": e(u, p, m, _, b), p++, _++; break; case "LineString": case "MultiPoint": for (i = 0; i < u.length; i++)e(u[i], p, m, _, b), p++, "MultiPoint" === w && _++; "LineString" === w && _++; break; case "Polygon": case "MultiLineString": for (i = 0; i < u.length; i++) { for (r = 0; r < u[i].length - h; r++)e(u[i][r], p, m, _, b), p++; "MultiLineString" === w && _++, "Polygon" === w && b++ } "Polygon" === w && _++; break; case "MultiPolygon": for (i = 0; i < u.length; i++) { for ("MultiPolygon" === w && (b = 0), r = 0; r < u[i].length; r++) { for (o = 0; o < u[i][r].length - h; o++)e(u[i][r][o], p, m, _, b), p++; b++ } _++ } break; case "GeometryCollection": for (i = 0; i < s.geometries.length; i++)T(s.geometries[i], e, n); break; default: throw new Error("Unknown Geometry Type") } } } } } function I(t, e, n, i) { var r = n; return T(t, (function (t, i, o, s, a) { r = 0 === i && void 0 === n ? t : e(r, t, i, o, s, a) }), i), r } function N(t, e) { var n; switch (t.type) { case "FeatureCollection": for (n = 0; n < t.features.length; n++)e(t.features[n].properties, n); break; case "Feature": e(t.properties, 0) } } function P(t, e, n) { var i = n; return N(t, (function (t, r) { i = 0 === r && void 0 === n ? t : e(i, t, r) })), i } function A(t, e) { if ("Feature" === t.type) e(t, 0); else if ("FeatureCollection" === t.type) for (var n = 0; n < t.features.length; n++)e(t.features[n], n) } function M(t, e, n) { var i = n; return A(t, (function (t, r) { i = 0 === r && void 0 === n ? t : e(i, t, r) })), i } function L(t) { var e = []; return T(t, (function (t) { e.push(t) })), e } function O(t, e) { var n, i, r, o, s, a, u, l, c, h, p = 0, f = "FeatureCollection" === t.type, d = "Feature" === t.type, g = f ? t.features.length : 1; for (n = 0; n < g; n++) { for (a = f ? t.features[n].geometry : d ? t.geometry : t, l = f ? t.features[n].properties : d ? t.properties : {}, c = f ? t.features[n].bbox : d ? t.bbox : void 0, h = f ? t.features[n].id : d ? t.id : void 0, s = (u = !!a && "GeometryCollection" === a.type) ? a.geometries.length : 1, r = 0; r < s; r++)if (null !== (o = u ? a.geometries[r] : a)) switch (o.type) { case "Point": case "LineString": case "MultiPoint": case "Polygon": case "MultiLineString": case "MultiPolygon": e(o, p, l, c, h); break; case "GeometryCollection": for (i = 0; i < o.geometries.length; i++)e(o.geometries[i], p, l, c, h); break; default: throw new Error("Unknown Geometry Type") } else e(null, p, l, c, h); p++ } } function k(t, e, n) { var i = n; return O(t, (function (t, r, o, s, a) { i = 0 === r && void 0 === n ? t : e(i, t, r, o, s, a) })), i } function F(t, n) { O(t, (function (t, i, r, o, s) { var a, u = null === t ? null : t.type; switch (u) { case null: case "Point": case "LineString": case "Polygon": return void n(e(t, r, { bbox: o, id: s }), i, 0) }switch (u) { case "MultiPoint": a = "Point"; break; case "MultiLineString": a = "LineString"; break; case "MultiPolygon": a = "Polygon" }t.coordinates.forEach((function (t, o) { n(e({ type: a, coordinates: t }, r), i, o) })) })) } function R(t, e, n) { var i = n; return F(t, (function (t, r, o) { i = 0 === r && 0 === o && void 0 === n ? t : e(i, t, r, o) })), i } function q(t, e) { F(t, (function (t, n, i) { var r = 0; if (t.geometry) { var o = t.geometry.type; "Point" !== o && "MultiPoint" !== o && I(t, (function (o, s, u, l, c, h) { var p = a([o, s], t.properties); return e(p, n, i, h, r), r++, s })) } })) } function j(t, e, n) { var i = n, r = !1; return q(t, (function (t, o, s, a, u) { i = !1 === r && void 0 === n ? t : e(i, t, o, s, a, u), r = !0 })), i } function B(t, e) { if (!t) throw new Error("geojson is required"); F(t, (function (t, n, i) { if (null !== t.geometry) { var r = t.geometry.type, o = t.geometry.coordinates; switch (r) { case "LineString": e(t, n, i, 0, 0); break; case "Polygon": for (var s = 0; s < o.length; s++)e(a(o[s], t.properties), n, i, s) } } })) } function $(t, e, n) { var i = n; return B(t, (function (t, r, o, s) { i = 0 === r && void 0 === n ? t : e(i, t, r, o, s) })), i } function z(t) { var e = [1 / 0, 1 / 0, -1 / 0, -1 / 0]; return T(t, (function (t) { e[0] > t[0] && (e[0] = t[0]), e[1] > t[1] && (e[1] = t[1]), e[2] < t[0] && (e[2] = t[0]), e[3] < t[1] && (e[3] = t[1]) })), e } function V(t) { if (!t) throw new Error("obj is required"); var e = U(t); if (e.length > 1 && E(e[0]) && E(e[1])) return e; throw new Error("Coordinate is not a valid Point") } function U(t) { if (!t) throw new Error("obj is required"); var e; if (t.length ? e = t : t.coordinates ? e = t.coordinates : t.geometry && t.geometry.coordinates && (e = t.geometry.coordinates), e) return H(e), e; throw new Error("No valid coordinates") } function H(t) { if (t.length > 1 && E(t[0]) && E(t[1])) return !0; if (Array.isArray(t[0]) && t[0].length) return H(t[0]); throw new Error("coordinates must only contain numbers") } function G(t, e, n) { if (!e || !n) throw new Error("type and name required"); if (!t || t.type !== e) throw new Error("Invalid input to " + n + ": must be a " + e + ", given " + t.type) } function X(t, e, n) { if (!t) throw new Error("No feature passed"); if (!n) throw new Error(".featureOf() requires a name"); if (!t || "Feature" !== t.type || !t.geometry) throw new Error("Invalid input to " + n + ", Feature with geometry required"); if (!t.geometry || t.geometry.type !== e) throw new Error("Invalid input to " + n + ": must be a " + e + ", given " + t.geometry.type) } function Y(t, e, n) { if (!t) throw new Error("No featureCollection passed"); if (!n) throw new Error(".collectionOf() requires a name"); if (!t || "FeatureCollection" !== t.type) throw new Error("Invalid input to " + n + ", FeatureCollection required"); for (var i = 0; i < t.features.length; i++) { var r = t.features[i]; if (!r || "Feature" !== r.type || !r.geometry) throw new Error("Invalid input to " + n + ", Feature with geometry required"); if (!r.geometry || r.geometry.type !== e) throw new Error("Invalid input to " + n + ": must be a " + e + ", given " + r.geometry.type) } } function W(t) { if (!t) throw new Error("geojson is required"); if (void 0 !== t.geometry) return t.geometry; if (t.coordinates || t.geometries) return t; throw new Error("geojson must be a valid Feature or Geometry Object") } function J() { throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType") } function Z(t, e) { if (!t) throw new Error((e || "geojson") + " is required"); if (t.geometry && t.geometry.type) return t.geometry.type; if (t.type) return t.type; throw new Error((e || "geojson") + " is invalid") } function K(t, e, n) { n = n || {}; for (var i = Object.keys(No), r = 0; r < i.length; r++) { var o = i[r], s = n[o]; s = null != s ? s : No[o], Po[o] = s } Po.verbose && console.log("MarchingSquaresJS-isoContours: computing isocontour for " + e); var a = function (t) { var e = [], n = 0; return t.rows, t.cols, t.cells.forEach((function (i, r) { i.forEach((function (i, o) { if (void 0 !== i && !function (t) { return 5 === t.cval || 10 === t.cval }(i) && !tt(i)) { var s = function (t, e, n) { var i, r, o, s = t.length, a = [], u = [0, 0, 1, 1, 0, 0, 0, 0, -1, 0, 1, 1, -1, 0, -1, 0], l = [0, -1, 0, 0, 1, 1, 1, 1, 0, -1, 0, 0, 0, -1, 0, 0], c = ["none", "bottom", "right", "right", "top", "top", "top", "top", "left", "bottom", "right", "right", "left", "bottom", "left", "none"], h = (t[e][n], t[e][n]), p = h.cval, f = nt(h, o = ["none", "left", "bottom", "left", "right", "none", "bottom", "left", "top", "top", "none", "top", "right", "right", "bottom", "none"][p]); a.push([n + f[0], e + f[1]]), f = nt(h, o = c[p]), a.push([n + f[0], e + f[1]]), et(h); for (var d = n + u[p], g = e + l[p], y = p; d >= 0 && g >= 0 && g < s && (d != n || g != e) && void 0 !== (h = t[g][d]);) { if (0 === (p = h.cval) || 15 === p) return { path: a, info: "mergeable" }; o = c[p], i = u[p], r = l[p], 5 !== p && 10 !== p || (5 === p ? h.flipped ? -1 === l[y] ? (o = "left", i = -1, r = 0) : (o = "right", i = 1, r = 0) : -1 === u[y] && (o = "bottom", i = 0, r = -1) : 10 === p && (h.flipped ? -1 === u[y] ? (o = "top", i = 0, r = 1) : (o = "bottom", i = 0, r = -1) : 1 === l[y] && (o = "left", i = -1, r = 0))), f = nt(h, o), a.push([d + f[0], g + f[1]]), et(h), d += i, g += r, y = p } return { path: a, info: "closed" } }(t.cells, r, o), a = !1; if ("mergeable" === s.info) for (var u = s.path[s.path.length - 1][0], l = s.path[s.path.length - 1][1], c = n - 1; c >= 0; c--)if (Math.abs(e[c][0][0] - u) <= 1e-7 && Math.abs(e[c][0][1] - l) <= 1e-7) { for (var h = s.path.length - 2; h >= 0; --h)e[c].unshift(s.path[h]); a = !0; break } a || (e[n++] = s.path) } })) })), e }(function (t, e) { for (var n = t.length - 1, i = t[0].length - 1, r = { rows: n, cols: i, cells: [] }, o = 0; o < n; ++o) { r.cells[o] = []; for (var s = 0; s < i; ++s) { var a = 0, u = t[o + 1][s], l = t[o + 1][s + 1], c = t[o][s + 1], h = t[o][s]; if (!(isNaN(u) || isNaN(l) || isNaN(c) || isNaN(h))) { a |= u >= e ? 8 : 0, a |= l >= e ? 4 : 0, a |= c >= e ? 2 : 0; var p, f, d, g, y = !1; if (5 == (a |= h >= e ? 1 : 0) || 10 === a) { var m = (u + l + c + h) / 4; 5 === a && m < e ? (a = 10, y = !0) : 10 === a && m < e && (a = 5, y = !0) } 0 !== a && 15 !== a && (p = f = d = g = .5, 1 === a ? (d = 1 - Q(e, u, h), f = 1 - Q(e, c, h)) : 2 === a ? (f = Q(e, h, c), g = 1 - Q(e, l, c)) : 3 === a ? (d = 1 - Q(e, u, h), g = 1 - Q(e, l, c)) : 4 === a ? (p = Q(e, u, l), g = Q(e, c, l)) : 5 === a ? (p = Q(e, u, l), g = Q(e, c, l), f = 1 - Q(e, c, h), d = 1 - Q(e, u, h)) : 6 === a ? (f = Q(e, h, c), p = Q(e, u, l)) : 7 === a ? (d = 1 - Q(e, u, h), p = Q(e, u, l)) : 8 === a ? (d = Q(e, h, u), p = 1 - Q(e, l, u)) : 9 === a ? (f = 1 - Q(e, c, h), p = 1 - Q(e, l, u)) : 10 === a ? (p = 1 - Q(e, l, u), g = 1 - Q(e, l, c), f = Q(e, h, c), d = Q(e, h, u)) : 11 === a ? (p = 1 - Q(e, l, u), g = 1 - Q(e, l, c)) : 12 === a ? (d = Q(e, h, u), g = Q(e, c, l)) : 13 === a ? (f = 1 - Q(e, c, h), g = Q(e, c, l)) : 14 === a ? (d = Q(e, h, u), f = Q(e, h, c)) : console.log("MarchingSquaresJS-isoContours: Illegal cval detected: " + a), r.cells[o][s] = { cval: a, flipped: y, top: p, right: g, bottom: f, left: d }) } } } return r }(t, e)); return "function" == typeof Po.successCallback && Po.successCallback(a), a } function Q(t, e, n) { return (t - e) / (n - e) } function tt(t) { return 0 === t.cval || 15 === t.cval } function et(t) { tt(t) || 5 === t.cval || 10 === t.cval || (t.cval = 15) } function nt(t, e) { return "top" === e ? [t.top, 1] : "bottom" === e ? [t.bottom, 0] : "right" === e ? [1, t.right] : "left" === e ? [0, t.left] : void 0 } function it(t, e, n) { var i = t[e]; t[e] = t[n], t[n] = i } function rt(t, e) { if (!(this instanceof rt)) return new rt(t, e); this._maxEntries = Math.max(4, t || 9), this._minEntries = Math.max(2, Math.ceil(.4 * this._maxEntries)), e && this._initFormat(e), this.clear() } function ot(t, e) { st(t, 0, t.children.length, e, t) } function st(t, e, n, i, r) { r || (r = dt(null)), r.minX = 1 / 0, r.minY = 1 / 0, r.maxX = -1 / 0, r.maxY = -1 / 0; for (var o, s = e; s < n; s++)o = t.children[s], at(r, t.leaf ? i(o) : o); return r } function at(t, e) { return t.minX = Math.min(t.minX, e.minX), t.minY = Math.min(t.minY, e.minY), t.maxX = Math.max(t.maxX, e.maxX), t.maxY = Math.max(t.maxY, e.maxY), t } function ut(t, e) { return t.minX - e.minX } function lt(t, e) { return t.minY - e.minY } function ct(t) { return (t.maxX - t.minX) * (t.maxY - t.minY) } function ht(t) { return t.maxX - t.minX + (t.maxY - t.minY) } function pt(t, e) { return t.minX <= e.minX && t.minY <= e.minY && e.maxX <= t.maxX && e.maxY <= t.maxY } function ft(t, e) { return e.minX <= t.maxX && e.minY <= t.maxY && e.maxX >= t.minX && e.maxY >= t.minY } function dt(t) { return { children: t, height: 1, leaf: !0, minX: 1 / 0, minY: 1 / 0, maxX: -1 / 0, maxY: -1 / 0 } } function gt(t, e, n, i, r) { for (var o, s = [e, n]; s.length;)(n = s.pop()) - (e = s.pop()) <= i || (o = e + Math.ceil((n - e) / i / 2) * i, Ao(t, o, e, n, r), s.push(e, o, o, n)) } function yt(t, e) { return t(e = { exports: {} }, e.exports), e.exports } function mt(t, e) { if (!(this instanceof mt)) return new mt(t, e); if (this.data = t || [], this.length = this.data.length, this.compare = e || function (t, e) { return t < e ? -1 : t > e ? 1 : 0 }, this.length > 0) for (var n = (this.length >> 1) - 1; n >= 0; n--)this._down(n) } function vt(t, e, n) { e = Math.max(0, void 0 === e ? 2 : e), n = n || 0; for (var i, r = function (t) { for (var e = t[0], n = t[0], i = t[0], r = t[0], o = 0; o < t.length; o++) { var s = t[o]; s[0] < e[0] && (e = s), s[0] > i[0] && (i = s), s[1] < n[1] && (n = s), s[1] > r[1] && (r = s) } var a = [e, n, i, r], u = a.slice(); for (o = 0; o < t.length; o++)Uo(t[o], a) || u.push(t[o]); var l = Bo(u), c = []; for (o = 0; o < l.length; o++)c.push(u[l[o]]); return c }(t), o = Mo(16, ["[0]", "[1]", "[0]", "[1]"]).load(t), s = [], a = 0; a < r.length; a++) { var u = r[a]; o.remove(u), i = Et(u, i), s.push(i) } var l = Mo(16); for (a = 0; a < s.length; a++)l.insert(xt(s[a])); for (var c = e * e, h = n * n; s.length;) { var p = s.shift(), f = p.p, d = p.next.p, g = Ct(f, d); if (!(g < h)) { var y = g / c; (u = function (t, e, n, i, r, o, s) { for (var a = new zo(null, _t), u = t.data; u;) { for (var l = 0; l < u.children.length; l++) { var c = u.children[l], h = u.leaf ? Dt(c, n, i) : function (t, e, n) { if (bt(t, n) || bt(e, n)) return 0; var i = St(t[0], t[1], e[0], e[1], n.minX, n.minY, n.maxX, n.minY); if (0 === i) return 0; var r = St(t[0], t[1], e[0], e[1], n.minX, n.minY, n.minX, n.maxY); if (0 === r) return 0; var o = St(t[0], t[1], e[0], e[1], n.maxX, n.minY, n.maxX, n.maxY); if (0 === o) return 0; var s = St(t[0], t[1], e[0], e[1], n.minX, n.maxY, n.maxX, n.maxY); return 0 === s ? 0 : Math.min(i, r, o, s) }(n, i, c); h > o || a.push({ node: c, dist: h }) } for (; a.length && !a.peek().node.children;) { var p = a.pop(), f = p.node, d = Dt(f, e, n), g = Dt(f, i, r); if (p.dist < d && p.dist < g && wt(n, f, s) && wt(i, f, s)) return f } (u = a.pop()) && (u = u.node) } return null }(o, p.prev.p, f, d, p.next.next.p, y, l)) && Math.min(Ct(u, f), Ct(u, d)) <= y && (s.push(p), s.push(Et(u, p)), o.remove(u), l.remove(p), l.insert(xt(p)), l.insert(xt(p.next))) } } p = i; var m = []; do { m.push(p.p), p = p.next } while (p !== i); return m.push(p.p), m } function _t(t, e) { return t.dist - e.dist } function bt(t, e) { return t[0] >= e.minX && t[0] <= e.maxX && t[1] >= e.minY && t[1] <= e.maxY } function wt(t, e, n) { for (var i = Math.min(t[0], e[0]), r = Math.min(t[1], e[1]), o = Math.max(t[0], e[0]), s = Math.max(t[1], e[1]), a = n.search({ minX: i, minY: r, maxX: o, maxY: s }), u = 0; u < a.length; u++)if (function (t, e, n, i) { return t !== i && e !== n && Ho(t, e, n) > 0 != Ho(t, e, i) > 0 && Ho(n, i, t) > 0 != Ho(n, i, e) > 0 }(a[u].p, a[u].next.p, t, e)) return !1; return !0 } function xt(t) { var e = t.p, n = t.next.p; return t.minX = Math.min(e[0], n[0]), t.minY = Math.min(e[1], n[1]), t.maxX = Math.max(e[0], n[0]), t.maxY = Math.max(e[1], n[1]), t } function Et(t, e) { var n = { p: t, prev: null, next: null, minX: 0, minY: 0, maxX: 0, maxY: 0 }; return e ? (n.next = e.next, n.prev = e, e.next.prev = n, e.next = n) : (n.prev = n, n.next = n), n } function Ct(t, e) { var n = t[0] - e[0], i = t[1] - e[1]; return n * n + i * i } function Dt(t, e, n) { var i = e[0], r = e[1], o = n[0] - i, s = n[1] - r; if (0 !== o || 0 !== s) { var a = ((t[0] - i) * o + (t[1] - r) * s) / (o * o + s * s); a > 1 ? (i = n[0], r = n[1]) : a > 0 && (i += o * a, r += s * a) } return (o = t[0] - i) * o + (s = t[1] - r) * s } function St(t, e, n, i, r, o, s, a) { var u, l, c, h, p = n - t, f = i - e, d = s - r, g = a - o, y = t - r, m = e - o, v = p * p + f * f, _ = p * d + f * g, b = d * d + g * g, w = p * y + f * m, x = d * y + g * m, E = v * b - _ * _, C = E, D = E; 0 === E ? (l = 0, C = 1, h = x, D = b) : (h = v * x - _ * w, (l = _ * x - b * w) < 0 ? (l = 0, h = x, D = b) : l > C && (l = C, h = x + _, D = b)), h < 0 ? (h = 0, -w < 0 ? l = 0 : -w > v ? l = C : (l = -w, C = v)) : h > D && (h = D, -w + _ < 0 ? l = 0 : -w + _ > v ? l = C : (l = -w + _, C = v)); var S = (1 - (c = 0 === h ? 0 : h / D)) * r + c * s - ((1 - (u = 0 === l ? 0 : l / C)) * t + u * n), T = (1 - c) * o + c * a - ((1 - u) * e + u * i); return S * S + T * T } function Tt(t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.concavity || 1 / 0, i = []; if (T(t, (function (t) { i.push([t[0], t[1]]) })), !i.length) return null; var r = Go(i, n); return r.length > 3 ? o([r]) : null } function It(t, e, n) { if ("object" != typeof (n = n || {})) throw new Error("options is invalid"); var i = n.ignoreBoundary; if (!t) throw new Error("point is required"); if (!e) throw new Error("polygon is required"); var r = V(t), o = U(e), s = e.geometry ? e.geometry.type : e.type, a = e.bbox; if (a && !1 === function (t, e) { return e[0] <= t[0] && e[1] <= t[1] && e[2] >= t[0] && e[3] >= t[1] }(r, a)) return !1; "Polygon" === s && (o = [o]); for (var u = 0, l = !1; u < o.length && !l; u++)if (Nt(r, o[u][0], i)) { for (var c = !1, h = 1; h < o[u].length && !c;)Nt(r, o[u][h], !i) && (c = !0), h++; c || (l = !0) } return l } function Nt(t, e, n) { var i = !1; e[0][0] === e[e.length - 1][0] && e[0][1] === e[e.length - 1][1] && (e = e.slice(0, e.length - 1)); for (var r = 0, o = e.length - 1; r < e.length; o = r++) { var s = e[r][0], a = e[r][1], u = e[o][0], l = e[o][1]; if (t[1] * (s - u) + a * (u - t[0]) + l * (t[0] - s) == 0 && (s - t[0]) * (u - t[0]) <= 0 && (a - t[1]) * (l - t[1]) <= 0) return !n; a > t[1] != l > t[1] && t[0] < (u - s) * (t[1] - a) / (l - a) + s && (i = !i) } return i } function Pt(t, e) { var n = []; return O(e, (function (e) { A(t, (function (t) { It(t, e) && n.push(t) })) })), l(n) } function At(t, e) { if ("FeatureCollection" !== t.type) throw new Error("points must be a FeatureCollection"); var n = !1; return l(function (t) { if (t.length < 3) return []; t.sort(Lt); for (var e, n, i, r, o, s, a = t.length - 1, u = t[a].x, l = t[0].x, c = t[a].y, h = c; a--;)t[a].y < c && (c = t[a].y), t[a].y > h && (h = t[a].y); var p, f = l - u, d = h - c, g = f > d ? f : d, y = .5 * (l + u), m = .5 * (h + c), v = [new Mt({ x: y - 20 * g, y: m - g, __sentinel: !0 }, { x: y, y: m + 20 * g, __sentinel: !0 }, { x: y + 20 * g, y: m - g, __sentinel: !0 })], _ = [], b = []; for (a = t.length; a--;) { for (b.length = 0, p = v.length; p--;)(f = t[a].x - v[p].x) > 0 && f * f > v[p].r ? (_.push(v[p]), v.splice(p, 1)) : f * f + (d = t[a].y - v[p].y) * d > v[p].r || (b.push(v[p].a, v[p].b, v[p].b, v[p].c, v[p].c, v[p].a), v.splice(p, 1)); for (Ot(b), p = b.length; p;)n = b[--p], e = b[--p], i = t[a], r = n.x - e.x, o = n.y - e.y, s = 2 * (r * (i.y - n.y) - o * (i.x - n.x)), Math.abs(s) > 1e-12 && v.push(new Mt(e, n, i)) } for (Array.prototype.push.apply(_, v), a = _.length; a--;)(_[a].a.__sentinel || _[a].b.__sentinel || _[a].c.__sentinel) && _.splice(a, 1); return _ }(t.features.map((function (t) { var i = { x: t.geometry.coordinates[0], y: t.geometry.coordinates[1] }; return e ? i.z = t.properties[e] : 3 === t.geometry.coordinates.length && (n = !0, i.z = t.geometry.coordinates[2]), i }))).map((function (t) { var e = [t.a.x, t.a.y], i = [t.b.x, t.b.y], r = [t.c.x, t.c.y], s = {}; return n ? (e.push(t.a.z), i.push(t.b.z), r.push(t.c.z)) : s = { a: t.a.z, b: t.b.z, c: t.c.z }, o([[e, i, r, e]], s) }))) } function Mt(t, e, n) { this.a = t, this.b = e, this.c = n; var i, r, o = e.x - t.x, s = e.y - t.y, a = n.x - t.x, u = n.y - t.y, l = o * (t.x + e.x) + s * (t.y + e.y), c = a * (t.x + n.x) + u * (t.y + n.y), h = 2 * (o * (n.y - e.y) - s * (n.x - e.x)); this.x = (u * l - s * c) / h, this.y = (o * c - a * l) / h, i = this.x - t.x, r = this.y - t.y, this.r = i * i + r * r } function Lt(t, e) { return e.x - t.x } function Ot(t) { var e, n, i, r, o, s = t.length; t: for (; s;)for (n = t[--s], e = t[--s], i = s; i;)if (o = t[--i], r = t[--i], e === r && n === o || e === o && n === r) { t.splice(s, 2), t.splice(i, 2), s -= 2; continue t } } function kt(t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var i = n.units, r = V(t), o = V(e), s = b(o[1] - r[1]), a = b(o[0] - r[0]), u = b(r[1]), l = b(o[1]), c = Math.pow(Math.sin(s / 2), 2) + Math.pow(Math.sin(a / 2), 2) * Math.cos(u) * Math.cos(l); return g(2 * Math.atan2(Math.sqrt(c), Math.sqrt(1 - c)), i) } function Ft(t) { if (!t) throw new Error("geojson is required"); switch (t.type) { case "Feature": return Rt(t); case "FeatureCollection": return function (t) { var e = { type: "FeatureCollection" }; return Object.keys(t).forEach((function (n) { switch (n) { case "type": case "features": return; default: e[n] = t[n] } })), e.features = t.features.map((function (t) { return Rt(t) })), e }(t); case "Point": case "LineString": case "Polygon": case "MultiPoint": case "MultiLineString": case "MultiPolygon": case "GeometryCollection": return qt(t); default: throw new Error("unknown GeoJSON type") } } function Rt(t) { var e = { type: "Feature" }; return Object.keys(t).forEach((function (n) { switch (n) { case "type": case "properties": case "geometry": return; default: e[n] = t[n] } })), e.properties = function t(e) { var n = {}; return e ? (Object.keys(e).forEach((function (i) { var r = e[i]; "object" == typeof r ? null === r ? n[i] = null : r.length ? n[i] = r.map((function (t) { return t })) : n[i] = t(r) : n[i] = r })), n) : n }(t.properties), e.geometry = qt(t.geometry), e } function qt(t) { var e = { type: t.type }; return t.bbox && (e.bbox = t.bbox), "GeometryCollection" === t.type ? (e.geometries = t.geometries.map((function (t) { return qt(t) })), e) : (e.coordinates = function t(e) { return "object" != typeof e[0] ? e.slice() : e.map((function (e) { return t(e) })) }(t.coordinates), e) } function jt(t, e) { function n(t, e) { e.length && e.pop(); for (var n = u[t < 0 ? ~t : t], i = 0, r = n.length; i < r; ++i)e.push(a(n[i], i)); t < 0 && Jo(e, r) } function i(t) { return a(t) } function r(t) { for (var e = [], i = 0, r = t.length; i < r; ++i)n(t[i], e); return e.length < 2 && e.push(e[0]), e } function o(t) { for (var e = r(t); e.length < 4;)e.push(e[0]); return e } function s(t) { return t.map(o) } var a = Wo(t.transform), u = t.arcs; return function t(e) { var n, o = e.type; switch (o) { case "GeometryCollection": return { type: o, geometries: e.geometries.map(t) }; case "Point": n = i(e.coordinates); break; case "MultiPoint": n = e.coordinates.map(i); break; case "LineString": n = r(e.arcs); break; case "MultiLineString": n = e.arcs.map(r); break; case "Polygon": n = s(e.arcs); break; case "MultiPolygon": n = e.arcs.map(s); break; default: return null }return { type: o, coordinates: n } }(e) } function Bt(t, e) { function n(t) { t.forEach((function (e) { e.forEach((function (e) { (r[e = e < 0 ? ~e : e] || (r[e] = [])).push(t) })) })), o.push(t) } function i(e) { return function (t) { for (var e, n = -1, i = t.length, r = t[i - 1], o = 0; ++n < i;)e = r, r = t[n], o += e[0] * r[1] - e[1] * r[0]; return Math.abs(o) }(jt(t, { type: "Polygon", arcs: [e] }).coordinates[0]) } var r = {}, o = [], s = []; return e.forEach((function t(e) { switch (e.type) { case "GeometryCollection": e.geometries.forEach(t); break; case "Polygon": n(e.arcs); break; case "MultiPolygon": e.arcs.forEach(n) } })), o.forEach((function (t) { if (!t._) { var e = [], n = [t]; for (t._ = 1, s.push(e); t = n.pop();)e.push(t), t.forEach((function (t) { t.forEach((function (t) { r[t < 0 ? ~t : t].forEach((function (t) { t._ || (t._ = 1, n.push(t)) })) })) })) } })), o.forEach((function (t) { delete t._ })), { type: "MultiPolygon", arcs: s.map((function (e) { var n, o = []; if (e.forEach((function (t) { t.forEach((function (t) { t.forEach((function (t) { r[t < 0 ? ~t : t].length < 2 && o.push(t) })) })) })), (n = (o = Zo(t, o)).length) > 1) for (var s, a, u = 1, l = i(o[0]); u < n; ++u)(s = i(o[u])) > l && (a = o[0], o[0] = o[u], o[u] = a, l = s); return o })) } } function $t(t, e, n) { for (var i, r = e + (n-- - e >> 1); e < r; ++e, --n)i = t[e], t[e] = t[n], t[n] = i } function zt(t) { return null == t ? { type: null } : ("FeatureCollection" === t.type ? function (t) { var e = { type: "GeometryCollection", geometries: t.features.map(Vt) }; return null != t.bbox && (e.bbox = t.bbox), e } : "Feature" === t.type ? Vt : Ut)(t) } function Vt(t) { var e, n = Ut(t.geometry); for (e in null != t.id && (n.id = t.id), null != t.bbox && (n.bbox = t.bbox), t.properties) { n.properties = t.properties; break } return n } function Ut(t) { if (null == t) return { type: null }; var e = "GeometryCollection" === t.type ? { type: "GeometryCollection", geometries: t.geometries.map(Ut) } : "Point" === t.type || "MultiPoint" === t.type ? { type: t.type, coordinates: t.coordinates } : { type: t.type, arcs: t.coordinates }; return null != t.bbox && (e.bbox = t.bbox), e } function Ht(t) { var e, n = t[0], i = t[1]; return i < n && (e = n, n = i, i = e), n + 31 * i } function Gt(t, e) { var n, i = t[0], r = t[1], o = e[0], s = e[1]; return r < i && (n = i, i = r, r = n), s < o && (n = o, o = s, s = n), i === o && r === s } function Xt(t) { return t[0].toString() + "," + t[1].toString() } function Yt(t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.mutate; if ("FeatureCollection" !== Z(t)) throw new Error("geojson must be a FeatureCollection"); if (!t.features.length) throw new Error("geojson is empty"); !1 !== n && void 0 !== n || (t = Ft(t)); var i = function (t) { var e = {}; F(t, (function (t) { e[t.geometry.type] = !0 })); var n = Object.keys(e); return 1 === n.length ? n[0] : null }(t); if (!i) throw new Error("geojson must be homogenous"); switch (i) { case "LineString": return function (t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.mutate; if ("FeatureCollection" !== Z(t)) throw new Error("geojson must be a FeatureCollection"); if (!t.features.length) throw new Error("geojson is empty"); !1 !== n && void 0 !== n || (t = Ft(t)); var i = [], r = $(t, (function (t, e) { return function (t, e) { var n, i = t.geometry.coordinates, r = e.geometry.coordinates, o = Xt(i[0]), s = Xt(i[i.length - 1]), u = Xt(r[0]), l = Xt(r[r.length - 1]); if (o === l) n = r.concat(i.slice(1)); else if (u === s) n = i.concat(r.slice(1)); else if (o === u) n = i.slice(1).reverse().concat(r); else { if (s !== l) return null; n = i.concat(r.reverse().slice(1)) } return a(n) }(t, e) || (i.push(t), e) })); return r && i.push(r), i.length ? 1 === i.length ? i[0] : c(i.map((function (t) { return t.coordinates }))) : null }(t, e); case "Polygon": return function (t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.mutate; if ("FeatureCollection" !== Z(t)) throw new Error("geojson must be a FeatureCollection"); if (!t.features.length) throw new Error("geojson is empty"); !1 !== n && void 0 !== n || (t = Ft(t)); var i = []; F(t, (function (t) { i.push(t.geometry) })); var r = ss({ geoms: f(i).geometry }); return Ko(r, r.objects.geoms.geometries) }(t, e); default: throw new Error(i + " is not supported") } } function Wt(t, n) { var i = "object" == typeof n ? n.mutate : n; if (!t) throw new Error("geojson is required"); var r = Z(t), o = []; switch (r) { case "LineString": o = Jt(t); break; case "MultiLineString": case "Polygon": U(t).forEach((function (t) { o.push(Jt(t)) })); break; case "MultiPolygon": U(t).forEach((function (t) { var e = []; t.forEach((function (t) { e.push(Jt(t)) })), o.push(e) })); break; case "Point": return t; case "MultiPoint": var s = {}; U(t).forEach((function (t) { var e = t.join("-"); s.hasOwnProperty(e) || (o.push(t), s[e] = !0) })); break; default: throw new Error(r + " geometry not supported") }return t.coordinates ? !0 === i ? (t.coordinates = o, t) : { type: r, coordinates: o } : !0 === i ? (t.geometry.coordinates = o, t) : e({ type: r, coordinates: o }, t.properties, t.bbox, t.id) } function Jt(t) { var e = U(t); if (2 === e.length && !function (t, e) { return t[0] === e[0] && t[1] === e[1] }(e[0], e[1])) return e; var n, i, r, o = [], s = e.length - 1; o.push(e[0]); for (var a = 1; a < s; a++)n = e[a - 1], i = e[a], function (t, e, n) { var i = n[0], r = n[1], o = t[0], s = t[1], a = e[0], u = e[1], l = a - o, c = u - s; return (i - o) * c - (r - s) * l == 0 && (Math.abs(l) >= Math.abs(c) ? l > 0 ? o <= i && i <= a : a <= i && i <= o : c > 0 ? s <= r && r <= u : u <= r && r <= s) }(n, r = e[a + 1], i) || o.push(i); return o.push(r), o } function Zt(t, e) { var n = t.x - e.x, i = t.y - e.y; return n * n + i * i } function Kt(t, e, n) { var i = e.x, r = e.y, o = n.x - i, s = n.y - r; if (0 !== o || 0 !== s) { var a = ((t.x - i) * o + (t.y - r) * s) / (o * o + s * s); a > 1 ? (i = n.x, r = n.y) : a > 0 && (i += o * a, r += s * a) } return (o = t.x - i) * o + (s = t.y - r) * s } function Qt(t, e, n) { if (t.length <= 2) return t; var i = void 0 !== e ? e * e : 1; return function (t, e) { var n = t.length - 1, i = [t[0]]; return function t(e, n, i, r, o) { for (var s, a = r, u = n + 1; u < i; u++) { var l = Kt(e[u], e[n], e[i]); l > a && (s = u, a = l) } a > r && (s - n > 1 && t(e, n, s, r, o), o.push(e[s]), i - s > 1 && t(e, s, i, r, o)) }(t, 0, n, e, i), i.push(t[n]), i }(t = n ? t : function (t, e) { for (var n, i = t[0], r = [i], o = 1, s = t.length; o < s; o++)Zt(n = t[o], i) > e && (r.push(n), i = n); return i !== n && r.push(n), r }(t, i), i) } function te(t, e, n) { return Qt(t.map((function (t) { return { x: t[0], y: t[1], z: t[2] } })), e, n).map((function (t) { return t.z ? [t.x, t.y, t.z] : [t.x, t.y] })) } function ee(t, e, n) { return t.map((function (t) { var i = t.map((function (t) { return { x: t[0], y: t[1] } })); if (i.length < 4) throw new Error("invalid polygon"); for (var r = Qt(i, e, n).map((function (t) { return [t.x, t.y] })); !function (t) { return !(t.length < 3 || 3 === t.length && t[2][0] === t[0][0] && t[2][1] === t[0][1]) }(r);)r = Qt(i, e -= .01 * e, n).map((function (t) { return [t.x, t.y] })); return r[r.length - 1][0] === r[0][0] && r[r.length - 1][1] === r[0][1] || r.push(r[0]), r })) } function ne(t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.resolution || 1e4, i = e.sharpness || .85; if (!t) throw new Error("line is required"); if (!E(n)) throw new Error("resolution must be an number"); if (!E(i)) throw new Error("sharpness must be an number"); for (var r = [], o = new as({ points: W(t).coordinates.map((function (t) { return { x: t[0], y: t[1] } })), duration: n, sharpness: i }), s = 0; s < o.duration; s += 10) { var u = o.pos(s); Math.floor(s / 100) % 2 == 0 && r.push([u.x, u.y]) } return a(r, t.properties) } function ie(t) { D(t); var e = Number(t[0]), n = Number(t[1]), i = Number(t[2]), r = Number(t[3]); if (6 === t.length) throw new Error("@turf/bbox-polygon does not support BBox with 6 positions"); var s = [e, n]; return o([[s, [i, n], [i, r], [e, r], s]]) } function re(t) { return ie(z(t)) } function oe(t) { var e = t[0], n = t[1], i = t[2], r = t[3]; if (kt(t.slice(0, 2), [i, n]) >= kt(t.slice(0, 2), [e, r])) { var o = (n + r) / 2; return [e, o - (i - e) / 2, i, o + (i - e) / 2] } var s = (e + i) / 2; return [s - (r - n) / 2, n, s + (r - n) / 2, r] } function se(t, e, n, r) { if (!C(r = r || {})) throw new Error("options is invalid"); var o = r.units, s = r.properties, a = V(t), u = b(a[0]), l = b(a[1]), c = b(n), h = y(e, o), p = Math.asin(Math.sin(l) * Math.cos(h) + Math.cos(l) * Math.sin(h) * Math.cos(c)); return i([_(u + Math.atan2(Math.sin(c) * Math.sin(h) * Math.cos(l), Math.cos(h) - Math.sin(l) * Math.sin(p))), _(p)], s) } function ae(t, e, n) { var i = (n = n || {}).steps || 64, r = n.properties; if (!t) throw new Error("center is required"); if (!e) throw new Error("radius is required"); if ("object" != typeof n) throw new Error("options must be an object"); if ("number" != typeof i) throw new Error("steps must be a number"); i = i || 64, r = r || t.properties || {}; for (var s = [], a = 0; a < i; a++)s.push(se(t, e, -360 * a / i, n).geometry.coordinates); return s.push(s[0]), o([s], r) } function ue(t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); if (!0 === n.final) return function (t, e) { var n = ue(e, t); return (n + 180) % 360 }(t, e); var i = V(t), r = V(e), o = b(i[0]), s = b(r[0]), a = b(i[1]), u = b(r[1]), l = Math.sin(s - o) * Math.cos(u), c = Math.cos(a) * Math.sin(u) - Math.sin(a) * Math.cos(u) * Math.cos(s - o); return _(Math.atan2(l, c)) } function le(t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.properties; if (!t) throw new Error("geojson is required"); var r = z(t); return i([(r[0] + r[2]) / 2, (r[1] + r[3]) / 2], n) } function ce(t, e) { var n = 0, r = 0, o = 0; return T(t, (function (t) { n += t[0], r += t[1], o++ }), !0), i([n / o, r / o], e) } function he(t) { var e = []; return "FeatureCollection" === t.type ? A(t, (function (t) { T(t, (function (n) { e.push(i(n, t.properties)) })) })) : T(t, (function (n) { e.push(i(n, t.properties)) })), l(e) } function pe(t, e, n) { n = n || 2; var i, r, o, s, a, u, l, c = e && e.length, h = c ? e[0] * n : t.length, p = fe(t, 0, h, n, !0), f = []; if (!p) return f; if (c && (p = function (t, e, n, i) { var r, o, s, a = []; for (r = 0, o = e.length; r < o; r++)(s = fe(t, e[r] * i, r < o - 1 ? e[r + 1] * i : t.length, i, !1)) === s.next && (s.steiner = !0), a.push(function (t) { var e = t, n = t; do { e.x < n.x && (n = e), e = e.next } while (e !== t); return n }(s)); for (a.sort(ge), r = 0; r < a.length; r++)!function (t, e) { if (e = function (t, e) { var n, i = e, r = t.x, o = t.y, s = -1 / 0; do { if (o <= i.y && o >= i.next.y && i.next.y !== i.y) { var a = i.x + (o - i.y) * (i.next.x - i.x) / (i.next.y - i.y); if (a <= r && a > s) { if (s = a, a === r) { if (o === i.y) return i; if (o === i.next.y) return i.next } n = i.x < i.next.x ? i : i.next } } i = i.next } while (i !== e); if (!n) return null; if (r === s) return n.prev; var u, l = n, c = n.x, h = n.y, p = 1 / 0; for (i = n.next; i !== l;)r >= i.x && i.x >= c && r !== i.x && me(o < h ? r : s, o, c, h, o < h ? s : r, o, i.x, i.y) && ((u = Math.abs(o - i.y) / (r - i.x)) < p || u === p && i.x > n.x) && we(i, t) && (n = i, p = u), i = i.next; return n }(t, e)) { var n = xe(e, t); de(n, n.next) } }(a[r], n), n = de(n, n.next); return n }(t, e, p, n)), t.length > 80 * n) { i = o = t[0], r = s = t[1]; for (var d = n; d < h; d += n)(a = t[d]) < i && (i = a), (u = t[d + 1]) < r && (r = u), a > o && (o = a), u > s && (s = u); l = 0 !== (l = Math.max(o - i, s - r)) ? 1 / l : 0 } return function t(e, n, i, r, o, s, a) { if (e) { !a && s && function (t, e, n, i) { var r = t; do { null === r.z && (r.z = ye(r.x, r.y, e, n, i)), r.prevZ = r.prev, r.nextZ = r.next, r = r.next } while (r !== t); r.prevZ.nextZ = null, r.prevZ = null, function (t) { var e, n, i, r, o, s, a, u, l = 1; do { for (n = t, t = null, o = null, s = 0; n;) { for (s++, i = n, a = 0, e = 0; e < l && (a++, i = i.nextZ); e++); for (u = l; a > 0 || u > 0 && i;)0 !== a && (0 === u || !i || n.z <= i.z) ? (r = n, n = n.nextZ, a--) : (r = i, i = i.nextZ, u--), o ? o.nextZ = r : t = r, r.prevZ = o, o = r; n = i } o.nextZ = null, l *= 2 } while (s > 1) }(r) }(e, r, o, s); for (var u, l, c = e; e.prev !== e.next;)if (u = e.prev, l = e.next, s ? function (t, e, n, i) { var r = t.prev, o = t, s = t.next; if (ve(r, o, s) >= 0) return !1; for (var a = r.x < o.x ? r.x < s.x ? r.x : s.x : o.x < s.x ? o.x : s.x, u = r.y < o.y ? r.y < s.y ? r.y : s.y : o.y < s.y ? o.y : s.y, l = r.x > o.x ? r.x > s.x ? r.x : s.x : o.x > s.x ? o.x : s.x, c = r.y > o.y ? r.y > s.y ? r.y : s.y : o.y > s.y ? o.y : s.y, h = ye(a, u, e, n, i), p = ye(l, c, e, n, i), f = t.nextZ; f && f.z <= p;) { if (f !== t.prev && f !== t.next && me(r.x, r.y, o.x, o.y, s.x, s.y, f.x, f.y) && ve(f.prev, f, f.next) >= 0) return !1; f = f.nextZ } for (f = t.prevZ; f && f.z >= h;) { if (f !== t.prev && f !== t.next && me(r.x, r.y, o.x, o.y, s.x, s.y, f.x, f.y) && ve(f.prev, f, f.next) >= 0) return !1; f = f.prevZ } return !0 }(e, r, o, s) : function (t) { var e = t.prev, n = t, i = t.next; if (ve(e, n, i) >= 0) return !1; for (var r = t.next.next; r !== t.prev;) { if (me(e.x, e.y, n.x, n.y, i.x, i.y, r.x, r.y) && ve(r.prev, r, r.next) >= 0) return !1; r = r.next } return !0 }(e)) n.push(u.i / i), n.push(e.i / i), n.push(l.i / i), Ce(e), e = l.next, c = l.next; else if ((e = l) === c) { a ? 1 === a ? t(e = function (t, e, n) { var i = t; do { var r = i.prev, o = i.next.next; !_e(r, o) && be(r, i, i.next, o) && we(r, o) && we(o, r) && (e.push(r.i / n), e.push(i.i / n), e.push(o.i / n), Ce(i), Ce(i.next), i = t = o), i = i.next } while (i !== t); return i }(e, n, i), n, i, r, o, s, 2) : 2 === a && function (e, n, i, r, o, s) { var a = e; do { for (var u = a.next.next; u !== a.prev;) { if (a.i !== u.i && function (t, e) { return t.next.i !== e.i && t.prev.i !== e.i && !function (t, e) { var n = t; do { if (n.i !== t.i && n.next.i !== t.i && n.i !== e.i && n.next.i !== e.i && be(n, n.next, t, e)) return !0; n = n.next } while (n !== t); return !1 }(t, e) && we(t, e) && we(e, t) && function (t, e) { var n = t, i = !1, r = (t.x + e.x) / 2, o = (t.y + e.y) / 2; do { n.y > o != n.next.y > o && n.next.y !== n.y && r < (n.next.x - n.x) * (o - n.y) / (n.next.y - n.y) + n.x && (i = !i), n = n.next } while (n !== t); return i }(t, e) }(a, u)) { var l = xe(a, u); return a = de(a, a.next), l = de(l, l.next), t(a, n, i, r, o, s), void t(l, n, i, r, o, s) } u = u.next } a = a.next } while (a !== e) }(e, n, i, r, o, s) : t(de(e), n, i, r, o, s, 1); break } } }(p, f, n, i, r, l), f } function fe(t, e, n, i, r) { var o, s; if (r === Se(t, e, n, i) > 0) for (o = e; o < n; o += i)s = Ee(o, t[o], t[o + 1], s); else for (o = n - i; o >= e; o -= i)s = Ee(o, t[o], t[o + 1], s); return s && _e(s, s.next) && (Ce(s), s = s.next), s } function de(t, e) { if (!t) return t; e || (e = t); var n, i = t; do { if (n = !1, i.steiner || !_e(i, i.next) && 0 !== ve(i.prev, i, i.next)) i = i.next; else { if (Ce(i), (i = e = i.prev) === i.next) break; n = !0 } } while (n || i !== e); return e } function ge(t, e) { return t.x - e.x } function ye(t, e, n, i, r) { return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - n) * r) | t << 8)) | t << 4)) | t << 2)) | t << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - i) * r) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1 } function me(t, e, n, i, r, o, s, a) { return (r - s) * (e - a) - (t - s) * (o - a) >= 0 && (t - s) * (i - a) - (n - s) * (e - a) >= 0 && (n - s) * (o - a) - (r - s) * (i - a) >= 0 } function ve(t, e, n) { return (e.y - t.y) * (n.x - e.x) - (e.x - t.x) * (n.y - e.y) } function _e(t, e) { return t.x === e.x && t.y === e.y } function be(t, e, n, i) { return !!(_e(t, e) && _e(n, i) || _e(t, i) && _e(n, e)) || ve(t, e, n) > 0 != ve(t, e, i) > 0 && ve(n, i, t) > 0 != ve(n, i, e) > 0 } function we(t, e) { return ve(t.prev, t, t.next) < 0 ? ve(t, e, t.next) >= 0 && ve(t, t.prev, e) >= 0 : ve(t, e, t.prev) < 0 || ve(t, t.next, e) < 0 } function xe(t, e) { var n = new De(t.i, t.x, t.y), i = new De(e.i, e.x, e.y), r = t.next, o = e.prev; return t.next = e, e.prev = t, n.next = r, r.prev = n, i.next = n, n.prev = i, o.next = i, i.prev = o, i } function Ee(t, e, n, i) { var r = new De(t, e, n); return i ? (r.next = i.next, r.prev = i, i.next.prev = r, i.next = r) : (r.prev = r, r.next = r), r } function Ce(t) { t.next.prev = t.prev, t.prev.next = t.next, t.prevZ && (t.prevZ.nextZ = t.nextZ), t.nextZ && (t.nextZ.prevZ = t.prevZ) } function De(t, e, n) { this.i = t, this.x = e, this.y = n, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1 } function Se(t, e, n, i) { for (var r = 0, o = e, s = n - i; o < n; o += i)r += (t[s] - t[o]) * (t[o + 1] + t[s + 1]), s = o; return r } function Te(t) { var e = function (t) { for (var e = t[0][0].length, n = { vertices: [], holes: [], dimensions: e }, i = 0, r = 0; r < t.length; r++) { for (var o = 0; o < t[r].length; o++)for (var s = 0; s < e; s++)n.vertices.push(t[r][o][s]); r > 0 && (i += t[r - 1].length, n.holes.push(i)) } return n }(t), n = us(e.vertices, e.holes, 2), i = [], r = []; n.forEach((function (t, i) { var o = n[i]; r.push([e.vertices[2 * o], e.vertices[2 * o + 1]]) })); for (var s = 0; s < r.length; s += 3) { var a = r.slice(s, s + 3); a.push(r[s]), i.push(o([a])) } return i } function Ie(t, e) { if (!t) throw new Error("targetPoint is required"); if (!e) throw new Error("points is required"); var n, i = 1 / 0; return A(e, (function (e, r) { var o = kt(t, e); o < i && ((n = Ft(e)).properties.featureIndex = r, n.properties.distanceToPoint = o, i = o) })), n } function Ne(t, e, n, i, r) { !function t(e, n, i, r, o) { for (; r > i;) { if (r - i > 600) { var s = r - i + 1, a = n - i + 1, u = Math.log(s), l = .5 * Math.exp(2 * u / 3), c = .5 * Math.sqrt(u * l * (s - l) / s) * (a - s / 2 < 0 ? -1 : 1); t(e, n, Math.max(i, Math.floor(n - a * l / s + c)), Math.min(r, Math.floor(n + (s - a) * l / s + c)), o) } var h = e[n], p = i, f = r; for (Pe(e, i, n), o(e[r], h) > 0 && Pe(e, i, r); p < f;) { for (Pe(e, p, f), p++, f--; o(e[p], h) < 0;)p++; for (; o(e[f], h) > 0;)f-- } 0 === o(e[i], h) ? Pe(e, i, f) : Pe(e, ++f, r), f <= n && (i = f + 1), n <= f && (r = f - 1) } }(t, e, n || 0, i || t.length - 1, r || function (t, e) { return t < e ? -1 : t > e ? 1 : 0 }) } function Pe(t, e, n) { var i = t[e]; t[e] = t[n], t[n] = i } function Ae(t, e) { if (!(this instanceof Ae)) return new Ae(t, e); this._maxEntries = Math.max(4, t || 9), this._minEntries = Math.max(2, Math.ceil(.4 * this._maxEntries)), e && this._initFormat(e), this.clear() } function Me(t, e) { Le(t, 0, t.children.length, e, t) } function Le(t, e, n, i, r) { r || (r = $e(null)), r.minX = 1 / 0, r.minY = 1 / 0, r.maxX = -1 / 0, r.maxY = -1 / 0; for (var o, s = e; s < n; s++)o = t.children[s], Oe(r, t.leaf ? i(o) : o); return r } function Oe(t, e) { return t.minX = Math.min(t.minX, e.minX), t.minY = Math.min(t.minY, e.minY), t.maxX = Math.max(t.maxX, e.maxX), t.maxY = Math.max(t.maxY, e.maxY), t } function ke(t, e) { return t.minX - e.minX } function Fe(t, e) { return t.minY - e.minY } function Re(t) { return (t.maxX - t.minX) * (t.maxY - t.minY) } function qe(t) { return t.maxX - t.minX + (t.maxY - t.minY) } function je(t, e) { return t.minX <= e.minX && t.minY <= e.minY && e.maxX <= t.maxX && e.maxY <= t.maxY } function Be(t, e) { return e.minX <= t.maxX && e.minY <= t.maxY && e.maxX >= t.minX && e.maxY >= t.minY } function $e(t) { return { children: t, height: 1, leaf: !0, minX: 1 / 0, minY: 1 / 0, maxX: -1 / 0, maxY: -1 / 0 } } function ze(t, e, n, i, r) { for (var o, s = [e, n]; s.length;)(n = s.pop()) - (e = s.pop()) <= i || (Ne(t, o = e + Math.ceil((n - e) / i / 2) * i, e, n, r), s.push(e, o, o, n)) } function Ve(t) { var e = Ae(t); return e.insert = function (t) { if (Array.isArray(t)) { var e = t; (t = Ue(e)).bbox = e } else t.bbox = t.bbox ? t.bbox : He(t); return Ae.prototype.insert.call(this, t) }, e.load = function (t) { var e = []; return Array.isArray(t) ? t.forEach((function (t) { var n = Ue(t); n.bbox = t, e.push(n) })) : A(t, (function (t) { t.bbox = t.bbox ? t.bbox : He(t), e.push(t) })), Ae.prototype.load.call(this, e) }, e.remove = function (t) { if (Array.isArray(t)) { var e = t; (t = Ue(e)).bbox = e } return Ae.prototype.remove.call(this, t) }, e.clear = function () { return Ae.prototype.clear.call(this) }, e.search = function (t) { return { type: "FeatureCollection", features: Ae.prototype.search.call(this, this.toBBox(t)) } }, e.collides = function (t) { return Ae.prototype.collides.call(this, this.toBBox(t)) }, e.all = function () { return { type: "FeatureCollection", features: Ae.prototype.all.call(this) } }, e.toJSON = function () { return Ae.prototype.toJSON.call(this) }, e.fromJSON = function (t) { return Ae.prototype.fromJSON.call(this, t) }, e.toBBox = function (t) { var e; return { minX: (e = t.bbox ? t.bbox : Array.isArray(t) && 4 === t.length ? t : He(t))[0], minY: e[1], maxX: e[2], maxY: e[3] } }, e } function Ue(t) { var e = [t[0], t[1]], n = [t[0], t[3]], i = [t[2], t[3]]; return { type: "Feature", bbox: t, properties: {}, geometry: { type: "Polygon", coordinates: [[e, [t[2], t[1]], i, n, e]] } } } function He(t) { var e = [1 / 0, 1 / 0, -1 / 0, -1 / 0]; return T(t, (function (t) { e[0] > t[0] && (e[0] = t[0]), e[1] > t[1] && (e[1] = t[1]), e[2] < t[0] && (e[2] = t[0]), e[3] < t[1] && (e[3] = t[1]) })), e } function Ge(t) { if (!t) throw new Error("geojson is required"); var e = []; return F(t, (function (t) { !function (t, e) { var n = [], i = t.geometry; switch (i.type) { case "Polygon": n = U(i); break; case "LineString": n = [U(i)] }n.forEach((function (n) { (function (t, e) { var n = []; return t.reduce((function (t, i) { var r = a([t, i], e); return r.bbox = function (t, e) { var n = t[0], i = t[1], r = e[0], o = e[1]; return [n < r ? n : r, i < o ? i : o, n > r ? n : r, i > o ? i : o] }(t, i), n.push(r), i })), n })(n, t.properties).forEach((function (t) { t.id = e.length, e.push(t) })) })) }(t, e) })), l(e) } function Xe(t, n) { var i = {}, r = []; if ("LineString" === t.type && (t = e(t)), "LineString" === n.type && (n = e(n)), "Feature" === t.type && "Feature" === n.type && "LineString" === t.geometry.type && "LineString" === n.geometry.type && 2 === t.geometry.coordinates.length && 2 === n.geometry.coordinates.length) { var o = Ye(t, n); return o && r.push(o), l(r) } var s = Ve(); return s.load(Ge(n)), A(Ge(t), (function (t) { A(s.search(t), (function (e) { var n = Ye(t, e); if (n) { var o = U(n).join(","); i[o] || (i[o] = !0, r.push(n)) } })) })), l(r) } function Ye(t, e) { var n = U(t), r = U(e); if (2 !== n.length) throw new Error("<intersects> line1 must only contain 2 coordinates"); if (2 !== r.length) throw new Error("<intersects> line2 must only contain 2 coordinates"); var o = n[0][0], s = n[0][1], a = n[1][0], u = n[1][1], l = r[0][0], c = r[0][1], h = r[1][0], p = r[1][1], f = (p - c) * (a - o) - (h - l) * (u - s); if (0 === f) return null; var d = ((h - l) * (s - c) - (p - c) * (o - l)) / f, g = ((a - o) * (s - c) - (u - s) * (o - l)) / f; return d >= 0 && d <= 1 && g >= 0 && g <= 1 ? i([o + d * (a - o), s + d * (u - s)]) : null } function We(t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var r = t.geometry ? t.geometry.type : t.type; if ("LineString" !== r && "MultiLineString" !== r) throw new Error("lines must be LineString or MultiLineString"); var o = i([1 / 0, 1 / 0], { dist: 1 / 0 }), s = 0; return F(t, (function (t) { for (var r = U(t), u = 0; u < r.length - 1; u++) { var l = i(r[u]); l.properties.dist = kt(e, l, n); var c = i(r[u + 1]); c.properties.dist = kt(e, c, n); var h = kt(l, c, n), p = Math.max(l.properties.dist, c.properties.dist), f = ue(l, c), d = se(e, p, f + 90, n), g = se(e, p, f - 90, n), y = Xe(a([d.geometry.coordinates, g.geometry.coordinates]), a([l.geometry.coordinates, c.geometry.coordinates])), m = null; y.features.length > 0 && ((m = y.features[0]).properties.dist = kt(e, m, n), m.properties.location = s + kt(l, m, n)), l.properties.dist < o.properties.dist && ((o = l).properties.index = u, o.properties.location = s), c.properties.dist < o.properties.dist && ((o = c).properties.index = u + 1, o.properties.location = s + h), m && m.properties.dist < o.properties.dist && ((o = m).properties.index = u), s += h } })), o } function Je(t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var i, r = n.final; if (!t) throw new Error("start point is required"); if (!e) throw new Error("end point is required"); return (i = r ? Ze(V(e), V(t)) : Ze(V(t), V(e))) > 180 ? -(360 - i) : i } function Ze(t, e) { var n = b(t[1]), i = b(e[1]), r = b(e[0] - t[0]); r > Math.PI && (r -= 2 * Math.PI), r < -Math.PI && (r += 2 * Math.PI); var o = Math.log(Math.tan(i / 2 + Math.PI / 4) / Math.tan(n / 2 + Math.PI / 4)); return (_(Math.atan2(r, o)) + 360) % 360 } function Ke(t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var i = n.units; if (!t) throw new Error("from point is required"); if (!e) throw new Error("to point is required"); var r = V(t), o = V(e); return o[0] += o[0] - r[0] > 180 ? -360 : r[0] - o[0] > 180 ? 360 : 0, w(function (t, e, n) { var i = n = void 0 === n ? xo : Number(n), r = t[1] * Math.PI / 180, o = e[1] * Math.PI / 180, s = o - r, a = Math.abs(e[0] - t[0]) * Math.PI / 180; a > Math.PI && (a -= 2 * Math.PI); var u = Math.log(Math.tan(o / 2 + Math.PI / 4) / Math.tan(r / 2 + Math.PI / 4)), l = Math.abs(u) > 1e-11 ? s / u : Math.cos(r); return Math.sqrt(s * s + l * l * a * a) * i }(r, o), "meters", i) } function Qe(t, e) { return en(t, "mercator", e) } function tn(t, e) { return en(t, "wgs84", e) } function en(t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var i = n.mutate; if (!t) throw new Error("geojson is required"); return Array.isArray(t) && E(t[0]) ? t = "mercator" === e ? nn(t) : rn(t) : (!0 !== i && (t = Ft(t)), T(t, (function (t) { var n = "mercator" === e ? nn(t) : rn(t); t[0] = n[0], t[1] = n[1] }))), t } function nn(t) { var e = Math.PI / 180, n = 20037508.342789244, i = [6378137 * (Math.abs(t[0]) <= 180 ? t[0] : t[0] - 360 * function (t) { return t < 0 ? -1 : t > 0 ? 1 : 0 }(t[0])) * e, 6378137 * Math.log(Math.tan(.25 * Math.PI + .5 * t[1] * e))]; return i[0] > n && (i[0] = n), i[0] < -n && (i[0] = -n), i[1] > n && (i[1] = n), i[1] < -n && (i[1] = -n), i } function rn(t) { var e = 180 / Math.PI; return [t[0] * e / 6378137, (.5 * Math.PI - 2 * Math.atan(Math.exp(-t[1] / 6378137))) * e] } function on(t, n, r) { if (!C(r = r || {})) throw new Error("options is invalid"); if (!t) throw new Error("pt is required"); if (Array.isArray(t) ? t = i(t) : "Point" === t.type ? t = e(t) : X(t, "Point", "point"), !n) throw new Error("line is required"); Array.isArray(n) ? n = a(n) : "LineString" === n.type ? n = e(n) : X(n, "LineString", "line"); var o = 1 / 0, s = t.geometry.coordinates; return q(n, (function (t) { var e = t.geometry.coordinates[0], n = t.geometry.coordinates[1], a = function (t, e, n, r) { var o = r.mercator, s = !0 !== o ? kt(e, t, r) : sn(e, t, r), a = v(!0 !== o ? ue(e, t) : Je(e, t)), u = v(!0 !== o ? ue(e, n) : Je(e, n)), l = Math.abs(a - u); if (l > 90) return s; var c = (u + 180) % 360, h = v(!0 !== o ? ue(n, t) : Je(n, t)), p = Math.abs(h - c); return p > 180 && (p = Math.abs(p - 360)), p > 90 ? !0 !== o ? kt(t, n, r) : sn(t, n, r) : !0 !== o ? s * Math.sin(b(l)) : function (t, e, n, r) { var o = 0; (Math.abs(t[0]) >= 180 || Math.abs(e[0]) >= 180 || Math.abs(n[0]) >= 180) && (o = t[0] > 0 || e[0] > 0 || n[0] > 0 ? -180 : 180); var s = i(n), a = tn(function (t, e, n) { var i = t[0], r = t[1], o = e[0] - i, s = e[1] - r, a = ((n[0] - i) * o + (n[1] - r) * s) / (o * o + s * s); return [i + a * o, r + a * s] }(Qe([t[0] + o, t[1]]), Qe([e[0] + o, e[1]]), Qe([n[0] + o, n[1]]))); return 0 !== o && (a[0] -= o), Ke(s, a, r) }(e, n, t, r) }(s, e, n, r); o > a && (o = a) })), o } function sn(t, e, n) { var i = n.units, r = 0; Math.abs(t[0]) >= 180 && (r = t[0] > 0 ? -180 : 180), Math.abs(e[0]) >= 180 && (r = e[0] > 0 ? -180 : 180); var o = Qe([t[0] + r, t[1]]), s = Qe([e[0] + r, e[1]]), a = function (t) { return t * t }, u = a(o[0] - s[0]) + a(o[1] - s[1]); return w(Math.sqrt(u), "meters", i) } function an(t) { for (var n = function (t) { return "FeatureCollection" !== t.type ? "Feature" !== t.type ? l([e(t)]) : l([t]) : t }(t), r = le(n), o = !1, s = 0; !o && s < n.features.length;) { var a, u = n.features[s].geometry, c = !1; if ("Point" === u.type) r.geometry.coordinates[0] === u.coordinates[0] && r.geometry.coordinates[1] === u.coordinates[1] && (o = !0); else if ("MultiPoint" === u.type) { var h = !1; for (a = 0; !h && a < u.coordinates.length;)r.geometry.coordinates[0] === u.coordinates[a][0] && r.geometry.coordinates[1] === u.coordinates[a][1] && (o = !0, h = !0), a++ } else if ("LineString" === u.type) for (a = 0; !c && a < u.coordinates.length - 1;)un(r.geometry.coordinates[0], r.geometry.coordinates[1], u.coordinates[a][0], u.coordinates[a][1], u.coordinates[a + 1][0], u.coordinates[a + 1][1]) && (c = !0, o = !0), a++; else if ("MultiLineString" === u.type) for (var p = 0; p < u.coordinates.length;) { c = !1, a = 0; for (var f = u.coordinates[p]; !c && a < f.length - 1;)un(r.geometry.coordinates[0], r.geometry.coordinates[1], f[a][0], f[a][1], f[a + 1][0], f[a + 1][1]) && (c = !0, o = !0), a++; p++ } else "Polygon" !== u.type && "MultiPolygon" !== u.type || It(r, u) && (o = !0); s++ } if (o) return r; var d = l([]); for (s = 0; s < n.features.length; s++)d.features = d.features.concat(he(n.features[s]).features); return i(Ie(r, d).geometry.coordinates) } function un(t, e, n, i, r, o) { return Math.sqrt((r - n) * (r - n) + (o - i) * (o - i)) === Math.sqrt((t - n) * (t - n) + (e - i) * (e - i)) + Math.sqrt((r - t) * (r - t) + (o - e) * (o - e)) } function ln(t) { return k(t, (function (t, e) { return t + function t(e) { var n, i = 0; switch (e.type) { case "Polygon": return cn(e.coordinates); case "MultiPolygon": for (n = 0; n < e.coordinates.length; n++)i += cn(e.coordinates[n]); return i; case "Point": case "MultiPoint": case "LineString": case "MultiLineString": return 0; case "GeometryCollection": for (n = 0; n < e.geometries.length; n++)i += t(e.geometries[n]); return i } }(e) }), 0) } function cn(t) { var e = 0; if (t && t.length > 0) { e += Math.abs(hn(t[0])); for (var n = 1; n < t.length; n++)e -= Math.abs(hn(t[n])) } return e } function hn(t) { var e, n, i, r, o, s, a = 0, u = t.length; if (u > 2) { for (s = 0; s < u; s++)s === u - 2 ? (i = u - 2, r = u - 1, o = 0) : s === u - 1 ? (i = u - 1, r = 0, o = 1) : (i = s, r = s + 1, o = s + 2), e = t[i], n = t[r], a += (pn(t[o][0]) - pn(e[0])) * Math.sin(pn(n[1])); a = a * hs * hs / 2 } return a } function pn(t) { return t * Math.PI / 180 } function fn(t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); if (!t) throw new Error("geojson is required"); return j(t, (function (t, n) { var i = n.geometry.coordinates; return t + kt(i[0], i[1], e) }), 0) } function dn(t, e, n, i) { if (!C(i = i || {})) throw new Error("options is invalid"); var r, o = []; if ("Feature" === t.type) r = t.geometry.coordinates; else { if ("LineString" !== t.type) throw new Error("input must be a LineString Feature or Geometry"); r = t.coordinates } for (var s, u, l, c = 0, h = 0; h < r.length && !(e >= c && h === r.length - 1); h++) { if (c > e && 0 === o.length) { if (!(s = e - c)) return o.push(r[h]), a(o); u = ue(r[h], r[h - 1]) - 180, l = se(r[h], s, u, i), o.push(l.geometry.coordinates) } if (c >= n) return (s = n - c) ? (u = ue(r[h], r[h - 1]) - 180, l = se(r[h], s, u, i), o.push(l.geometry.coordinates), a(o)) : (o.push(r[h]), a(o)); if (c >= e && o.push(r[h]), h === r.length - 1) return a(o); c += kt(r[h], r[h + 1], i) } return a(r[r.length - 1]) } function gn(t, e, n) { var i = (n = n || {}).ignoreEndVertices; if (!C(n)) throw new Error("invalid options"); if (!t) throw new Error("pt is required"); if (!e) throw new Error("line is required"); for (var r = V(t), o = U(e), s = 0; s < o.length - 1; s++) { var a = !1; if (i && (0 === s && (a = "start"), s === o.length - 2 && (a = "end"), 0 === s && s + 1 === o.length - 1 && (a = "both")), function (t, e, n, i) { var r = n[0], o = n[1], s = t[0], a = t[1], u = e[0], l = e[1], c = u - s, h = l - a; return (n[0] - s) * h - (n[1] - a) * c == 0 && (i ? "start" === i ? Math.abs(c) >= Math.abs(h) ? c > 0 ? s < r && r <= u : u <= r && r < s : h > 0 ? a < o && o <= l : l <= o && o < a : "end" === i ? Math.abs(c) >= Math.abs(h) ? c > 0 ? s <= r && r < u : u < r && r <= s : h > 0 ? a <= o && o < l : l < o && o <= a : "both" === i ? Math.abs(c) >= Math.abs(h) ? c > 0 ? s < r && r < u : u < r && r < s : h > 0 ? a < o && o < l : l < o && o < a : void 0 : Math.abs(c) >= Math.abs(h) ? c > 0 ? s <= r && r <= u : u <= r && r <= s : h > 0 ? a <= o && o <= l : l <= o && o <= a) }(o[s], o[s + 1], r, a)) return !0 } return !1 } function yn(t, e) { var n = Z(t), i = Z(e), r = W(t), o = W(e); switch (n) { case "Point": switch (i) { case "MultiPoint": return function (t, e) { var n, i = !1; for (n = 0; n < e.coordinates.length; n++)if (vn(e.coordinates[n], t.coordinates)) { i = !0; break } return i }(r, o); case "LineString": return gn(r, o, { ignoreEndVertices: !0 }); case "Polygon": return It(r, o, { ignoreBoundary: !0 }); default: throw new Error("feature2 " + i + " geometry not supported") }case "MultiPoint": switch (i) { case "MultiPoint": return function (t, e) { for (var n = 0; n < t.coordinates.length; n++) { for (var i = !1, r = 0; r < e.coordinates.length; r++)vn(t.coordinates[n], e.coordinates[r]) && (i = !0); if (!i) return !1 } return !0 }(r, o); case "LineString": return function (t, e) { for (var n = !1, i = 0; i < t.coordinates.length; i++) { if (!gn(t.coordinates[i], e)) return !1; n || (n = gn(t.coordinates[i], e, { ignoreEndVertices: !0 })) } return n }(r, o); case "Polygon": return function (t, e) { for (var n = !0, i = 0; i < t.coordinates.length; i++) { var r = It(t.coordinates[1], e); if (!r) { n = !1; break } r = It(t.coordinates[1], e, { ignoreBoundary: !0 }) } return n && r }(r, o); default: throw new Error("feature2 " + i + " geometry not supported") }case "LineString": switch (i) { case "LineString": return function (t, e) { for (var n = 0; n < t.coordinates.length; n++)if (!gn(t.coordinates[n], e)) return !1; return !0 }(r, o); case "Polygon": return function (t, e) { if (!mn(z(e), z(t))) return !1; for (var n = !1, i = 0; i < t.coordinates.length - 1; i++) { if (!It(t.coordinates[i], e)) return !1; n || (n = It(t.coordinates[i], e, { ignoreBoundary: !0 })), n || (n = It(function (t, e) { return [(t[0] + e[0]) / 2, (t[1] + e[1]) / 2] }(t.coordinates[i], t.coordinates[i + 1]), e, { ignoreBoundary: !0 })) } return n }(r, o); default: throw new Error("feature2 " + i + " geometry not supported") }case "Polygon": switch (i) { case "Polygon": return function (t, e) { var n = z(t); if (!mn(z(e), n)) return !1; for (var i = 0; i < t.coordinates[0].length; i++)if (!It(t.coordinates[0][i], e)) return !1; return !0 }(r, o); default: throw new Error("feature2 " + i + " geometry not supported") }default: throw new Error("feature1 " + n + " geometry not supported") } } function mn(t, e) { return !(t[0] > e[0] || t[2] < e[2] || t[1] > e[1] || t[3] < e[3]) } function vn(t, e) { return t[0] === e[0] && t[1] === e[1] } function _n(t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var r = n.mask, o = n.properties, s = []; if (null == e) throw new Error("cellSide is required"); if (!E(e)) throw new Error("cellSide is invalid"); if (!t) throw new Error("bbox is required"); if (!Array.isArray(t)) throw new Error("bbox must be array"); if (4 !== t.length) throw new Error("bbox must contain 4 numbers"); if (r && -1 === ["Polygon", "MultiPolygon"].indexOf(Z(r))) throw new Error("options.mask must be a (Multi)Polygon"); for (var a = t[0], u = t[1], c = t[2], h = t[3], p = e / kt([a, u], [c, u], n) * (c - a), f = e / kt([a, u], [a, h], n) * (h - u), d = c - a, g = h - u, y = Math.floor(d / p), m = (g - Math.floor(g / f) * f) / 2, v = a + (d - y * p) / 2; v <= c;) { for (var _ = u + m; _ <= h;) { var b = i([v, _], o); r ? yn(b, r) && s.push(b) : s.push(b), _ += f } v += p } return l(s) } function bn(t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.precision, i = e.coordinates, r = e.mutate; if (n = null == n || isNaN(n) ? 6 : n, i = null == i || isNaN(i) ? 3 : i, !t) throw new Error("<geojson> is required"); if ("number" != typeof n) throw new Error("<precision> must be a number"); if ("number" != typeof i) throw new Error("<coordinates> must be a number"); !1 !== r && void 0 !== r || (t = JSON.parse(JSON.stringify(t))); var o = Math.pow(10, n); return T(t, (function (t) { !function (t, e, n) { t.length > n && t.splice(n, t.length); for (var i = 0; i < t.length; i++)t[i] = Math.round(t[i] * e) / e }(t, o, i) })), t } function wn(t, e) { if (!t || !e) return !1; if (t.length !== e.length) return !1; for (var n = 0, i = t.length; n < i; n++)if (t[n] instanceof Array && e[n] instanceof Array) { if (!wn(t[n], e[n])) return !1 } else if (t[n] !== e[n]) return !1; return !0 } function xn(t, e) { if (void 0 === e && (e = !0), 3 != t.length) throw new Error("This function requires an array of three points [x,y]"); return (t[1][0] - t[0][0]) * (t[2][1] - t[0][1]) - (t[1][1] - t[0][1]) * (t[2][0] - t[0][0]) >= 0 == e } function En(t, e) { if (!t || !e) return !1; if (t.length != e.length) return !1; for (var n = 0, i = t.length; n < i; n++)if (t[n] instanceof Array && e[n] instanceof Array) { if (!En(t[n], e[n])) return !1 } else if (t[n] != e[n]) return !1; return !0 } function Cn(t, e) { var n = [], i = Ve(); return F(e, (function (e) { if (n.forEach((function (t, e) { t.id = e })), n.length) { var r = i.search(e); if (r.features.length) { var o = Sn(e, r); n = n.filter((function (t) { return t.id !== o.id })), i.remove(o), A(Dn(o, e), (function (t) { n.push(t), i.insert(t) })) } } else (n = Dn(t, e).features).forEach((function (t) { t.bbox || (t.bbox = oe(z(t))) })), i.load(l(n)) })), l(n) } function Dn(t, e) { var n = [], i = U(t)[0], r = U(t)[t.geometry.coordinates.length - 1]; if (Tn(i, V(e)) || Tn(r, V(e))) return l([t]); var o = Ve(), s = Ge(t); o.load(s); var u = o.search(e); if (!u.features.length) return l([t]); var c = Sn(e, u), h = M(s, (function (t, i, r) { var o = U(i)[1], s = V(e); return r === c.id ? (t.push(s), n.push(a(t)), Tn(s, o) ? [s] : [s, o]) : (t.push(o), t) }), [i]); return h.length > 1 && n.push(a(h)), l(n) } function Sn(t, e) { if (!e.features.length) throw new Error("lines must contain features"); if (1 === e.features.length) return e.features[0]; var n, i = 1 / 0; return A(e, (function (e) { var r = We(e, t).properties.dist; r < i && (n = e, i = r) })), n } function Tn(t, e) { return t[0] === e[0] && t[1] === e[1] } function In(t, e, n, i, r) { if (!C(r = r || {})) throw new Error("options is invalid"); var o = r.steps, s = r.units; if (!t) throw new Error("center is required"); if (!e) throw new Error("radius is required"); if (null == n) throw new Error("bearing1 is required"); if (null == i) throw new Error("bearing2 is required"); if ("object" != typeof r) throw new Error("options must be an object"); o = o || 64; var u = Nn(n), l = Nn(i), c = t.properties; if (u === l) return a(ae(t, e, r).geometry.coordinates[0], c); for (var h = u, p = u < l ? l : l + 360, f = h, d = [], g = 0; f < p;)d.push(se(t, e, f, s).geometry.coordinates), f = h + 360 * ++g / o; return f > p && d.push(se(t, e, p, s).geometry.coordinates), a(d, c) } function Nn(t) { var e = t % 360; return e < 0 && (e += 360), e } function Pn(t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.properties, i = Z(t), r = U(t); if (n = n || t.properties || {}, !r.length) throw new Error("polygon must contain coordinates"); switch (i) { case "Polygon": return An(r, n); case "MultiPolygon": var o = []; return r.forEach((function (t) { o.push(An(t, n)) })), l(o); default: throw new Error("geom " + i + " not supported") } } function An(t, e) { return t.length > 1 ? c(t, e) : a(t[0], e) } function Mn(t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.properties, i = e.autoComplete, r = e.orderCoords; if (!t) throw new Error("lines is required"); switch (i = void 0 === i || i, r = void 0 === r || r, Z(t)) { case "FeatureCollection": case "GeometryCollection": var o = []; return (t.features ? t.features : t.geometries).forEach((function (t) { o.push(U(Ln(t, {}, i, r))) })), p(o, n) }return Ln(t, n, i, r) } function Ln(t, e, n, i) { e = e || t.properties || {}; var r = U(t), s = Z(t); if (!r.length) throw new Error("line must contain coordinates"); switch (s) { case "LineString": return n && (r = On(r)), o([r], e); case "MultiLineString": var u = [], l = 0; return r.forEach((function (t) { if (n && (t = On(t)), i) { var e = function (t) { var e = t[0], n = t[1], i = t[2], r = t[3]; return Math.abs(e - i) * Math.abs(n - r) }(z(a(t))); e > l ? (u.unshift(t), l = e) : u.push(t) } else u.push(t) })), o(u, e); default: throw new Error("geometry type " + s + " is not supported") } } function On(t) { var e = t[0], n = e[0], i = e[1], r = t[t.length - 1], o = r[0], s = r[1]; return n === o && i === s || t.push(e), t } function kn(t, e, n) { var i, r, o, s, a, u = t.length, l = Rn(t[0], e), c = []; for (n || (n = []), i = 1; i < u; i++) { for (r = t[i - 1], s = a = Rn(o = t[i], e); ;) { if (!(l | s)) { c.push(r), s !== a ? (c.push(o), i < u - 1 && (n.push(c), c = [])) : i === u - 1 && c.push(o); break } if (l & s) break; l ? l = Rn(r = Fn(r, o, l, e), e) : s = Rn(o = Fn(r, o, s, e), e) } l = a } return c.length && n.push(c), n } function Fn(t, e, n, i) { return 8 & n ? [t[0] + (e[0] - t[0]) * (i[3] - t[1]) / (e[1] - t[1]), i[3]] : 4 & n ? [t[0] + (e[0] - t[0]) * (i[1] - t[1]) / (e[1] - t[1]), i[1]] : 2 & n ? [i[2], t[1] + (e[1] - t[1]) * (i[2] - t[0]) / (e[0] - t[0])] : 1 & n ? [i[0], t[1] + (e[1] - t[1]) * (i[0] - t[0]) / (e[0] - t[0])] : null } function Rn(t, e) { var n = 0; return t[0] < e[0] ? n |= 1 : t[0] > e[2] && (n |= 2), t[1] < e[1] ? n |= 4 : t[1] > e[3] && (n |= 8), n } function qn(t, e) { for (var n = [], i = 0; i < t.length; i++) { var r = ws.polygon(t[i], e); r.length > 0 && (r[0][0] === r[r.length - 1][0] && r[0][1] === r[r.length - 1][1] || r.push(r[0]), r.length >= 4 && n.push(r)) } return n } function jn(t) { return "[object Arguments]" === Object.prototype.toString.call(t) } function Bn(t, e, n) { return n || (n = {}), t === e || (t instanceof Date && e instanceof Date ? t.getTime() === e.getTime() : !t || !e || "object" != typeof t && "object" != typeof e ? (n.strict, t === e) : function (t, e, n) { var i, r; if ($n(t) || $n(e)) return !1; if (t.prototype !== e.prototype) return !1; if (jn(t)) return !!jn(e) && Bn(t = xs.call(t), e = xs.call(e), n); if (zn(t)) { if (!zn(e)) return !1; if (t.length !== e.length) return !1; for (i = 0; i < t.length; i++)if (t[i] !== e[i]) return !1; return !0 } try { var o = Object.keys(t), s = Object.keys(e) } catch (t) { return !1 } if (o.length !== s.length) return !1; for (o.sort(), s.sort(), i = o.length - 1; i >= 0; i--)if (o[i] !== s[i]) return !1; for (i = o.length - 1; i >= 0; i--)if (!Bn(t[r = o[i]], e[r], n)) return !1; return typeof t == typeof e }(t, e, n)) } function $n(t) { return null == t } function zn(t) { return !(!t || "object" != typeof t || "number" != typeof t.length || "function" != typeof t.copy || "function" != typeof t.slice || t.length > 0 && "number" != typeof t[0]) } function Vn(t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var i, r = n.tolerance || 0, o = [], s = Ve(); return s.load(Ge(t)), q(e, (function (t) { var e = !1; A(s.search(t), (function (n) { if (!1 === e) { var o = U(t).sort(), s = U(n).sort(); Bn(o, s) || (0 === r ? gn(o[0], n) && gn(o[1], n) : We(n, o[0]).properties.dist <= r && We(n, o[1]).properties.dist <= r) ? (e = !0, i = i ? Un(i, t) : t) : (0 === r ? gn(s[0], t) && gn(s[1], t) : We(t, s[0]).properties.dist <= r && We(t, s[1]).properties.dist <= r) && (i = i ? Un(i, n) : n) } })), !1 === e && i && (o.push(i), i = void 0) })), i && o.push(i), l(o) } function Un(t, e) { var n = U(e), i = U(t), r = i[0], o = i[i.length - 1], s = t.geometry.coordinates; return Bn(n[0], r) ? s.unshift(n[1]) : Bn(n[0], o) ? s.push(n[1]) : Bn(n[1], r) ? s.unshift(n[0]) : Bn(n[1], o) && s.push(n[0]), t } function Hn(t) { var e = t % 360; return e < 0 && (e += 360), e } function Gn(t, e, n, r) { if (!C(r = r || {})) throw new Error("options is invalid"); var o = r.units, s = r.properties; if (!t) throw new Error("origin is required"); if (null == e) throw new Error("distance is required"); if (null == n) throw new Error("bearing is required"); if (!(e >= 0)) throw new Error("distance must be greater than 0"); var a = w(e, o, "meters"), u = V(t), l = function (t, e, n, i) { var r = e / (i = void 0 === i ? xo : Number(i)), o = t[0] * Math.PI / 180, s = b(t[1]), a = b(n), u = r * Math.cos(a), l = s + u; Math.abs(l) > Math.PI / 2 && (l = l > 0 ? Math.PI - l : -Math.PI - l); var c = Math.log(Math.tan(l / 2 + Math.PI / 4) / Math.tan(s / 2 + Math.PI / 4)), h = Math.abs(c) > 1e-11 ? u / c : Math.cos(s); return [(180 * (o + r * Math.sin(a) / h) / Math.PI + 540) % 360 - 180, 180 * l / Math.PI] }(u, a, n); return l[0] += l[0] - u[0] > 180 ? -360 : u[0] - l[0] > 180 ? 360 : 0, i(l, s) } function Xn(t, e, n, i, r, o) { for (var s = 0; s < t.length; s++) { var a = t[s], u = t[s + 1]; s === t.length - 1 && (u = t[0]), i = Yn(a, u, e), n <= 0 && i > 0 ? function (t, e, n) { return Yn(t, e, n) < 0 }(e, a, r) || (r = a) : n > 0 && i <= 0 && (function (t, e, n) { return Yn(t, e, n) > 0 }(e, a, o) || (o = a)), n = i } return [r, o] } function Yn(t, e, n) { return (e[0] - t[0]) * (n[1] - t[1]) - (n[0] - t[0]) * (e[1] - t[1]) } function Wn(t) { if (!t) throw new Error("line is required"); var e = t.geometry ? t.geometry.type : t.type; if (!Array.isArray(t) && "LineString" !== e) throw new Error("geometry must be a LineString"); for (var n, i, r = U(t), o = 0, s = 1; s < r.length;)n = i || r[0], o += ((i = r[s])[0] - n[0]) * (i[1] + n[1]), s++; return o > 0 } function Jn(t, e) { switch ("Feature" === t.type ? t.geometry.type : t.type) { case "GeometryCollection": return O(t, (function (t) { Jn(t, e) })), t; case "LineString": return Zn(U(t), e), t; case "Polygon": return Kn(U(t), e), t; case "MultiLineString": return U(t).forEach((function (t) { Zn(t, e) })), t; case "MultiPolygon": return U(t).forEach((function (t) { Kn(t, e) })), t; case "Point": case "MultiPoint": return t } } function Zn(t, e) { Wn(t) === e && t.reverse() } function Kn(t, e) { Wn(t[0]) !== e && t[0].reverse(); for (var n = 1; n < t.length; n++)Wn(t[n]) === e && t[n].reverse() } function Qn(t, e, n, i) { i = i || {}; for (var r = Object.keys(Es), o = 0; o < r.length; o++) { var s = r[o], a = i[s]; a = null != a ? a : Es[s], Cs[s] = a } Cs.verbose && console.log("MarchingSquaresJS-isoBands: computing isobands for [" + e + ":" + (e + n) + "]"); var u, l = function (t, e, n) { for (var i = t.length - 1, r = t[0].length - 1, o = { rows: i, cols: r, cells: [] }, s = e + Math.abs(n), a = 0; a < i; ++a) { o.cells[a] = []; for (var u = 0; u < r; ++u) { var l = 0, c = t[a + 1][u], h = t[a + 1][u + 1], p = t[a][u + 1], f = t[a][u]; if (!(isNaN(c) || isNaN(h) || isNaN(p) || isNaN(f))) { l |= c < e ? 0 : c > s ? 128 : 64, l |= h < e ? 0 : h > s ? 32 : 16, l |= p < e ? 0 : p > s ? 8 : 4; var d = +(l |= f < e ? 0 : f > s ? 2 : 1), g = 0; if (17 === l || 18 === l || 33 === l || 34 === l || 38 === l || 68 === l || 72 === l || 98 === l || 102 === l || 132 === l || 136 === l || 137 === l || 152 === l || 153 === l) { var y = (c + h + p + f) / 4; g = y > s ? 2 : y < e ? 0 : 1, 34 === l ? 1 === g ? l = 35 : 0 === g && (l = 136) : 136 === l ? 1 === g ? (l = 35, g = 4) : 0 === g && (l = 34) : 17 === l ? 1 === g ? (l = 155, g = 4) : 0 === g && (l = 153) : 68 === l ? 1 === g ? (l = 103, g = 4) : 0 === g && (l = 102) : 153 === l ? 1 === g && (l = 155) : 102 === l ? 1 === g && (l = 103) : 152 === l ? g < 2 && (l = 156, g = 1) : 137 === l ? g < 2 && (l = 139, g = 1) : 98 === l ? g < 2 && (l = 99, g = 1) : 38 === l ? g < 2 && (l = 39, g = 1) : 18 === l ? g > 0 ? (l = 156, g = 4) : l = 152 : 33 === l ? g > 0 ? (l = 139, g = 4) : l = 137 : 72 === l ? g > 0 ? (l = 99, g = 4) : l = 98 : 132 === l && (g > 0 ? (l = 39, g = 4) : l = 38) } if (0 != l && 170 != l) { var m, v, _, b, w, x, E, C; m = v = _ = b = w = x = E = C = .5; var D = []; 1 === l ? (_ = 1 - ti(e, p, f), C = 1 - ti(e, c, f), D.push(ca[l])) : 169 === l ? (_ = ti(s, f, p), C = ti(s, f, c), D.push(ca[l])) : 4 === l ? (x = 1 - ti(e, h, p), b = ti(e, f, p), D.push(ua[l])) : 166 === l ? (x = ti(s, p, h), b = 1 - ti(s, p, f), D.push(ua[l])) : 16 === l ? (w = ti(e, p, h), v = ti(e, c, h), D.push(aa[l])) : 154 === l ? (w = 1 - ti(s, h, p), v = 1 - ti(s, h, c), D.push(aa[l])) : 64 === l ? (E = ti(e, f, c), m = 1 - ti(e, h, c), D.push(pa[l])) : 106 === l ? (E = 1 - ti(s, c, f), m = ti(s, c, h), D.push(pa[l])) : 168 === l ? (b = ti(s, f, p), _ = ti(e, f, p), C = ti(e, f, c), E = ti(s, f, c), D.push(la[l]), D.push(ca[l])) : 2 === l ? (b = 1 - ti(e, p, f), _ = 1 - ti(s, p, f), C = 1 - ti(s, c, f), E = 1 - ti(e, c, f), D.push(la[l]), D.push(ca[l])) : 162 === l ? (w = ti(s, p, h), x = ti(e, p, h), b = 1 - ti(e, p, f), _ = 1 - ti(s, p, f), D.push(la[l]), D.push(ca[l])) : 8 === l ? (w = 1 - ti(e, h, p), x = 1 - ti(s, h, p), b = ti(s, f, p), _ = ti(e, f, p), D.push(aa[l]), D.push(ua[l])) : 138 === l ? (w = 1 - ti(e, h, p), x = 1 - ti(s, h, p), m = 1 - ti(s, h, c), v = 1 - ti(e, h, c), D.push(aa[l]), D.push(ua[l])) : 32 === l ? (w = ti(s, p, h), x = ti(e, p, h), m = ti(e, c, h), v = ti(s, c, h), D.push(aa[l]), D.push(ua[l])) : 42 === l ? (C = 1 - ti(s, c, f), E = 1 - ti(e, c, f), m = ti(e, c, h), v = ti(s, c, h), D.push(ha[l]), D.push(pa[l])) : 128 === l && (C = ti(e, f, c), E = ti(s, f, c), m = 1 - ti(s, h, c), v = 1 - ti(e, h, c), D.push(ha[l]), D.push(pa[l])), 5 === l ? (x = 1 - ti(e, h, p), C = 1 - ti(e, c, f), D.push(ua[l])) : 165 === l ? (x = ti(s, p, h), C = ti(s, f, c), D.push(ua[l])) : 20 === l ? (b = ti(e, f, p), v = ti(e, c, h), D.push(la[l])) : 150 === l ? (b = 1 - ti(s, p, f), v = 1 - ti(s, h, c), D.push(la[l])) : 80 === l ? (w = ti(e, p, h), E = ti(e, f, c), D.push(aa[l])) : 90 === l ? (w = 1 - ti(s, h, p), E = 1 - ti(s, c, f), D.push(aa[l])) : 65 === l ? (_ = 1 - ti(e, p, f), m = 1 - ti(e, h, c), D.push(ca[l])) : 105 === l ? (_ = ti(s, f, p), m = ti(s, c, h), D.push(ca[l])) : 160 === l ? (w = ti(s, p, h), x = ti(e, p, h), C = ti(e, f, c), E = ti(s, f, c), D.push(aa[l]), D.push(ua[l])) : 10 === l ? (w = 1 - ti(e, h, p), x = 1 - ti(s, h, p), C = 1 - ti(s, c, f), E = 1 - ti(e, c, f), D.push(aa[l]), D.push(ua[l])) : 130 === l ? (b = 1 - ti(e, p, f), _ = 1 - ti(s, p, f), m = 1 - ti(s, h, c), v = 1 - ti(e, h, c), D.push(la[l]), D.push(ca[l])) : 40 === l ? (b = ti(s, f, p), _ = ti(e, f, p), m = ti(e, c, h), v = ti(s, c, h), D.push(la[l]), D.push(ca[l])) : 101 === l ? (x = ti(s, p, h), m = ti(s, c, h), D.push(ua[l])) : 69 === l ? (x = 1 - ti(e, h, p), m = 1 - ti(e, h, c), D.push(ua[l])) : 149 === l ? (C = ti(s, f, c), v = 1 - ti(s, h, c), D.push(ha[l])) : 21 === l ? (C = 1 - ti(e, c, f), v = ti(e, c, h), D.push(ha[l])) : 86 === l ? (b = 1 - ti(s, p, f), E = 1 - ti(s, c, f), D.push(la[l])) : 84 === l ? (b = ti(e, f, p), E = ti(e, f, c), D.push(la[l])) : 89 === l ? (w = 1 - ti(s, h, p), _ = ti(s, f, p), D.push(ca[l])) : 81 === l ? (w = ti(e, p, h), _ = 1 - ti(e, p, f), D.push(ca[l])) : 96 === l ? (w = ti(s, p, h), x = ti(e, p, h), E = ti(e, f, c), m = ti(s, c, h), D.push(aa[l]), D.push(ua[l])) : 74 === l ? (w = 1 - ti(e, h, p), x = 1 - ti(s, h, p), E = 1 - ti(s, c, f), m = 1 - ti(e, h, c), D.push(aa[l]), D.push(ua[l])) : 24 === l ? (w = 1 - ti(s, h, p), b = ti(s, f, p), _ = ti(e, f, p), v = ti(e, c, h), D.push(aa[l]), D.push(ca[l])) : 146 === l ? (w = ti(e, p, h), b = 1 - ti(e, p, f), _ = 1 - ti(s, p, f), v = 1 - ti(s, h, c), D.push(aa[l]), D.push(ca[l])) : 6 === l ? (x = 1 - ti(e, h, p), b = 1 - ti(s, p, f), C = 1 - ti(s, c, f), E = 1 - ti(e, c, f), D.push(ua[l]), D.push(la[l])) : 164 === l ? (x = ti(s, p, h), b = ti(e, f, p), C = ti(e, f, c), E = ti(s, f, c), D.push(ua[l]), D.push(la[l])) : 129 === l ? (_ = 1 - ti(e, p, f), C = ti(s, f, c), m = 1 - ti(s, h, c), v = 1 - ti(e, h, c), D.push(ca[l]), D.push(ha[l])) : 41 === l ? (_ = ti(s, f, p), C = 1 - ti(e, c, f), m = ti(e, c, h), v = ti(s, c, h), D.push(ca[l]), D.push(ha[l])) : 66 === l ? (b = 1 - ti(e, p, f), _ = 1 - ti(s, p, f), E = 1 - ti(s, c, f), m = 1 - ti(e, h, c), D.push(la[l]), D.push(ca[l])) : 104 === l ? (b = ti(s, f, p), _ = ti(e, f, p), E = ti(e, f, c), m = ti(s, c, h), D.push(ca[l]), D.push(fa[l])) : 144 === l ? (w = ti(e, p, h), C = ti(e, f, c), E = ti(s, f, c), v = 1 - ti(s, h, c), D.push(aa[l]), D.push(pa[l])) : 26 === l ? (w = 1 - ti(s, h, p), C = 1 - ti(s, c, f), E = 1 - ti(e, c, f), v = ti(e, c, h), D.push(aa[l]), D.push(pa[l])) : 36 === l ? (x = ti(s, p, h), b = ti(e, f, p), m = ti(e, c, h), v = ti(s, c, h), D.push(ua[l]), D.push(la[l])) : 134 === l ? (x = 1 - ti(e, h, p), b = 1 - ti(s, p, f), m = 1 - ti(s, h, c), v = 1 - ti(e, h, c), D.push(ua[l]), D.push(la[l])) : 9 === l ? (w = 1 - ti(e, h, p), x = 1 - ti(s, h, p), _ = ti(s, f, p), C = 1 - ti(e, c, f), D.push(aa[l]), D.push(ua[l])) : 161 === l ? (w = ti(s, p, h), x = ti(e, p, h), _ = 1 - ti(e, p, f), C = ti(s, f, c), D.push(aa[l]), D.push(ua[l])) : 37 === l ? (x = ti(s, p, h), C = 1 - ti(e, c, f), m = ti(e, c, h), v = ti(s, c, h), D.push(ua[l]), D.push(ha[l])) : 133 === l ? (x = 1 - ti(e, h, p), C = ti(s, f, c), m = 1 - ti(s, h, c), v = 1 - ti(e, h, c), D.push(ua[l]), D.push(ha[l])) : 148 === l ? (b = ti(e, f, p), C = ti(e, f, c), E = ti(s, f, c), v = 1 - ti(s, h, c), D.push(la[l]), D.push(pa[l])) : 22 === l ? (b = 1 - ti(s, p, f), C = 1 - ti(s, c, f), E = 1 - ti(e, c, f), v = ti(e, c, h), D.push(la[l]), D.push(pa[l])) : 82 === l ? (w = ti(e, p, h), b = 1 - ti(e, p, f), _ = 1 - ti(s, p, f), E = 1 - ti(s, c, f), D.push(aa[l]), D.push(ca[l])) : 88 === l ? (w = 1 - ti(s, h, p), b = ti(s, f, p), _ = ti(e, f, p), E = ti(e, f, c), D.push(aa[l]), D.push(ca[l])) : 73 === l ? (w = 1 - ti(e, h, p), x = 1 - ti(s, h, p), _ = ti(s, f, p), m = 1 - ti(e, h, c), D.push(aa[l]), D.push(ua[l])) : 97 === l ? (w = ti(s, p, h), x = ti(e, p, h), _ = 1 - ti(e, p, f), m = ti(s, c, h), D.push(aa[l]), D.push(ua[l])) : 145 === l ? (w = ti(e, p, h), _ = 1 - ti(e, p, f), C = ti(s, f, c), v = 1 - ti(s, h, c), D.push(aa[l]), D.push(ha[l])) : 25 === l ? (w = 1 - ti(s, h, p), _ = ti(s, f, p), C = 1 - ti(e, c, f), v = ti(e, c, h), D.push(aa[l]), D.push(ha[l])) : 70 === l ? (x = 1 - ti(e, h, p), b = 1 - ti(s, p, f), E = 1 - ti(s, c, f), m = 1 - ti(e, h, c), D.push(ua[l]), D.push(la[l])) : 100 === l ? (x = ti(s, p, h), b = ti(e, f, p), E = ti(e, f, c), m = ti(s, c, h), D.push(ua[l]), D.push(la[l])) : 34 === l ? (0 === g ? (w = 1 - ti(e, h, p), x = 1 - ti(s, h, p), b = ti(s, f, p), _ = ti(e, f, p), C = ti(e, f, c), E = ti(s, f, c), m = 1 - ti(s, h, c), v = 1 - ti(e, h, c)) : (w = ti(s, p, h), x = ti(e, p, h), b = 1 - ti(e, p, f), _ = 1 - ti(s, p, f), C = 1 - ti(s, c, f), E = 1 - ti(e, c, f), m = ti(e, c, h), v = ti(s, c, h)), D.push(aa[l]), D.push(ua[l]), D.push(ha[l]), D.push(pa[l])) : 35 === l ? (4 === g ? (w = 1 - ti(e, h, p), x = 1 - ti(s, h, p), b = ti(s, f, p), _ = ti(e, f, p), C = ti(e, f, c), E = ti(s, f, c), m = 1 - ti(s, h, c), v = 1 - ti(e, h, c)) : (w = ti(s, p, h), x = ti(e, p, h), b = 1 - ti(e, p, f), _ = 1 - ti(s, p, f), C = 1 - ti(s, c, f), E = 1 - ti(e, c, f), m = ti(e, c, h), v = ti(s, c, h)), D.push(aa[l]), D.push(ua[l]), D.push(ca[l]), D.push(pa[l])) : 136 === l ? (0 === g ? (w = ti(s, p, h), x = ti(e, p, h), b = 1 - ti(e, p, f), _ = 1 - ti(s, p, f), C = 1 - ti(s, c, f), E = 1 - ti(e, c, f), m = ti(e, c, h), v = ti(s, c, h)) : (w = 1 - ti(e, h, p), x = 1 - ti(s, h, p), b = ti(s, f, p), _ = ti(e, f, p), C = ti(e, f, c), E = ti(s, f, c), m = 1 - ti(s, h, c), v = 1 - ti(e, h, c)), D.push(aa[l]), D.push(ua[l]), D.push(ha[l]), D.push(pa[l])) : 153 === l ? (0 === g ? (w = ti(e, p, h), _ = 1 - ti(e, p, f), C = 1 - ti(e, c, f), v = ti(e, c, h)) : (w = 1 - ti(s, h, p), _ = ti(s, f, p), C = ti(s, f, c), v = 1 - ti(s, h, c)), D.push(aa[l]), D.push(ca[l])) : 102 === l ? (0 === g ? (x = 1 - ti(e, h, p), b = ti(e, f, p), E = ti(e, f, c), m = 1 - ti(e, h, c)) : (x = ti(s, p, h), b = 1 - ti(s, p, f), E = 1 - ti(s, c, f), m = ti(s, c, h)), D.push(ua[l]), D.push(pa[l])) : 155 === l ? (4 === g ? (w = ti(e, p, h), _ = 1 - ti(e, p, f), C = 1 - ti(e, c, f), v = ti(e, c, h)) : (w = 1 - ti(s, h, p), _ = ti(s, f, p), C = ti(s, f, c), v = 1 - ti(s, h, c)), D.push(aa[l]), D.push(ha[l])) : 103 === l ? (4 === g ? (x = 1 - ti(e, h, p), b = ti(e, f, p), E = ti(e, f, c), m = 1 - ti(e, h, c)) : (x = ti(s, p, h), b = 1 - ti(s, p, f), E = 1 - ti(s, c, f), m = ti(s, c, h)), D.push(ua[l]), D.push(la[l])) : 152 === l ? (0 === g ? (w = ti(e, p, h), b = 1 - ti(e, p, f), _ = 1 - ti(s, p, f), C = 1 - ti(s, c, f), E = 1 - ti(e, c, f), v = ti(e, c, h)) : (w = 1 - ti(s, h, p), b = ti(s, f, p), _ = ti(e, f, p), C = ti(e, f, c), E = ti(s, f, c), v = 1 - ti(s, h, c)), D.push(aa[l]), D.push(la[l]), D.push(ca[l])) : 156 === l ? (4 === g ? (w = ti(e, p, h), b = 1 - ti(e, p, f), _ = 1 - ti(s, p, f), C = 1 - ti(s, c, f), E = 1 - ti(e, c, f), v = ti(e, c, h)) : (w = 1 - ti(s, h, p), b = ti(s, f, p), _ = ti(e, f, p), C = ti(e, f, c), E = ti(s, f, c), v = 1 - ti(s, h, c)), D.push(aa[l]), D.push(ca[l]), D.push(pa[l])) : 137 === l ? (0 === g ? (w = ti(s, p, h), x = ti(e, p, h), _ = 1 - ti(e, p, f), C = 1 - ti(e, c, f), m = ti(e, c, h), v = ti(s, c, h)) : (w = 1 - ti(e, h, p), x = 1 - ti(s, h, p), _ = ti(s, f, p), C = ti(s, f, c), m = 1 - ti(s, h, c), v = 1 - ti(e, h, c)), D.push(aa[l]), D.push(ua[l]), D.push(ca[l])) : 139 === l ? (4 === g ? (w = ti(s, p, h), x = ti(e, p, h), _ = 1 - ti(e, p, f), C = 1 - ti(e, c, f), m = ti(e, c, h), v = ti(s, c, h)) : (w = 1 - ti(e, h, p), x = 1 - ti(s, h, p), _ = ti(s, f, p), C = ti(s, f, c), m = 1 - ti(s, h, c), v = 1 - ti(e, h, c)), D.push(aa[l]), D.push(ua[l]), D.push(ha[l])) : 98 === l ? (0 === g ? (w = 1 - ti(e, h, p), x = 1 - ti(s, h, p), b = ti(s, f, p), _ = ti(e, f, p), E = ti(e, f, c), m = 1 - ti(e, h, c)) : (w = ti(s, p, h), x = ti(e, p, h), b = 1 - ti(e, p, f), _ = 1 - ti(s, p, f), E = 1 - ti(s, c, f), m = ti(s, c, h)), D.push(aa[l]), D.push(ua[l]), D.push(pa[l])) : 99 === l ? (4 === g ? (w = 1 - ti(e, h, p), x = 1 - ti(s, h, p), b = ti(s, f, p), _ = ti(e, f, p), E = ti(e, f, c), m = 1 - ti(e, h, c)) : (w = ti(s, p, h), x = ti(e, p, h), b = 1 - ti(e, p, f), _ = 1 - ti(s, p, f), E = 1 - ti(s, c, f), m = ti(s, c, h)), D.push(aa[l]), D.push(ua[l]), D.push(ca[l])) : 38 === l ? (0 === g ? (x = 1 - ti(e, h, p), b = ti(e, f, p), C = ti(e, f, c), E = ti(s, f, c), m = 1 - ti(s, h, c), v = 1 - ti(e, h, c)) : (x = ti(s, p, h), b = 1 - ti(s, p, f), C = 1 - ti(s, c, f), E = 1 - ti(e, c, f), m = ti(e, c, h), v = ti(s, c, h)), D.push(ua[l]), D.push(ha[l]), D.push(pa[l])) : 39 === l ? (4 === g ? (x = 1 - ti(e, h, p), b = ti(e, f, p), C = ti(e, f, c), E = ti(s, f, c), m = 1 - ti(s, h, c), v = 1 - ti(e, h, c)) : (x = ti(s, p, h), b = 1 - ti(s, p, f), C = 1 - ti(s, c, f), E = 1 - ti(e, c, f), m = ti(e, c, h), v = ti(s, c, h)), D.push(ua[l]), D.push(la[l]), D.push(pa[l])) : 85 === l && (w = 1, x = 0, b = 1, _ = 0, C = 0, E = 1, m = 0, v = 1), (m < 0 || m > 1 || v < 0 || v > 1 || w < 0 || w > 1 || b < 0 || b > 1 || C < 0 || C > 1 || E < 0 || E > 1) && console.log("MarchingSquaresJS-isoBands: " + l + " " + d + " " + c + "," + h + "," + p + "," + f + " " + g + " " + m + " " + v + " " + w + " " + x + " " + b + " " + _ + " " + C + " " + E), o.cells[a][u] = { cval: l, cval_real: d, flipped: g, topleft: m, topright: v, righttop: w, rightbottom: x, bottomright: b, bottomleft: _, leftbottom: C, lefttop: E, edges: D } } } } } return o }(t, e, n); return Cs.polygons ? (Cs.verbose && console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"), u = function (t) { var e = [], n = 0; return t.cells.forEach((function (t, i) { t.forEach((function (t, r) { if (void 0 !== t) { var o = ga[t.cval](t); "object" == typeof o && ei(o) ? "object" == typeof o[0] && ei(o[0]) ? "object" == typeof o[0][0] && ei(o[0][0]) ? o.forEach((function (t) { t.forEach((function (t) { t[0] += r, t[1] += i })), e[n++] = t })) : (o.forEach((function (t) { t[0] += r, t[1] += i })), e[n++] = o) : console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates") : console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates") } })) })), e }(l)) : (Cs.verbose && console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"), u = function (t) { for (var e = [], n = t.rows, i = t.cols, r = [], o = 0; o < n; o++)for (var s = 0; s < i; s++)if (void 0 !== t.cells[o][s] && t.cells[o][s].edges.length > 0) { var a = function (t) { if (t.edges.length > 0) { var e = t.edges[t.edges.length - 1], n = t.cval_real; switch (e) { case 0: return n & Ss ? { p: [1, t.righttop], x: -1, y: 0, o: 1 } : { p: [t.topleft, 1], x: 0, y: -1, o: 0 }; case 1: return n & Ts ? { p: [t.topleft, 1], x: 0, y: -1, o: 0 } : { p: [1, t.rightbottom], x: -1, y: 0, o: 0 }; case 2: return n & Ts ? { p: [t.bottomright, 0], x: 0, y: 1, o: 1 } : { p: [t.topleft, 1], x: 0, y: -1, o: 0 }; case 3: return n & Is ? { p: [t.topleft, 1], x: 0, y: -1, o: 0 } : { p: [t.bottomleft, 0], x: 0, y: 1, o: 0 }; case 4: return n & Ss ? { p: [1, t.righttop], x: -1, y: 0, o: 1 } : { p: [t.topright, 1], x: 0, y: -1, o: 1 }; case 5: return n & Ts ? { p: [t.topright, 1], x: 0, y: -1, o: 1 } : { p: [1, t.rightbottom], x: -1, y: 0, o: 0 }; case 6: return n & Ts ? { p: [t.bottomright, 0], x: 0, y: 1, o: 1 } : { p: [t.topright, 1], x: 0, y: -1, o: 1 }; case 7: return n & Is ? { p: [t.topright, 1], x: 0, y: -1, o: 1 } : { p: [t.bottomleft, 0], x: 0, y: 1, o: 0 }; case 8: return n & Ts ? { p: [t.bottomright, 0], x: 0, y: 1, o: 1 } : { p: [1, t.righttop], x: -1, y: 0, o: 1 }; case 9: return n & Is ? { p: [1, t.righttop], x: -1, y: 0, o: 1 } : { p: [t.bottomleft, 0], x: 0, y: 1, o: 0 }; case 10: return n & Is ? { p: [0, t.leftbottom], x: 1, y: 0, o: 0 } : { p: [1, t.righttop], x: -1, y: 0, o: 1 }; case 11: return n & Ds ? { p: [1, t.righttop], x: -1, y: 0, o: 1 } : { p: [0, t.lefttop], x: 1, y: 0, o: 1 }; case 12: return n & Ts ? { p: [t.bottomright, 0], x: 0, y: 1, o: 1 } : { p: [1, t.rightbottom], x: -1, y: 0, o: 0 }; case 13: return n & Is ? { p: [1, t.rightbottom], x: -1, y: 0, o: 0 } : { p: [t.bottomleft, 0], x: 0, y: 1, o: 0 }; case 14: return n & Is ? { p: [0, t.leftbottom], x: 1, y: 0, o: 0 } : { p: [1, t.rightbottom], x: -1, y: 0, o: 0 }; case 15: return n & Ds ? { p: [1, t.rightbottom], x: -1, y: 0, o: 0 } : { p: [0, t.lefttop], x: 1, y: 0, o: 1 }; case 16: return n & Ts ? { p: [t.bottomright, 0], x: 0, y: 1, o: 1 } : { p: [0, t.leftbottom], x: 1, y: 0, o: 0 }; case 17: return n & Ds ? { p: [t.bottomright, 0], x: 0, y: 1, o: 1 } : { p: [0, t.lefttop], x: 1, y: 0, o: 1 }; case 18: return n & Is ? { p: [0, t.leftbottom], x: 1, y: 0, o: 0 } : { p: [t.bottomleft, 0], x: 0, y: 1, o: 0 }; case 19: return n & Ds ? { p: [t.bottomleft, 0], x: 0, y: 1, o: 0 } : { p: [0, t.lefttop], x: 1, y: 0, o: 1 }; case 20: return n & Ds ? { p: [t.topleft, 1], x: 0, y: -1, o: 0 } : { p: [0, t.leftbottom], x: 1, y: 0, o: 0 }; case 21: return n & Ss ? { p: [0, t.leftbottom], x: 1, y: 0, o: 0 } : { p: [t.topright, 1], x: 0, y: -1, o: 1 }; case 22: return n & Ds ? { p: [t.topleft, 1], x: 0, y: -1, o: 0 } : { p: [0, t.lefttop], x: 1, y: 0, o: 1 }; case 23: return n & Ss ? { p: [0, t.lefttop], x: 1, y: 0, o: 1 } : { p: [t.topright, 1], x: 0, y: -1, o: 1 }; default: console.log("MarchingSquaresJS-isoBands: edge index out of range!"), console.log(t) } } return null }(t.cells[o][s]), u = null, l = s, c = o; null !== a && r.push([a.p[0] + l, a.p[1] + c]); do { if (null === (u = function (t, e, n, i) { var r, o, s, a, u, l = t.cval; switch (e) { case -1: switch (i) { case 0: r = ua[l], s = qs[l], a = js[l], u = Bs[l]; break; default: r = aa[l], s = ks[l], a = Fs[l], u = Rs[l] }break; case 1: switch (i) { case 0: r = ha[l], s = Js[l], a = Zs[l], u = Ks[l]; break; default: r = pa[l], s = Xs[l], a = Ys[l], u = Ws[l] }break; default: switch (n) { case -1: switch (i) { case 0: r = fa[l], s = Ns[l], a = Ps[l], u = As[l]; break; default: r = da[l], s = Ms[l], a = Ls[l], u = Os[l] }break; case 1: switch (i) { case 0: r = ca[l], s = $s[l], a = zs[l], u = Vs[l]; break; default: r = la[l], s = Us[l], a = Hs[l], u = Gs[l] } } }if (o = t.edges.indexOf(r), void 0 === t.edges[o]) return null; switch (function (t, e) { delete t.edges[e]; for (var n = e + 1; n < t.edges.length; n++)t.edges[n - 1] = t.edges[n]; t.edges.pop() }(t, o), l = t.cval_real, r) { case 0: l & Ss ? (e = t.topleft, n = 1) : (e = 1, n = t.righttop); break; case 1: l & Ts ? (e = 1, n = t.rightbottom) : (e = t.topleft, n = 1); break; case 2: l & Ts ? (e = t.topleft, n = 1) : (e = t.bottomright, n = 0); break; case 3: l & Is ? (e = t.bottomleft, n = 0) : (e = t.topleft, n = 1); break; case 4: l & Ss ? (e = t.topright, n = 1) : (e = 1, n = t.righttop); break; case 5: l & Ts ? (e = 1, n = t.rightbottom) : (e = t.topright, n = 1); break; case 6: l & Ts ? (e = t.topright, n = 1) : (e = t.bottomright, n = 0); break; case 7: l & Is ? (e = t.bottomleft, n = 0) : (e = t.topright, n = 1); break; case 8: l & Ts ? (e = 1, n = t.righttop) : (e = t.bottomright, n = 0); break; case 9: l & Is ? (e = t.bottomleft, n = 0) : (e = 1, n = t.righttop); break; case 10: l & Is ? (e = 1, n = t.righttop) : (e = 0, n = t.leftbottom); break; case 11: l & Ds ? (e = 0, n = t.lefttop) : (e = 1, n = t.righttop); break; case 12: l & Ts ? (e = 1, n = t.rightbottom) : (e = t.bottomright, n = 0); break; case 13: l & Is ? (e = t.bottomleft, n = 0) : (e = 1, n = t.rightbottom); break; case 14: l & Is ? (e = 1, n = t.rightbottom) : (e = 0, n = t.leftbottom); break; case 15: l & Ds ? (e = 0, n = t.lefttop) : (e = 1, n = t.rightbottom); break; case 16: l & Ts ? (e = 0, n = t.leftbottom) : (e = t.bottomright, n = 0); break; case 17: l & Ds ? (e = 0, n = t.lefttop) : (e = t.bottomright, n = 0); break; case 18: l & Is ? (e = t.bottomleft, n = 0) : (e = 0, n = t.leftbottom); break; case 19: l & Ds ? (e = 0, n = t.lefttop) : (e = t.bottomleft, n = 0); break; case 20: l & Ds ? (e = 0, n = t.leftbottom) : (e = t.topleft, n = 1); break; case 21: l & Ss ? (e = t.topright, n = 1) : (e = 0, n = t.leftbottom); break; case 22: l & Ds ? (e = 0, n = t.lefttop) : (e = t.topleft, n = 1); break; case 23: l & Ss ? (e = t.topright, n = 1) : (e = 0, n = t.lefttop); break; default: return console.log("MarchingSquaresJS-isoBands: edge index out of range!"), console.log(t), null }return void 0 !== e && void 0 !== n && void 0 !== s && void 0 !== a && void 0 !== u || (console.log("MarchingSquaresJS-isoBands: undefined value!"), console.log(t), console.log(e + " " + n + " " + s + " " + a + " " + u)), { p: [e, n], x: s, y: a, o: u } }(t.cells[c][l], a.x, a.y, a.o))) break; if (r.push([u.p[0] + l, u.p[1] + c]), l += u.x, a = u, (c += u.y) < 0 || c >= n || l < 0 || l >= i || void 0 === t.cells[c][l]) { var h = function (t, e, n, i, r, o) { for (var s = t.cells[n][e], a = s.cval_real, u = e + i, l = n + r, c = [], h = !1; !h;) { if (void 0 === t.cells[l] || void 0 === t.cells[l][u]) if (l -= r, u -= i, a = (s = t.cells[l][u]).cval_real, -1 === r) if (0 === o) if (a & Is) c.push([u, l]), i = -1, r = 0, o = 0; else { if (!(a & Ts)) { c.push([u + s.bottomright, l]), i = 0, r = 1, o = 1, h = !0; break } c.push([u + 1, l]), i = 1, r = 0, o = 0 } else { if (!(a & Is)) { if (a & Ts) { c.push([u + s.bottomright, l]), i = 0, r = 1, o = 1, h = !0; break } c.push([u + s.bottomleft, l]), i = 0, r = 1, o = 0, h = !0; break } c.push([u, l]), i = -1, r = 0, o = 0 } else if (1 === r) if (0 === o) { if (!(a & Ss)) { if (a & Ds) { c.push([u + s.topleft, l + 1]), i = 0, r = -1, o = 0, h = !0; break } c.push([u + s.topright, l + 1]), i = 0, r = -1, o = 1, h = !0; break } c.push([u + 1, l + 1]), i = 1, r = 0, o = 1 } else c.push([u + 1, l + 1]), i = 1, r = 0, o = 1; else if (-1 === i) if (0 === o) { if (!(a & Ds)) { if (a & Is) { c.push([u, l + s.leftbottom]), i = 1, r = 0, o = 0, h = !0; break } c.push([u, l + s.lefttop]), i = 1, r = 0, o = 1, h = !0; break } c.push([u, l + 1]), i = 0, r = 1, o = 0 } else { if (!(a & Ds)) { console.log("MarchingSquaresJS-isoBands: wtf"); break } c.push([u, l + 1]), i = 0, r = 1, o = 0 } else { if (1 !== i) { console.log("MarchingSquaresJS-isoBands: we came from nowhere!"); break } if (0 === o) { if (!(a & Ts)) { c.push([u + 1, l + s.rightbottom]), i = -1, r = 0, o = 0, h = !0; break } c.push([u + 1, l]), i = 0, r = -1, o = 1 } else { if (!(a & Ts)) { if (a & Ss) { c.push([u + 1, l + s.righttop]), i = -1, r = 0, o = 1; break } c.push([u + 1, l + s.rightbottom]), i = -1, r = 0, o = 0, h = !0; break } c.push([u + 1, l]), i = 0, r = -1, o = 1 } } else if (a = (s = t.cells[l][u]).cval_real, -1 === i) if (0 === o) if (void 0 !== t.cells[l - 1] && void 0 !== t.cells[l - 1][u]) i = 0, r = -1, o = 1; else { if (!(a & Is)) { c.push([u + s.bottomright, l]), i = 0, r = 1, o = 1, h = !0; break } c.push([u, l]) } else { if (!(a & Ds)) { console.log("MarchingSquaresJS-isoBands: found entry from top at " + u + "," + l); break } console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!") } else if (1 === i) { if (0 === o) { console.log("MarchingSquaresJS-isoBands: wtf"); break } if (void 0 !== t.cells[l + 1] && void 0 !== t.cells[l + 1][u]) i = 0, r = 1, o = 0; else { if (!(a & Ss)) { c.push([u + s.topleft, l + 1]), i = 0, r = -1, o = 0, h = !0; break } c.push([u + 1, l + 1]), i = 1, r = 0, o = 1 } } else if (-1 === r) { if (1 !== o) { console.log("MarchingSquaresJS-isoBands: wtf"); break } if (void 0 !== t.cells[l][u + 1]) i = 1, r = 0, o = 1; else { if (!(a & Ts)) { c.push([u + 1, l + s.righttop]), i = -1, r = 0, o = 1, h = !0; break } c.push([u + 1, l]), i = 0, r = -1, o = 1 } } else { if (1 !== r) { console.log("MarchingSquaresJS-isoBands: where did we came from???"); break } if (0 !== o) { console.log("MarchingSquaresJS-isoBands: wtf"); break } if (void 0 !== t.cells[l][u - 1]) i = -1, r = 0, o = 0; else { if (!(a & Ds)) { c.push([u, l + s.leftbottom]), i = 1, r = 0, o = 0, h = !0; break } c.push([u, l + 1]), i = 0, r = 1, o = 0 } } if (l += r, (u += i) === e && l === n) break } return { path: c, i: u, j: l, x: i, y: r, o: o } }(t, l -= u.x, c -= u.y, u.x, u.y, u.o); if (null === h) break; h.path.forEach((function (t) { r.push(t) })), l = h.i, c = h.j, a = h } } while (void 0 !== t.cells[c][l] && t.cells[c][l].edges.length > 0); e.push(r), r = [], t.cells[o][s].edges.length > 0 && s-- } return e }(l)), "function" == typeof Cs.successCallback && Cs.successCallback(u), u } function ti(t, e, n) { return (t - e) / (n - e) } function ei(t) { return t.constructor.toString().indexOf("Array") > -1 } function ni(t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var i = n.pivot, r = n.mutate; if (!t) throw new Error("geojson is required"); if (null == e || isNaN(e)) throw new Error("angle is required"); return 0 === e || (i || (i = ce(t)), !1 !== r && void 0 !== r || (t = Ft(t)), T(t, (function (t) { var n = Je(i, t) + e, r = Ke(i, t), o = U(Gn(i, r, n)); t[0] = o[0], t[1] = o[1] }))), t } function ii(t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var i = n.origin, r = n.mutate; if (!t) throw new Error("geojson required"); if ("number" != typeof e || 0 === e) throw new Error("invalid factor"); var o = Array.isArray(i) || "object" == typeof i; return !0 !== r && (t = Ft(t)), "FeatureCollection" !== t.type || o ? ri(t, e, i) : (A(t, (function (n, r) { t.features[r] = ri(n, e, i) })), t) } function ri(t, e, n) { var r = "Point" === Z(t); return n = function (t, e) { if (null != e || (e = "centroid"), Array.isArray(e) || "object" == typeof e) return V(e); var n = t.bbox ? t.bbox : z(t), r = n[0], o = n[1], s = n[2], a = n[3]; switch (e) { case "sw": case "southwest": case "westsouth": case "bottomleft": return i([r, o]); case "se": case "southeast": case "eastsouth": case "bottomright": return i([s, o]); case "nw": case "northwest": case "westnorth": case "topleft": return i([r, a]); case "ne": case "northeast": case "eastnorth": case "topright": return i([s, a]); case "center": return le(t); case void 0: case null: case "centroid": return ce(t); default: throw new Error("invalid origin") } }(t, n), 1 === e || r || T(t, (function (t) { var i = Ke(n, t), r = Je(n, t), o = U(Gn(n, i * e, r)); t[0] = o[0], t[1] = o[1], 3 === t.length && (t[2] *= e) })), t } function oi(t) { var e = t[0], n = t[1]; return [n[0] - e[0], n[1] - e[1]] } function si(t, e) { return t[0] * e[1] - e[0] * t[1] } function ai(t, e, n) { var i = [], r = m(e, n), o = U(t), s = []; return o.forEach((function (t, e) { if (e !== o.length - 1) { var n = function (t, e, n) { var i = Math.sqrt((t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1])), r = t[0] + n * (e[1] - t[1]) / i, o = e[0] + n * (e[1] - t[1]) / i; return [[r, t[1] + n * (t[0] - e[0]) / i], [o, e[1] + n * (t[0] - e[0]) / i]] }(t, o[e + 1], r); if (i.push(n), e > 0) { var a = i[e - 1], u = function (t, e) { return !function (t, e) { return 0 === si(oi(t), oi(e)) }(t, e) && function (t, e) { var n = t[0], i = oi(t), r = e[0], o = oi(e), s = si(i, o); return function (t, e) { return [t[0] + e[0], t[1] + e[1]] }(n, function (t, e) { return [t * e[0], t * e[1]] }(si(function (t, e) { return [t[0] - e[0], t[1] - e[1]] }(r, n), o) / s, i)) }(t, e) }(n, a); !1 !== u && (a[1] = u, n[0] = u), s.push(a[0]), e === o.length - 2 && (s.push(n[0]), s.push(n[1])) } 2 === o.length && (s.push(n[0]), s.push(n[1])) } })), a(s, t.properties) } function ui(t, e, n) { var i = e[0] - t[0], r = e[1] - t[1], o = n[0] - e[0], s = n[1] - e[1]; return Math.sign(i * s - o * r) } function li(t, e) { return e.geometry.coordinates[0].every((function (e) { return It(i(e), t) })) } function ci(t, e) { for (var n = 0; n < t.coordinates.length - 1; n++)if (function (t, e, n) { var i = n[0] - t[0], r = n[1] - t[1], o = e[0] - t[0], s = e[1] - t[1]; return i * s - r * o == 0 && (Math.abs(o) >= Math.abs(s) ? o > 0 ? t[0] <= n[0] && n[0] <= e[0] : e[0] <= n[0] && n[0] <= t[0] : s > 0 ? t[1] <= n[1] && n[1] <= e[1] : e[1] <= n[1] && n[1] <= t[1]) }(t.coordinates[n], t.coordinates[n + 1], e.coordinates)) return !0; return !1 } function hi(t, e) { return Xe(e, Pn(t)).features.length > 0 } function pi(t, e) { return !(t[0] > e[0] || t[2] < e[2] || t[1] > e[1] || t[3] < e[3]) } function fi(t, e) { return t[0] === e[0] && t[1] === e[1] } function di(t, e) { for (var n = !1, i = !1, r = t.coordinates.length, o = 0; o < r && !n && !i;) { for (var s = 0; s < e.coordinates.length - 1; s++) { var a = !0; 0 !== s && s !== e.coordinates.length - 2 || (a = !1), mi(e.coordinates[s], e.coordinates[s + 1], t.coordinates[o], a) ? n = !0 : i = !0 } o++ } return n && i } function gi(t, e) { return Xe(t, Pn(e)).features.length > 0 } function yi(t, e) { for (var n = !1, r = !1, o = t.coordinates[0].length, s = 0; s < o && n && r;)It(i(t.coordinates[0][s]), e) ? n = !0 : r = !0, s++; return r && r } function mi(t, e, n, i) { var r = n[0] - t[0], o = n[1] - t[1], s = e[0] - t[0], a = e[1] - t[1]; return 0 == r * a - o * s && (i ? Math.abs(s) >= Math.abs(a) ? s > 0 ? t[0] <= n[0] && n[0] <= e[0] : e[0] <= n[0] && n[0] <= t[0] : a > 0 ? t[1] <= n[1] && n[1] <= e[1] : e[1] <= n[1] && n[1] <= t[1] : Math.abs(s) >= Math.abs(a) ? s > 0 ? t[0] < n[0] && n[0] < e[0] : e[0] < n[0] && n[0] < t[0] : a > 0 ? t[1] < n[1] && n[1] < e[1] : e[1] < n[1] && n[1] < t[1]) } function vi(t) { return t.coordinates.map((function (e) { return { type: t.type.replace("Multi", ""), coordinates: e } })) } function _i(t, e) { return t.hasOwnProperty("coordinates") ? t.coordinates.length === e.coordinates.length : t.length === e.length } function bi(t, e) { return Ea(t, e, { strict: !0 }) } function wi(t, e) { if (!t) throw new Error("feature1 is required"); if (!e) throw new Error("feature2 is required"); var n = Z(t); if (n !== Z(e)) throw new Error("features must be of the same type"); if ("Point" === n) throw new Error("Point geometry not supported"); if (new Da({ precision: 6 }).compare(t, e)) return !1; var i = 0; switch (n) { case "MultiPoint": var r = L(t), o = L(e); r.forEach((function (t) { o.forEach((function (e) { t[0] === e[0] && t[1] === e[1] && i++ })) })); break; case "LineString": case "MultiLineString": q(t, (function (t) { q(e, (function (e) { Vn(t, e).features.length && i++ })) })); break; case "Polygon": case "MultiPolygon": q(t, (function (t) { q(e, (function (e) { Xe(t, e).features.length && i++ })) })) }return i > 0 } function xi(t, e, n) { n = n || []; for (var i = 0; i < t; i++)n[i] = e; return n } function Ei(t, e) { if (t.geometry && t.geometry.type) return t.geometry.type; if (t.type) return t.type; throw new Error("Invalid GeoJSON object for " + e) } function Ci(t) { for (var e = t, n = []; e.parent;)n.unshift(e), e = e.parent; return n } function Di(t, e) { e = e || {}, this.nodes = [], this.diagonal = !!e.diagonal, this.grid = []; for (var n = 0; n < t.length; n++) { this.grid[n] = []; for (var i = 0, r = t[n]; i < r.length; i++) { var o = new Si(n, i, r[i]); this.grid[n][i] = o, this.nodes.push(o) } } this.init() } function Si(t, e, n) { this.x = t, this.y = e, this.weight = n } function Ti(t) { this.content = [], this.scoreFunction = t } function Ii(t) { return t[0] } function Ni(t) { return t[1] } function Pi() { this._ = null } function Ai(t) { t.U = t.C = t.L = t.R = t.P = t.N = null } function Mi(t, e) { var n = e, i = e.R, r = n.U; r ? r.L === n ? r.L = i : r.R = i : t._ = i, i.U = r, n.U = i, n.R = i.L, n.R && (n.R.U = n), i.L = n } function Li(t, e) { var n = e, i = e.L, r = n.U; r ? r.L === n ? r.L = i : r.R = i : t._ = i, i.U = r, n.U = i, n.L = i.R, n.L && (n.L.U = n), i.R = n } function Oi(t) { for (; t.L;)t = t.L; return t } function ki(t, e, n, i) { var r = [null, null], o = za.push(r) - 1; return r.left = t, r.right = e, n && Ri(r, t, e, n), i && Ri(r, e, t, i), Ba[t.index].halfedges.push(o), Ba[e.index].halfedges.push(o), r } function Fi(t, e, n) { var i = [e, n]; return i.left = t, i } function Ri(t, e, n, i) { t[0] || t[1] ? t.left === n ? t[1] = i : t[0] = i : (t[0] = i, t.left = e, t.right = n) } function qi(t, e, n, i, r) { var o, s = t[0], a = t[1], u = s[0], l = s[1], c = 0, h = 1, p = a[0] - u, f = a[1] - l; if (o = e - u, p || !(o > 0)) { if (o /= p, p < 0) { if (o < c) return; o < h && (h = o) } else if (p > 0) { if (o > h) return; o > c && (c = o) } if (o = i - u, p || !(o < 0)) { if (o /= p, p < 0) { if (o > h) return; o > c && (c = o) } else if (p > 0) { if (o < c) return; o < h && (h = o) } if (o = n - l, f || !(o > 0)) { if (o /= f, f < 0) { if (o < c) return; o < h && (h = o) } else if (f > 0) { if (o > h) return; o > c && (c = o) } if (o = r - l, f || !(o < 0)) { if (o /= f, f < 0) { if (o > h) return; o > c && (c = o) } else if (f > 0) { if (o < c) return; o < h && (h = o) } return !(c > 0 || h < 1) || (c > 0 && (t[0] = [u + c * p, l + c * f]), h < 1 && (t[1] = [u + h * p, l + h * f]), !0) } } } } } function ji(t, e, n, i, r) { var o = t[1]; if (o) return !0; var s, a, u = t[0], l = t.left, c = t.right, h = l[0], p = l[1], f = c[0], d = c[1], g = (h + f) / 2, y = (p + d) / 2; if (d === p) { if (g < e || g >= i) return; if (h > f) { if (u) { if (u[1] >= r) return } else u = [g, n]; o = [g, r] } else { if (u) { if (u[1] < n) return } else u = [g, r]; o = [g, n] } } else if (a = y - (s = (h - f) / (d - p)) * g, s < -1 || s > 1) if (h > f) { if (u) { if (u[1] >= r) return } else u = [(n - a) / s, n]; o = [(r - a) / s, r] } else { if (u) { if (u[1] < n) return } else u = [(r - a) / s, r]; o = [(n - a) / s, n] } else if (p < d) { if (u) { if (u[0] >= i) return } else u = [e, s * e + a]; o = [i, s * i + a] } else { if (u) { if (u[0] < e) return } else u = [i, s * i + a]; o = [e, s * e + a] } return t[0] = u, t[1] = o, !0 } function Bi(t, e) { var n = t.site, i = e.left, r = e.right; return n === r && (r = i, i = n), r ? Math.atan2(r[1] - i[1], r[0] - i[0]) : (n === i ? (i = e[1], r = e[0]) : (i = e[0], r = e[1]), Math.atan2(i[0] - r[0], r[1] - i[1])) } function $i(t, e) { return e[+(e.left !== t.site)] } function zi(t, e) { return e[+(e.left === t.site)] } function Vi(t) { var e = t.P, n = t.N; if (e && n) { var i = e.site, r = t.site, o = n.site; if (i !== o) { var s = r[0], a = r[1], u = i[0] - s, l = i[1] - a, c = o[0] - s, h = o[1] - a, p = 2 * (u * h - l * c); if (!(p >= -Ga)) { var f = u * u + l * l, d = c * c + h * h, g = (h * f - l * d) / p, y = (u * d - c * f) / p, m = Va.pop() || new function () { Ai(this), this.x = this.y = this.arc = this.site = this.cy = null }; m.arc = t, m.site = r, m.x = g + s, m.y = (m.cy = y + a) + Math.sqrt(g * g + y * y), t.circle = m; for (var v = null, _ = $a._; _;)if (m.y < _.y || m.y === _.y && m.x <= _.x) { if (!_.L) { v = _.P; break } _ = _.L } else { if (!_.R) { v = _; break } _ = _.R } $a.insert(v, m), v || (qa = m) } } } } function Ui(t) { var e = t.circle; e && (e.P || (qa = e.N), $a.remove(e), Va.push(e), Ai(e), t.circle = null) } function Hi(t) { var e = Ua.pop() || new function () { Ai(this), this.edge = this.site = this.circle = null }; return e.site = t, e } function Gi(t) { Ui(t), ja.remove(t), Ua.push(t), Ai(t) } function Xi(t) { var e = t.circle, n = e.x, i = e.cy, r = [n, i], o = t.P, s = t.N, a = [t]; Gi(t); for (var u = o; u.circle && Math.abs(n - u.circle.x) < Ha && Math.abs(i - u.circle.cy) < Ha;)o = u.P, a.unshift(u), Gi(u), u = o; a.unshift(u), Ui(u); for (var l = s; l.circle && Math.abs(n - l.circle.x) < Ha && Math.abs(i - l.circle.cy) < Ha;)s = l.N, a.push(l), Gi(l), l = s; a.push(l), Ui(l); var c, h = a.length; for (c = 1; c < h; ++c)l = a[c], u = a[c - 1], Ri(l.edge, u.site, l.site, r); u = a[0], (l = a[h - 1]).edge = ki(u.site, l.site, null, r), Vi(u), Vi(l) } function Yi(t) { for (var e, n, i, r, o = t[0], s = t[1], a = ja._; a;)if ((i = Wi(a, s) - o) > Ha) a = a.L; else { if (!((r = o - function (t, e) { var n = t.N; if (n) return Wi(n, e); var i = t.site; return i[1] === e ? i[0] : 1 / 0 }(a, s)) > Ha)) { i > -Ha ? (e = a.P, n = a) : r > -Ha ? (e = a, n = a.N) : e = n = a; break } if (!a.R) { e = a; break } a = a.R } !function (t) { Ba[t.index] = { site: t, halfedges: [] } }(t); var u = Hi(t); if (ja.insert(e, u), e || n) { if (e === n) return Ui(e), n = Hi(e.site), ja.insert(u, n), u.edge = n.edge = ki(e.site, u.site), Vi(e), void Vi(n); if (n) { Ui(e), Ui(n); var l = e.site, c = l[0], h = l[1], p = t[0] - c, f = t[1] - h, d = n.site, g = d[0] - c, y = d[1] - h, m = 2 * (p * y - f * g), v = p * p + f * f, _ = g * g + y * y, b = [(y * v - f * _) / m + c, (p * _ - g * v) / m + h]; Ri(n.edge, l, d, b), u.edge = ki(l, t, null, b), n.edge = ki(t, d, null, b), Vi(e), Vi(n) } else u.edge = ki(e.site, u.site) } } function Wi(t, e) { var n = t.site, i = n[0], r = n[1], o = r - e; if (!o) return i; var s = t.P; if (!s) return -1 / 0; var a = (n = s.site)[0], u = n[1], l = u - e; if (!l) return a; var c = a - i, h = 1 / o - 1 / l, p = c / l; return h ? (-p + Math.sqrt(p * p - 2 * h * (c * c / (-2 * l) - u + l / 2 + r - o / 2))) / h + i : (i + a) / 2 } function Ji(t, e, n) { return (t[0] - n[0]) * (e[1] - t[1]) - (t[0] - e[0]) * (n[1] - t[1]) } function Zi(t, e) { return e[1] - t[1] || e[0] - t[0] } function Ki(t, e) { var n, i, r, o = t.sort(Zi).pop(); for (za = [], Ba = new Array(t.length), ja = new Pi, $a = new Pi; ;)if (r = qa, o && (!r || o[1] < r.y || o[1] === r.y && o[0] < r.x)) o[0] === n && o[1] === i || (Yi(o), n = o[0], i = o[1]), o = t.pop(); else { if (!r) break; Xi(r.arc) } if (function () { for (var t, e, n, i, r = 0, o = Ba.length; r < o; ++r)if ((t = Ba[r]) && (i = (e = t.halfedges).length)) { var s = new Array(i), a = new Array(i); for (n = 0; n < i; ++n)s[n] = n, a[n] = Bi(t, za[e[n]]); for (s.sort((function (t, e) { return a[e] - a[t] })), n = 0; n < i; ++n)a[n] = e[s[n]]; for (n = 0; n < i; ++n)e[n] = a[n] } }(), e) { var s = +e[0][0], a = +e[0][1], u = +e[1][0], l = +e[1][1]; !function (t, e, n, i) { for (var r, o = za.length; o--;)ji(r = za[o], t, e, n, i) && qi(r, t, e, n, i) && (Math.abs(r[0][0] - r[1][0]) > Ha || Math.abs(r[0][1] - r[1][1]) > Ha) || delete za[o] }(s, a, u, l), function (t, e, n, i) { var r, o, s, a, u, l, c, h, p, f, d, g, y = Ba.length, m = !0; for (r = 0; r < y; ++r)if (o = Ba[r]) { for (s = o.site, a = (u = o.halfedges).length; a--;)za[u[a]] || u.splice(a, 1); for (a = 0, l = u.length; a < l;)d = (f = zi(o, za[u[a]]))[0], g = f[1], h = (c = $i(o, za[u[++a % l]]))[0], p = c[1], (Math.abs(d - h) > Ha || Math.abs(g - p) > Ha) && (u.splice(a, 0, za.push(Fi(s, f, Math.abs(d - t) < Ha && i - g > Ha ? [t, Math.abs(h - t) < Ha ? p : i] : Math.abs(g - i) < Ha && n - d > Ha ? [Math.abs(p - i) < Ha ? h : n, i] : Math.abs(d - n) < Ha && g - e > Ha ? [n, Math.abs(h - n) < Ha ? p : e] : Math.abs(g - e) < Ha && d - t > Ha ? [Math.abs(p - e) < Ha ? h : t, e] : null)) - 1), ++l); l && (m = !1) } if (m) { var v, _, b, w = 1 / 0; for (r = 0, m = null; r < y; ++r)(o = Ba[r]) && (b = (v = (s = o.site)[0] - t) * v + (_ = s[1] - e) * _) < w && (w = b, m = o); if (m) { var x = [t, e], E = [t, i], C = [n, i], D = [n, e]; m.halfedges.push(za.push(Fi(s = m.site, x, E)) - 1, za.push(Fi(s, E, C)) - 1, za.push(Fi(s, C, D)) - 1, za.push(Fi(s, D, x)) - 1) } } for (r = 0; r < y; ++r)(o = Ba[r]) && (o.halfedges.length || delete Ba[r]) }(s, a, u, l) } this.edges = za, this.cells = Ba, ja = $a = za = Ba = null } function Qi(t) { return (t = t.slice()).push(t[0]), o([t]) } function tr(t, e, n, i) { var r = (i = i || {}).steps || 64, s = i.units || "kilometers", a = i.angle || 0, u = i.pivot || t, l = i.properties || t.properties || {}; if (!t) throw new Error("center is required"); if (!e) throw new Error("xSemiAxis is required"); if (!n) throw new Error("ySemiAxis is required"); if (!C(i)) throw new Error("options must be an object"); if (!E(r)) throw new Error("steps must be a number"); if (!E(a)) throw new Error("angle must be a number"); var c = V(t); if ("degrees" === s) var h = b(a); else e = Gn(t, e, 90, { units: s }), n = Gn(t, n, 0, { units: s }), e = V(e)[0] - c[0], n = V(n)[1] - c[1]; for (var p = [], f = 0; f < r; f += 1) { var d = -360 * f / r, g = e * n / Math.sqrt(Math.pow(n, 2) + Math.pow(e, 2) * Math.pow(er(d), 2)), y = e * n / Math.sqrt(Math.pow(e, 2) + Math.pow(n, 2) / Math.pow(er(d), 2)); if (d < -90 && d >= -270 && (g = -g), d < -180 && d >= -360 && (y = -y), "degrees" === s) { var m = g * Math.cos(h) + y * Math.sin(h), v = y * Math.cos(h) - g * Math.sin(h); g = m, y = v } p.push([g + c[0], y + c[1]]) } return p.push(p[0]), "degrees" === s ? o([p], l) : ni(o([p], l), a, { pivot: u }) } function er(t) { var e = t * Math.PI / 180; return Math.tan(e) } function nr(t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.properties, r = e.weight; if (!t) throw new Error("geojson is required"); var o = 0, s = 0, a = 0; return O(t, (function (t, e, n) { var i = n[r]; if (!E(i = null == i ? 1 : i)) throw new Error("weight value must be a number for feature index " + e); (i = Number(i)) > 0 && T(t, (function (t) { o += t[0] * i, s += t[1] * i, a += i })) })), i([o / a, s / a], n) } function ir(t, e, n, r) { var o = n.properties.tolerance || .001, s = 0, a = 0, u = 0, l = 0; if (A(n, (function (e) { var n = e.properties.weight, i = null == n ? 1 : n; if (!E(i = Number(i))) throw new Error("weight value must be a number"); if (i > 0) { l += 1; var r = i * kt(e, t); 0 === r && (r = 1); var o = i / r; s += e.geometry.coordinates[0] * o, a += e.geometry.coordinates[1] * o, u += o } })), l < 1) throw new Error("no features to measure"); var c = s / u, h = a / u; return 1 === l || 0 === r || Math.abs(c - e[0]) < o && Math.abs(h - e[1]) < o ? i([c, h], { medianCandidates: n.properties.medianCandidates }) : (n.properties.medianCandidates.push([c, h]), ir([c, h], t, n, r - 1)) } function rr(t, e) { return { x: t[0] - e[0], y: t[1] - e[1] } } function or(t) { if (C(t) && (t = t.bbox), t && !Array.isArray(t)) throw new Error("bbox is invalid"); return t ? function (t) { return [Math.random() * (t[2] - t[0]) + t[0], Math.random() * (t[3] - t[1]) + t[1]] }(t) : [360 * lr(), 180 * lr()] } function sr(t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.bbox; null != t || (t = 1); for (var r = [], o = 0; o < t; o++)r.push(i(or(n))); return l(r) } function ar(t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.bbox, i = e.num_vertices, r = e.max_radial_length; null != t || (t = 1), E(i) || (i = 10), E(r) || (r = 10); for (var s = [], a = 0; a < t; a++) { var u = [], c = Array.apply(null, new Array(i + 1)).map(Math.random); c.forEach((function (t, e, n) { n[e] = e > 0 ? t + n[e - 1] : t })), c.forEach((function (t) { t = 2 * t * Math.PI / c[c.length - 1]; var e = Math.random(); u.push([e * r * Math.sin(t), e * r * Math.cos(t)]) })), u[u.length - 1] = u[0], u = u.map(function (t) { return function (e) { return [e[0] + t[0], e[1] + t[1]] } }(or(n))), s.push(o([u])) } return l(s) } function ur(t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.bbox, i = e.num_vertices, r = e.max_length, o = e.max_rotation; null != t || (t = 1), (!E(i) || i < 2) && (i = 10), E(r) || (r = 1e-4), E(o) || (o = Math.PI / 8); for (var s = [], u = 0; u < t; u++) { for (var c = [or(n)], h = 0; h < i - 1; h++) { var p = (0 === h ? 2 * Math.random() * Math.PI : Math.tan((c[h][1] - c[h - 1][1]) / (c[h][0] - c[h - 1][0]))) + (Math.random() - .5) * o * 2, f = Math.random() * r; c.push([c[h][0] + f * Math.cos(p), c[h][1] + f * Math.sin(p)]) } s.push(a(c)) } return l(s) } function lr() { return Math.random() - .5 } function cr(t, e) { if (!t) throw new Error("geojson is required"); if ("FeatureCollection" !== t.type) throw new Error("geojson must be a FeatureCollection"); if (null == e) throw new Error("filter is required"); var n = []; return A(t, (function (t) { dr(t.properties, e) && n.push(t) })), l(n) } function hr(t, e, n) { if (!t) throw new Error("geojson is required"); if ("FeatureCollection" !== t.type) throw new Error("geojson must be a FeatureCollection"); if (null == e) throw new Error("property is required"); for (var i = fr(t, e), r = Object.keys(i), o = 0; o < r.length; o++) { for (var s = r[o], a = i[s], u = [], c = 0; c < a.length; c++)u.push(t.features[a[c]]); n(l(u), s, o) } } function pr(t, e, n, i) { var r = i; return hr(t, e, (function (t, e, o) { r = 0 === o && void 0 === i ? t : n(r, t, e, o) })), r } function fr(t, e) { var n = {}; return A(t, (function (t, i) { var r = t.properties || {}; if (r.hasOwnProperty(e)) { var o = r[e]; n.hasOwnProperty(o) ? n[o].push(i) : n[o] = [i] } })), n } function dr(t, e) { if (void 0 === t) return !1; var n = typeof e; if ("number" === n || "string" === n) return t.hasOwnProperty(e); if (Array.isArray(e)) { for (var i = 0; i < e.length; i++)if (!dr(t, e[i])) return !1; return !0 } return gr(t, e) } function gr(t, e) { for (var n = Object.keys(e), i = 0; i < n.length; i++) { var r = n[i]; if (t[r] !== e[r]) return !1 } return !0 } function yr(t, e) { if (!e) return {}; if (!e.length) return {}; for (var n = {}, i = 0; i < e.length; i++) { var r = e[i]; t.hasOwnProperty(r) && (n[r] = t[r]) } return n } function mr() { } function vr(t) { this.message = t || "" } function _r(t) { this.message = t || "" } function br() { } function wr(t) { return null === t ? fl : t.color } function xr(t) { return null === t ? null : t.parent } function Er(t, e) { null !== t && (t.color = e) } function Cr(t) { return null === t ? null : t.left } function Dr(t) { return null === t ? null : t.right } function Sr() { this.root_ = null, this.size_ = 0 } function Tr() { } function Ir() { this.array_ = [], arguments[0] instanceof Ku && this.addAll(arguments[0]) } function Nr() { } function Pr(t) { this.message = t || "" } function Ar() { this.array_ = [] } function Mr(t) { switch (t.type) { case "Polygon": return ln(t) > 1 ? t : null; case "MultiPolygon": var e = []; if (F(t, (function (t) { ln(t) > 1 && e.push(t.geometry.coordinates) })), e.length) return { type: "MultiPolygon", coordinates: e } } } function Lr() { this.reset() } function Or(t, e, n) { var i = t.s = e + n, r = i - e, o = i - r; t.t = e - o + (n - r) } function kr(t) { return t > 1 ? _f : t < -1 ? -_f : Math.asin(t) } function Fr() { } function Rr(t, e) { t && Of.hasOwnProperty(t.type) && Of[t.type](t, e) } function qr(t, e, n) { var i, r = -1, o = t.length - n; for (e.lineStart(); ++r < o;)i = t[r], e.point(i[0], i[1], i[2]); e.lineEnd() } function jr(t, e) { var n = -1, i = t.length; for (e.polygonStart(); ++n < i;)qr(t[n], e, 1); e.polygonEnd() } function Br(t) { return [Sf(t[1], t[0]), kr(t[2])] } function $r(t) { var e = t[0], n = t[1], i = Tf(n); return [i * Tf(e), i * Pf(e), Pf(n)] } function zr(t, e) { return t[0] * e[0] + t[1] * e[1] + t[2] * e[2] } function Vr(t, e) { return [t[1] * e[2] - t[2] * e[1], t[2] * e[0] - t[0] * e[2], t[0] * e[1] - t[1] * e[0]] } function Ur(t, e) { t[0] += e[0], t[1] += e[1], t[2] += e[2] } function Hr(t, e) { return [t[0] * e, t[1] * e, t[2] * e] } function Gr(t) { var e = Af(t[0] * t[0] + t[1] * t[1] + t[2] * t[2]); t[0] /= e, t[1] /= e, t[2] /= e } function Xr(t, e) { return [t > vf ? t - wf : t < -vf ? t + wf : t, e] } function Yr(t, e, n) { return (t %= wf) ? e || n ? Ff(Jr(t), Zr(e, n)) : Jr(t) : e || n ? Zr(e, n) : Xr } function Wr(t) { return function (e, n) { return [(e += t) > vf ? e - wf : e < -vf ? e + wf : e, n] } } function Jr(t) { var e = Wr(t); return e.invert = Wr(-t), e } function Zr(t, e) { function n(t, e) { var n = Tf(e), a = Tf(t) * n, u = Pf(t) * n, l = Pf(e), c = l * i + a * r; return [Sf(u * o - c * s, a * i - l * r), kr(c * o + u * s)] } var i = Tf(t), r = Pf(t), o = Tf(e), s = Pf(e); return n.invert = function (t, e) { var n = Tf(e), a = Tf(t) * n, u = Pf(t) * n, l = Pf(e), c = l * o - u * s; return [Sf(u * o + l * s, a * i + c * r), kr(c * i - a * r)] }, n } function Kr(t, e) { (e = $r(e))[0] -= t, Gr(e); var n = function (t) { return t > 1 ? 0 : t < -1 ? vf : Math.acos(t) }(-e[1]); return ((-e[2] < 0 ? -n : n) + wf - mf) % wf } function Qr(t, e, n, i) { this.x = t, this.z = e, this.o = n, this.e = i, this.v = !1, this.n = this.p = null } function to(t) { if (e = t.length) { for (var e, n, i = 0, r = t[0]; ++i < e;)r.n = n = t[i], n.p = r, r = n; r.n = n = t[0], n.p = r } } function eo(t, e, n, i) { function r(r, o) { return t <= r && r <= n && e <= o && o <= i } function o(r, o, a, l) { var c = 0, h = 0; if (null == r || (c = s(r, a)) !== (h = s(o, a)) || u(r, o) < 0 ^ a > 0) do { l.point(0 === c || 3 === c ? t : n, c > 1 ? i : e) } while ((c = (c + a + 4) % 4) !== h); else l.point(o[0], o[1]) } function s(i, r) { return Cf(i[0] - t) < mf ? r > 0 ? 0 : 3 : Cf(i[0] - n) < mf ? r > 0 ? 2 : 1 : Cf(i[1] - e) < mf ? r > 0 ? 1 : 0 : r > 0 ? 3 : 2 } function a(t, e) { return u(t.x, e.x) } function u(t, e) { var n = s(t, 1), i = s(e, 1); return n !== i ? n - i : 0 === n ? e[1] - t[1] : 1 === n ? t[0] - e[0] : 2 === n ? t[1] - e[1] : e[0] - t[0] } return function (s) { function u(t, e) { r(t, e) && w.point(t, e) } function l(o, s) { var a = r(o, s); if (h && p.push([o, s]), _) f = o, d = s, g = a, _ = !1, a && (w.lineStart(), w.point(o, s)); else if (a && v) w.point(o, s); else { var u = [y = Math.max(Uf, Math.min(Vf, y)), m = Math.max(Uf, Math.min(Vf, m))], l = [o = Math.max(Uf, Math.min(Vf, o)), s = Math.max(Uf, Math.min(Vf, s))]; qf(u, l, t, e, n, i) ? (v || (w.lineStart(), w.point(u[0], u[1])), w.point(l[0], l[1]), a || w.lineEnd(), b = !1) : a && (w.lineStart(), w.point(o, s), b = !1) } y = o, m = s, v = a } var c, h, p, f, d, g, y, m, v, _, b, w = s, x = Rf(), E = { point: u, lineStart: function () { E.point = l, h && h.push(p = []), _ = !0, v = !1, y = m = NaN }, lineEnd: function () { c && (l(f, d), g && v && x.rejoin(), c.push(x.result())), E.point = u, v && w.lineEnd() }, polygonStart: function () { w = x, c = [], h = [], b = !0 }, polygonEnd: function () { var e = function () { for (var e = 0, n = 0, r = h.length; n < r; ++n)for (var o, s, a = h[n], u = 1, l = a.length, c = a[0], p = c[0], f = c[1]; u < l; ++u)o = p, s = f, p = (c = a[u])[0], f = c[1], s <= i ? f > i && (p - o) * (i - s) > (f - s) * (t - o) && ++e : f <= i && (p - o) * (i - s) < (f - s) * (t - o) && --e; return e }(), n = b && e, r = (c = zf(c)).length; (n || r) && (s.polygonStart(), n && (s.lineStart(), o(null, null, 1, s), s.lineEnd()), r && Bf(c, a, e, o, s), s.polygonEnd()), w = s, c = h = p = null } }; return E } } function no(t) { return t.length > 1 } function io(t, e) { return ((t = t.x)[0] < 0 ? t[1] - _f - mf : _f - t[1]) - ((e = e.x)[0] < 0 ? e[1] - _f - mf : _f - e[1]) } function ro(t) { return function (e) { var n = new oo; for (var i in t) n[i] = t[i]; return n.stream = e, n } } function oo() { } function so(t, e, n) { var i = e[1][0] - e[0][0], r = e[1][1] - e[0][1], o = t.clipExtent && t.clipExtent(); t.scale(150).translate([0, 0]), null != o && t.clipExtent(null), kf(n, t.stream(Zf)); var s = Zf.result(), a = Math.min(i / (s[1][0] - s[0][0]), r / (s[1][1] - s[0][1])), u = +e[0][0] + (i - a * (s[1][0] + s[0][0])) / 2, l = +e[0][1] + (r - a * (s[1][1] + s[0][1])) / 2; return null != o && t.clipExtent(o), t.scale(150 * a).translate([u, l]) } function ao(t, e) { return [t, Nf(Mf((_f + e) / 2))] } function uo(t, e) { return [Nf(Mf((_f + e) / 2)), -t] } function lo(t, n, i, r) { var o = t.properties || {}, s = "Feature" === t.type ? t.geometry : t; if ("GeometryCollection" === s.type) { var a = []; return O(t, (function (t) { var e = lo(t, n, i, r); e && a.push(e) })), l(a) } var u, c = z(t), h = c[1] > 50 && c[3] > 50; u = h ? { type: s.type, coordinates: co(s.coordinates, po(s)) } : Qe(s); var p, f = (new nc).read(u), d = g(y(n, i), "meters"), m = Xh.bufferOp(f, d); if (!function t(e) { return Array.isArray(e[0]) ? t(e[0]) : isNaN(e[0]) }((m = (new ic).write(m)).coordinates)) return (p = h ? { type: m.type, coordinates: ho(m.coordinates, po(s)) } : tn(m)).geometry ? p : e(p, o) } function co(t, e) { return "object" != typeof t[0] ? e(t) : t.map((function (t) { return co(t, e) })) } function ho(t, e) { return "object" != typeof t[0] ? e.invert(t) : t.map((function (t) { return ho(t, e) })) } function po(t) { var e = le(t).geometry.coordinates.reverse(), n = e.map((function (t) { return -t })); return rd().center(e).rotate(n).scale(xo) } function fo() { for (var t = new nc, e = t.read(JSON.stringify(arguments[0].geometry)), n = 1; n < arguments.length; n++)e = df.union(e, t.read(JSON.stringify(arguments[n].geometry))); return { type: "Feature", geometry: e = (new ic).write(e), properties: arguments[0].properties } } function go(t, n) { var i = W(t), r = W(n); if (Wt(bn(r, { precision: 4 })).coordinates[0].length < 4) return null; if (Wt(bn(i, { precision: 4 })).coordinates[0].length < 4) return null; var o = new nc, s = o.read(bn(i)), a = o.read(bn(r)), u = of.intersection(s, a); return u.isEmpty() ? null : e((new ic).write(u)) } function yo(t, e) { return function (t, e, n) { var i, r; if (!Array.isArray(e)) throw new Error("Get closest expects an array as second argument"); return e.forEach((function (e, n) { var o = function (t, e) { return t - e }(e, t); o >= 0 && (void 0 === r || o < r) && (r = o, i = n) })), i }(t, e) } function mo(t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var i = n.properties || {}, r = n.triangles, s = n.mask; if (null == e) throw new Error("cellSide is required"); if (!E(e)) throw new Error("cellSide is invalid"); if (!t) throw new Error("bbox is required"); if (!Array.isArray(t)) throw new Error("bbox must be array"); if (4 !== t.length) throw new Error("bbox must contain 4 numbers"); if (s && -1 === ["Polygon", "MultiPolygon"].indexOf(Z(s))) throw new Error("options.mask must be a (Multi)Polygon"); var a = t[0], u = t[1], c = t[2], h = t[3], p = (u + h) / 2, f = (a + c) / 2, d = 2 * e / kt([a, p], [c, p], n) * (c - a), g = 2 * e / kt([f, u], [f, h], n) * (h - u), y = d / 2, m = 2 * y, v = Math.sqrt(3) / 2 * g, _ = c - a, b = h - u, w = .75 * m, x = v, D = (_ - m) / (m - y / 2), S = Math.floor(D), T = (S * w - y / 2 - _) / 2 - y / 2 + w / 2, I = Math.floor((b - v) / v), N = (b - I * v) / 2, P = I * v - b > v / 2; P && (N -= v / 4); for (var A = [], M = [], L = 0; L < 6; L++) { var O = 2 * Math.PI / 6 * L; A.push(Math.cos(O)), M.push(Math.sin(O)) } for (var k = [], F = 0; F <= S; F++)for (var R = 0; R <= I; R++) { var q = F % 2 == 1; if (!(0 === R && q || 0 === R && P)) { var j = F * w + a - T, B = R * x + u + N; if (q && (B -= v / 2), !0 === r) (function (t, e, n, i, r, s) { for (var a = [], u = 0; u < 6; u++) { var l = []; l.push(t), l.push([t[0] + e * r[u], t[1] + n * s[u]]), l.push([t[0] + e * r[(u + 1) % 6], t[1] + n * s[(u + 1) % 6]]), l.push(t), a.push(o([l], i)) } return a })([j, B], d / 2, g / 2, i, A, M).forEach((function (t) { s ? go(s, t) && k.push(t) : k.push(t) })); else { var $ = function (t, e, n, i, r, s) { for (var a = [], u = 0; u < 6; u++) { var l = t[0] + e * r[u], c = t[1] + n * s[u]; a.push([l, c]) } return a.push(a[0].slice()), o([a], i) }([j, B], d / 2, g / 2, i, A, M); s ? go(s, $) && k.push($) : k.push($) } } } return l(k) } function vo(t) { if (t.features.length <= 1) return t; var e = function (t) { var e = Mo(), n = []; return F(t, (function (t, e) { var i = z(t); n.push({ minX: i[0], minY: i[1], maxX: i[2], maxY: i[3], geojson: t, index: e }) })), e.load(n), e }(t), n = [], i = {}; return F(t, (function (t, r) { if (i[r]) return !0; for (e.remove({ index: r }, _o), i[r] = !0; ;) { var o = z(t), s = e.search({ minX: o[0], minY: o[1], maxX: o[2], maxY: o[3] }); if (s.length > 0) { var a = s.map((function (t) { return i[t.index] = !0, e.remove({ index: t.index }, _o), t.geojson })); a.push(t), t = fo.apply(this, a) } if (0 === s.length) break } n.push(t) })), l(n) } function _o(t, e) { return t.index === e.index } function bo(t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var i = n.properties, r = n.mask, s = []; if (null == e) throw new Error("cellSide is required"); if (!E(e)) throw new Error("cellSide is invalid"); if (!t) throw new Error("bbox is required"); if (!Array.isArray(t)) throw new Error("bbox must be array"); if (4 !== t.length) throw new Error("bbox must contain 4 numbers"); if (r && -1 === ["Polygon", "MultiPolygon"].indexOf(Z(r))) throw new Error("options.mask must be a (Multi)Polygon"); for (var a = t[0], u = t[1], c = t[2], h = t[3], p = e / kt([a, u], [c, u], n) * (c - a), f = e / kt([a, u], [a, h], n) * (h - u), d = c - a, g = h - u, y = Math.floor(d / p), m = Math.floor(g / f), v = (g - m * f) / 2, _ = a + (d - y * p) / 2, b = 0; b < y; b++) { for (var w = u + v, x = 0; x < m; x++) { var D = o([[[_, w], [_, w + f], [_ + p, w + f], [_ + p, w], [_, w]]], i); r ? go(r, D) && s.push(D) : s.push(D), w += f } _ += p } return l(s) } function wo(t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var i = n.properties, r = n.mask, s = []; if (null == e) throw new Error("cellSide is required"); if (!E(e)) throw new Error("cellSide is invalid"); if (!t) throw new Error("bbox is required"); if (!Array.isArray(t)) throw new Error("bbox must be array"); if (4 !== t.length) throw new Error("bbox must contain 4 numbers"); if (r && -1 === ["Polygon", "MultiPolygon"].indexOf(Z(r))) throw new Error("options.mask must be a (Multi)Polygon"); for (var a = e / kt([t[0], t[1]], [t[2], t[1]], n) * (t[2] - t[0]), u = e / kt([t[0], t[1]], [t[0], t[3]], n) * (t[3] - t[1]), c = 0, h = t[0]; h <= t[2];) { for (var p = 0, f = t[1]; f <= t[3];) { var d = null, g = null; c % 2 == 0 && p % 2 == 0 ? (d = o([[[h, f], [h, f + u], [h + a, f], [h, f]]], i), g = o([[[h, f + u], [h + a, f + u], [h + a, f], [h, f + u]]], i)) : c % 2 == 0 && p % 2 == 1 ? (d = o([[[h, f], [h + a, f + u], [h + a, f], [h, f]]], i), g = o([[[h, f], [h, f + u], [h + a, f + u], [h, f]]], i)) : p % 2 == 0 && c % 2 == 1 ? (d = o([[[h, f], [h, f + u], [h + a, f + u], [h, f]]], i), g = o([[[h, f], [h + a, f + u], [h + a, f], [h, f]]], i)) : p % 2 == 1 && c % 2 == 1 && (d = o([[[h, f], [h, f + u], [h + a, f], [h, f]]], i), g = o([[[h, f + u], [h + a, f + u], [h + a, f], [h, f + u]]], i)), r ? (go(r, d) && s.push(d), go(r, g) && s.push(g)) : (s.push(d), s.push(g)), f += u, p++ } c++, h += a } return l(s) } var xo = 6371008.8, Eo = { meters: xo, metres: xo, millimeters: 1e3 * xo, millimetres: 1e3 * xo, centimeters: 100 * xo, centimetres: 100 * xo, kilometers: xo / 1e3, kilometres: xo / 1e3, miles: xo / 1609.344, nauticalmiles: xo / 1852, inches: 39.37 * xo, yards: xo / 1.0936, feet: 3.28084 * xo, radians: 1, degrees: xo / 111325 }, Co = { meters: 1, metres: 1, millimeters: 1e3, millimetres: 1e3, centimeters: 100, centimetres: 100, kilometers: .001, kilometres: .001, miles: 1 / 1609.344, nauticalmiles: 1 / 1852, inches: 39.37, yards: 1 / 1.0936, feet: 3.28084, radians: 1 / xo, degrees: 1 / 111325 }, Do = { meters: 1, metres: 1, millimeters: 1e6, millimetres: 1e6, centimeters: 1e4, centimetres: 1e4, kilometers: 1e-6, kilometres: 1e-6, acres: 247105e-9, miles: 386e-9, yards: 1.195990046, feet: 10.763910417, inches: 1550.003100006 }, So = Object.freeze({ earthRadius: xo, factors: Eo, unitsFactors: Co, areaFactors: Do, feature: e, geometry: n, point: i, points: r, polygon: o, polygons: s, lineString: a, lineStrings: u, featureCollection: l, multiLineString: c, multiPoint: h, multiPolygon: p, geometryCollection: f, round: d, radiansToLength: g, lengthToRadians: y, lengthToDegrees: m, bearingToAzimuth: v, radiansToDegrees: _, degreesToRadians: b, convertLength: w, convertArea: x, isNumber: E, isObject: C, validateBBox: D, validateId: S, radians2degrees: function () { throw new Error("method has been renamed to `radiansToDegrees`") }, degrees2radians: function () { throw new Error("method has been renamed to `degreesToRadians`") }, distanceToDegrees: function () { throw new Error("method has been renamed to `lengthToDegrees`") }, distanceToRadians: function () { throw new Error("method has been renamed to `lengthToRadians`") }, radiansToDistance: function () { throw new Error("method has been renamed to `radiansToLength`") }, bearingToAngle: function () { throw new Error("method has been renamed to `bearingToAzimuth`") }, convertDistance: function () { throw new Error("method has been renamed to `convertLength`") } }), To = Object.freeze({ coordEach: T, coordReduce: I, propEach: N, propReduce: P, featureEach: A, featureReduce: M, coordAll: L, geomEach: O, geomReduce: k, flattenEach: F, flattenReduce: R, segmentEach: q, segmentReduce: j, lineEach: B, lineReduce: $ }), Io = Object.freeze({ getCoord: V, getCoords: U, containsNumber: H, geojsonType: G, featureOf: X, collectionOf: Y, getGeom: W, getGeomType: J, getType: Z }), No = { successCallback: null, verbose: !1 }, Po = {}, Ao = function t(e, n, i, r, o) { for (i = i || 0, r = r || e.length - 1, o = o || function (t, e) { return t < e ? -1 : t > e ? 1 : 0 }; r > i;) { if (r - i > 600) { var s = r - i + 1, a = n - i + 1, u = Math.log(s), l = .5 * Math.exp(2 * u / 3), c = .5 * Math.sqrt(u * l * (s - l) / s) * (a - s / 2 < 0 ? -1 : 1); t(e, n, Math.max(i, Math.floor(n - a * l / s + c)), Math.min(r, Math.floor(n + (s - a) * l / s + c)), o) } var h = e[n], p = i, f = r; for (it(e, i, n), o(e[r], h) > 0 && it(e, i, r); p < f;) { for (it(e, p, f), p++, f--; o(e[p], h) < 0;)p++; for (; o(e[f], h) > 0;)f-- } 0 === o(e[i], h) ? it(e, i, f) : it(e, ++f, r), f <= n && (i = f + 1), n <= f && (r = f - 1) } }, Mo = rt; rt.prototype = { all: function () { return this._all(this.data, []) }, search: function (t) { var e = this.data, n = [], i = this.toBBox; if (!ft(t, e)) return n; for (var r, o, s, a, u = []; e;) { for (r = 0, o = e.children.length; r < o; r++)s = e.children[r], ft(t, a = e.leaf ? i(s) : s) && (e.leaf ? n.push(s) : pt(t, a) ? this._all(s, n) : u.push(s)); e = u.pop() } return n }, collides: function (t) { var e = this.data, n = this.toBBox; if (!ft(t, e)) return !1; for (var i, r, o, s, a = []; e;) { for (i = 0, r = e.children.length; i < r; i++)if (o = e.children[i], ft(t, s = e.leaf ? n(o) : o)) { if (e.leaf || pt(t, s)) return !0; a.push(o) } e = a.pop() } return !1 }, load: function (t) { if (!t || !t.length) return this; if (t.length < this._minEntries) { for (var e = 0, n = t.length; e < n; e++)this.insert(t[e]); return this } var i = this._build(t.slice(), 0, t.length - 1, 0); if (this.data.children.length) if (this.data.height === i.height) this._splitRoot(this.data, i); else { if (this.data.height < i.height) { var r = this.data; this.data = i, i = r } this._insert(i, this.data.height - i.height - 1, !0) } else this.data = i; return this }, insert: function (t) { return t && this._insert(t, this.data.height - 1), this }, clear: function () { return this.data = dt([]), this }, remove: function (t, e) { if (!t) return this; for (var n, i, r, o, s = this.data, a = this.toBBox(t), u = [], l = []; s || u.length;) { if (s || (s = u.pop(), i = u[u.length - 1], n = l.pop(), o = !0), s.leaf && -1 !== (r = function (t, e, n) { if (!n) return e.indexOf(t); for (var i = 0; i < e.length; i++)if (n(t, e[i])) return i; return -1 }(t, s.children, e))) return s.children.splice(r, 1), u.push(s), this._condense(u), this; o || s.leaf || !pt(s, a) ? i ? (n++, s = i.children[n], o = !1) : s = null : (u.push(s), l.push(n), n = 0, i = s, s = s.children[0]) } return this }, toBBox: function (t) { return t }, compareMinX: ut, compareMinY: lt, toJSON: function () { return this.data }, fromJSON: function (t) { return this.data = t, this }, _all: function (t, e) { for (var n = []; t;)t.leaf ? e.push.apply(e, t.children) : n.push.apply(n, t.children), t = n.pop(); return e }, _build: function (t, e, n, i) { var r, o = n - e + 1, s = this._maxEntries; if (o <= s) return ot(r = dt(t.slice(e, n + 1)), this.toBBox), r; i || (i = Math.ceil(Math.log(o) / Math.log(s)), s = Math.ceil(o / Math.pow(s, i - 1))), (r = dt([])).leaf = !1, r.height = i; var a, u, l, c, h = Math.ceil(o / s), p = h * Math.ceil(Math.sqrt(s)); for (gt(t, e, n, p, this.compareMinX), a = e; a <= n; a += p)for (gt(t, a, l = Math.min(a + p - 1, n), h, this.compareMinY), u = a; u <= l; u += h)c = Math.min(u + h - 1, l), r.children.push(this._build(t, u, c, i - 1)); return ot(r, this.toBBox), r }, _chooseSubtree: function (t, e, n, i) { for (var r, o, s, a, u, l, c, h; i.push(e), !e.leaf && i.length - 1 !== n;) { for (c = h = 1 / 0, r = 0, o = e.children.length; r < o; r++)u = ct(s = e.children[r]), (l = function (t, e) { return (Math.max(e.maxX, t.maxX) - Math.min(e.minX, t.minX)) * (Math.max(e.maxY, t.maxY) - Math.min(e.minY, t.minY)) }(t, s) - u) < h ? (h = l, c = u < c ? u : c, a = s) : l === h && u < c && (c = u, a = s); e = a || e.children[0] } return e }, _insert: function (t, e, n) { var i = this.toBBox, r = n ? t : i(t), o = [], s = this._chooseSubtree(r, this.data, e, o); for (s.children.push(t), at(s, r); e >= 0 && o[e].children.length > this._maxEntries;)this._split(o, e), e--; this._adjustParentBBoxes(r, o, e) }, _split: function (t, e) { var n = t[e], i = n.children.length, r = this._minEntries; this._chooseSplitAxis(n, r, i); var o = this._chooseSplitIndex(n, r, i), s = dt(n.children.splice(o, n.children.length - o)); s.height = n.height, s.leaf = n.leaf, ot(n, this.toBBox), ot(s, this.toBBox), e ? t[e - 1].children.push(s) : this._splitRoot(n, s) }, _splitRoot: function (t, e) { this.data = dt([t, e]), this.data.height = t.height + 1, this.data.leaf = !1, ot(this.data, this.toBBox) }, _chooseSplitIndex: function (t, e, n) { var i, r, o, s, a, u, l, c; for (u = l = 1 / 0, i = e; i <= n - e; i++)s = function (t, e) { var n = Math.max(t.minX, e.minX), i = Math.max(t.minY, e.minY), r = Math.min(t.maxX, e.maxX), o = Math.min(t.maxY, e.maxY); return Math.max(0, r - n) * Math.max(0, o - i) }(r = st(t, 0, i, this.toBBox), o = st(t, i, n, this.toBBox)), a = ct(r) + ct(o), s < u ? (u = s, c = i, l = a < l ? a : l) : s === u && a < l && (l = a, c = i); return c }, _chooseSplitAxis: function (t, e, n) { var i = t.leaf ? this.compareMinX : ut, r = t.leaf ? this.compareMinY : lt; this._allDistMargin(t, e, n, i) < this._allDistMargin(t, e, n, r) && t.children.sort(i) }, _allDistMargin: function (t, e, n, i) { t.children.sort(i); var r, o, s = this.toBBox, a = st(t, 0, e, s), u = st(t, n - e, n, s), l = ht(a) + ht(u); for (r = e; r < n - e; r++)o = t.children[r], at(a, t.leaf ? s(o) : o), l += ht(a); for (r = n - e - 1; r >= e; r--)o = t.children[r], at(u, t.leaf ? s(o) : o), l += ht(u); return l }, _adjustParentBBoxes: function (t, e, n) { for (var i = n; i >= 0; i--)at(e[i], t) }, _condense: function (t) { for (var e, n = t.length - 1; n >= 0; n--)0 === t[n].children.length ? n > 0 ? (e = t[n - 1].children).splice(e.indexOf(t[n]), 1) : this.clear() : ot(t[n], this.toBBox) }, _initFormat: function (t) { var e = ["return a", " - b", ";"]; this.compareMinX = new Function("a", "b", e.join(t[0])), this.compareMinY = new Function("a", "b", e.join(t[1])), this.toBBox = new Function("a", "return {minX: a" + t[0] + ", minY: a" + t[1] + ", maxX: a" + t[2] + ", maxY: a" + t[3] + "};") } }; var Lo = function (t, e, n) { var i = t * e, r = Oo * t, o = r - (r - t), s = t - o, a = Oo * e, u = a - (a - e), l = e - u, c = s * l - (i - o * u - s * u - o * l); return n ? (n[0] = c, n[1] = i, n) : [c, i] }, Oo = +(Math.pow(2, 27) + 1), ko = function (t, e) { var n = 0 | t.length, i = 0 | e.length; if (1 === n && 1 === i) return function (t, e) { var n = t + e, i = n - t, r = t - (n - i) + (e - i); return r ? [r, n] : [n] }(t[0], e[0]); var r, o, s = new Array(n + i), a = 0, u = 0, l = 0, c = Math.abs, h = t[u], p = c(h), f = e[l], d = c(f); p < d ? (o = h, (u += 1) < n && (p = c(h = t[u]))) : (o = f, (l += 1) < i && (d = c(f = e[l]))), u < n && p < d || l >= i ? (r = h, (u += 1) < n && (p = c(h = t[u]))) : (r = f, (l += 1) < i && (d = c(f = e[l]))); for (var g, y, m = r + o, v = m - r, _ = o - v, b = _, w = m; u < n && l < i;)p < d ? (r = h, (u += 1) < n && (p = c(h = t[u]))) : (r = f, (l += 1) < i && (d = c(f = e[l]))), (_ = (o = b) - (v = (m = r + o) - r)) && (s[a++] = _), b = w - ((g = w + m) - (y = g - w)) + (m - y), w = g; for (; u < n;)(_ = (o = b) - (v = (m = (r = h) + o) - r)) && (s[a++] = _), b = w - ((g = w + m) - (y = g - w)) + (m - y), w = g, (u += 1) < n && (h = t[u]); for (; l < i;)(_ = (o = b) - (v = (m = (r = f) + o) - r)) && (s[a++] = _), b = w - ((g = w + m) - (y = g - w)) + (m - y), w = g, (l += 1) < i && (f = e[l]); return b && (s[a++] = b), w && (s[a++] = w), a || (s[a++] = 0), s.length = a, s }, Fo = function (t, e, n) { var i = t + e, r = i - t, o = e - r, s = t - (i - r); return n ? (n[0] = s + o, n[1] = i, n) : [s + o, i] }, Ro = function (t, e) { var n = t.length; if (1 === n) { var i = Lo(t[0], e); return i[0] ? i : [i[1]] } var r = new Array(2 * n), o = [.1, .1], s = [.1, .1], a = 0; Lo(t[0], e, o), o[0] && (r[a++] = o[0]); for (var u = 1; u < n; ++u) { Lo(t[u], e, s); var l = o[1]; Fo(l, s[0], o), o[0] && (r[a++] = o[0]); var c = s[1], h = o[1], p = c + h, f = h - (p - c); o[1] = p, f && (r[a++] = f) } return o[1] && (r[a++] = o[1]), 0 === a && (r[a++] = 0), r.length = a, r }, qo = function (t, e) { var n = 0 | t.length, i = 0 | e.length; if (1 === n && 1 === i) return function (t, e) { var n = t + e, i = n - t, r = t - (n - i) + (e - i); return r ? [r, n] : [n] }(t[0], -e[0]); var r, o, s = new Array(n + i), a = 0, u = 0, l = 0, c = Math.abs, h = t[u], p = c(h), f = -e[l], d = c(f); p < d ? (o = h, (u += 1) < n && (p = c(h = t[u]))) : (o = f, (l += 1) < i && (d = c(f = -e[l]))), u < n && p < d || l >= i ? (r = h, (u += 1) < n && (p = c(h = t[u]))) : (r = f, (l += 1) < i && (d = c(f = -e[l]))); for (var g, y, m = r + o, v = m - r, _ = o - v, b = _, w = m; u < n && l < i;)p < d ? (r = h, (u += 1) < n && (p = c(h = t[u]))) : (r = f, (l += 1) < i && (d = c(f = -e[l]))), (_ = (o = b) - (v = (m = r + o) - r)) && (s[a++] = _), b = w - ((g = w + m) - (y = g - w)) + (m - y), w = g; for (; u < n;)(_ = (o = b) - (v = (m = (r = h) + o) - r)) && (s[a++] = _), b = w - ((g = w + m) - (y = g - w)) + (m - y), w = g, (u += 1) < n && (h = t[u]); for (; l < i;)(_ = (o = b) - (v = (m = (r = f) + o) - r)) && (s[a++] = _), b = w - ((g = w + m) - (y = g - w)) + (m - y), w = g, (l += 1) < i && (f = -e[l]); return b && (s[a++] = b), w && (s[a++] = w), a || (s[a++] = 0), s.length = a, s }, jo = yt((function (t) { function e(t, e) { for (var n = new Array(t.length - 1), i = 1; i < t.length; ++i)for (var r = n[i - 1] = new Array(t.length - 1), o = 0, s = 0; o < t.length; ++o)o !== e && (r[s++] = t[i][o]); return n } function n(t) { return 1 & t ? "-" : "" } function i(t) { if (1 === t.length) return t[0]; if (2 === t.length) return ["sum(", t[0], ",", t[1], ")"].join(""); var e = t.length >> 1; return ["sum(", i(t.slice(0, e)), ",", i(t.slice(e)), ")"].join("") } function r(t) { if (2 === t.length) return [["sum(prod(", t[0][0], ",", t[1][1], "),prod(-", t[0][1], ",", t[1][0], "))"].join("")]; for (var o = [], s = 0; s < t.length; ++s)o.push(["scale(", i(r(e(t, s))), ",", n(s), t[0][s], ")"].join("")); return o } function o(t) { for (var n = [], o = [], s = function (t) { for (var e = new Array(t), n = 0; n < t; ++n) { e[n] = new Array(t); for (var i = 0; i < t; ++i)e[n][i] = ["m", i, "[", t - n - 1, "]"].join("") } return e }(t), a = [], u = 0; u < t; ++u)0 == (1 & u) ? n.push.apply(n, r(e(s, u))) : o.push.apply(o, r(e(s, u))), a.push("m" + u); var l = i(n), c = i(o), h = "orientation" + t + "Exact", p = ["function ", h, "(", a.join(), "){var p=", l, ",n=", c, ",d=sub(p,n);return d[d.length-1];};return ", h].join(""); return new Function("sum", "prod", "scale", "sub", p)(ko, Lo, Ro, qo) } var s = o(3), a = o(4), u = [function () { return 0 }, function () { return 0 }, function (t, e) { return e[0] - t[0] }, function (t, e, n) { var i, r = (t[1] - n[1]) * (e[0] - n[0]), o = (t[0] - n[0]) * (e[1] - n[1]), a = r - o; if (r > 0) { if (o <= 0) return a; i = r + o } else { if (!(r < 0)) return a; if (o >= 0) return a; i = -(r + o) } var u = 33306690738754716e-32 * i; return a >= u || a <= -u ? a : s(t, e, n) }, function (t, e, n, i) { var r = t[0] - i[0], o = e[0] - i[0], s = n[0] - i[0], u = t[1] - i[1], l = e[1] - i[1], c = n[1] - i[1], h = t[2] - i[2], p = e[2] - i[2], f = n[2] - i[2], d = o * c, g = s * l, y = s * u, m = r * c, v = r * l, _ = o * u, b = h * (d - g) + p * (y - m) + f * (v - _), w = 7771561172376103e-31 * ((Math.abs(d) + Math.abs(g)) * Math.abs(h) + (Math.abs(y) + Math.abs(m)) * Math.abs(p) + (Math.abs(v) + Math.abs(_)) * Math.abs(f)); return b > w || -b > w ? b : a(t, e, n, i) }]; !function () { for (; u.length <= 5;)u.push(o(u.length)); for (var e = [], n = ["slow"], i = 0; i <= 5; ++i)e.push("a" + i), n.push("o" + i); var r = ["function getOrientation(", e.join(), "){switch(arguments.length){case 0:case 1:return 0;"]; for (i = 2; i <= 5; ++i)r.push("case ", i, ":return o", i, "(", e.slice(0, i).join(), ");"); r.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"), n.push(r.join("")); var s = Function.apply(void 0, n); for (t.exports = s.apply(void 0, [function (t) { var e = u[t.length]; return e || (e = u[t.length] = o(t.length)), e.apply(void 0, t) }].concat(u)), i = 0; i <= 5; ++i)t.exports[i] = u[i] }() })), Bo = function (t) { var e = t.length; if (e < 3) { for (var n = new Array(e), i = 0; i < e; ++i)n[i] = i; return 2 === e && t[0][0] === t[1][0] && t[0][1] === t[1][1] ? [0] : n } var r = new Array(e); for (i = 0; i < e; ++i)r[i] = i; r.sort((function (e, n) { return t[e][0] - t[n][0] || t[e][1] - t[n][1] })); var o = [r[0], r[1]], s = [r[0], r[1]]; for (i = 2; i < e; ++i) { for (var a = r[i], u = t[a], l = o.length; l > 1 && $o(t[o[l - 2]], t[o[l - 1]], u) <= 0;)l -= 1, o.pop(); for (o.push(a), l = s.length; l > 1 && $o(t[s[l - 2]], t[s[l - 1]], u) >= 0;)l -= 1, s.pop(); s.push(a) } n = new Array(s.length + o.length - 2); for (var c = 0, h = (i = 0, o.length); i < h; ++i)n[c++] = o[i]; for (var p = s.length - 2; p > 0; --p)n[c++] = s[p]; return n }, $o = jo[3], zo = mt, Vo = mt; mt.prototype = { push: function (t) { this.data.push(t), this.length++, this._up(this.length - 1) }, pop: function () { if (0 !== this.length) { var t = this.data[0]; return this.length--, this.length > 0 && (this.data[0] = this.data[this.length], this._down(0)), this.data.pop(), t } }, peek: function () { return this.data[0] }, _up: function (t) { for (var e = this.data, n = this.compare, i = e[t]; t > 0;) { var r = t - 1 >> 1, o = e[r]; if (n(i, o) >= 0) break; e[t] = o, t = r } e[t] = i }, _down: function (t) { for (var e = this.data, n = this.compare, i = this.length >> 1, r = e[t]; t < i;) { var o = 1 + (t << 1), s = o + 1, a = e[o]; if (s < this.length && n(e[s], a) < 0 && (o = s, a = e[s]), n(a, r) >= 0) break; e[t] = a, t = o } e[t] = r } }, zo.default = Vo; var Uo = function (t, e) { for (var n = t[0], i = t[1], r = !1, o = 0, s = e.length - 1; o < e.length; s = o++) { var a = e[o][0], u = e[o][1], l = e[s][0], c = e[s][1]; u > i != c > i && n < (l - a) * (i - u) / (c - u) + a && (r = !r) } return r }, Ho = jo[3], Go = vt, Xo = vt; Go.default = Xo; var Yo = function (t) { return t }, Wo = function (t) { if (null == t) return Yo; var e, n, i = t.scale[0], r = t.scale[1], o = t.translate[0], s = t.translate[1]; return function (t, a) { a || (e = n = 0); var u = 2, l = t.length, c = new Array(l); for (c[0] = (e += t[0]) * i + o, c[1] = (n += t[1]) * r + s; u < l;)c[u] = t[u], ++u; return c } }, Jo = function (t, e) { for (var n, i = t.length, r = i - e; r < --i;)n = t[r], t[r++] = t[i], t[i] = n }, Zo = function (t, e) { function n(t, e) { for (var n in t) { var r = t[n]; delete e[r.start], delete r.start, delete r.end, r.forEach((function (t) { i[t < 0 ? ~t : t] = 1 })), s.push(r) } } var i = {}, r = {}, o = {}, s = [], a = -1; return e.forEach((function (n, i) { var r, o = t.arcs[n < 0 ? ~n : n]; o.length < 3 && !o[1][0] && !o[1][1] && (r = e[++a], e[a] = n, e[i] = r) })), e.forEach((function (e) { var n, i, s = function (e) { var n, i = t.arcs[e < 0 ? ~e : e], r = i[0]; return t.transform ? (n = [0, 0], i.forEach((function (t) { n[0] += t[0], n[1] += t[1] }))) : n = i[i.length - 1], e < 0 ? [n, r] : [r, n] }(e), a = s[0], u = s[1]; if (n = o[a]) if (delete o[n.end], n.push(e), n.end = u, i = r[u]) { delete r[i.start]; var l = i === n ? n : n.concat(i); r[l.start = n.start] = o[l.end = i.end] = l } else r[n.start] = o[n.end] = n; else if (n = r[u]) if (delete r[n.start], n.unshift(e), n.start = a, i = o[a]) { delete o[i.end]; var c = i === n ? n : i.concat(n); r[c.start = i.start] = o[c.end = n.end] = c } else r[n.start] = o[n.end] = n; else r[(n = [e]).start = a] = o[n.end = u] = n })), n(o, r), n(r, o), e.forEach((function (t) { i[t < 0 ? ~t : t] || s.push([t]) })), s }, Ko = function (t) { return jt(t, Bt.apply(this, arguments)) }, Qo = function (t, e, n, i, r, o) { 3 === arguments.length && (i = o = Array, r = null); for (var s = new i(t = 1 << Math.max(4, Math.ceil(Math.log(t) / Math.LN2))), a = new o(t), u = t - 1, l = 0; l < t; ++l)s[l] = r; return { set: function (i, o) { for (var l = e(i) & u, c = s[l], h = 0; c != r;) { if (n(c, i)) return a[l] = o; if (++h >= t) throw new Error("full hashmap"); c = s[l = l + 1 & u] } return s[l] = i, a[l] = o, o }, maybeSet: function (i, o) { for (var l = e(i) & u, c = s[l], h = 0; c != r;) { if (n(c, i)) return a[l]; if (++h >= t) throw new Error("full hashmap"); c = s[l = l + 1 & u] } return s[l] = i, a[l] = o, o }, get: function (i, o) { for (var l = e(i) & u, c = s[l], h = 0; c != r;) { if (n(c, i)) return a[l]; if (++h >= t) break; c = s[l = l + 1 & u] } return o }, keys: function () { for (var t = [], e = 0, n = s.length; e < n; ++e) { var i = s[e]; i != r && t.push(i) } return t } } }, ts = function (t, e) { return t[0] === e[0] && t[1] === e[1] }, es = new ArrayBuffer(16), ns = new Float64Array(es), is = new Uint32Array(es), rs = function (t) { ns[0] = t[0], ns[1] = t[1]; var e = is[0] ^ is[1]; return 2147483647 & (e << 5 ^ e >> 7 ^ is[2] ^ is[3]) }, os = function (t) { var e, n, i, r = function (t) { function e(t, e, n, i) { if (p[n] !== t) { p[n] = t; var r = f[n]; if (r >= 0) { var o = d[n]; r === e && o === i || r === i && o === e || (++y, g[n] = 1) } else f[n] = e, d[n] = i } } function n(t) { return rs(u[t]) } function i(t, e) { return ts(u[t], u[e]) } var r, o, s, a, u = t.coordinates, l = t.lines, c = t.rings, h = function () { for (var t = Qo(1.4 * u.length, n, i, Int32Array, -1, Int32Array), e = new Int32Array(u.length), r = 0, o = u.length; r < o; ++r)e[r] = t.maybeSet(r, r); return e }(), p = new Int32Array(u.length), f = new Int32Array(u.length), d = new Int32Array(u.length), g = new Int8Array(u.length), y = 0; for (r = 0, o = u.length; r < o; ++r)p[r] = f[r] = d[r] = -1; for (r = 0, o = l.length; r < o; ++r) { var m = l[r], v = m[0], _ = m[1]; for (s = h[v], a = h[++v], ++y, g[s] = 1; ++v <= _;)e(r, s, s = a, a = h[v]); ++y, g[a] = 1 } for (r = 0, o = u.length; r < o; ++r)p[r] = -1; for (r = 0, o = c.length; r < o; ++r) { var b = c[r], w = b[0] + 1, x = b[1]; for (e(r, h[x - 1], s = h[w - 1], a = h[w]); ++w <= x;)e(r, s, s = a, a = h[w]) } p = f = d = null; var E, C = function (t, e, n, i, r) { 3 === arguments.length && (i = Array, r = null); for (var o = new i(t = 1 << Math.max(4, Math.ceil(Math.log(t) / Math.LN2))), s = t - 1, a = 0; a < t; ++a)o[a] = r; return { add: function (i) { for (var a = e(i) & s, u = o[a], l = 0; u != r;) { if (n(u, i)) return !0; if (++l >= t) throw new Error("full hashset"); u = o[a = a + 1 & s] } return o[a] = i, !0 }, has: function (i) { for (var a = e(i) & s, u = o[a], l = 0; u != r;) { if (n(u, i)) return !0; if (++l >= t) break; u = o[a = a + 1 & s] } return !1 }, values: function () { for (var t = [], e = 0, n = o.length; e < n; ++e) { var i = o[e]; i != r && t.push(i) } return t } } }(1.4 * y, rs, ts); for (r = 0, o = u.length; r < o; ++r)g[E = h[r]] && C.add(u[E]); return C }(t), o = t.coordinates, s = t.lines, a = t.rings; for (n = 0, i = s.length; n < i; ++n)for (var u = s[n], l = u[0], c = u[1]; ++l < c;)r.has(o[l]) && (e = { 0: l, 1: u[1] }, u[1] = l, u = u.next = e); for (n = 0, i = a.length; n < i; ++n)for (var h = a[n], p = h[0], f = p, d = h[1], g = r.has(o[p]); ++f < d;)r.has(o[f]) && (g ? (e = { 0: f, 1: h[1] }, h[1] = f, h = h.next = e) : (function (t, e, n, i) { $t(t, e, n), $t(t, e, e + i), $t(t, e + i, n) }(o, p, d, d - f), o[d] = o[p], g = !0, f = p)); return t }, ss = function (t, e) { function n(t) { t && c.hasOwnProperty(t.type) && c[t.type](t) } function i(t) { var e = []; do { var n = l.get(t); e.push(t[0] < t[1] ? n : ~n) } while (t = t.next); return e } function r(t) { return t.map(i) } var o = function (t) { function e(t) { null != t && l.hasOwnProperty(t.type) && l[t.type](t) } function n(t) { var e = t[0], n = t[1]; e < o && (o = e), e > a && (a = e), n < s && (s = n), n > u && (u = n) } function i(t) { t.forEach(n) } function r(t) { t.forEach(i) } var o = 1 / 0, s = 1 / 0, a = -1 / 0, u = -1 / 0, l = { GeometryCollection: function (t) { t.geometries.forEach(e) }, Point: function (t) { n(t.coordinates) }, MultiPoint: function (t) { t.coordinates.forEach(n) }, LineString: function (t) { i(t.arcs) }, MultiLineString: function (t) { t.arcs.forEach(i) }, Polygon: function (t) { t.arcs.forEach(i) }, MultiPolygon: function (t) { t.arcs.forEach(r) } }; for (var c in t) e(t[c]); return a >= o && u >= s ? [o, s, a, u] : void 0 }(t = function (t) { var e, n = {}; for (e in t) n[e] = zt(t[e]); return n }(t)), s = e > 0 && o && function (t, e, n) { function i(t) { return [Math.round((t[0] - l) * f), Math.round((t[1] - c) * d)] } function r(t, e) { for (var n, i, r, o, s, a = -1, u = 0, h = t.length, p = new Array(h); ++a < h;)n = t[a], o = Math.round((n[0] - l) * f), s = Math.round((n[1] - c) * d), o === i && s === r || (p[u++] = [i = o, r = s]); for (p.length = u; u < e;)u = p.push([p[0][0], p[0][1]]); return p } function o(t) { return r(t, 2) } function s(t) { return r(t, 4) } function a(t) { return t.map(s) } function u(t) { null != t && g.hasOwnProperty(t.type) && g[t.type](t) } var l = e[0], c = e[1], h = e[2], p = e[3], f = h - l ? (n - 1) / (h - l) : 1, d = p - c ? (n - 1) / (p - c) : 1, g = { GeometryCollection: function (t) { t.geometries.forEach(u) }, Point: function (t) { t.coordinates = i(t.coordinates) }, MultiPoint: function (t) { t.coordinates = t.coordinates.map(i) }, LineString: function (t) { t.arcs = o(t.arcs) }, MultiLineString: function (t) { t.arcs = t.arcs.map(o) }, Polygon: function (t) { t.arcs = a(t.arcs) }, MultiPolygon: function (t) { t.arcs = t.arcs.map(a) } }; for (var y in t) u(t[y]); return { scale: [1 / f, 1 / d], translate: [l, c] } }(t, o, e), a = function (t) { function e(t) { var e, n, i, r, o, s, a, u; if (i = f.get(e = l[t[0]])) for (a = 0, u = i.length; a < u; ++a)if (function (t, e) { var n = t[0], i = e[0], r = t[1]; if (n - r != i - e[1]) return !1; for (; n <= r; ++n, ++i)if (!ts(l[n], l[i])) return !1; return !0 }(r = i[a], t)) return t[0] = r[0], void (t[1] = r[1]); if (o = f.get(n = l[t[1]])) for (a = 0, u = o.length; a < u; ++a)if (function (t, e) { var n = t[0], i = e[0], r = t[1], o = e[1]; if (n - r != i - o) return !1; for (; n <= r; ++n, --o)if (!ts(l[n], l[o])) return !1; return !0 }(s = o[a], t)) return t[1] = s[0], void (t[0] = s[1]); i ? i.push(t) : f.set(e, [t]), o ? o.push(t) : f.set(n, [t]), d.push(t) } function n(t, e) { var n = t[0], i = e[0], o = t[1] - n; if (o !== e[1] - i) return !1; for (var s = r(t), a = r(e), u = 0; u < o; ++u)if (!ts(l[n + (u + s) % o], l[i + (u + a) % o])) return !1; return !0 } function i(t, e) { var n = t[0], i = e[0], o = t[1], s = e[1], a = o - n; if (a !== s - i) return !1; for (var u = r(t), c = a - r(e), h = 0; h < a; ++h)if (!ts(l[n + (h + u) % a], l[s - (h + c) % a])) return !1; return !0 } function r(t) { for (var e = t[0], n = t[1], i = e, r = i, o = l[i]; ++i < n;) { var s = l[i]; (s[0] < o[0] || s[0] === o[0] && s[1] < o[1]) && (r = i, o = s) } return r - e } var o, s, a, u, l = t.coordinates, c = t.lines, h = t.rings, p = c.length + h.length; for (delete t.lines, delete t.rings, a = 0, u = c.length; a < u; ++a)for (o = c[a]; o = o.next;)++p; for (a = 0, u = h.length; a < u; ++a)for (s = h[a]; s = s.next;)++p; var f = Qo(2 * p * 1.4, rs, ts), d = t.arcs = []; for (a = 0, u = c.length; a < u; ++a) { o = c[a]; do { e(o) } while (o = o.next) } for (a = 0, u = h.length; a < u; ++a)if ((s = h[a]).next) do { e(s) } while (s = s.next); else !function (t) { var e, o, s, a, u; if (o = f.get(l[t[0]])) for (a = 0, u = o.length; a < u; ++a) { if (n(s = o[a], t)) return t[0] = s[0], void (t[1] = s[1]); if (i(s, t)) return t[0] = s[1], void (t[1] = s[0]) } if (o = f.get(e = l[t[0] + r(t)])) for (a = 0, u = o.length; a < u; ++a) { if (n(s = o[a], t)) return t[0] = s[0], void (t[1] = s[1]); if (i(s, t)) return t[0] = s[1], void (t[1] = s[0]) } o ? o.push(t) : f.set(e, [t]), d.push(t) }(s); return t }(os(function (t) { function e(t) { t && l.hasOwnProperty(t.type) && l[t.type](t) } function n(t) { for (var e = 0, n = t.length; e < n; ++e)u[++o] = t[e]; var i = { 0: o - n + 1, 1: o }; return s.push(i), i } function i(t) { for (var e = 0, n = t.length; e < n; ++e)u[++o] = t[e]; var i = { 0: o - n + 1, 1: o }; return a.push(i), i } function r(t) { return t.map(i) } var o = -1, s = [], a = [], u = [], l = { GeometryCollection: function (t) { t.geometries.forEach(e) }, LineString: function (t) { t.arcs = n(t.arcs) }, MultiLineString: function (t) { t.arcs = t.arcs.map(n) }, Polygon: function (t) { t.arcs = t.arcs.map(i) }, MultiPolygon: function (t) { t.arcs = t.arcs.map(r) } }; for (var c in t) e(t[c]); return { type: "Topology", coordinates: u, lines: s, rings: a, objects: t } }(t))), u = a.coordinates, l = Qo(1.4 * a.arcs.length, Ht, Gt); t = a.objects, a.bbox = o, a.arcs = a.arcs.map((function (t, e) { return l.set(t, e), u.slice(t[0], t[1] + 1) })), delete a.coordinates, u = null; var c = { GeometryCollection: function (t) { t.geometries.forEach(n) }, LineString: function (t) { t.arcs = i(t.arcs) }, MultiLineString: function (t) { t.arcs = t.arcs.map(i) }, Polygon: function (t) { t.arcs = t.arcs.map(i) }, MultiPolygon: function (t) { t.arcs = t.arcs.map(r) } }; for (var h in t) n(t[h]); return s && (a.transform = s, a.arcs = function (t) { for (var e = -1, n = t.length; ++e < n;) { for (var i, r, o = t[e], s = 0, a = 1, u = o.length, l = o[0], c = l[0], h = l[1]; ++s < u;)i = (l = o[s])[0], r = l[1], i === c && r === h || (o[a++] = [i - c, r - h], c = i, h = r); 1 === a && (o[a++] = [0, 0]), o.length = a } return t }(a.arcs)), a }, as = function (t) { this.points = t.points || [], this.duration = t.duration || 1e4, this.sharpness = t.sharpness || .85, this.centers = [], this.controls = [], this.stepLength = t.stepLength || 60, this.length = this.points.length, this.delay = 0; for (var e = 0; e < this.length; e++)this.points[e].z = this.points[e].z || 0; for (e = 0; e < this.length - 1; e++) { var n = this.points[e], i = this.points[e + 1]; this.centers.push({ x: (n.x + i.x) / 2, y: (n.y + i.y) / 2, z: (n.z + i.z) / 2 }) } for (this.controls.push([this.points[0], this.points[0]]), e = 0; e < this.centers.length - 1; e++) { n = this.centers[e], i = this.centers[e + 1]; var r = this.points[e + 1].x - (this.centers[e].x + this.centers[e + 1].x) / 2, o = this.points[e + 1].y - (this.centers[e].y + this.centers[e + 1].y) / 2, s = this.points[e + 1].z - (this.centers[e].y + this.centers[e + 1].z) / 2; this.controls.push([{ x: (1 - this.sharpness) * this.points[e + 1].x + this.sharpness * (this.centers[e].x + r), y: (1 - this.sharpness) * this.points[e + 1].y + this.sharpness * (this.centers[e].y + o), z: (1 - this.sharpness) * this.points[e + 1].z + this.sharpness * (this.centers[e].z + s) }, { x: (1 - this.sharpness) * this.points[e + 1].x + this.sharpness * (this.centers[e + 1].x + r), y: (1 - this.sharpness) * this.points[e + 1].y + this.sharpness * (this.centers[e + 1].y + o), z: (1 - this.sharpness) * this.points[e + 1].z + this.sharpness * (this.centers[e + 1].z + s) }]) } return this.controls.push([this.points[this.length - 1], this.points[this.length - 1]]), this.steps = this.cacheSteps(this.stepLength), this }; as.prototype.cacheSteps = function (t) { var e = [], n = this.pos(0); e.push(0); for (var i = 0; i < this.duration; i += 10) { var r = this.pos(i); Math.sqrt((r.x - n.x) * (r.x - n.x) + (r.y - n.y) * (r.y - n.y) + (r.z - n.z) * (r.z - n.z)) > t && (e.push(i), n = r) } return e }, as.prototype.vector = function (t) { var e = this.pos(t + 10), n = this.pos(t - 10); return { angle: 180 * Math.atan2(e.y - n.y, e.x - n.x) / 3.14, speed: Math.sqrt((n.x - e.x) * (n.x - e.x) + (n.y - e.y) * (n.y - e.y) + (n.z - e.z) * (n.z - e.z)) } }, as.prototype.pos = function (t) { var e = t - this.delay; e < 0 && (e = 0), e > this.duration && (e = this.duration - 1); var n = e / this.duration; if (n >= 1) return this.points[this.length - 1]; var i = Math.floor((this.points.length - 1) * n); return function (t, e, n, i, r) { var o = function (t) { var e = t * t; return [e * t, 3 * e * (1 - t), 3 * t * (1 - t) * (1 - t), (1 - t) * (1 - t) * (1 - t)] }(t); return { x: r.x * o[0] + i.x * o[1] + n.x * o[2] + e.x * o[3], y: r.y * o[0] + i.y * o[1] + n.y * o[2] + e.y * o[3], z: r.z * o[0] + i.z * o[1] + n.z * o[2] + e.z * o[3] } }((this.length - 1) * n - i, this.points[i], this.controls[i][1], this.controls[i + 1][0], this.points[i + 1]) }; var us = pe, ls = pe; pe.deviation = function (t, e, n, i) { var r = e && e.length, o = r ? e[0] * n : t.length, s = Math.abs(Se(t, 0, o, n)); if (r) for (var a = 0, u = e.length; a < u; a++) { var l = e[a] * n, c = a < u - 1 ? e[a + 1] * n : t.length; s -= Math.abs(Se(t, l, c, n)) } var h = 0; for (a = 0; a < i.length; a += 3) { var p = i[a] * n, f = i[a + 1] * n, d = i[a + 2] * n; h += Math.abs((t[p] - t[d]) * (t[f + 1] - t[p + 1]) - (t[p] - t[f]) * (t[d + 1] - t[p + 1])) } return 0 === s && 0 === h ? 0 : Math.abs((h - s) / s) }, pe.flatten = function (t) { for (var e = t[0][0].length, n = { vertices: [], holes: [], dimensions: e }, i = 0, r = 0; r < t.length; r++) { for (var o = 0; o < t[r].length; o++)for (var s = 0; s < e; s++)n.vertices.push(t[r][o][s]); r > 0 && (i += t[r - 1].length, n.holes.push(i)) } return n }, us.default = ls, Ae.prototype = { all: function () { return this._all(this.data, []) }, search: function (t) { var e = this.data, n = [], i = this.toBBox; if (!Be(t, e)) return n; for (var r, o, s, a, u = []; e;) { for (r = 0, o = e.children.length; r < o; r++)s = e.children[r], Be(t, a = e.leaf ? i(s) : s) && (e.leaf ? n.push(s) : je(t, a) ? this._all(s, n) : u.push(s)); e = u.pop() } return n }, collides: function (t) { var e = this.data, n = this.toBBox; if (!Be(t, e)) return !1; for (var i, r, o, s, a = []; e;) { for (i = 0, r = e.children.length; i < r; i++)if (o = e.children[i], Be(t, s = e.leaf ? n(o) : o)) { if (e.leaf || je(t, s)) return !0; a.push(o) } e = a.pop() } return !1 }, load: function (t) { if (!t || !t.length) return this; if (t.length < this._minEntries) { for (var e = 0, n = t.length; e < n; e++)this.insert(t[e]); return this } var i = this._build(t.slice(), 0, t.length - 1, 0); if (this.data.children.length) if (this.data.height === i.height) this._splitRoot(this.data, i); else { if (this.data.height < i.height) { var r = this.data; this.data = i, i = r } this._insert(i, this.data.height - i.height - 1, !0) } else this.data = i; return this }, insert: function (t) { return t && this._insert(t, this.data.height - 1), this }, clear: function () { return this.data = $e([]), this }, remove: function (t, e) { if (!t) return this; for (var n, i, r, o, s = this.data, a = this.toBBox(t), u = [], l = []; s || u.length;) { if (s || (s = u.pop(), i = u[u.length - 1], n = l.pop(), o = !0), s.leaf && -1 !== (r = function (t, e, n) { if (!n) return e.indexOf(t); for (var i = 0; i < e.length; i++)if (n(t, e[i])) return i; return -1 }(t, s.children, e))) return s.children.splice(r, 1), u.push(s), this._condense(u), this; o || s.leaf || !je(s, a) ? i ? (n++, s = i.children[n], o = !1) : s = null : (u.push(s), l.push(n), n = 0, i = s, s = s.children[0]) } return this }, toBBox: function (t) { return t }, compareMinX: ke, compareMinY: Fe, toJSON: function () { return this.data }, fromJSON: function (t) { return this.data = t, this }, _all: function (t, e) { for (var n = []; t;)t.leaf ? e.push.apply(e, t.children) : n.push.apply(n, t.children), t = n.pop(); return e }, _build: function (t, e, n, i) { var r, o = n - e + 1, s = this._maxEntries; if (o <= s) return Me(r = $e(t.slice(e, n + 1)), this.toBBox), r; i || (i = Math.ceil(Math.log(o) / Math.log(s)), s = Math.ceil(o / Math.pow(s, i - 1))), (r = $e([])).leaf = !1, r.height = i; var a, u, l, c, h = Math.ceil(o / s), p = h * Math.ceil(Math.sqrt(s)); for (ze(t, e, n, p, this.compareMinX), a = e; a <= n; a += p)for (ze(t, a, l = Math.min(a + p - 1, n), h, this.compareMinY), u = a; u <= l; u += h)c = Math.min(u + h - 1, l), r.children.push(this._build(t, u, c, i - 1)); return Me(r, this.toBBox), r }, _chooseSubtree: function (t, e, n, i) { for (var r, o, s, a, u, l, c, h; i.push(e), !e.leaf && i.length - 1 !== n;) { for (c = h = 1 / 0, r = 0, o = e.children.length; r < o; r++)u = Re(s = e.children[r]), (l = function (t, e) { return (Math.max(e.maxX, t.maxX) - Math.min(e.minX, t.minX)) * (Math.max(e.maxY, t.maxY) - Math.min(e.minY, t.minY)) }(t, s) - u) < h ? (h = l, c = u < c ? u : c, a = s) : l === h && u < c && (c = u, a = s); e = a || e.children[0] } return e }, _insert: function (t, e, n) { var i = this.toBBox, r = n ? t : i(t), o = [], s = this._chooseSubtree(r, this.data, e, o); for (s.children.push(t), Oe(s, r); e >= 0 && o[e].children.length > this._maxEntries;)this._split(o, e), e--; this._adjustParentBBoxes(r, o, e) }, _split: function (t, e) { var n = t[e], i = n.children.length, r = this._minEntries; this._chooseSplitAxis(n, r, i); var o = this._chooseSplitIndex(n, r, i), s = $e(n.children.splice(o, n.children.length - o)); s.height = n.height, s.leaf = n.leaf, Me(n, this.toBBox), Me(s, this.toBBox), e ? t[e - 1].children.push(s) : this._splitRoot(n, s) }, _splitRoot: function (t, e) { this.data = $e([t, e]), this.data.height = t.height + 1, this.data.leaf = !1, Me(this.data, this.toBBox) }, _chooseSplitIndex: function (t, e, n) { var i, r, o, s, a, u, l, c; for (u = l = 1 / 0, i = e; i <= n - e; i++)s = function (t, e) { var n = Math.max(t.minX, e.minX), i = Math.max(t.minY, e.minY), r = Math.min(t.maxX, e.maxX), o = Math.min(t.maxY, e.maxY); return Math.max(0, r - n) * Math.max(0, o - i) }(r = Le(t, 0, i, this.toBBox), o = Le(t, i, n, this.toBBox)), a = Re(r) + Re(o), s < u ? (u = s, c = i, l = a < l ? a : l) : s === u && a < l && (l = a, c = i); return c }, _chooseSplitAxis: function (t, e, n) { var i = t.leaf ? this.compareMinX : ke, r = t.leaf ? this.compareMinY : Fe; this._allDistMargin(t, e, n, i) < this._allDistMargin(t, e, n, r) && t.children.sort(i) }, _allDistMargin: function (t, e, n, i) { t.children.sort(i); var r, o, s = this.toBBox, a = Le(t, 0, e, s), u = Le(t, n - e, n, s), l = qe(a) + qe(u); for (r = e; r < n - e; r++)o = t.children[r], Oe(a, t.leaf ? s(o) : o), l += qe(a); for (r = n - e - 1; r >= e; r--)o = t.children[r], Oe(u, t.leaf ? s(o) : o), l += qe(u); return l }, _adjustParentBBoxes: function (t, e, n) { for (var i = n; i >= 0; i--)Oe(e[i], t) }, _condense: function (t) { for (var e, n = t.length - 1; n >= 0; n--)0 === t[n].children.length ? n > 0 ? (e = t[n - 1].children).splice(e.indexOf(t[n]), 1) : this.clear() : Me(t[n], this.toBBox) }, _initFormat: function (t) { var e = ["return a", " - b", ";"]; this.compareMinX = new Function("a", "b", e.join(t[0])), this.compareMinY = new Function("a", "b", e.join(t[1])), this.toBBox = new Function("a", "return {minX: a" + t[0] + ", minY: a" + t[1] + ", maxX: a" + t[2] + ", maxY: a" + t[3] + "};") } }; var cs = Object.freeze({ toMercator: Qe, toWgs84: tn }), hs = 6378137, ps = function (t) { function e() { for (var t = [], e = 0; e < d.features.length; e++)-1 == d.features[e].properties.parent && t.push(e); if (t.length > 1) for (e = 0; e < t.length; e++) { for (var n = -1, i = 0; i < d.features.length; i++)t[e] != i && It(d.features[t[e]].geometry.coordinates[0][0], d.features[i], { ignoreBoundary: !0 }) && ln(d.features[i]) < 1 / 0 && (n = i); d.features[t[e]].properties.parent = n } } function n() { for (var t = 0; t < d.features.length; t++)if (-1 == d.features[t].properties.parent) { var e = d.features[t].properties.winding; d.features[t].properties.netWinding = e, i(t, e) } } function i(t, e) { for (var n = 0; n < d.features.length; n++)if (d.features[n].properties.parent == t) { var r = e + d.features[n].properties.winding; d.features[n].properties.netWinding = r, i(n, r) } } if ("Feature" != t.type) throw new Error("The input must a geojson object of type Feature"); if (void 0 === t.geometry || null == t.geometry) throw new Error("The input must a geojson object with a non-empty geometry"); if ("Polygon" != t.geometry.type) throw new Error("The input must be a geojson Polygon"); for (var r = t.geometry.coordinates.length, s = [], a = 0; a < r; a++) { var u = t.geometry.coordinates[a]; En(u[0], u[u.length - 1]) || u.push(u[0]), s.push.apply(s, u.slice(0, u.length - 1)) } if (!function (t) { for (var e = {}, n = 1, i = 0, r = t.length; i < r; ++i) { if (e.hasOwnProperty(t[i])) { n = 0; break } e[t[i]] = 1 } return n }(s)) throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)"); var c = s.length, h = function (t, e, n) { function i(t, n, i, r) { var u, l, c = o[t][n], h = o[t][n + 1], p = o[i][r], f = o[i][r + 1], d = function (t, e, n, i) { if (wn(t, n) || wn(t, i) || wn(e, n) || wn(i, n)) return null; var r = t[0], o = t[1], s = e[0], a = e[1], u = n[0], l = n[1], c = i[0], h = i[1], p = (r - s) * (l - h) - (o - a) * (u - c); return 0 === p ? null : [((r * a - o * s) * (u - c) - (r - s) * (u * h - l * c)) / p, ((r * a - o * s) * (l - h) - (o - a) * (u * h - l * c)) / p] }(c, h, p, f); if (null !== d && (u = h[0] !== c[0] ? (d[0] - c[0]) / (h[0] - c[0]) : (d[1] - c[1]) / (h[1] - c[1]), l = f[0] !== p[0] ? (d[0] - p[0]) / (f[0] - p[0]) : (d[1] - p[1]) / (f[1] - p[1]), !(u >= 1 || u <= 0 || l >= 1 || l <= 0))) { var g = d, y = !a[g]; y && (a[g] = !0), e ? s.push(e(d, t, n, c, h, u, i, r, p, f, l, y)) : s.push(d) } } function r(t, e) { var n, i, r, s, a = o[t][e], u = o[t][e + 1]; return a[0] < u[0] ? (n = a[0], i = u[0]) : (n = u[0], i = a[0]), a[1] < u[1] ? (r = a[1], s = u[1]) : (r = u[1], s = a[1]), { minX: n, minY: r, maxX: i, maxY: s, ring: t, edge: e } } if ("Polygon" !== t.geometry.type) throw new Error("The input feature must be a Polygon"); void 0 === n && (n = 1); var o = t.geometry.coordinates, s = [], a = {}; if (n) { for (var u = [], l = 0; l < o.length; l++)for (var c = 0; c < o[l].length - 1; c++)u.push(r(l, c)); var h = Mo(); h.load(u) } for (var p = 0; p < o.length; p++)for (var f = 0; f < o[p].length - 1; f++)if (n) h.search(r(p, f)).forEach((function (t) { var e = t.ring, n = t.edge; i(p, f, e, n) })); else for (var d = 0; d < o.length; d++)for (var g = 0; g < o[d].length - 1; g++)i(p, f, d, g); return e || (s = { type: "Feature", geometry: { type: "MultiPoint", coordinates: s } }), s }(t, (function (t, e, n, i, r, o, s, a, u, l, c, h) { return [t, e, n, i, r, o, s, a, u, l, c, h] })), p = h.length; if (0 == p) { var f = []; for (a = 0; a < r; a++)f.push(o([t.geometry.coordinates[a]], { parent: -1, winding: function (t) { for (var e = 0, n = 0; n < t.length - 1; n++)t[n][0] < t[e][0] && (e = n); if (xn([t[(e - 1).modulo(t.length - 1)], t[e], t[(e + 1).modulo(t.length - 1)]], !0)) var i = 1; else i = -1; return i }(t.geometry.coordinates[a]) })); var d = l(f); return e(), n(), d } var g = [], y = []; for (a = 0; a < r; a++) { g.push([]); for (var m = 0; m < t.geometry.coordinates[a].length - 1; m++)g[a].push([new fs(t.geometry.coordinates[a][(m + 1).modulo(t.geometry.coordinates[a].length - 1)], 1, [a, m], [a, (m + 1).modulo(t.geometry.coordinates[a].length - 1)], void 0)]), y.push(new ds(t.geometry.coordinates[a][m], [a, (m - 1).modulo(t.geometry.coordinates[a].length - 1)], [a, m], void 0, void 0, !1, !0)) } for (a = 0; a < p; a++)g[h[a][1]][h[a][2]].push(new fs(h[a][0], h[a][5], [h[a][1], h[a][2]], [h[a][6], h[a][7]], void 0)), h[a][11] && y.push(new ds(h[a][0], [h[a][1], h[a][2]], [h[a][6], h[a][7]], void 0, void 0, !0, !0)); var v = y.length; for (a = 0; a < g.length; a++)for (m = 0; m < g[a].length; m++)g[a][m].sort((function (t, e) { return t.param < e.param ? -1 : 1 })); var _ = []; for (a = 0; a < v; a++)_.push({ minX: y[a].coord[0], minY: y[a].coord[1], maxX: y[a].coord[0], maxY: y[a].coord[1], index: a }); var b = Mo(); for (b.load(_), a = 0; a < g.length; a++)for (m = 0; m < g[a].length; m++)for (var w = 0; w < g[a][m].length; w++) { E = w == g[a][m].length - 1 ? g[a][(m + 1).modulo(t.geometry.coordinates[a].length - 1)][0].coord : g[a][m][w + 1].coord; var x = b.search({ minX: E[0], minY: E[1], maxX: E[0], maxY: E[1] })[0]; g[a][m][w].nxtIsectAlongEdgeIn = x.index } for (a = 0; a < g.length; a++)for (m = 0; m < g[a].length; m++)for (w = 0; w < g[a][m].length; w++) { var E = g[a][m][w].coord, C = (x = b.search({ minX: E[0], minY: E[1], maxX: E[0], maxY: E[1] })[0]).index; C < c ? y[C].nxtIsectAlongRingAndEdge2 = g[a][m][w].nxtIsectAlongEdgeIn : En(y[C].ringAndEdge1, g[a][m][w].ringAndEdgeIn) ? y[C].nxtIsectAlongRingAndEdge1 = g[a][m][w].nxtIsectAlongEdgeIn : y[C].nxtIsectAlongRingAndEdge2 = g[a][m][w].nxtIsectAlongEdgeIn } var D = []; for (a = 0, m = 0; m < r; m++) { var S = a; for (w = 0; w < t.geometry.coordinates[m].length - 1; w++)y[a].coord[0] < y[S].coord[0] && (S = a), a++; var T = y[S].nxtIsectAlongRingAndEdge2; for (w = 0; w < y.length; w++)if (y[w].nxtIsectAlongRingAndEdge1 == S || y[w].nxtIsectAlongRingAndEdge2 == S) { var I = w; break } var N = xn([y[I].coord, y[S].coord, y[T].coord], !0) ? 1 : -1; D.push({ isect: S, parent: -1, winding: N }) } for (D.sort((function (t, e) { return y[t.isect].coord > y[e.isect].coord ? -1 : 1 })), f = []; D.length > 0;) { var P = D.pop(), A = P.isect, M = P.parent, L = P.winding, O = f.length, k = [y[A].coord], F = A; if (y[A].ringAndEdge1Walkable) var R = y[A].ringAndEdge1, q = y[A].nxtIsectAlongRingAndEdge1; else R = y[A].ringAndEdge2, q = y[A].nxtIsectAlongRingAndEdge2; for (; !En(y[A].coord, y[q].coord);) { k.push(y[q].coord); var j = void 0; for (a = 0; a < D.length; a++)if (D[a].isect == q) { j = a; break } if (null != j && D.splice(j, 1), En(R, y[q].ringAndEdge1)) { if (R = y[q].ringAndEdge2, y[q].ringAndEdge2Walkable = !1, y[q].ringAndEdge1Walkable) { var B = { isect: q }; xn([y[F].coord, y[q].coord, y[y[q].nxtIsectAlongRingAndEdge2].coord], 1 == L) ? (B.parent = M, B.winding = -L) : (B.parent = O, B.winding = L), D.push(B) } F = q, q = y[q].nxtIsectAlongRingAndEdge2 } else R = y[q].ringAndEdge1, y[q].ringAndEdge1Walkable = !1, y[q].ringAndEdge2Walkable && (B = { isect: q }, xn([y[F].coord, y[q].coord, y[y[q].nxtIsectAlongRingAndEdge1].coord], 1 == L) ? (B.parent = M, B.winding = -L) : (B.parent = O, B.winding = L), D.push(B)), F = q, q = y[q].nxtIsectAlongRingAndEdge1 } k.push(y[q].coord), f.push(o([k], { index: O, parent: M, winding: L, netWinding: void 0 })) } return d = l(f), e(), n(), d }, fs = function (t, e, n, i, r) { this.coord = t, this.param = e, this.ringAndEdgeIn = n, this.ringAndEdgeOut = i, this.nxtIsectAlongEdgeIn = r }, ds = function (t, e, n, i, r, o, s) { this.coord = t, this.ringAndEdge1 = e, this.ringAndEdge2 = n, this.nxtIsectAlongRingAndEdge1 = i, this.nxtIsectAlongRingAndEdge2 = r, this.ringAndEdge1Walkable = o, this.ringAndEdge2Walkable = s }; Number.prototype.modulo = function (t) { return (this % t + t) % t }; var gs = Math.PI / 180, ys = 180 / Math.PI, ms = function (t, e) { this.lon = t, this.lat = e, this.x = gs * t, this.y = gs * e }; ms.prototype.view = function () { return String(this.lon).slice(0, 4) + "," + String(this.lat).slice(0, 4) }, ms.prototype.antipode = function () { var t = -1 * this.lat, e = this.lon < 0 ? 180 + this.lon : -1 * (180 - this.lon); return new ms(e, t) }; var vs = function () { this.coords = [], this.length = 0 }; vs.prototype.move_to = function (t) { this.length++, this.coords.push(t) }; var _s = function (t) { this.properties = t || {}, this.geometries = [] }; _s.prototype.json = function () { if (this.geometries.length <= 0) return { geometry: { type: "LineString", coordinates: null }, type: "Feature", properties: this.properties }; if (1 === this.geometries.length) return { geometry: { type: "LineString", coordinates: this.geometries[0].coords }, type: "Feature", properties: this.properties }; for (var t = [], e = 0; e < this.geometries.length; e++)t.push(this.geometries[e].coords); return { geometry: { type: "MultiLineString", coordinates: t }, type: "Feature", properties: this.properties } }, _s.prototype.wkt = function () { for (var t = "", e = "LINESTRING(", n = function (t) { e += t[0] + " " + t[1] + "," }, i = 0; i < this.geometries.length; i++) { if (0 === this.geometries[i].coords.length) return "LINESTRING(empty)"; this.geometries[i].coords.forEach(n), t += e.substring(0, e.length - 1) + ")" } return t }; var bs = function (t, e, n) { if (!t || void 0 === t.x || void 0 === t.y) throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties"); if (!e || void 0 === e.x || void 0 === e.y) throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties"); this.start = new ms(t.x, t.y), this.end = new ms(e.x, e.y), this.properties = n || {}; var i = this.start.x - this.end.x, r = this.start.y - this.end.y, o = Math.pow(Math.sin(r / 2), 2) + Math.cos(this.start.y) * Math.cos(this.end.y) * Math.pow(Math.sin(i / 2), 2); if (this.g = 2 * Math.asin(Math.sqrt(o)), this.g === Math.PI) throw new Error("it appears " + t.view() + " and " + e.view() + " are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite"); if (isNaN(this.g)) throw new Error("could not calculate great circle between " + t + " and " + e) }; bs.prototype.interpolate = function (t) { var e = Math.sin((1 - t) * this.g) / Math.sin(this.g), n = Math.sin(t * this.g) / Math.sin(this.g), i = e * Math.cos(this.start.y) * Math.cos(this.start.x) + n * Math.cos(this.end.y) * Math.cos(this.end.x), r = e * Math.cos(this.start.y) * Math.sin(this.start.x) + n * Math.cos(this.end.y) * Math.sin(this.end.x), o = e * Math.sin(this.start.y) + n * Math.sin(this.end.y), s = ys * Math.atan2(o, Math.sqrt(Math.pow(i, 2) + Math.pow(r, 2))); return [ys * Math.atan2(r, i), s] }, bs.prototype.Arc = function (t, e) { var n = []; if (!t || t <= 2) n.push([this.start.lon, this.start.lat]), n.push([this.end.lon, this.end.lat]); else for (var i = 1 / (t - 1), r = 0; r < t; ++r) { var o = i * r, s = this.interpolate(o); n.push(s) } for (var a = !1, u = 0, l = e && e.offset ? e.offset : 10, c = 180 - l, h = -180 + l, p = 360 - l, f = 1; f < n.length; ++f) { var d = n[f - 1][0], g = n[f][0], y = Math.abs(g - d); y > p && (g > c && d < h || d > c && g < h) ? a = !0 : y > u && (u = y) } var m = []; if (a && u < l) { var v = []; m.push(v); for (var _ = 0; _ < n.length; ++_) { var b = parseFloat(n[_][0]); if (_ > 0 && Math.abs(b - n[_ - 1][0]) > p) { var w = parseFloat(n[_ - 1][0]), x = parseFloat(n[_ - 1][1]), E = parseFloat(n[_][0]), C = parseFloat(n[_][1]); if (w > -180 && w < h && 180 === E && _ + 1 < n.length && n[_ - 1][0] > -180 && n[_ - 1][0] < h) { v.push([-180, n[_][1]]), _++, v.push([n[_][0], n[_][1]]); continue } if (w > c && w < 180 && -180 === E && _ + 1 < n.length && n[_ - 1][0] > c && n[_ - 1][0] < 180) { v.push([180, n[_][1]]), _++, v.push([n[_][0], n[_][1]]); continue } if (w < h && E > c) { var D = w; w = E, E = D; var S = x; x = C, C = S } if (w > c && E < h && (E += 360), w <= 180 && E >= 180 && w < E) { var T = (180 - w) / (E - w), I = T * C + (1 - T) * x; v.push([n[_ - 1][0] > c ? 180 : -180, I]), (v = []).push([n[_ - 1][0] > c ? -180 : 180, I]), m.push(v) } else v = [], m.push(v); v.push([b, n[_][1]]) } else v.push([n[_][0], n[_][1]]) } } else { var N = []; m.push(N); for (var P = 0; P < n.length; ++P)N.push([n[P][0], n[P][1]]) } for (var A = new _s(this.properties), M = 0; M < m.length; ++M) { var L = new vs; A.geometries.push(L); for (var O = m[M], k = 0; k < O.length; ++k)L.move_to(O[k]) } return A }; var ws = kn; kn.polyline = kn, kn.polygon = function (t, e) { var n, i, r, o, s, a, u; for (i = 1; i <= 8; i *= 2) { for (n = [], o = !(Rn(r = t[t.length - 1], e) & i), s = 0; s < t.length; s++)(u = !(Rn(a = t[s], e) & i)) !== o && n.push(Fn(r, a, i, e)), u && n.push(a), r = a, o = u; if (!(t = n).length) break } return n }; var xs = Array.prototype.slice, Es = { successCallback: null, verbose: !1, polygons: !1 }, Cs = {}, Ds = 64, Ss = 16, Ts = 4, Is = 1, Ns = [], Ps = [], As = [], Ms = [], Ls = [], Os = [], ks = [], Fs = [], Rs = [], qs = [], js = [], Bs = [], $s = [], zs = [], Vs = [], Us = [], Hs = [], Gs = [], Xs = [], Ys = [], Ws = [], Js = [], Zs = [], Ks = []; ks[85] = qs[85] = -1, Fs[85] = js[85] = 0, Rs[85] = Bs[85] = 1, Xs[85] = Js[85] = 1, Ys[85] = Zs[85] = 0, Ws[85] = Ks[85] = 1, Ns[85] = Ms[85] = 0, Ps[85] = Ls[85] = -1, As[85] = Vs[85] = 0, Us[85] = $s[85] = 0, Hs[85] = zs[85] = 1, Os[85] = Gs[85] = 1, Js[1] = Js[169] = 0, Zs[1] = Zs[169] = -1, Ks[1] = Ks[169] = 0, $s[1] = $s[169] = -1, zs[1] = zs[169] = 0, Vs[1] = Vs[169] = 0, qs[4] = qs[166] = 0, js[4] = js[166] = -1, Bs[4] = Bs[166] = 1, Us[4] = Us[166] = 1, Hs[4] = Hs[166] = 0, Gs[4] = Gs[166] = 0, ks[16] = ks[154] = 0, Fs[16] = Fs[154] = 1, Rs[16] = Rs[154] = 1, Ms[16] = Ms[154] = 1, Ls[16] = Ls[154] = 0, Os[16] = Os[154] = 1, Xs[64] = Xs[106] = 0, Ys[64] = Ys[106] = 1, Ws[64] = Ws[106] = 0, Ns[64] = Ns[106] = -1, Ps[64] = Ps[106] = 0, As[64] = As[106] = 1, Xs[2] = Xs[168] = 0, Ys[2] = Ys[168] = -1, Ws[2] = Ws[168] = 1, Js[2] = Js[168] = 0, Zs[2] = Zs[168] = -1, Ks[2] = Ks[168] = 0, $s[2] = $s[168] = -1, zs[2] = zs[168] = 0, Vs[2] = Vs[168] = 0, Us[2] = Us[168] = -1, Hs[2] = Hs[168] = 0, Gs[2] = Gs[168] = 1, ks[8] = ks[162] = 0, Fs[8] = Fs[162] = -1, Rs[8] = Rs[162] = 0, qs[8] = qs[162] = 0, js[8] = js[162] = -1, Bs[8] = Bs[162] = 1, $s[8] = $s[162] = 1, zs[8] = zs[162] = 0, Vs[8] = Vs[162] = 1, Us[8] = Us[162] = 1, Hs[8] = Hs[162] = 0, Gs[8] = Gs[162] = 0, ks[32] = ks[138] = 0, Fs[32] = Fs[138] = 1, Rs[32] = Rs[138] = 1, qs[32] = qs[138] = 0, js[32] = js[138] = 1, Bs[32] = Bs[138] = 0, Ns[32] = Ns[138] = 1, Ps[32] = Ps[138] = 0, As[32] = As[138] = 0, Ms[32] = Ms[138] = 1, Ls[32] = Ls[138] = 0, Os[32] = Os[138] = 1, Js[128] = Js[42] = 0, Zs[128] = Zs[42] = 1, Ks[128] = Ks[42] = 1, Xs[128] = Xs[42] = 0, Ys[128] = Ys[42] = 1, Ws[128] = Ws[42] = 0, Ns[128] = Ns[42] = -1, Ps[128] = Ps[42] = 0, As[128] = As[42] = 1, Ms[128] = Ms[42] = -1, Ls[128] = Ls[42] = 0, Os[128] = Os[42] = 0, qs[5] = qs[165] = -1, js[5] = js[165] = 0, Bs[5] = Bs[165] = 0, Js[5] = Js[165] = 1, Zs[5] = Zs[165] = 0, Ks[5] = Ks[165] = 0, Us[20] = Us[150] = 0, Hs[20] = Hs[150] = 1, Gs[20] = Gs[150] = 1, Ms[20] = Ms[150] = 0, Ls[20] = Ls[150] = -1, Os[20] = Os[150] = 1, ks[80] = ks[90] = -1, Fs[80] = Fs[90] = 0, Rs[80] = Rs[90] = 1, Xs[80] = Xs[90] = 1, Ys[80] = Ys[90] = 0, Ws[80] = Ws[90] = 1, $s[65] = $s[105] = 0, zs[65] = zs[105] = 1, Vs[65] = Vs[105] = 0, Ns[65] = Ns[105] = 0, Ps[65] = Ps[105] = -1, As[65] = As[105] = 0, ks[160] = ks[10] = -1, Fs[160] = Fs[10] = 0, Rs[160] = Rs[10] = 1, qs[160] = qs[10] = -1, js[160] = js[10] = 0, Bs[160] = Bs[10] = 0, Js[160] = Js[10] = 1, Zs[160] = Zs[10] = 0, Ks[160] = Ks[10] = 0, Xs[160] = Xs[10] = 1, Ys[160] = Ys[10] = 0, Ws[160] = Ws[10] = 1, Us[130] = Us[40] = 0, Hs[130] = Hs[40] = 1, Gs[130] = Gs[40] = 1, $s[130] = $s[40] = 0, zs[130] = zs[40] = 1, Vs[130] = Vs[40] = 0, Ns[130] = Ns[40] = 0, Ps[130] = Ps[40] = -1, As[130] = As[40] = 0, Ms[130] = Ms[40] = 0, Ls[130] = Ls[40] = -1, Os[130] = Os[40] = 1, qs[37] = qs[133] = 0, js[37] = js[133] = 1, Bs[37] = Bs[133] = 1, Js[37] = Js[133] = 0, Zs[37] = Zs[133] = 1, Ks[37] = Ks[133] = 0, Ns[37] = Ns[133] = -1, Ps[37] = Ps[133] = 0, As[37] = As[133] = 0, Ms[37] = Ms[133] = 1, Ls[37] = Ls[133] = 0, Os[37] = Os[133] = 0, Us[148] = Us[22] = -1, Hs[148] = Hs[22] = 0, Gs[148] = Gs[22] = 0, Js[148] = Js[22] = 0, Zs[148] = Zs[22] = -1, Ks[148] = Ks[22] = 1, Xs[148] = Xs[22] = 0, Ys[148] = Ys[22] = 1, Ws[148] = Ws[22] = 1, Ms[148] = Ms[22] = -1, Ls[148] = Ls[22] = 0, Os[148] = Os[22] = 1, ks[82] = ks[88] = 0, Fs[82] = Fs[88] = -1, Rs[82] = Rs[88] = 1, Us[82] = Us[88] = 1, Hs[82] = Hs[88] = 0, Gs[82] = Gs[88] = 1, $s[82] = $s[88] = -1, zs[82] = zs[88] = 0, Vs[82] = Vs[88] = 1, Xs[82] = Xs[88] = 0, Ys[82] = Ys[88] = -1, Ws[82] = Ws[88] = 0, ks[73] = ks[97] = 0, Fs[73] = Fs[97] = 1, Rs[73] = Rs[97] = 0, qs[73] = qs[97] = 0, js[73] = js[97] = -1, Bs[73] = Bs[97] = 0, $s[73] = $s[97] = 1, zs[73] = zs[97] = 0, Vs[73] = Vs[97] = 0, Ns[73] = Ns[97] = 1, Ps[73] = Ps[97] = 0, As[73] = As[97] = 1, ks[145] = ks[25] = 0, Fs[145] = Fs[25] = -1, Rs[145] = Rs[25] = 0, $s[145] = $s[25] = 1, zs[145] = zs[25] = 0, Vs[145] = Vs[25] = 1, Js[145] = Js[25] = 0, Zs[145] = Zs[25] = 1, Ks[145] = Ks[25] = 1, Ms[145] = Ms[25] = -1, Ls[145] = Ls[25] = 0, Os[145] = Os[25] = 0, qs[70] = qs[100] = 0, js[70] = js[100] = 1, Bs[70] = Bs[100] = 0, Us[70] = Us[100] = -1, Hs[70] = Hs[100] = 0, Gs[70] = Gs[100] = 1, Xs[70] = Xs[100] = 0, Ys[70] = Ys[100] = -1, Ws[70] = Ws[100] = 1, Ns[70] = Ns[100] = 1, Ps[70] = Ps[100] = 0, As[70] = As[100] = 0, qs[101] = qs[69] = 0, js[101] = js[69] = 1, Bs[101] = Bs[69] = 0, Ns[101] = Ns[69] = 1, Ps[101] = Ps[69] = 0, As[101] = As[69] = 0, Js[149] = Js[21] = 0, Zs[149] = Zs[21] = 1, Ks[149] = Ks[21] = 1, Ms[149] = Ms[21] = -1, Ls[149] = Ls[21] = 0, Os[149] = Os[21] = 0, Us[86] = Us[84] = -1, Hs[86] = Hs[84] = 0, Gs[86] = Gs[84] = 1, Xs[86] = Xs[84] = 0, Ys[86] = Ys[84] = -1, Ws[86] = Ws[84] = 1, ks[89] = ks[81] = 0, Fs[89] = Fs[81] = -1, Rs[89] = Rs[81] = 0, $s[89] = $s[81] = 1, zs[89] = zs[81] = 0, Vs[89] = Vs[81] = 1, ks[96] = ks[74] = 0, Fs[96] = Fs[74] = 1, Rs[96] = Rs[74] = 0, qs[96] = qs[74] = -1, js[96] = js[74] = 0, Bs[96] = Bs[74] = 1, Xs[96] = Xs[74] = 1, Ys[96] = Ys[74] = 0, Ws[96] = Ws[74] = 0, Ns[96] = Ns[74] = 1, Ps[96] = Ps[74] = 0, As[96] = As[74] = 1, ks[24] = ks[146] = 0, Fs[24] = Fs[146] = -1, Rs[24] = Rs[146] = 1, Us[24] = Us[146] = 1, Hs[24] = Hs[146] = 0, Gs[24] = Gs[146] = 1, $s[24] = $s[146] = 0, zs[24] = zs[146] = 1, Vs[24] = Vs[146] = 1, Ms[24] = Ms[146] = 0, Ls[24] = Ls[146] = -1, Os[24] = Os[146] = 0, qs[6] = qs[164] = -1, js[6] = js[164] = 0, Bs[6] = Bs[164] = 1, Us[6] = Us[164] = -1, Hs[6] = Hs[164] = 0, Gs[6] = Gs[164] = 0, Js[6] = Js[164] = 0, Zs[6] = Zs[164] = -1, Ks[6] = Ks[164] = 1, Xs[6] = Xs[164] = 1, Ys[6] = Ys[164] = 0, Ws[6] = Ws[164] = 0, $s[129] = $s[41] = 0, zs[129] = zs[41] = 1, Vs[129] = Vs[41] = 1, Js[129] = Js[41] = 0, Zs[129] = Zs[41] = 1, Ks[129] = Ks[41] = 0, Ns[129] = Ns[41] = -1, Ps[129] = Ps[41] = 0, As[129] = As[41] = 0, Ms[129] = Ms[41] = 0, Ls[129] = Ls[41] = -1, Os[129] = Os[41] = 0, Us[66] = Us[104] = 0, Hs[66] = Hs[104] = 1, Gs[66] = Gs[104] = 0, $s[66] = $s[104] = -1, zs[66] = zs[104] = 0, Vs[66] = Vs[104] = 1, Xs[66] = Xs[104] = 0, Ys[66] = Ys[104] = -1, Ws[66] = Ws[104] = 0, Ns[66] = Ns[104] = 0, Ps[66] = Ps[104] = -1, As[66] = As[104] = 1, ks[144] = ks[26] = -1, Fs[144] = Fs[26] = 0, Rs[144] = Rs[26] = 0, Js[144] = Js[26] = 1, Zs[144] = Zs[26] = 0, Ks[144] = Ks[26] = 1, Xs[144] = Xs[26] = 0, Ys[144] = Ys[26] = 1, Ws[144] = Ws[26] = 1, Ms[144] = Ms[26] = -1, Ls[144] = Ls[26] = 0, Os[144] = Os[26] = 1, qs[36] = qs[134] = 0, js[36] = js[134] = 1, Bs[36] = Bs[134] = 1, Us[36] = Us[134] = 0, Hs[36] = Hs[134] = 1, Gs[36] = Gs[134] = 0, Ns[36] = Ns[134] = 0, Ps[36] = Ps[134] = -1, As[36] = As[134] = 1, Ms[36] = Ms[134] = 1, Ls[36] = Ls[134] = 0, Os[36] = Os[134] = 0, ks[9] = ks[161] = -1, Fs[9] = Fs[161] = 0, Rs[9] = Rs[161] = 0, qs[9] = qs[161] = 0, js[9] = js[161] = -1, Bs[9] = Bs[161] = 0, $s[9] = $s[161] = 1, zs[9] = zs[161] = 0, Vs[9] = Vs[161] = 0, Js[9] = Js[161] = 1, Zs[9] = Zs[161] = 0, Ks[9] = Ks[161] = 1, ks[136] = 0, Fs[136] = 1, Rs[136] = 1, qs[136] = 0, js[136] = 1, Bs[136] = 0, Us[136] = -1, Hs[136] = 0, Gs[136] = 1, $s[136] = -1, zs[136] = 0, Vs[136] = 0, Js[136] = 0, Zs[136] = -1, Ks[136] = 0, Xs[136] = 0, Ys[136] = -1, Ws[136] = 1, Ns[136] = 1, Ps[136] = 0, As[136] = 0, Ms[136] = 1, Ls[136] = 0, Os[136] = 1, ks[34] = 0, Fs[34] = -1, Rs[34] = 0, qs[34] = 0, js[34] = -1, Bs[34] = 1, Us[34] = 1, Hs[34] = 0, Gs[34] = 0, $s[34] = 1, zs[34] = 0, Vs[34] = 1, Js[34] = 0, Zs[34] = 1, Ks[34] = 1, Xs[34] = 0, Ys[34] = 1, Ws[34] = 0, Ns[34] = -1, Ps[34] = 0, As[34] = 1, Ms[34] = -1, Ls[34] = 0, Os[34] = 0, ks[35] = 0, Fs[35] = 1, Rs[35] = 1, qs[35] = 0, js[35] = -1, Bs[35] = 1, Us[35] = 1, Hs[35] = 0, Gs[35] = 0, $s[35] = -1, zs[35] = 0, Vs[35] = 0, Js[35] = 0, Zs[35] = -1, Ks[35] = 0, Xs[35] = 0, Ys[35] = 1, Ws[35] = 0, Ns[35] = -1, Ps[35] = 0, As[35] = 1, Ms[35] = 1, Ls[35] = 0, Os[35] = 1, ks[153] = 0, Fs[153] = 1, Rs[153] = 1, $s[153] = -1, zs[153] = 0, Vs[153] = 0, Js[153] = 0, Zs[153] = -1, Ks[153] = 0, Ms[153] = 1, Ls[153] = 0, Os[153] = 1, qs[102] = 0, js[102] = -1, Bs[102] = 1, Us[102] = 1, Hs[102] = 0, Gs[102] = 0, Xs[102] = 0, Ys[102] = 1, Ws[102] = 0, Ns[102] = -1, Ps[102] = 0, As[102] = 1, ks[155] = 0, Fs[155] = -1, Rs[155] = 0, $s[155] = 1, zs[155] = 0, Vs[155] = 1, Js[155] = 0, Zs[155] = 1, Ks[155] = 1, Ms[155] = -1, Ls[155] = 0, Os[155] = 0, qs[103] = 0, js[103] = 1, Bs[103] = 0, Us[103] = -1, Hs[103] = 0, Gs[103] = 1, Xs[103] = 0, Ys[103] = -1, Ws[103] = 1, Ns[103] = 1, Ps[103] = 0, As[103] = 0, ks[152] = 0, Fs[152] = 1, Rs[152] = 1, Us[152] = -1, Hs[152] = 0, Gs[152] = 1, $s[152] = -1, zs[152] = 0, Vs[152] = 0, Js[152] = 0, Zs[152] = -1, Ks[152] = 0, Xs[152] = 0, Ys[152] = -1, Ws[152] = 1, Ms[152] = 1, Ls[152] = 0, Os[152] = 1, ks[156] = 0, Fs[156] = -1, Rs[156] = 1, Us[156] = 1, Hs[156] = 0, Gs[156] = 1, $s[156] = -1, zs[156] = 0, Vs[156] = 0, Js[156] = 0, Zs[156] = -1, Ks[156] = 0, Xs[156] = 0, Ys[156] = 1, Ws[156] = 1, Ms[156] = -1, Ls[156] = 0, Os[156] = 1, ks[137] = 0, Fs[137] = 1, Rs[137] = 1, qs[137] = 0, js[137] = 1, Bs[137] = 0, $s[137] = -1, zs[137] = 0, Vs[137] = 0, Js[137] = 0, Zs[137] = -1, Ks[137] = 0, Ns[137] = 1, Ps[137] = 0, As[137] = 0, Ms[137] = 1, Ls[137] = 0, Os[137] = 1, ks[139] = 0, Fs[139] = 1, Rs[139] = 1, qs[139] = 0, js[139] = -1, Bs[139] = 0, $s[139] = 1, zs[139] = 0, Vs[139] = 0, Js[139] = 0, Zs[139] = 1, Ks[139] = 0, Ns[139] = -1, Ps[139] = 0, As[139] = 0, Ms[139] = 1, Ls[139] = 0, Os[139] = 1, ks[98] = 0, Fs[98] = -1, Rs[98] = 0, qs[98] = 0, js[98] = -1, Bs[98] = 1, Us[98] = 1, Hs[98] = 0, Gs[98] = 0, $s[98] = 1, zs[98] = 0, Vs[98] = 1, Xs[98] = 0, Ys[98] = 1, Ws[98] = 0, Ns[98] = -1, Ps[98] = 0, As[98] = 1, ks[99] = 0, Fs[99] = 1, Rs[99] = 0, qs[99] = 0, js[99] = -1, Bs[99] = 1, Us[99] = 1, Hs[99] = 0, Gs[99] = 0, $s[99] = -1, zs[99] = 0, Vs[99] = 1, Xs[99] = 0, Ys[99] = -1, Ws[99] = 0, Ns[99] = 1, Ps[99] = 0, As[99] = 1, qs[38] = 0, js[38] = -1, Bs[38] = 1, Us[38] = 1, Hs[38] = 0, Gs[38] = 0, Js[38] = 0, Zs[38] = 1, Ks[38] = 1, Xs[38] = 0, Ys[38] = 1, Ws[38] = 0, Ns[38] = -1, Ps[38] = 0, As[38] = 1, Ms[38] = -1, Ls[38] = 0, Os[38] = 0, qs[39] = 0, js[39] = 1, Bs[39] = 1, Us[39] = -1, Hs[39] = 0, Gs[39] = 0, Js[39] = 0, Zs[39] = -1, Ks[39] = 1, Xs[39] = 0, Ys[39] = 1, Ws[39] = 0, Ns[39] = -1, Ps[39] = 0, As[39] = 1, Ms[39] = 1, Ls[39] = 0, Os[39] = 0; var Qs = function (t) { return [[t.bottomleft, 0], [0, 0], [0, t.leftbottom]] }, ta = function (t) { return [[1, t.rightbottom], [1, 0], [t.bottomright, 0]] }, ea = function (t) { return [[t.topright, 1], [1, 1], [1, t.righttop]] }, na = function (t) { return [[0, t.lefttop], [0, 1], [t.topleft, 1]] }, ia = function (t) { return [[t.bottomright, 0], [t.bottomleft, 0], [0, t.leftbottom], [0, t.lefttop]] }, ra = function (t) { return [[t.bottomright, 0], [t.bottomleft, 0], [1, t.righttop], [1, t.rightbottom]] }, oa = function (t) { return [[1, t.righttop], [1, t.rightbottom], [t.topleft, 1], [t.topright, 1]] }, sa = function (t) { return [[0, t.leftbottom], [0, t.lefttop], [t.topleft, 1], [t.topright, 1]] }, aa = [], ua = [], la = [], ca = [], ha = [], pa = [], fa = [], da = []; ca[1] = ha[1] = 18, ca[169] = ha[169] = 18, la[4] = ua[4] = 12, la[166] = ua[166] = 12, aa[16] = da[16] = 4, aa[154] = da[154] = 4, pa[64] = fa[64] = 22, pa[106] = fa[106] = 22, la[2] = pa[2] = 17, ca[2] = ha[2] = 18, la[168] = pa[168] = 17, ca[168] = ha[168] = 18, aa[8] = ca[8] = 9, ua[8] = la[8] = 12, aa[162] = ca[162] = 9, ua[162] = la[162] = 12, aa[32] = da[32] = 4, ua[32] = fa[32] = 1, aa[138] = da[138] = 4, ua[138] = fa[138] = 1, ha[128] = da[128] = 21, pa[128] = fa[128] = 22, ha[42] = da[42] = 21, pa[42] = fa[42] = 22, ua[5] = ha[5] = 14, ua[165] = ha[165] = 14, la[20] = da[20] = 6, la[150] = da[150] = 6, aa[80] = pa[80] = 11, aa[90] = pa[90] = 11, ca[65] = fa[65] = 3, ca[105] = fa[105] = 3, aa[160] = pa[160] = 11, ua[160] = ha[160] = 14, aa[10] = pa[10] = 11, ua[10] = ha[10] = 14, la[130] = da[130] = 6, ca[130] = fa[130] = 3, la[40] = da[40] = 6, ca[40] = fa[40] = 3, ua[101] = fa[101] = 1, ua[69] = fa[69] = 1, ha[149] = da[149] = 21, ha[21] = da[21] = 21, la[86] = pa[86] = 17, la[84] = pa[84] = 17, aa[89] = ca[89] = 9, aa[81] = ca[81] = 9, aa[96] = fa[96] = 0, ua[96] = pa[96] = 15, aa[74] = fa[74] = 0, ua[74] = pa[74] = 15, aa[24] = la[24] = 8, ca[24] = da[24] = 7, aa[146] = la[146] = 8, ca[146] = da[146] = 7, ua[6] = pa[6] = 15, la[6] = ha[6] = 16, ua[164] = pa[164] = 15, la[164] = ha[164] = 16, ca[129] = da[129] = 7, ha[129] = fa[129] = 20, ca[41] = da[41] = 7, ha[41] = fa[41] = 20, la[66] = fa[66] = 2, ca[66] = pa[66] = 19, la[104] = fa[104] = 2, ca[104] = pa[104] = 19, aa[144] = ha[144] = 10, pa[144] = da[144] = 23, aa[26] = ha[26] = 10, pa[26] = da[26] = 23, ua[36] = da[36] = 5, la[36] = fa[36] = 2, ua[134] = da[134] = 5, la[134] = fa[134] = 2, aa[9] = ha[9] = 10, ua[9] = ca[9] = 13, aa[161] = ha[161] = 10, ua[161] = ca[161] = 13, ua[37] = da[37] = 5, ha[37] = fa[37] = 20, ua[133] = da[133] = 5, ha[133] = fa[133] = 20, la[148] = ha[148] = 16, pa[148] = da[148] = 23, la[22] = ha[22] = 16, pa[22] = da[22] = 23, aa[82] = la[82] = 8, ca[82] = pa[82] = 19, aa[88] = la[88] = 8, ca[88] = pa[88] = 19, aa[73] = fa[73] = 0, ua[73] = ca[73] = 13, aa[97] = fa[97] = 0, ua[97] = ca[97] = 13, aa[145] = ca[145] = 9, ha[145] = da[145] = 21, aa[25] = ca[25] = 9, ha[25] = da[25] = 21, ua[70] = fa[70] = 1, la[70] = pa[70] = 17, ua[100] = fa[100] = 1, la[100] = pa[100] = 17, aa[34] = ca[34] = 9, ua[34] = la[34] = 12, ha[34] = da[34] = 21, pa[34] = fa[34] = 22, aa[136] = da[136] = 4, ua[136] = fa[136] = 1, la[136] = pa[136] = 17, ca[136] = ha[136] = 18, aa[35] = da[35] = 4, ua[35] = la[35] = 12, ca[35] = ha[35] = 18, pa[35] = fa[35] = 22, aa[153] = da[153] = 4, ca[153] = ha[153] = 18, ua[102] = la[102] = 12, pa[102] = fa[102] = 22, aa[155] = ca[155] = 9, ha[155] = da[155] = 23, ua[103] = fa[103] = 1, la[103] = pa[103] = 17, aa[152] = da[152] = 4, la[152] = pa[152] = 17, ca[152] = ha[152] = 18, aa[156] = la[156] = 8, ca[156] = ha[156] = 18, pa[156] = da[156] = 23, aa[137] = da[137] = 4, ua[137] = fa[137] = 1, ca[137] = ha[137] = 18, aa[139] = da[139] = 4, ua[139] = ca[139] = 13, ha[139] = fa[139] = 20, aa[98] = ca[98] = 9, ua[98] = la[98] = 12, pa[98] = fa[98] = 22, aa[99] = fa[99] = 0, ua[99] = la[99] = 12, ca[99] = pa[99] = 19, ua[38] = la[38] = 12, ha[38] = da[38] = 21, pa[38] = fa[38] = 22, ua[39] = da[39] = 5, la[39] = ha[39] = 16, pa[39] = fa[39] = 22; var ga = []; ga[1] = ga[169] = Qs, ga[4] = ga[166] = ta, ga[16] = ga[154] = ea, ga[64] = ga[106] = na, ga[168] = ga[2] = ia, ga[162] = ga[8] = ra, ga[138] = ga[32] = oa, ga[42] = ga[128] = sa, ga[5] = ga[165] = function (t) { return [[0, 0], [0, t.leftbottom], [1, t.rightbottom], [1, 0]] }, ga[20] = ga[150] = function (t) { return [[1, 0], [t.bottomright, 0], [t.topright, 1], [1, 1]] }, ga[80] = ga[90] = function (t) { return [[1, 1], [1, t.righttop], [0, t.lefttop], [0, 1]] }, ga[65] = ga[105] = function (t) { return [[t.bottomleft, 0], [0, 0], [0, 1], [t.topleft, 1]] }, ga[160] = ga[10] = function (t) { return [[1, t.righttop], [1, t.rightbottom], [0, t.leftbottom], [0, t.lefttop]] }, ga[130] = ga[40] = function (t) { return [[t.topleft, 1], [t.topright, 1], [t.bottomright, 0], [t.bottomleft, 0]] }, ga[85] = function () { return [[0, 0], [0, 1], [1, 1], [1, 0]] }, ga[101] = ga[69] = function (t) { return [[1, t.rightbottom], [1, 0], [0, 0], [0, 1], [t.topleft, 1]] }, ga[149] = ga[21] = function (t) { return [[t.topright, 1], [1, 1], [1, 0], [0, 0], [0, t.leftbottom]] }, ga[86] = ga[84] = function (t) { return [[1, 0], [t.bottomright, 0], [0, t.lefttop], [0, 1], [1, 1]] }, ga[89] = ga[81] = function (t) { return [[1, 1], [1, t.righttop], [t.bottomleft, 0], [0, 0], [0, 1]] }, ga[96] = ga[74] = function (t) { return [[1, t.righttop], [1, t.rightbottom], [0, t.lefttop], [0, 1], [t.topleft, 1]] }, ga[24] = ga[146] = function (t) { return [[1, 1], [1, t.righttop], [t.bottomright, 0], [t.bottomleft, 0], [t.topright, 1]] }, ga[6] = ga[164] = function (t) { return [[1, t.rightbottom], [1, 0], [t.bottomright, 0], [0, t.leftbottom], [0, t.lefttop]] }, ga[129] = ga[41] = function (t) { return [[t.topright, 1], [t.bottomleft, 0], [0, 0], [0, t.leftbottom], [t.topleft, 1]] }, ga[66] = ga[104] = function (t) { return [[t.bottomright, 0], [t.bottomleft, 0], [0, t.lefttop], [0, 1], [t.topleft, 1]] }, ga[144] = ga[26] = function (t) { return [[1, 1], [1, t.righttop], [0, t.leftbottom], [0, t.lefttop], [t.topright, 1]] }, ga[36] = ga[134] = function (t) { return [[1, t.rightbottom], [1, 0], [t.bottomright, 0], [t.topleft, 1], [t.topright, 1]] }, ga[9] = ga[161] = function (t) { return [[1, t.righttop], [1, t.rightbottom], [t.bottomleft, 0], [0, 0], [0, t.leftbottom]] }, ga[37] = ga[133] = function (t) { return [[1, t.rightbottom], [1, 0], [0, 0], [0, t.leftbottom], [t.topleft, 1], [t.topright, 1]] }, ga[148] = ga[22] = function (t) { return [[1, 1], [1, 0], [t.bottomright, 0], [0, t.leftbottom], [0, t.lefttop], [t.topright, 1]] }, ga[82] = ga[88] = function (t) { return [[1, 1], [1, t.righttop], [t.bottomright, 0], [t.bottomleft, 0], [0, t.lefttop], [0, 1]] }, ga[73] = ga[97] = function (t) { return [[1, t.righttop], [1, t.rightbottom], [t.bottomleft, 0], [0, 0], [0, 1], [t.topleft, 1]] }, ga[145] = ga[25] = function (t) { return [[1, 1], [1, t.righttop], [t.bottomleft, 0], [0, 0], [0, t.leftbottom], [t.topright, 1]] }, ga[70] = ga[100] = function (t) { return [[1, t.rightbottom], [1, 0], [t.bottomright, 0], [0, t.lefttop], [0, 1], [t.topleft, 1]] }, ga[34] = function (t) { return [sa(t), ra(t)] }, ga[35] = function (t) { return [[1, t.righttop], [1, t.rightbottom], [t.bottomright, 0], [t.bottomleft, 0], [0, t.leftbottom], [0, t.lefttop], [t.topleft, 1], [t.topright, 1]] }, ga[136] = function (t) { return [oa(t), ia(t)] }, ga[153] = function (t) { return [ea(t), Qs(t)] }, ga[102] = function (t) { return [ta(t), na(t)] }, ga[155] = function (t) { return [[1, 1], [1, t.righttop], [t.bottomleft, 0], [0, 0], [0, t.leftbottom], [t.topright, 1]] }, ga[103] = function (t) { return [[1, t.rightbottom], [1, 0], [t.bottomright, 0], [0, t.lefttop], [0, 1], [t.topleft, 1]] }, ga[152] = function (t) { return [ea(t), ia(t)] }, ga[156] = function (t) { return [[1, 1], [1, t.righttop], [t.bottomright, 0], [t.bottomleft, 0], [0, t.leftbottom], [0, t.lefttop], [t.topright, 1]] }, ga[137] = function (t) { return [oa(t), Qs(t)] }, ga[139] = function (t) { return [[1, t.righttop], [1, t.rightbottom], [t.bottomleft, 0], [0, 0], [0, t.leftbottom], [t.topleft, 1], [t.topright, 1]] }, ga[98] = function (t) { return [ra(t), na(t)] }, ga[99] = function (t) { return [[1, t.righttop], [1, t.rightbottom], [t.bottomright, 0], [t.bottomleft, 0], [0, t.lefttop], [0, 1], [t.topleft, 1]] }, ga[38] = function (t) { return [ta(t), sa(t)] }, ga[39] = function (t) { return [[1, t.rightbottom], [1, 0], [t.bottomright, 0], [0, t.leftbottom], [0, t.lefttop], [t.topleft, 1], [t.topright, 1]] }; var ya = function t(e) { this.id = t.buildId(e), this.coordinates = e, this.innerEdges = [], this.outerEdges = [], this.outerEdgesSorted = !1 }; ya.buildId = function (t) { return t.join(",") }, ya.prototype.removeInnerEdge = function (t) { this.innerEdges = this.innerEdges.filter((function (e) { return e.from.id !== t.from.id })) }, ya.prototype.removeOuterEdge = function (t) { this.outerEdges = this.outerEdges.filter((function (e) { return e.to.id !== t.to.id })) }, ya.prototype.addOuterEdge = function (t) { this.outerEdges.push(t), this.outerEdgesSorted = !1 }, ya.prototype.sortOuterEdges = function () { var t = this; this.outerEdgesSorted || (this.outerEdges.sort((function (e, n) { var i = e.to, r = n.to; if (i.coordinates[0] - t.coordinates[0] >= 0 && r.coordinates[0] - t.coordinates[0] < 0) return 1; if (i.coordinates[0] - t.coordinates[0] < 0 && r.coordinates[0] - t.coordinates[0] >= 0) return -1; if (i.coordinates[0] - t.coordinates[0] == 0 && r.coordinates[0] - t.coordinates[0] == 0) return i.coordinates[1] - t.coordinates[1] >= 0 || r.coordinates[1] - t.coordinates[1] >= 0 ? i.coordinates[1] - r.coordinates[1] : r.coordinates[1] - i.coordinates[1]; var o = ui(t.coordinates, i.coordinates, r.coordinates); return o < 0 ? 1 : o > 0 ? -1 : Math.pow(i.coordinates[0] - t.coordinates[0], 2) + Math.pow(i.coordinates[1] - t.coordinates[1], 2) - (Math.pow(r.coordinates[0] - t.coordinates[0], 2) + Math.pow(r.coordinates[1] - t.coordinates[1], 2)) })), this.outerEdgesSorted = !0) }, ya.prototype.getOuterEdges = function () { return this.sortOuterEdges(), this.outerEdges }, ya.prototype.getOuterEdge = function (t) { return this.sortOuterEdges(), this.outerEdges[t] }, ya.prototype.addInnerEdge = function (t) { this.innerEdges.push(t) }; var ma = function (t, e) { this.from = t, this.to = e, this.next = void 0, this.label = void 0, this.symetric = void 0, this.ring = void 0, this.from.addOuterEdge(this), this.to.addInnerEdge(this) }; ma.prototype.getSymetric = function () { return this.symetric || (this.symetric = new ma(this.to, this.from), this.symetric.symetric = this), this.symetric }, ma.prototype.deleteEdge = function () { this.from.removeOuterEdge(this), this.to.removeInnerEdge(this) }, ma.prototype.isEqual = function (t) { return this.from.id === t.from.id && this.to.id === t.to.id }, ma.prototype.toString = function () { return "Edge { " + this.from.id + " -> " + this.to.id + " }" }, ma.prototype.toLineString = function () { return a([this.from.coordinates, this.to.coordinates]) }, ma.prototype.compareTo = function (t) { return ui(t.from.coordinates, t.to.coordinates, this.to.coordinates) }; var va = function () { this.edges = [], this.polygon = void 0, this.envelope = void 0 }, _a = { length: { configurable: !0 } }; va.prototype.push = function (t) { this[this.edges.length] = t, this.edges.push(t), this.polygon = this.envelope = void 0 }, va.prototype.get = function (t) { return this.edges[t] }, _a.length.get = function () { return this.edges.length }, va.prototype.forEach = function (t) { this.edges.forEach(t) }, va.prototype.map = function (t) { return this.edges.map(t) }, va.prototype.some = function (t) { return this.edges.some(t) }, va.prototype.isValid = function () { return !0 }, va.prototype.isHole = function () { var t = this, e = this.edges.reduce((function (e, n, i) { return n.from.coordinates[1] > t.edges[e].from.coordinates[1] && (e = i), e }), 0), n = (0 === e ? this.length : e) - 1, i = (e + 1) % this.length, r = ui(this.edges[n].from.coordinates, this.edges[e].from.coordinates, this.edges[i].from.coordinates); return 0 === r ? this.edges[n].from.coordinates[0] > this.edges[i].from.coordinates[0] : r > 0 }, va.prototype.toMultiPoint = function () { return h(this.edges.map((function (t) { return t.from.coordinates }))) }, va.prototype.toPolygon = function () { if (this.polygon) return this.polygon; var t = this.edges.map((function (t) { return t.from.coordinates })); return t.push(this.edges[0].from.coordinates), this.polygon = o([t]) }, va.prototype.getEnvelope = function () { return this.envelope ? this.envelope : this.envelope = re(this.toPolygon()) }, va.findEdgeRingContaining = function (t, e) { var n, r, o = t.getEnvelope(); return e.forEach((function (e) { var s = e.getEnvelope(); if (r && (n = r.getEnvelope()), !function (t, e) { var n = t.geometry.coordinates.map((function (t) { return t[0] })), i = t.geometry.coordinates.map((function (t) { return t[1] })), r = e.geometry.coordinates.map((function (t) { return t[0] })), o = e.geometry.coordinates.map((function (t) { return t[1] })); return Math.max(null, n) === Math.max(null, r) && Math.max(null, i) === Math.max(null, o) && Math.min(null, n) === Math.min(null, r) && Math.min(null, i) === Math.min(null, o) }(s, o) && li(s, o)) { var a = t.map((function (t) { return t.from.coordinates })).find((function (t) { return !e.some((function (e) { return function (t, e) { return t[0] === e[0] && t[1] === e[1] }(t, e.from.coordinates) })) })); a && e.inside(i(a)) && (r && !li(n, s) || (r = e)) } })), r }, va.prototype.inside = function (t) { return It(t, this.toPolygon()) }, Object.defineProperties(va.prototype, _a); var ba = function () { this.edges = [], this.nodes = {} }; ba.fromGeoJson = function (t) { !function (t) { if (!t) throw new Error("No geojson passed"); if ("FeatureCollection" !== t.type && "GeometryCollection" !== t.type && "MultiLineString" !== t.type && "LineString" !== t.type && "Feature" !== t.type) throw new Error("Invalid input type '" + t.type + "'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature") }(t); var e = new ba; return F(t, (function (t) { X(t, "LineString", "Graph::fromGeoJson"), I(t, (function (t, n) { if (t) { var i = e.getNode(t), r = e.getNode(n); e.addEdge(i, r) } return n })) })), e }, ba.prototype.getNode = function (t) { var e = ya.buildId(t), n = this.nodes[e]; return n || (n = this.nodes[e] = new ya(t)), n }, ba.prototype.addEdge = function (t, e) { var n = new ma(t, e), i = n.getSymetric(); this.edges.push(n), this.edges.push(i) }, ba.prototype.deleteDangles = function () { var t = this; Object.keys(this.nodes).map((function (e) { return t.nodes[e] })).forEach((function (e) { return t._removeIfDangle(e) })) }, ba.prototype._removeIfDangle = function (t) { var e = this; if (t.innerEdges.length <= 1) { var n = t.getOuterEdges().map((function (t) { return t.to })); this.removeNode(t), n.forEach((function (t) { return e._removeIfDangle(t) })) } }, ba.prototype.deleteCutEdges = function () { var t = this; this._computeNextCWEdges(), this._findLabeledEdgeRings(), this.edges.forEach((function (e) { e.label === e.symetric.label && (t.removeEdge(e.symetric), t.removeEdge(e)) })) }, ba.prototype._computeNextCWEdges = function (t) { var e = this; void 0 === t ? Object.keys(this.nodes).forEach((function (t) { return e._computeNextCWEdges(e.nodes[t]) })) : t.getOuterEdges().forEach((function (e, n) { t.getOuterEdge((0 === n ? t.getOuterEdges().length : n) - 1).symetric.next = e })) }, ba.prototype._computeNextCCWEdges = function (t, e) { for (var n, i, r = t.getOuterEdges(), o = r.length - 1; o >= 0; --o) { var s = r[o], a = s.symetric, u = void 0, l = void 0; s.label === e && (u = s), a.label === e && (l = a), u && l && (l && (i = l), u && (i && (i.next = u, i = void 0), n || (n = u))) } i && (i.next = n) }, ba.prototype._findLabeledEdgeRings = function () { var t = [], e = 0; return this.edges.forEach((function (n) { if (!(n.label >= 0)) { t.push(n); var i = n; do { i.label = e, i = i.next } while (!n.isEqual(i)); e++ } })), t }, ba.prototype.getEdgeRings = function () { var t = this; this._computeNextCWEdges(), this.edges.forEach((function (t) { t.label = void 0 })), this._findLabeledEdgeRings().forEach((function (e) { t._findIntersectionNodes(e).forEach((function (n) { t._computeNextCCWEdges(n, e.label) })) })); var e = []; return this.edges.forEach((function (n) { n.ring || e.push(t._findEdgeRing(n)) })), e }, ba.prototype._findIntersectionNodes = function (t) { var e = [], n = t, i = function () { var i = 0; n.from.getOuterEdges().forEach((function (e) { e.label === t.label && ++i })), i > 1 && e.push(n.from), n = n.next }; do { i() } while (!t.isEqual(n)); return e }, ba.prototype._findEdgeRing = function (t) { var e = t, n = new va; do { n.push(e), e.ring = n, e = e.next } while (!t.isEqual(e)); return n }, ba.prototype.removeNode = function (t) { var e = this; t.getOuterEdges().forEach((function (t) { return e.removeEdge(t) })), t.innerEdges.forEach((function (t) { return e.removeEdge(t) })), delete this.nodes[t.id] }, ba.prototype.removeEdge = function (t) { this.edges = this.edges.filter((function (e) { return !e.isEqual(t) })), t.deleteEdge() }; var wa = yt((function (t, e) { function n(t) { var e = []; for (var n in t) e.push(n); return e } (t.exports = "function" == typeof Object.keys ? Object.keys : n).shim = n })), xa = (wa.shim, yt((function (t, e) { function n(t) { return "[object Arguments]" == Object.prototype.toString.call(t) } function i(t) { return t && "object" == typeof t && "number" == typeof t.length && Object.prototype.hasOwnProperty.call(t, "callee") && !Object.prototype.propertyIsEnumerable.call(t, "callee") || !1 } var r = "[object Arguments]" == function () { return Object.prototype.toString.call(arguments) }(); (e = t.exports = r ? n : i).supported = n, e.unsupported = i }))), Ea = (xa.supported, xa.unsupported, yt((function (t) { function e(t) { return null == t } function n(t) { return !(!t || "object" != typeof t || "number" != typeof t.length || "function" != typeof t.copy || "function" != typeof t.slice || t.length > 0 && "number" != typeof t[0]) } var i = Array.prototype.slice, r = t.exports = function (t, o, s) { return s || (s = {}), t === o || (t instanceof Date && o instanceof Date ? t.getTime() === o.getTime() : !t || !o || "object" != typeof t && "object" != typeof o ? s.strict ? t === o : t == o : function (t, o, s) { var a, u; if (e(t) || e(o)) return !1; if (t.prototype !== o.prototype) return !1; if (xa(t)) return !!xa(o) && (t = i.call(t), o = i.call(o), r(t, o, s)); if (n(t)) { if (!n(o)) return !1; if (t.length !== o.length) return !1; for (a = 0; a < t.length; a++)if (t[a] !== o[a]) return !1; return !0 } try { var l = wa(t), c = wa(o) } catch (t) { return !1 } if (l.length != c.length) return !1; for (l.sort(), c.sort(), a = l.length - 1; a >= 0; a--)if (l[a] != c[a]) return !1; for (a = l.length - 1; a >= 0; a--)if (u = l[a], !r(t[u], o[u], s)) return !1; return typeof t == typeof o }(t, o, s)) } }))), Ca = function (t) { this.precision = t && t.precision ? t.precision : 17, this.direction = !(!t || !t.direction) && t.direction, this.pseudoNode = !(!t || !t.pseudoNode) && t.pseudoNode, this.objectComparator = t && t.objectComparator ? t.objectComparator : bi }; Ca.prototype.compare = function (t, e) { if (t.type !== e.type || !_i(t, e)) return !1; switch (t.type) { case "Point": return this.compareCoord(t.coordinates, e.coordinates); case "LineString": return this.compareLine(t.coordinates, e.coordinates, 0, !1); case "Polygon": return this.comparePolygon(t, e); case "Feature": return this.compareFeature(t, e); default: if (0 === t.type.indexOf("Multi")) { var n = this, i = vi(t), r = vi(e); return i.every((function (t) { return this.some((function (e) { return n.compare(t, e) })) }), r) } }return !1 }, Ca.prototype.compareCoord = function (t, e) { if (t.length !== e.length) return !1; for (var n = 0; n < t.length; n++)if (t[n].toFixed(this.precision) !== e[n].toFixed(this.precision)) return !1; return !0 }, Ca.prototype.compareLine = function (t, e, n, i) { if (!_i(t, e)) return !1; var r = this.pseudoNode ? t : this.removePseudo(t), o = this.pseudoNode ? e : this.removePseudo(e); if (!i || this.compareCoord(r[0], o[0]) || (o = this.fixStartIndex(o, r))) { var s = this.compareCoord(r[n], o[n]); return this.direction || s ? this.comparePath(r, o) : !!this.compareCoord(r[n], o[o.length - (1 + n)]) && this.comparePath(r.slice().reverse(), o) } }, Ca.prototype.fixStartIndex = function (t, e) { for (var n, i = -1, r = 0; r < t.length; r++)if (this.compareCoord(t[r], e[0])) { i = r; break } return i >= 0 && (n = [].concat(t.slice(i, t.length), t.slice(1, i + 1))), n }, Ca.prototype.comparePath = function (t, e) { var n = this; return t.every((function (t, e) { return n.compareCoord(t, this[e]) }), e) }, Ca.prototype.comparePolygon = function (t, e) { if (this.compareLine(t.coordinates[0], e.coordinates[0], 1, !0)) { var n = t.coordinates.slice(1, t.coordinates.length), i = e.coordinates.slice(1, e.coordinates.length), r = this; return n.every((function (t) { return this.some((function (e) { return r.compareLine(t, e, 1, !0) })) }), i) } return !1 }, Ca.prototype.compareFeature = function (t, e) { return !(t.id !== e.id || !this.objectComparator(t.properties, e.properties) || !this.compareBBox(t, e)) && this.compare(t.geometry, e.geometry) }, Ca.prototype.compareBBox = function (t, e) { return !!(!t.bbox && !e.bbox || t.bbox && e.bbox && this.compareCoord(t.bbox, e.bbox)) }, Ca.prototype.removePseudo = function (t) { return t }; var Da = Ca, Sa = yt((function (t) { function e(t, e, n, i) { this.dataset = [], this.epsilon = 1, this.minPts = 2, this.distance = this._euclideanDistance, this.clusters = [], this.noise = [], this._visited = [], this._assigned = [], this._datasetLength = 0, this._init(t, e, n, i) } e.prototype.run = function (t, e, n, i) { this._init(t, e, n, i); for (var r = 0; r < this._datasetLength; r++)if (1 !== this._visited[r]) { this._visited[r] = 1; var o = this._regionQuery(r); if (o.length < this.minPts) this.noise.push(r); else { var s = this.clusters.length; this.clusters.push([]), this._addToCluster(r, s), this._expandCluster(s, o) } } return this.clusters }, e.prototype._init = function (t, e, n, i) { if (t) { if (!(t instanceof Array)) throw Error("Dataset must be of type array, " + typeof t + " given"); this.dataset = t, this.clusters = [], this.noise = [], this._datasetLength = t.length, this._visited = new Array(this._datasetLength), this._assigned = new Array(this._datasetLength) } e && (this.epsilon = e), n && (this.minPts = n), i && (this.distance = i) }, e.prototype._expandCluster = function (t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; if (1 !== this._visited[i]) { this._visited[i] = 1; var r = this._regionQuery(i); r.length >= this.minPts && (e = this._mergeArrays(e, r)) } 1 !== this._assigned[i] && this._addToCluster(i, t) } }, e.prototype._addToCluster = function (t, e) { this.clusters[e].push(t), this._assigned[t] = 1 }, e.prototype._regionQuery = function (t) { for (var e = [], n = 0; n < this._datasetLength; n++)this.distance(this.dataset[t], this.dataset[n]) < this.epsilon && e.push(n); return e }, e.prototype._mergeArrays = function (t, e) { for (var n = e.length, i = 0; i < n; i++) { var r = e[i]; t.indexOf(r) < 0 && t.push(r) } return t }, e.prototype._euclideanDistance = function (t, e) { for (var n = 0, i = Math.min(t.length, e.length); i--;)n += (t[i] - e[i]) * (t[i] - e[i]); return Math.sqrt(n) }, t.exports && (t.exports = e) })), Ta = yt((function (t) { function e(t, e, n) { this.k = 3, this.dataset = [], this.assignments = [], this.centroids = [], this.init(t, e, n) } e.prototype.init = function (t, e, n) { this.assignments = [], this.centroids = [], void 0 !== t && (this.dataset = t), void 0 !== e && (this.k = e), void 0 !== n && (this.distance = n) }, e.prototype.run = function (t, e) { this.init(t, e); for (var n = this.dataset.length, i = 0; i < this.k; i++)this.centroids[i] = this.randomCentroid(); for (var r = !0; r;) { r = this.assign(); for (var o = 0; o < this.k; o++) { for (var s = new Array(c), a = 0, u = 0; u < c; u++)s[u] = 0; for (var l = 0; l < n; l++) { var c = this.dataset[l].length; if (o === this.assignments[l]) { for (u = 0; u < c; u++)s[u] += this.dataset[l][u]; a++ } } if (a > 0) { for (u = 0; u < c; u++)s[u] /= a; this.centroids[o] = s } else this.centroids[o] = this.randomCentroid(), r = !0 } } return this.getClusters() }, e.prototype.randomCentroid = function () { var t, e, n = this.dataset.length - 1; do { e = Math.round(Math.random() * n), t = this.dataset[e] } while (this.centroids.indexOf(t) >= 0); return t }, e.prototype.assign = function () { for (var t, e = !1, n = this.dataset.length, i = 0; i < n; i++)(t = this.argmin(this.dataset[i], this.centroids, this.distance)) != this.assignments[i] && (this.assignments[i] = t, e = !0); return e }, e.prototype.getClusters = function () { for (var t, e = new Array(this.k), n = 0; n < this.assignments.length; n++)void 0 === e[t = this.assignments[n]] && (e[t] = []), e[t].push(n); return e }, e.prototype.argmin = function (t, e, n) { for (var i, r = Number.MAX_VALUE, o = 0, s = e.length, a = 0; a < s; a++)(i = n(t, e[a])) < r && (r = i, o = a); return o }, e.prototype.distance = function (t, e) { for (var n = 0, i = Math.min(t.length, e.length); i--;) { var r = t[i] - e[i]; n += r * r } return Math.sqrt(n) }, t.exports && (t.exports = e) })), Ia = yt((function (t) { function e(t, e, n) { this._queue = [], this._priorities = [], this._sorting = "desc", this._init(t, e, n) } e.prototype.insert = function (t, e) { for (var n = this._queue.length, i = n; i--;) { var r = this._priorities[i]; "desc" === this._sorting ? e > r && (n = i) : e < r && (n = i) } this._insertAt(t, e, n) }, e.prototype.remove = function (t) { for (var e = this._queue.length; e--;)if (t === this._queue[e]) { this._queue.splice(e, 1), this._priorities.splice(e, 1); break } }, e.prototype.forEach = function (t) { this._queue.forEach(t) }, e.prototype.getElements = function () { return this._queue }, e.prototype.getElementPriority = function (t) { return this._priorities[t] }, e.prototype.getPriorities = function () { return this._priorities }, e.prototype.getElementsWithPriorities = function () { for (var t = [], e = 0, n = this._queue.length; e < n; e++)t.push([this._queue[e], this._priorities[e]]); return t }, e.prototype._init = function (t, e, n) { if (t && e) { if (this._queue = [], this._priorities = [], t.length !== e.length) throw new Error("Arrays must have the same length"); for (var i = 0; i < t.length; i++)this.insert(t[i], e[i]) } n && (this._sorting = n) }, e.prototype._insertAt = function (t, e, n) { this._queue.length === n ? (this._queue.push(t), this._priorities.push(e)) : (this._queue.splice(n, 0, t), this._priorities.splice(n, 0, e)) }, t.exports && (t.exports = e) })), Na = yt((function (t) { function e(t, e, n, i) { this.epsilon = 1, this.minPts = 1, this.distance = this._euclideanDistance, this._reachability = [], this._processed = [], this._coreDistance = 0, this._orderedList = [], this._init(t, e, n, i) } if (t.exports) var n = Ia; e.prototype.run = function (t, e, i, r) { this._init(t, e, i, r); for (var o = 0, s = this.dataset.length; o < s; o++)if (1 !== this._processed[o]) { this._processed[o] = 1, this.clusters.push([o]); var a = this.clusters.length - 1; this._orderedList.push(o); var u = new n(null, null, "asc"), l = this._regionQuery(o); void 0 !== this._distanceToCore(o) && (this._updateQueue(o, l, u), this._expandCluster(a, u)) } return this.clusters }, e.prototype.getReachabilityPlot = function () { for (var t = [], e = 0, n = this._orderedList.length; e < n; e++) { var i = this._orderedList[e], r = this._reachability[i]; t.push([i, r]) } return t }, e.prototype._init = function (t, e, n, i) { if (t) { if (!(t instanceof Array)) throw Error("Dataset must be of type array, " + typeof t + " given"); this.dataset = t, this.clusters = [], this._reachability = new Array(this.dataset.length), this._processed = new Array(this.dataset.length), this._coreDistance = 0, this._orderedList = [] } e && (this.epsilon = e), n && (this.minPts = n), i && (this.distance = i) }, e.prototype._updateQueue = function (t, e, n) { var i = this; this._coreDistance = this._distanceToCore(t), e.forEach((function (e) { if (void 0 === i._processed[e]) { var r = i.distance(i.dataset[t], i.dataset[e]), o = Math.max(i._coreDistance, r); void 0 === i._reachability[e] ? (i._reachability[e] = o, n.insert(e, o)) : o < i._reachability[e] && (i._reachability[e] = o, n.remove(e), n.insert(e, o)) } })) }, e.prototype._expandCluster = function (t, e) { for (var n = e.getElements(), i = 0, r = n.length; i < r; i++) { var o = n[i]; if (void 0 === this._processed[o]) { var s = this._regionQuery(o); this._processed[o] = 1, this.clusters[t].push(o), this._orderedList.push(o), void 0 !== this._distanceToCore(o) && (this._updateQueue(o, s, e), this._expandCluster(t, e)) } } }, e.prototype._distanceToCore = function (t) { for (var e = this.epsilon, n = 0; n < e; n++)if (this._regionQuery(t, n).length >= this.minPts) return n }, e.prototype._regionQuery = function (t, e) { e = e || this.epsilon; for (var n = [], i = 0, r = this.dataset.length; i < r; i++)this.distance(this.dataset[t], this.dataset[i]) < e && n.push(i); return n }, e.prototype._euclideanDistance = function (t, e) { for (var n = 0, i = Math.min(t.length, e.length); i--;)n += (t[i] - e[i]) * (t[i] - e[i]); return Math.sqrt(n) }, t.exports && (t.exports = e) })), Pa = yt((function (t) { t.exports && (t.exports = { DBSCAN: Sa, KMEANS: Ta, OPTICS: Na, PriorityQueue: Ia }) })), Aa = (Pa.DBSCAN, Pa.KMEANS, Pa.OPTICS, Pa.PriorityQueue, function (t, e, n) { for (var i = t.length, r = 0, o = 0; o < i; o++) { var s = (t[o] || 0) - (e[o] || 0); r += s * s } return n ? Math.sqrt(r) : r }), Ma = Aa, La = function (t, e, n) { var i = Math.abs(t - e); return n ? i : i * i }, Oa = Aa, ka = function (t, e, n, i) { var r = [], o = [], s = [], a = [], u = !1, l = i || 1e4, c = t.length, h = t[0].length, p = h > 0, f = []; if (n) r = "kmrand" == n ? function (t, e) { for (var n = {}, i = [], r = e << 2, o = t.length, s = t[0].length > 0; i.length < e && r-- > 0;) { var a = t[Math.floor(Math.random() * o)], u = s ? a.join("_") : "" + a; n[u] || (n[u] = !0, i.push(a)) } if (i.length < e) throw new Error("Error initializating clusters"); return i }(t, e) : "kmpp" == n ? function (t, e) { var n = t[0].length ? Ma : La, i = [], r = t.length, o = t[0].length > 0, s = t[Math.floor(Math.random() * r)]; for (o && s.join("_"), i.push(s); i.length < e;) { for (var a = [], u = i.length, l = 0, c = [], h = 0; h < r; h++) { for (var p = 1 / 0, f = 0; f < u; f++) { var d = n(t[h], i[f]); d <= p && (p = d) } a[h] = p } for (var g = 0; g < r; g++)l += a[g]; for (var y = 0; y < r; y++)c[y] = { i: y, v: t[y], pr: a[y] / l, cs: 0 }; c.sort((function (t, e) { return t.pr - e.pr })), c[0].cs = c[0].pr; for (var m = 1; m < r; m++)c[m].cs = c[m - 1].cs + c[m].pr; for (var v = Math.random(), _ = 0; _ < r - 1 && c[_++].cs < v;); i.push(c[_ - 1].v) } return i }(t, e) : n; else for (var d = {}; r.length < e;) { var g = Math.floor(Math.random() * c); d[g] || (d[g] = !0, r.push(t[g])) } do { xi(e, 0, f); for (var y = 0; y < c; y++) { for (var m = 1 / 0, v = 0, _ = 0; _ < e; _++)(a = p ? Oa(t[y], r[_]) : Math.abs(t[y] - r[_])) <= m && (m = a, v = _); s[y] = v, f[v]++ } for (var b = [], w = (o = [], 0); w < e; w++)b[w] = p ? xi(h, 0, b[w]) : 0, o[w] = r[w]; if (p) { for (var x = 0; x < e; x++)r[x] = []; for (var E = 0; E < c; E++)for (var C = b[s[E]], D = t[E], S = 0; S < h; S++)C[S] += D[S]; u = !0; for (var T = 0; T < e; T++) { for (var I = r[T], N = b[T], P = o[T], A = f[T], M = 0; M < h; M++)I[M] = N[M] / A || 0; if (u) for (var L = 0; L < h; L++)if (P[L] != I[L]) { u = !1; break } } } else { for (var O = 0; O < c; O++)b[s[O]] += t[O]; for (var k = 0; k < e; k++)r[k] = b[k] / f[k] || 0; u = !0; for (var F = 0; F < e; F++)if (o[F] != r[F]) { u = !1; break } } u = u || --l <= 0 } while (!u); return { it: 1e4 - l, k: e, idxs: s, centroids: r } }, Fa = { search: function (t, e, n, i) { t.cleanDirty(); var r = (i = i || {}).heuristic || Fa.heuristics.manhattan, o = i.closest || !1, s = new Ti((function (t) { return t.f })), a = e; for (e.h = r(e, n), s.push(e); s.size() > 0;) { var u = s.pop(); if (u === n) return Ci(u); u.closed = !0; for (var l = t.neighbors(u), c = 0, h = l.length; c < h; ++c) { var p = l[c]; if (!p.closed && !p.isWall()) { var f = u.g + p.getCost(u), d = p.visited; (!d || f < p.g) && (p.visited = !0, p.parent = u, p.h = p.h || r(p, n), p.g = f, p.f = p.g + p.h, t.markDirty(p), o && (p.h < a.h || p.h === a.h && p.g < a.g) && (a = p), d ? s.rescoreElement(p) : s.push(p)) } } } return o ? Ci(a) : [] }, heuristics: { manhattan: function (t, e) { return Math.abs(e.x - t.x) + Math.abs(e.y - t.y) }, diagonal: function (t, e) { var n = Math.sqrt(2), i = Math.abs(e.x - t.x), r = Math.abs(e.y - t.y); return 1 * (i + r) + (n - 2) * Math.min(i, r) } }, cleanNode: function (t) { t.f = 0, t.g = 0, t.h = 0, t.visited = !1, t.closed = !1, t.parent = null } }; Di.prototype.init = function () { this.dirtyNodes = []; for (var t = 0; t < this.nodes.length; t++)Fa.cleanNode(this.nodes[t]) }, Di.prototype.cleanDirty = function () { for (var t = 0; t < this.dirtyNodes.length; t++)Fa.cleanNode(this.dirtyNodes[t]); this.dirtyNodes = [] }, Di.prototype.markDirty = function (t) { this.dirtyNodes.push(t) }, Di.prototype.neighbors = function (t) { var e = [], n = t.x, i = t.y, r = this.grid; return r[n - 1] && r[n - 1][i] && e.push(r[n - 1][i]), r[n + 1] && r[n + 1][i] && e.push(r[n + 1][i]), r[n] && r[n][i - 1] && e.push(r[n][i - 1]), r[n] && r[n][i + 1] && e.push(r[n][i + 1]), this.diagonal && (r[n - 1] && r[n - 1][i - 1] && e.push(r[n - 1][i - 1]), r[n + 1] && r[n + 1][i - 1] && e.push(r[n + 1][i - 1]), r[n - 1] && r[n - 1][i + 1] && e.push(r[n - 1][i + 1]), r[n + 1] && r[n + 1][i + 1] && e.push(r[n + 1][i + 1])), e }, Di.prototype.toString = function () { for (var t, e, n, i, r = [], o = this.grid, s = 0, a = o.length; s < a; s++) { for (t = [], n = 0, i = (e = o[s]).length; n < i; n++)t.push(e[n].weight); r.push(t.join(" ")) } return r.join("\n") }, Si.prototype.toString = function () { return "[" + this.x + " " + this.y + "]" }, Si.prototype.getCost = function (t) { return t && t.x !== this.x && t.y !== this.y ? 1.41421 * this.weight : this.weight }, Si.prototype.isWall = function () { return 0 === this.weight }, Ti.prototype = { push: function (t) { this.content.push(t), this.sinkDown(this.content.length - 1) }, pop: function () { var t = this.content[0], e = this.content.pop(); return this.content.length > 0 && (this.content[0] = e, this.bubbleUp(0)), t }, remove: function (t) { var e = this.content.indexOf(t), n = this.content.pop(); e !== this.content.length - 1 && (this.content[e] = n, this.scoreFunction(n) < this.scoreFunction(t) ? this.sinkDown(e) : this.bubbleUp(e)) }, size: function () { return this.content.length }, rescoreElement: function (t) { this.sinkDown(this.content.indexOf(t)) }, sinkDown: function (t) { for (var e = this.content[t]; t > 0;) { var n = (t + 1 >> 1) - 1, i = this.content[n]; if (!(this.scoreFunction(e) < this.scoreFunction(i))) break; this.content[n] = e, this.content[t] = i, t = n } }, bubbleUp: function (t) { for (var e = this.content.length, n = this.content[t], i = this.scoreFunction(n); ;) { var r, o = t + 1 << 1, s = o - 1, a = null; if (s < e) { var u = this.content[s]; (r = this.scoreFunction(u)) < i && (a = s) } if (o < e) { var l = this.content[o]; this.scoreFunction(l) < (null === a ? i : r) && (a = o) } if (null === a) break; this.content[t] = this.content[a], this.content[a] = n, t = a } } }; var Ra = function (t) { return function () { return t } }; Pi.prototype = { constructor: Pi, insert: function (t, e) { var n, i, r; if (t) { if (e.P = t, e.N = t.N, t.N && (t.N.P = e), t.N = e, t.R) { for (t = t.R; t.L;)t = t.L; t.L = e } else t.R = e; n = t } else this._ ? (t = Oi(this._), e.P = null, e.N = t, t.P = t.L = e, n = t) : (e.P = e.N = null, this._ = e, n = null); for (e.L = e.R = null, e.U = n, e.C = !0, t = e; n && n.C;)n === (i = n.U).L ? (r = i.R) && r.C ? (n.C = r.C = !1, i.C = !0, t = i) : (t === n.R && (Mi(this, n), n = (t = n).U), n.C = !1, i.C = !0, Li(this, i)) : (r = i.L) && r.C ? (n.C = r.C = !1, i.C = !0, t = i) : (t === n.L && (Li(this, n), n = (t = n).U), n.C = !1, i.C = !0, Mi(this, i)), n = t.U; this._.C = !1 }, remove: function (t) { t.N && (t.N.P = t.P), t.P && (t.P.N = t.N), t.N = t.P = null; var e, n, i, r = t.U, o = t.L, s = t.R; if (n = o ? s ? Oi(s) : o : s, r ? r.L === t ? r.L = n : r.R = n : this._ = n, o && s ? (i = n.C, n.C = t.C, n.L = o, o.U = n, n !== s ? (r = n.U, n.U = t.U, t = n.R, r.L = t, n.R = s, s.U = n) : (n.U = r, r = n, t = n.R)) : (i = t.C, t = n), t && (t.U = r), !i) if (t && t.C) t.C = !1; else { do { if (t === this._) break; if (t === r.L) { if ((e = r.R).C && (e.C = !1, r.C = !0, Mi(this, r), e = r.R), e.L && e.L.C || e.R && e.R.C) { e.R && e.R.C || (e.L.C = !1, e.C = !0, Li(this, e), e = r.R), e.C = r.C, r.C = e.R.C = !1, Mi(this, r), t = this._; break } } else if ((e = r.L).C && (e.C = !1, r.C = !0, Li(this, r), e = r.L), e.L && e.L.C || e.R && e.R.C) { e.L && e.L.C || (e.R.C = !1, e.C = !0, Mi(this, e), e = r.L), e.C = r.C, r.C = e.L.C = !1, Li(this, r), t = this._; break } e.C = !0, t = r, r = r.U } while (!t.C); t && (t.C = !1) } } }; var qa, ja, Ba, $a, za, Va = [], Ua = [], Ha = 1e-6, Ga = 1e-12; Ki.prototype = { constructor: Ki, polygons: function () { var t = this.edges; return this.cells.map((function (e) { var n = e.halfedges.map((function (n) { return $i(e, t[n]) })); return n.data = e.site.data, n })) }, triangles: function () { var t = [], e = this.edges; return this.cells.forEach((function (n, i) { if (o = (r = n.halfedges).length) for (var r, o, s, a = n.site, u = -1, l = e[r[o - 1]], c = l.left === a ? l.right : l.left; ++u < o;)s = c, c = (l = e[r[u]]).left === a ? l.right : l.left, s && c && i < s.index && i < c.index && Ji(a, s, c) < 0 && t.push([a.data, s.data, c.data]) })), t }, links: function () { return this.edges.filter((function (t) { return t.right })).map((function (t) { return { source: t.left.data, target: t.right.data } })) }, find: function (t, e, n) { for (var i, r, o = this, s = o._found || 0, a = o.cells.length; !(r = o.cells[s]);)if (++s >= a) return null; var u = t - r.site[0], l = e - r.site[1], c = u * u + l * l; do { r = o.cells[i = s], s = null, r.halfedges.forEach((function (n) { var i = o.edges[n], a = i.left; if (a !== r.site && a || (a = i.right)) { var u = t - a[0], l = e - a[1], h = u * u + l * l; h < c && (c = h, s = a.index) } })) } while (null !== s); return o._found = i, null == n || c <= n * n ? r.site : null } }; var Xa = Object.freeze({ randomPosition: or, randomPoint: sr, randomPolygon: ar, randomLineString: ur }), Ya = Object.freeze({ getCluster: cr, clusterEach: hr, clusterReduce: pr, createBins: fr, applyFilter: dr, propertiesContainsFilter: gr, filterProperties: yr }); "fill" in Array.prototype || Object.defineProperty(Array.prototype, "fill", { configurable: !0, value: function (t) { if (null == this) throw new TypeError(this + " is not an object"); var e = Object(this), n = Math.max(Math.min(e.length, 9007199254740991), 0) || 0, i = 1 in arguments && parseInt(Number(arguments[1]), 10) || 0; i = i < 0 ? Math.max(n + i, 0) : Math.min(i, n); var r = 2 in arguments && void 0 !== arguments[2] ? parseInt(Number(arguments[2]), 10) || 0 : n; for (r = r < 0 ? Math.max(n + arguments[2], 0) : Math.min(r, n); i < r;)e[i] = t, ++i; return e }, writable: !0 }), Number.isFinite = Number.isFinite || function (t) { return "number" == typeof t && isFinite(t) }, Number.isInteger = Number.isInteger || function (t) { return "number" == typeof t && isFinite(t) && Math.floor(t) === t }, Number.parseFloat = Number.parseFloat || parseFloat, Number.isNaN = Number.isNaN || function (t) { return t != t }, Math.trunc = Math.trunc || function (t) { return t < 0 ? Math.ceil(t) : Math.floor(t) }; var Wa = function () { }; Wa.prototype.interfaces_ = function () { return [] }, Wa.prototype.getClass = function () { return Wa }, Wa.prototype.equalsWithTolerance = function (t, e, n) { return Math.abs(t - e) <= n }; var Ja = function () { }, Za = function () { }, Ka = { MAX_VALUE: { configurable: !0 } }; Za.isNaN = function (t) { return Number.isNaN(t) }, Za.doubleToLongBits = function (t) { return t }, Za.longBitsToDouble = function (t) { return t }, Za.isInfinite = function (t) { return !Number.isFinite(t) }, Ka.MAX_VALUE.get = function () { return Number.MAX_VALUE }, Object.defineProperties(Za, Ka); var Qa = function () { }, tu = function () { }, eu = function () { }, nu = function t() { if (this.x = null, this.y = null, this.z = null, 0 === arguments.length) this.x = 0, this.y = 0, this.z = t.NULL_ORDINATE; else if (1 === arguments.length) { var e = arguments[0]; this.x = e.x, this.y = e.y, this.z = e.z } else 2 === arguments.length ? (this.x = arguments[0], this.y = arguments[1], this.z = t.NULL_ORDINATE) : 3 === arguments.length && (this.x = arguments[0], this.y = arguments[1], this.z = arguments[2]) }, iu = { DimensionalComparator: { configurable: !0 }, serialVersionUID: { configurable: !0 }, NULL_ORDINATE: { configurable: !0 }, X: { configurable: !0 }, Y: { configurable: !0 }, Z: { configurable: !0 } }; nu.prototype.setOrdinate = function (t, e) { switch (t) { case nu.X: this.x = e; break; case nu.Y: this.y = e; break; case nu.Z: this.z = e; break; default: throw new Ja("Invalid ordinate index: " + t) } }, nu.prototype.equals2D = function () { if (1 === arguments.length) { var t = arguments[0]; return this.x === t.x && this.y === t.y } if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; return !!Wa.equalsWithTolerance(this.x, e.x, n) && !!Wa.equalsWithTolerance(this.y, e.y, n) } }, nu.prototype.getOrdinate = function (t) { switch (t) { case nu.X: return this.x; case nu.Y: return this.y; case nu.Z: return this.z }throw new Ja("Invalid ordinate index: " + t) }, nu.prototype.equals3D = function (t) { return this.x === t.x && this.y === t.y && (this.z === t.z || Za.isNaN(this.z)) && Za.isNaN(t.z) }, nu.prototype.equals = function (t) { return t instanceof nu && this.equals2D(t) }, nu.prototype.equalInZ = function (t, e) { return Wa.equalsWithTolerance(this.z, t.z, e) }, nu.prototype.compareTo = function (t) { var e = t; return this.x < e.x ? -1 : this.x > e.x ? 1 : this.y < e.y ? -1 : this.y > e.y ? 1 : 0 }, nu.prototype.clone = function () { }, nu.prototype.copy = function () { return new nu(this) }, nu.prototype.toString = function () { return "(" + this.x + ", " + this.y + ", " + this.z + ")" }, nu.prototype.distance3D = function (t) { var e = this.x - t.x, n = this.y - t.y, i = this.z - t.z; return Math.sqrt(e * e + n * n + i * i) }, nu.prototype.distance = function (t) { var e = this.x - t.x, n = this.y - t.y; return Math.sqrt(e * e + n * n) }, nu.prototype.hashCode = function () { var t = 17; return 37 * (t = 37 * t + nu.hashCode(this.x)) + nu.hashCode(this.y) }, nu.prototype.setCoordinate = function (t) { this.x = t.x, this.y = t.y, this.z = t.z }, nu.prototype.interfaces_ = function () { return [Qa, tu, mr] }, nu.prototype.getClass = function () { return nu }, nu.hashCode = function () { if (1 === arguments.length) { var t = arguments[0], e = Za.doubleToLongBits(t); return Math.trunc((e ^ e) >>> 32) } }, iu.DimensionalComparator.get = function () { return ru }, iu.serialVersionUID.get = function () { return 0x5cbf2c235c7e5800 }, iu.NULL_ORDINATE.get = function () { return Za.NaN }, iu.X.get = function () { return 0 }, iu.Y.get = function () { return 1 }, iu.Z.get = function () { return 2 }, Object.defineProperties(nu, iu); var ru = function (t) { if (this._dimensionsToTest = 2, 0 === arguments.length); else if (1 === arguments.length) { var e = arguments[0]; if (2 !== e && 3 !== e) throw new Ja("only 2 or 3 dimensions may be specified"); this._dimensionsToTest = e } }; ru.prototype.compare = function (t, e) { var n = t, i = e, r = ru.compare(n.x, i.x); if (0 !== r) return r; var o = ru.compare(n.y, i.y); return 0 !== o ? o : this._dimensionsToTest <= 2 ? 0 : ru.compare(n.z, i.z) }, ru.prototype.interfaces_ = function () { return [eu] }, ru.prototype.getClass = function () { return ru }, ru.compare = function (t, e) { return t < e ? -1 : t > e ? 1 : Za.isNaN(t) ? Za.isNaN(e) ? 0 : -1 : Za.isNaN(e) ? 1 : 0 }; var ou = function () { }; ou.prototype.create = function () { }, ou.prototype.interfaces_ = function () { return [] }, ou.prototype.getClass = function () { return ou }; var su = function () { }, au = { INTERIOR: { configurable: !0 }, BOUNDARY: { configurable: !0 }, EXTERIOR: { configurable: !0 }, NONE: { configurable: !0 } }; su.prototype.interfaces_ = function () { return [] }, su.prototype.getClass = function () { return su }, su.toLocationSymbol = function (t) { switch (t) { case su.EXTERIOR: return "e"; case su.BOUNDARY: return "b"; case su.INTERIOR: return "i"; case su.NONE: return "-" }throw new Ja("Unknown location value: " + t) }, au.INTERIOR.get = function () { return 0 }, au.BOUNDARY.get = function () { return 1 }, au.EXTERIOR.get = function () { return 2 }, au.NONE.get = function () { return -1 }, Object.defineProperties(su, au); var uu = function (t, e) { return t.interfaces_ && t.interfaces_().indexOf(e) > -1 }, lu = function () { }, cu = { LOG_10: { configurable: !0 } }; lu.prototype.interfaces_ = function () { return [] }, lu.prototype.getClass = function () { return lu }, lu.log10 = function (t) { var e = Math.log(t); return Za.isInfinite(e) || Za.isNaN(e) ? e : e / lu.LOG_10 }, lu.min = function (t, e, n, i) { var r = t; return e < r && (r = e), n < r && (r = n), i < r && (r = i), r }, lu.clamp = function () { if ("number" == typeof arguments[2] && "number" == typeof arguments[0] && "number" == typeof arguments[1]) { var t = arguments[0], e = arguments[1], n = arguments[2]; return t < e ? e : t > n ? n : t } if (Number.isInteger(arguments[2]) && Number.isInteger(arguments[0]) && Number.isInteger(arguments[1])) { var i = arguments[0], r = arguments[1], o = arguments[2]; return i < r ? r : i > o ? o : i } }, lu.wrap = function (t, e) { return t < 0 ? e - -t % e : t % e }, lu.max = function () { if (3 === arguments.length) { var t = arguments[0], e = arguments[1], n = arguments[2], i = t; return e > i && (i = e), n > i && (i = n), i } if (4 === arguments.length) { var r = arguments[0], o = arguments[1], s = arguments[2], a = arguments[3], u = r; return o > u && (u = o), s > u && (u = s), a > u && (u = a), u } }, lu.average = function (t, e) { return (t + e) / 2 }, cu.LOG_10.get = function () { return Math.log(10) }, Object.defineProperties(lu, cu); var hu = function (t) { this.str = t }; hu.prototype.append = function (t) { this.str += t }, hu.prototype.setCharAt = function (t, e) { this.str = this.str.substr(0, t) + e + this.str.substr(t + 1) }, hu.prototype.toString = function (t) { return this.str }; var pu = function (t) { this.value = t }; pu.prototype.intValue = function () { return this.value }, pu.prototype.compareTo = function (t) { return this.value < t ? -1 : this.value > t ? 1 : 0 }, pu.isNaN = function (t) { return Number.isNaN(t) }; var fu = function () { }; fu.isWhitespace = function (t) { return t <= 32 && t >= 0 || 127 === t }, fu.toUpperCase = function (t) { return t.toUpperCase() }; var du = function t() { if (this._hi = 0, this._lo = 0, 0 === arguments.length) this.init(0); else if (1 === arguments.length) { if ("number" == typeof arguments[0]) { var e = arguments[0]; this.init(e) } else if (arguments[0] instanceof t) { var n = arguments[0]; this.init(n) } else if ("string" == typeof arguments[0]) { var i = arguments[0]; t.call(this, t.parse(i)) } } else if (2 === arguments.length) { var r = arguments[0], o = arguments[1]; this.init(r, o) } }, gu = { PI: { configurable: !0 }, TWO_PI: { configurable: !0 }, PI_2: { configurable: !0 }, E: { configurable: !0 }, NaN: { configurable: !0 }, EPS: { configurable: !0 }, SPLIT: { configurable: !0 }, MAX_PRINT_DIGITS: { configurable: !0 }, TEN: { configurable: !0 }, ONE: { configurable: !0 }, SCI_NOT_EXPONENT_CHAR: { configurable: !0 }, SCI_NOT_ZERO: { configurable: !0 } }; du.prototype.le = function (t) { return (this._hi < t._hi || this._hi === t._hi) && this._lo <= t._lo }, du.prototype.extractSignificantDigits = function (t, e) { var n = this.abs(), i = du.magnitude(n._hi), r = du.TEN.pow(i); (n = n.divide(r)).gt(du.TEN) ? (n = n.divide(du.TEN), i += 1) : n.lt(du.ONE) && (n = n.multiply(du.TEN), i -= 1); for (var o = i + 1, s = new hu, a = du.MAX_PRINT_DIGITS - 1, u = 0; u <= a; u++) { t && u === o && s.append("."); var l = Math.trunc(n._hi); if (l < 0) break; var c = !1, h = 0; l > 9 ? (c = !0, h = "9") : h = "0" + l, s.append(h), n = n.subtract(du.valueOf(l)).multiply(du.TEN), c && n.selfAdd(du.TEN); var p = !0, f = du.magnitude(n._hi); if (f < 0 && Math.abs(f) >= a - u && (p = !1), !p) break } return e[0] = i, s.toString() }, du.prototype.sqr = function () { return this.multiply(this) }, du.prototype.doubleValue = function () { return this._hi + this._lo }, du.prototype.subtract = function () { if (arguments[0] instanceof du) { var t = arguments[0]; return this.add(t.negate()) } if ("number" == typeof arguments[0]) { var e = arguments[0]; return this.add(-e) } }, du.prototype.equals = function () { if (1 === arguments.length) { var t = arguments[0]; return this._hi === t._hi && this._lo === t._lo } }, du.prototype.isZero = function () { return 0 === this._hi && 0 === this._lo }, du.prototype.selfSubtract = function () { if (arguments[0] instanceof du) { var t = arguments[0]; return this.isNaN() ? this : this.selfAdd(-t._hi, -t._lo) } if ("number" == typeof arguments[0]) { var e = arguments[0]; return this.isNaN() ? this : this.selfAdd(-e, 0) } }, du.prototype.getSpecialNumberString = function () { return this.isZero() ? "0.0" : this.isNaN() ? "NaN " : null }, du.prototype.min = function (t) { return this.le(t) ? this : t }, du.prototype.selfDivide = function () { if (1 === arguments.length) { if (arguments[0] instanceof du) { var t = arguments[0]; return this.selfDivide(t._hi, t._lo) } if ("number" == typeof arguments[0]) { var e = arguments[0]; return this.selfDivide(e, 0) } } else if (2 === arguments.length) { var n = arguments[0], i = arguments[1], r = null, o = null, s = null, a = null, u = null, l = null, c = null, h = null; return u = this._hi / n, h = (r = (l = du.SPLIT * u) - (r = l - u)) * (s = (h = du.SPLIT * n) - (s = h - n)) - (c = u * n) + r * (a = n - s) + (o = u - r) * s + o * a, h = u + (l = (this._hi - c - h + this._lo - u * i) / n), this._hi = h, this._lo = u - h + l, this } }, du.prototype.dump = function () { return "DD<" + this._hi + ", " + this._lo + ">" }, du.prototype.divide = function () { if (arguments[0] instanceof du) { var t = arguments[0], e = null, n = null, i = null, r = null, o = null, s = null, a = null, u = null; return n = (o = this._hi / t._hi) - (e = (s = du.SPLIT * o) - (e = s - o)), u = e * (i = (u = du.SPLIT * t._hi) - (i = u - t._hi)) - (a = o * t._hi) + e * (r = t._hi - i) + n * i + n * r, s = (this._hi - a - u + this._lo - o * t._lo) / t._hi, new du(u = o + s, o - u + s) } if ("number" == typeof arguments[0]) { var l = arguments[0]; return Za.isNaN(l) ? du.createNaN() : du.copy(this).selfDivide(l, 0) } }, du.prototype.ge = function (t) { return (this._hi > t._hi || this._hi === t._hi) && this._lo >= t._lo }, du.prototype.pow = function (t) { if (0 === t) return du.valueOf(1); var e = new du(this), n = du.valueOf(1), i = Math.abs(t); if (i > 1) for (; i > 0;)i % 2 == 1 && n.selfMultiply(e), (i /= 2) > 0 && (e = e.sqr()); else n = e; return t < 0 ? n.reciprocal() : n }, du.prototype.ceil = function () { if (this.isNaN()) return du.NaN; var t = Math.ceil(this._hi), e = 0; return t === this._hi && (e = Math.ceil(this._lo)), new du(t, e) }, du.prototype.compareTo = function (t) { var e = t; return this._hi < e._hi ? -1 : this._hi > e._hi ? 1 : this._lo < e._lo ? -1 : this._lo > e._lo ? 1 : 0 }, du.prototype.rint = function () { return this.isNaN() ? this : this.add(.5).floor() }, du.prototype.setValue = function () { if (arguments[0] instanceof du) { var t = arguments[0]; return this.init(t), this } if ("number" == typeof arguments[0]) { var e = arguments[0]; return this.init(e), this } }, du.prototype.max = function (t) { return this.ge(t) ? this : t }, du.prototype.sqrt = function () { if (this.isZero()) return du.valueOf(0); if (this.isNegative()) return du.NaN; var t = 1 / Math.sqrt(this._hi), e = this._hi * t, n = du.valueOf(e), i = this.subtract(n.sqr())._hi * (.5 * t); return n.add(i) }, du.prototype.selfAdd = function () { if (1 === arguments.length) { if (arguments[0] instanceof du) { var t = arguments[0]; return this.selfAdd(t._hi, t._lo) } if ("number" == typeof arguments[0]) { var e = arguments[0], n = null, i = null, r = null, o = null, s = null, a = null; return o = (r = this._hi + e) - (s = r - this._hi), i = (a = (o = e - s + (this._hi - o)) + this._lo) + (r - (n = r + a)), this._hi = n + i, this._lo = i + (n - this._hi), this } } else if (2 === arguments.length) { var u = arguments[0], l = arguments[1], c = null, h = null, p = null, f = null, d = null, g = null, y = null; f = this._hi + u, h = this._lo + l, d = f - (g = f - this._hi), p = h - (y = h - this._lo); var m = (c = f + (g = (d = u - g + (this._hi - d)) + h)) + (g = (p = l - y + (this._lo - p)) + (g + (f - c))), v = g + (c - m); return this._hi = m, this._lo = v, this } }, du.prototype.selfMultiply = function () { if (1 === arguments.length) { if (arguments[0] instanceof du) { var t = arguments[0]; return this.selfMultiply(t._hi, t._lo) } if ("number" == typeof arguments[0]) { var e = arguments[0]; return this.selfMultiply(e, 0) } } else if (2 === arguments.length) { var n = arguments[0], i = arguments[1], r = null, o = null, s = null, a = null, u = null, l = null; r = (u = du.SPLIT * this._hi) - this._hi, l = du.SPLIT * n, r = u - r, o = this._hi - r, s = l - n; var c = (u = this._hi * n) + (l = r * (s = l - s) - u + r * (a = n - s) + o * s + o * a + (this._hi * i + this._lo * n)), h = l + (r = u - c); return this._hi = c, this._lo = h, this } }, du.prototype.selfSqr = function () { return this.selfMultiply(this) }, du.prototype.floor = function () { if (this.isNaN()) return du.NaN; var t = Math.floor(this._hi), e = 0; return t === this._hi && (e = Math.floor(this._lo)), new du(t, e) }, du.prototype.negate = function () { return this.isNaN() ? this : new du(-this._hi, -this._lo) }, du.prototype.clone = function () { }, du.prototype.multiply = function () { if (arguments[0] instanceof du) { var t = arguments[0]; return t.isNaN() ? du.createNaN() : du.copy(this).selfMultiply(t) } if ("number" == typeof arguments[0]) { var e = arguments[0]; return Za.isNaN(e) ? du.createNaN() : du.copy(this).selfMultiply(e, 0) } }, du.prototype.isNaN = function () { return Za.isNaN(this._hi) }, du.prototype.intValue = function () { return Math.trunc(this._hi) }, du.prototype.toString = function () { var t = du.magnitude(this._hi); return t >= -3 && t <= 20 ? this.toStandardNotation() : this.toSciNotation() }, du.prototype.toStandardNotation = function () { var t = this.getSpecialNumberString(); if (null !== t) return t; var e = new Array(1).fill(null), n = this.extractSignificantDigits(!0, e), i = e[0] + 1, r = n; if ("." === n.charAt(0)) r = "0" + n; else if (i < 0) r = "0." + du.stringOfChar("0", -i) + n; else if (-1 === n.indexOf(".")) { var o = i - n.length; r = n + du.stringOfChar("0", o) + ".0" } return this.isNegative() ? "-" + r : r }, du.prototype.reciprocal = function () { var t, e, n, i, r = null, o = null, s = null, a = null; t = (n = 1 / this._hi) - (r = (s = du.SPLIT * n) - (r = s - n)), o = (a = du.SPLIT * this._hi) - this._hi; var u = n + (s = (1 - (i = n * this._hi) - (a = r * (o = a - o) - i + r * (e = this._hi - o) + t * o + t * e) - n * this._lo) / this._hi); return new du(u, n - u + s) }, du.prototype.toSciNotation = function () { if (this.isZero()) return du.SCI_NOT_ZERO; var t = this.getSpecialNumberString(); if (null !== t) return t; var e = new Array(1).fill(null), n = this.extractSignificantDigits(!1, e), i = du.SCI_NOT_EXPONENT_CHAR + e[0]; if ("0" === n.charAt(0)) throw new Error("Found leading zero: " + n); var r = ""; n.length > 1 && (r = n.substring(1)); var o = n.charAt(0) + "." + r; return this.isNegative() ? "-" + o + i : o + i }, du.prototype.abs = function () { return this.isNaN() ? du.NaN : this.isNegative() ? this.negate() : new du(this) }, du.prototype.isPositive = function () { return (this._hi > 0 || 0 === this._hi) && this._lo > 0 }, du.prototype.lt = function (t) { return (this._hi < t._hi || this._hi === t._hi) && this._lo < t._lo }, du.prototype.add = function () { if (arguments[0] instanceof du) { var t = arguments[0]; return du.copy(this).selfAdd(t) } if ("number" == typeof arguments[0]) { var e = arguments[0]; return du.copy(this).selfAdd(e) } }, du.prototype.init = function () { if (1 === arguments.length) { if ("number" == typeof arguments[0]) { var t = arguments[0]; this._hi = t, this._lo = 0 } else if (arguments[0] instanceof du) { var e = arguments[0]; this._hi = e._hi, this._lo = e._lo } } else if (2 === arguments.length) { var n = arguments[0], i = arguments[1]; this._hi = n, this._lo = i } }, du.prototype.gt = function (t) { return (this._hi > t._hi || this._hi === t._hi) && this._lo > t._lo }, du.prototype.isNegative = function () { return (this._hi < 0 || 0 === this._hi) && this._lo < 0 }, du.prototype.trunc = function () { return this.isNaN() ? du.NaN : this.isPositive() ? this.floor() : this.ceil() }, du.prototype.signum = function () { return this._hi > 0 ? 1 : this._hi < 0 ? -1 : this._lo > 0 ? 1 : this._lo < 0 ? -1 : 0 }, du.prototype.interfaces_ = function () { return [mr, Qa, tu] }, du.prototype.getClass = function () { return du }, du.sqr = function (t) { return du.valueOf(t).selfMultiply(t) }, du.valueOf = function () { if ("string" == typeof arguments[0]) { var t = arguments[0]; return du.parse(t) } if ("number" == typeof arguments[0]) { var e = arguments[0]; return new du(e) } }, du.sqrt = function (t) { return du.valueOf(t).sqrt() }, du.parse = function (t) { for (var e = 0, n = t.length; fu.isWhitespace(t.charAt(e));)e++; var i = !1; if (e < n) { var r = t.charAt(e); "-" !== r && "+" !== r || (e++, "-" === r && (i = !0)) } for (var o = new du, s = 0, a = 0, u = 0; !(e >= n);) { var l = t.charAt(e); if (e++, fu.isDigit(l)) { var c = l - "0"; o.selfMultiply(du.TEN), o.selfAdd(c), s++ } else { if ("." !== l) { if ("e" === l || "E" === l) { var h = t.substring(e); try { u = pu.parseInt(h) } catch (e) { throw e instanceof Error ? new Error("Invalid exponent " + h + " in string " + t) : e } break } throw new Error("Unexpected character '" + l + "' at position " + e + " in string " + t) } a = s } } var p = o, f = s - a - u; if (0 === f) p = o; else if (f > 0) { var d = du.TEN.pow(f); p = o.divide(d) } else if (f < 0) { var g = du.TEN.pow(-f); p = o.multiply(g) } return i ? p.negate() : p }, du.createNaN = function () { return new du(Za.NaN, Za.NaN) }, du.copy = function (t) { return new du(t) }, du.magnitude = function (t) { var e = Math.abs(t), n = Math.log(e) / Math.log(10), i = Math.trunc(Math.floor(n)); return 10 * Math.pow(10, i) <= e && (i += 1), i }, du.stringOfChar = function (t, e) { for (var n = new hu, i = 0; i < e; i++)n.append(t); return n.toString() }, gu.PI.get = function () { return new du(3.141592653589793, 12246467991473532e-32) }, gu.TWO_PI.get = function () { return new du(6.283185307179586, 24492935982947064e-32) }, gu.PI_2.get = function () { return new du(1.5707963267948966, 6123233995736766e-32) }, gu.E.get = function () { return new du(2.718281828459045, 14456468917292502e-32) }, gu.NaN.get = function () { return new du(Za.NaN, Za.NaN) }, gu.EPS.get = function () { return 123259516440783e-46 }, gu.SPLIT.get = function () { return 134217729 }, gu.MAX_PRINT_DIGITS.get = function () { return 32 }, gu.TEN.get = function () { return du.valueOf(10) }, gu.ONE.get = function () { return du.valueOf(1) }, gu.SCI_NOT_EXPONENT_CHAR.get = function () { return "E" }, gu.SCI_NOT_ZERO.get = function () { return "0.0E0" }, Object.defineProperties(du, gu); var yu = function () { }, mu = { DP_SAFE_EPSILON: { configurable: !0 } }; yu.prototype.interfaces_ = function () { return [] }, yu.prototype.getClass = function () { return yu }, yu.orientationIndex = function (t, e, n) { var i = yu.orientationIndexFilter(t, e, n); if (i <= 1) return i; var r = du.valueOf(e.x).selfAdd(-t.x), o = du.valueOf(e.y).selfAdd(-t.y), s = du.valueOf(n.x).selfAdd(-e.x), a = du.valueOf(n.y).selfAdd(-e.y); return r.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum() }, yu.signOfDet2x2 = function (t, e, n, i) { return t.multiply(i).selfSubtract(e.multiply(n)).signum() }, yu.intersection = function (t, e, n, i) { var r = du.valueOf(i.y).selfSubtract(n.y).selfMultiply(du.valueOf(e.x).selfSubtract(t.x)), o = du.valueOf(i.x).selfSubtract(n.x).selfMultiply(du.valueOf(e.y).selfSubtract(t.y)), s = r.subtract(o), a = du.valueOf(i.x).selfSubtract(n.x).selfMultiply(du.valueOf(t.y).selfSubtract(n.y)), u = du.valueOf(i.y).selfSubtract(n.y).selfMultiply(du.valueOf(t.x).selfSubtract(n.x)), l = a.subtract(u).selfDivide(s).doubleValue(), c = du.valueOf(t.x).selfAdd(du.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(), h = du.valueOf(e.x).selfSubtract(t.x).selfMultiply(du.valueOf(t.y).selfSubtract(n.y)), p = du.valueOf(e.y).selfSubtract(t.y).selfMultiply(du.valueOf(t.x).selfSubtract(n.x)), f = h.subtract(p).selfDivide(s).doubleValue(), d = du.valueOf(n.y).selfAdd(du.valueOf(i.y).selfSubtract(n.y).selfMultiply(f)).doubleValue(); return new nu(c, d) }, yu.orientationIndexFilter = function (t, e, n) { var i = null, r = (t.x - n.x) * (e.y - n.y), o = (t.y - n.y) * (e.x - n.x), s = r - o; if (r > 0) { if (o <= 0) return yu.signum(s); i = r + o } else { if (!(r < 0)) return yu.signum(s); if (o >= 0) return yu.signum(s); i = -r - o } var a = yu.DP_SAFE_EPSILON * i; return s >= a || -s >= a ? yu.signum(s) : 2 }, yu.signum = function (t) { return t > 0 ? 1 : t < 0 ? -1 : 0 }, mu.DP_SAFE_EPSILON.get = function () { return 1e-15 }, Object.defineProperties(yu, mu); var vu = function () { }, _u = { X: { configurable: !0 }, Y: { configurable: !0 }, Z: { configurable: !0 }, M: { configurable: !0 } }; _u.X.get = function () { return 0 }, _u.Y.get = function () { return 1 }, _u.Z.get = function () { return 2 }, _u.M.get = function () { return 3 }, vu.prototype.setOrdinate = function (t, e, n) { }, vu.prototype.size = function () { }, vu.prototype.getOrdinate = function (t, e) { }, vu.prototype.getCoordinate = function () { }, vu.prototype.getCoordinateCopy = function (t) { }, vu.prototype.getDimension = function () { }, vu.prototype.getX = function (t) { }, vu.prototype.clone = function () { }, vu.prototype.expandEnvelope = function (t) { }, vu.prototype.copy = function () { }, vu.prototype.getY = function (t) { }, vu.prototype.toCoordinateArray = function () { }, vu.prototype.interfaces_ = function () { return [tu] }, vu.prototype.getClass = function () { return vu }, Object.defineProperties(vu, _u); var bu = function () { }, wu = function (t) { function e() { t.call(this, "Projective point not representable on the Cartesian plane.") } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e }(bu), xu = function () { }; xu.arraycopy = function (t, e, n, i, r) { for (var o = 0, s = e; s < e + r; s++)n[i + o] = t[s], o++ }, xu.getProperty = function (t) { return { "line.separator": "\n" }[t] }; var Eu = function t() { if (this.x = null, this.y = null, this.w = null, 0 === arguments.length) this.x = 0, this.y = 0, this.w = 1; else if (1 === arguments.length) { var e = arguments[0]; this.x = e.x, this.y = e.y, this.w = 1 } else if (2 === arguments.length) { if ("number" == typeof arguments[0] && "number" == typeof arguments[1]) { var n = arguments[0], i = arguments[1]; this.x = n, this.y = i, this.w = 1 } else if (arguments[0] instanceof t && arguments[1] instanceof t) { var r = arguments[0], o = arguments[1]; this.x = r.y * o.w - o.y * r.w, this.y = o.x * r.w - r.x * o.w, this.w = r.x * o.y - o.x * r.y } else if (arguments[0] instanceof nu && arguments[1] instanceof nu) { var s = arguments[0], a = arguments[1]; this.x = s.y - a.y, this.y = a.x - s.x, this.w = s.x * a.y - a.x * s.y } } else if (3 === arguments.length) { var u = arguments[0], l = arguments[1], c = arguments[2]; this.x = u, this.y = l, this.w = c } else if (4 === arguments.length) { var h = arguments[0], p = arguments[1], f = arguments[2], d = arguments[3], g = h.y - p.y, y = p.x - h.x, m = h.x * p.y - p.x * h.y, v = f.y - d.y, _ = d.x - f.x, b = f.x * d.y - d.x * f.y; this.x = y * b - _ * m, this.y = v * m - g * b, this.w = g * _ - v * y } }; Eu.prototype.getY = function () { var t = this.y / this.w; if (Za.isNaN(t) || Za.isInfinite(t)) throw new wu; return t }, Eu.prototype.getX = function () { var t = this.x / this.w; if (Za.isNaN(t) || Za.isInfinite(t)) throw new wu; return t }, Eu.prototype.getCoordinate = function () { var t = new nu; return t.x = this.getX(), t.y = this.getY(), t }, Eu.prototype.interfaces_ = function () { return [] }, Eu.prototype.getClass = function () { return Eu }, Eu.intersection = function (t, e, n, i) { var r = t.y - e.y, o = e.x - t.x, s = t.x * e.y - e.x * t.y, a = n.y - i.y, u = i.x - n.x, l = n.x * i.y - i.x * n.y, c = r * u - a * o, h = (o * l - u * s) / c, p = (a * s - r * l) / c; if (Za.isNaN(h) || Za.isInfinite(h) || Za.isNaN(p) || Za.isInfinite(p)) throw new wu; return new nu(h, p) }; var Cu = function t() { if (this._minx = null, this._maxx = null, this._miny = null, this._maxy = null, 0 === arguments.length) this.init(); else if (1 === arguments.length) { if (arguments[0] instanceof nu) { var e = arguments[0]; this.init(e.x, e.x, e.y, e.y) } else if (arguments[0] instanceof t) { var n = arguments[0]; this.init(n) } } else if (2 === arguments.length) { var i = arguments[0], r = arguments[1]; this.init(i.x, r.x, i.y, r.y) } else if (4 === arguments.length) { var o = arguments[0], s = arguments[1], a = arguments[2], u = arguments[3]; this.init(o, s, a, u) } }, Du = { serialVersionUID: { configurable: !0 } }; Cu.prototype.getArea = function () { return this.getWidth() * this.getHeight() }, Cu.prototype.equals = function (t) { if (!(t instanceof Cu)) return !1; var e = t; return this.isNull() ? e.isNull() : this._maxx === e.getMaxX() && this._maxy === e.getMaxY() && this._minx === e.getMinX() && this._miny === e.getMinY() }, Cu.prototype.intersection = function (t) { if (this.isNull() || t.isNull() || !this.intersects(t)) return new Cu; var e = this._minx > t._minx ? this._minx : t._minx, n = this._miny > t._miny ? this._miny : t._miny, i = this._maxx < t._maxx ? this._maxx : t._maxx, r = this._maxy < t._maxy ? this._maxy : t._maxy; return new Cu(e, i, n, r) }, Cu.prototype.isNull = function () { return this._maxx < this._minx }, Cu.prototype.getMaxX = function () { return this._maxx }, Cu.prototype.covers = function () { if (1 === arguments.length) { if (arguments[0] instanceof nu) { var t = arguments[0]; return this.covers(t.x, t.y) } if (arguments[0] instanceof Cu) { var e = arguments[0]; return !this.isNull() && !e.isNull() && e.getMinX() >= this._minx && e.getMaxX() <= this._maxx && e.getMinY() >= this._miny && e.getMaxY() <= this._maxy } } else if (2 === arguments.length) { var n = arguments[0], i = arguments[1]; return !this.isNull() && n >= this._minx && n <= this._maxx && i >= this._miny && i <= this._maxy } }, Cu.prototype.intersects = function () { if (1 === arguments.length) { if (arguments[0] instanceof Cu) { var t = arguments[0]; return !this.isNull() && !t.isNull() && !(t._minx > this._maxx || t._maxx < this._minx || t._miny > this._maxy || t._maxy < this._miny) } if (arguments[0] instanceof nu) { var e = arguments[0]; return this.intersects(e.x, e.y) } } else if (2 === arguments.length) { var n = arguments[0], i = arguments[1]; return !this.isNull() && !(n > this._maxx || n < this._minx || i > this._maxy || i < this._miny) } }, Cu.prototype.getMinY = function () { return this._miny }, Cu.prototype.getMinX = function () { return this._minx }, Cu.prototype.expandToInclude = function () { if (1 === arguments.length) { if (arguments[0] instanceof nu) { var t = arguments[0]; this.expandToInclude(t.x, t.y) } else if (arguments[0] instanceof Cu) { var e = arguments[0]; if (e.isNull()) return null; this.isNull() ? (this._minx = e.getMinX(), this._maxx = e.getMaxX(), this._miny = e.getMinY(), this._maxy = e.getMaxY()) : (e._minx < this._minx && (this._minx = e._minx), e._maxx > this._maxx && (this._maxx = e._maxx), e._miny < this._miny && (this._miny = e._miny), e._maxy > this._maxy && (this._maxy = e._maxy)) } } else if (2 === arguments.length) { var n = arguments[0], i = arguments[1]; this.isNull() ? (this._minx = n, this._maxx = n, this._miny = i, this._maxy = i) : (n < this._minx && (this._minx = n), n > this._maxx && (this._maxx = n), i < this._miny && (this._miny = i), i > this._maxy && (this._maxy = i)) } }, Cu.prototype.minExtent = function () { if (this.isNull()) return 0; var t = this.getWidth(), e = this.getHeight(); return t < e ? t : e }, Cu.prototype.getWidth = function () { return this.isNull() ? 0 : this._maxx - this._minx }, Cu.prototype.compareTo = function (t) { var e = t; return this.isNull() ? e.isNull() ? 0 : -1 : e.isNull() ? 1 : this._minx < e._minx ? -1 : this._minx > e._minx ? 1 : this._miny < e._miny ? -1 : this._miny > e._miny ? 1 : this._maxx < e._maxx ? -1 : this._maxx > e._maxx ? 1 : this._maxy < e._maxy ? -1 : this._maxy > e._maxy ? 1 : 0 }, Cu.prototype.translate = function (t, e) { if (this.isNull()) return null; this.init(this.getMinX() + t, this.getMaxX() + t, this.getMinY() + e, this.getMaxY() + e) }, Cu.prototype.toString = function () { return "Env[" + this._minx + " : " + this._maxx + ", " + this._miny + " : " + this._maxy + "]" }, Cu.prototype.setToNull = function () { this._minx = 0, this._maxx = -1, this._miny = 0, this._maxy = -1 }, Cu.prototype.getHeight = function () { return this.isNull() ? 0 : this._maxy - this._miny }, Cu.prototype.maxExtent = function () { if (this.isNull()) return 0; var t = this.getWidth(), e = this.getHeight(); return t > e ? t : e }, Cu.prototype.expandBy = function () { if (1 === arguments.length) { var t = arguments[0]; this.expandBy(t, t) } else if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; if (this.isNull()) return null; this._minx -= e, this._maxx += e, this._miny -= n, this._maxy += n, (this._minx > this._maxx || this._miny > this._maxy) && this.setToNull() } }, Cu.prototype.contains = function () { if (1 === arguments.length) { if (arguments[0] instanceof Cu) { var t = arguments[0]; return this.covers(t) } if (arguments[0] instanceof nu) { var e = arguments[0]; return this.covers(e) } } else if (2 === arguments.length) { var n = arguments[0], i = arguments[1]; return this.covers(n, i) } }, Cu.prototype.centre = function () { return this.isNull() ? null : new nu((this.getMinX() + this.getMaxX()) / 2, (this.getMinY() + this.getMaxY()) / 2) }, Cu.prototype.init = function () { if (0 === arguments.length) this.setToNull(); else if (1 === arguments.length) { if (arguments[0] instanceof nu) { var t = arguments[0]; this.init(t.x, t.x, t.y, t.y) } else if (arguments[0] instanceof Cu) { var e = arguments[0]; this._minx = e._minx, this._maxx = e._maxx, this._miny = e._miny, this._maxy = e._maxy } } else if (2 === arguments.length) { var n = arguments[0], i = arguments[1]; this.init(n.x, i.x, n.y, i.y) } else if (4 === arguments.length) { var r = arguments[0], o = arguments[1], s = arguments[2], a = arguments[3]; r < o ? (this._minx = r, this._maxx = o) : (this._minx = o, this._maxx = r), s < a ? (this._miny = s, this._maxy = a) : (this._miny = a, this._maxy = s) } }, Cu.prototype.getMaxY = function () { return this._maxy }, Cu.prototype.distance = function (t) { if (this.intersects(t)) return 0; var e = 0; this._maxx < t._minx ? e = t._minx - this._maxx : this._minx > t._maxx && (e = this._minx - t._maxx); var n = 0; return this._maxy < t._miny ? n = t._miny - this._maxy : this._miny > t._maxy && (n = this._miny - t._maxy), 0 === e ? n : 0 === n ? e : Math.sqrt(e * e + n * n) }, Cu.prototype.hashCode = function () { var t = 17; return 37 * (t = 37 * (t = 37 * (t = 37 * t + nu.hashCode(this._minx)) + nu.hashCode(this._maxx)) + nu.hashCode(this._miny)) + nu.hashCode(this._maxy) }, Cu.prototype.interfaces_ = function () { return [Qa, mr] }, Cu.prototype.getClass = function () { return Cu }, Cu.intersects = function () { if (3 === arguments.length) { var t = arguments[0], e = arguments[1], n = arguments[2]; return n.x >= (t.x < e.x ? t.x : e.x) && n.x <= (t.x > e.x ? t.x : e.x) && n.y >= (t.y < e.y ? t.y : e.y) && n.y <= (t.y > e.y ? t.y : e.y) } if (4 === arguments.length) { var i = arguments[0], r = arguments[1], o = arguments[2], s = arguments[3], a = Math.min(o.x, s.x), u = Math.max(o.x, s.x), l = Math.min(i.x, r.x), c = Math.max(i.x, r.x); return !(l > u || c < a || (a = Math.min(o.y, s.y), u = Math.max(o.y, s.y), l = Math.min(i.y, r.y), c = Math.max(i.y, r.y), l > u || c < a)) } }, Du.serialVersionUID.get = function () { return 0x51845cd552189800 }, Object.defineProperties(Cu, Du); var Su = { typeStr: /^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/, emptyTypeStr: /^\s*(\w+)\s*EMPTY\s*$/, spaces: /\s+/, parenComma: /\)\s*,\s*\(/, doubleParenComma: /\)\s*\)\s*,\s*\(\s*\(/, trimParens: /^\s*\(?(.*?)\)?\s*$/ }, Tu = function (t) { this.geometryFactory = t || new Jl }; Tu.prototype.read = function (t) { var e, n, i; t = t.replace(/[\n\r]/g, " "); var r = Su.typeStr.exec(t); if (-1 !== t.search("EMPTY") && ((r = Su.emptyTypeStr.exec(t))[2] = void 0), r && (n = r[1].toLowerCase(), i = r[2], Nu[n] && (e = Nu[n].apply(this, [i]))), void 0 === e) throw new Error("Could not parse WKT " + t); return e }, Tu.prototype.write = function (t) { return this.extractGeometry(t) }, Tu.prototype.extractGeometry = function (t) { var e = t.getGeometryType().toLowerCase(); if (!Iu[e]) return null; var n = e.toUpperCase(); return t.isEmpty() ? n + " EMPTY" : n + "(" + Iu[e].apply(this, [t]) + ")" }; var Iu = { coordinate: function (t) { return t.x + " " + t.y }, point: function (t) { return Iu.coordinate.call(this, t._coordinates._coordinates[0]) }, multipoint: function (t) { for (var e = [], n = 0, i = t._geometries.length; n < i; ++n)e.push("(" + Iu.point.apply(this, [t._geometries[n]]) + ")"); return e.join(",") }, linestring: function (t) { for (var e = [], n = 0, i = t._points._coordinates.length; n < i; ++n)e.push(Iu.coordinate.apply(this, [t._points._coordinates[n]])); return e.join(",") }, linearring: function (t) { for (var e = [], n = 0, i = t._points._coordinates.length; n < i; ++n)e.push(Iu.coordinate.apply(this, [t._points._coordinates[n]])); return e.join(",") }, multilinestring: function (t) { for (var e = [], n = 0, i = t._geometries.length; n < i; ++n)e.push("(" + Iu.linestring.apply(this, [t._geometries[n]]) + ")"); return e.join(",") }, polygon: function (t) { var e = []; e.push("(" + Iu.linestring.apply(this, [t._shell]) + ")"); for (var n = 0, i = t._holes.length; n < i; ++n)e.push("(" + Iu.linestring.apply(this, [t._holes[n]]) + ")"); return e.join(",") }, multipolygon: function (t) { for (var e = [], n = 0, i = t._geometries.length; n < i; ++n)e.push("(" + Iu.polygon.apply(this, [t._geometries[n]]) + ")"); return e.join(",") }, geometrycollection: function (t) { for (var e = [], n = 0, i = t._geometries.length; n < i; ++n)e.push(this.extractGeometry(t._geometries[n])); return e.join(",") } }, Nu = { point: function (t) { if (void 0 === t) return this.geometryFactory.createPoint(); var e = t.trim().split(Su.spaces); return this.geometryFactory.createPoint(new nu(Number.parseFloat(e[0]), Number.parseFloat(e[1]))) }, multipoint: function (t) { if (void 0 === t) return this.geometryFactory.createMultiPoint(); for (var e, n = t.trim().split(","), i = [], r = 0, o = n.length; r < o; ++r)e = n[r].replace(Su.trimParens, "$1"), i.push(Nu.point.apply(this, [e])); return this.geometryFactory.createMultiPoint(i) }, linestring: function (t) { if (void 0 === t) return this.geometryFactory.createLineString(); for (var e, n = t.trim().split(","), i = [], r = 0, o = n.length; r < o; ++r)e = n[r].trim().split(Su.spaces), i.push(new nu(Number.parseFloat(e[0]), Number.parseFloat(e[1]))); return this.geometryFactory.createLineString(i) }, linearring: function (t) { if (void 0 === t) return this.geometryFactory.createLinearRing(); for (var e, n = t.trim().split(","), i = [], r = 0, o = n.length; r < o; ++r)e = n[r].trim().split(Su.spaces), i.push(new nu(Number.parseFloat(e[0]), Number.parseFloat(e[1]))); return this.geometryFactory.createLinearRing(i) }, multilinestring: function (t) { if (void 0 === t) return this.geometryFactory.createMultiLineString(); for (var e, n = t.trim().split(Su.parenComma), i = [], r = 0, o = n.length; r < o; ++r)e = n[r].replace(Su.trimParens, "$1"), i.push(Nu.linestring.apply(this, [e])); return this.geometryFactory.createMultiLineString(i) }, polygon: function (t) { if (void 0 === t) return this.geometryFactory.createPolygon(); for (var e, n, i, r, o = t.trim().split(Su.parenComma), s = [], a = 0, u = o.length; a < u; ++a)e = o[a].replace(Su.trimParens, "$1"), n = Nu.linestring.apply(this, [e]), i = this.geometryFactory.createLinearRing(n._points), 0 === a ? r = i : s.push(i); return this.geometryFactory.createPolygon(r, s) }, multipolygon: function (t) { if (void 0 === t) return this.geometryFactory.createMultiPolygon(); for (var e, n = t.trim().split(Su.doubleParenComma), i = [], r = 0, o = n.length; r < o; ++r)e = n[r].replace(Su.trimParens, "$1"), i.push(Nu.polygon.apply(this, [e])); return this.geometryFactory.createMultiPolygon(i) }, geometrycollection: function (t) { if (void 0 === t) return this.geometryFactory.createGeometryCollection(); for (var e = (t = t.replace(/,\s*([A-Za-z])/g, "|$1")).trim().split("|"), n = [], i = 0, r = e.length; i < r; ++i)n.push(this.read(e[i])); return this.geometryFactory.createGeometryCollection(n) } }, Pu = function (t) { this.parser = new Tu(t) }; Pu.prototype.write = function (t) { return this.parser.write(t) }, Pu.toLineString = function (t, e) { if (2 !== arguments.length) throw new Error("Not implemented"); return "LINESTRING ( " + t.x + " " + t.y + ", " + e.x + " " + e.y + " )" }; var Au = function (t) { function e(e) { t.call(this, e), this.name = "RuntimeException", this.message = e, this.stack = (new t).stack } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e }(Error), Mu = function (t) { function e() { if (t.call(this), 0 === arguments.length) t.call(this); else if (1 === arguments.length) { var e = arguments[0]; t.call(this, e) } } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e }(Au), Lu = function () { }; Lu.prototype.interfaces_ = function () { return [] }, Lu.prototype.getClass = function () { return Lu }, Lu.shouldNeverReachHere = function () { if (0 === arguments.length) Lu.shouldNeverReachHere(null); else if (1 === arguments.length) { var t = arguments[0]; throw new Mu("Should never reach here" + (null !== t ? ": " + t : "")) } }, Lu.isTrue = function () { var t; if (1 === arguments.length) Lu.isTrue(arguments[0], null); else if (2 === arguments.length && (t = arguments[1], !arguments[0])) throw null === t ? new Mu : new Mu(t) }, Lu.equals = function () { var t, e, n; if (2 === arguments.length) Lu.equals(t = arguments[0], e = arguments[1], null); else if (3 === arguments.length && (t = arguments[0], n = arguments[2], !(e = arguments[1]).equals(t))) throw new Mu("Expected " + t + " but encountered " + e + (null !== n ? ": " + n : "")) }; var Ou = function () { this._result = null, this._inputLines = Array(2).fill().map((function () { return Array(2) })), this._intPt = new Array(2).fill(null), this._intLineIndex = null, this._isProper = null, this._pa = null, this._pb = null, this._precisionModel = null, this._intPt[0] = new nu, this._intPt[1] = new nu, this._pa = this._intPt[0], this._pb = this._intPt[1], this._result = 0 }, ku = { DONT_INTERSECT: { configurable: !0 }, DO_INTERSECT: { configurable: !0 }, COLLINEAR: { configurable: !0 }, NO_INTERSECTION: { configurable: !0 }, POINT_INTERSECTION: { configurable: !0 }, COLLINEAR_INTERSECTION: { configurable: !0 } }; Ou.prototype.getIndexAlongSegment = function (t, e) { return this.computeIntLineIndex(), this._intLineIndex[t][e] }, Ou.prototype.getTopologySummary = function () { var t = new hu; return this.isEndPoint() && t.append(" endpoint"), this._isProper && t.append(" proper"), this.isCollinear() && t.append(" collinear"), t.toString() }, Ou.prototype.computeIntersection = function (t, e, n, i) { this._inputLines[0][0] = t, this._inputLines[0][1] = e, this._inputLines[1][0] = n, this._inputLines[1][1] = i, this._result = this.computeIntersect(t, e, n, i) }, Ou.prototype.getIntersectionNum = function () { return this._result }, Ou.prototype.computeIntLineIndex = function () { if (0 === arguments.length) null === this._intLineIndex && (this._intLineIndex = Array(2).fill().map((function () { return Array(2) })), this.computeIntLineIndex(0), this.computeIntLineIndex(1)); else if (1 === arguments.length) { var t = arguments[0]; this.getEdgeDistance(t, 0) > this.getEdgeDistance(t, 1) ? (this._intLineIndex[t][0] = 0, this._intLineIndex[t][1] = 1) : (this._intLineIndex[t][0] = 1, this._intLineIndex[t][1] = 0) } }, Ou.prototype.isProper = function () { return this.hasIntersection() && this._isProper }, Ou.prototype.setPrecisionModel = function (t) { this._precisionModel = t }, Ou.prototype.isInteriorIntersection = function () { if (0 === arguments.length) return !!this.isInteriorIntersection(0) || !!this.isInteriorIntersection(1); if (1 === arguments.length) { for (var t = arguments[0], e = 0; e < this._result; e++)if (!this._intPt[e].equals2D(this._inputLines[t][0]) && !this._intPt[e].equals2D(this._inputLines[t][1])) return !0; return !1 } }, Ou.prototype.getIntersection = function (t) { return this._intPt[t] }, Ou.prototype.isEndPoint = function () { return this.hasIntersection() && !this._isProper }, Ou.prototype.hasIntersection = function () { return this._result !== Ou.NO_INTERSECTION }, Ou.prototype.getEdgeDistance = function (t, e) { return Ou.computeEdgeDistance(this._intPt[e], this._inputLines[t][0], this._inputLines[t][1]) }, Ou.prototype.isCollinear = function () { return this._result === Ou.COLLINEAR_INTERSECTION }, Ou.prototype.toString = function () { return Pu.toLineString(this._inputLines[0][0], this._inputLines[0][1]) + " - " + Pu.toLineString(this._inputLines[1][0], this._inputLines[1][1]) + this.getTopologySummary() }, Ou.prototype.getEndpoint = function (t, e) { return this._inputLines[t][e] }, Ou.prototype.isIntersection = function (t) { for (var e = 0; e < this._result; e++)if (this._intPt[e].equals2D(t)) return !0; return !1 }, Ou.prototype.getIntersectionAlongSegment = function (t, e) { return this.computeIntLineIndex(), this._intPt[this._intLineIndex[t][e]] }, Ou.prototype.interfaces_ = function () { return [] }, Ou.prototype.getClass = function () { return Ou }, Ou.computeEdgeDistance = function (t, e, n) { var i = Math.abs(n.x - e.x), r = Math.abs(n.y - e.y), o = -1; if (t.equals(e)) o = 0; else if (t.equals(n)) o = i > r ? i : r; else { var s = Math.abs(t.x - e.x), a = Math.abs(t.y - e.y); 0 !== (o = i > r ? s : a) || t.equals(e) || (o = Math.max(s, a)) } return Lu.isTrue(!(0 === o && !t.equals(e)), "Bad distance calculation"), o }, Ou.nonRobustComputeEdgeDistance = function (t, e, n) { var i = t.x - e.x, r = t.y - e.y, o = Math.sqrt(i * i + r * r); return Lu.isTrue(!(0 === o && !t.equals(e)), "Invalid distance calculation"), o }, ku.DONT_INTERSECT.get = function () { return 0 }, ku.DO_INTERSECT.get = function () { return 1 }, ku.COLLINEAR.get = function () { return 2 }, ku.NO_INTERSECTION.get = function () { return 0 }, ku.POINT_INTERSECTION.get = function () { return 1 }, ku.COLLINEAR_INTERSECTION.get = function () { return 2 }, Object.defineProperties(Ou, ku); var Fu = function (t) { function e() { t.apply(this, arguments) } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.isInSegmentEnvelopes = function (t) { var e = new Cu(this._inputLines[0][0], this._inputLines[0][1]), n = new Cu(this._inputLines[1][0], this._inputLines[1][1]); return e.contains(t) && n.contains(t) }, e.prototype.computeIntersection = function () { if (3 !== arguments.length) return t.prototype.computeIntersection.apply(this, arguments); var e = arguments[0], n = arguments[1], i = arguments[2]; if (this._isProper = !1, Cu.intersects(n, i, e) && 0 === ju.orientationIndex(n, i, e) && 0 === ju.orientationIndex(i, n, e)) return this._isProper = !0, (e.equals(n) || e.equals(i)) && (this._isProper = !1), this._result = t.POINT_INTERSECTION, null; this._result = t.NO_INTERSECTION }, e.prototype.normalizeToMinimum = function (t, e, n, i, r) { r.x = this.smallestInAbsValue(t.x, e.x, n.x, i.x), r.y = this.smallestInAbsValue(t.y, e.y, n.y, i.y), t.x -= r.x, t.y -= r.y, e.x -= r.x, e.y -= r.y, n.x -= r.x, n.y -= r.y, i.x -= r.x, i.y -= r.y }, e.prototype.safeHCoordinateIntersection = function (t, n, i, r) { var o = null; try { o = Eu.intersection(t, n, i, r) } catch (s) { if (!(s instanceof wu)) throw s; o = e.nearestEndpoint(t, n, i, r) } return o }, e.prototype.intersection = function (t, n, i, r) { var o = this.intersectionWithNormalization(t, n, i, r); return this.isInSegmentEnvelopes(o) || (o = new nu(e.nearestEndpoint(t, n, i, r))), null !== this._precisionModel && this._precisionModel.makePrecise(o), o }, e.prototype.smallestInAbsValue = function (t, e, n, i) { var r = t, o = Math.abs(r); return Math.abs(e) < o && (r = e, o = Math.abs(e)), Math.abs(n) < o && (r = n, o = Math.abs(n)), Math.abs(i) < o && (r = i), r }, e.prototype.checkDD = function (t, e, n, i, r) { var o = yu.intersection(t, e, n, i), s = this.isInSegmentEnvelopes(o); xu.out.println("DD in env = " + s + "  --------------------- " + o), r.distance(o) > 1e-4 && xu.out.println("Distance = " + r.distance(o)) }, e.prototype.intersectionWithNormalization = function (t, e, n, i) { var r = new nu(t), o = new nu(e), s = new nu(n), a = new nu(i), u = new nu; this.normalizeToEnvCentre(r, o, s, a, u); var l = this.safeHCoordinateIntersection(r, o, s, a); return l.x += u.x, l.y += u.y, l }, e.prototype.computeCollinearIntersection = function (e, n, i, r) { var o = Cu.intersects(e, n, i), s = Cu.intersects(e, n, r), a = Cu.intersects(i, r, e), u = Cu.intersects(i, r, n); return o && s ? (this._intPt[0] = i, this._intPt[1] = r, t.COLLINEAR_INTERSECTION) : a && u ? (this._intPt[0] = e, this._intPt[1] = n, t.COLLINEAR_INTERSECTION) : o && a ? (this._intPt[0] = i, this._intPt[1] = e, !i.equals(e) || s || u ? t.COLLINEAR_INTERSECTION : t.POINT_INTERSECTION) : o && u ? (this._intPt[0] = i, this._intPt[1] = n, !i.equals(n) || s || a ? t.COLLINEAR_INTERSECTION : t.POINT_INTERSECTION) : s && a ? (this._intPt[0] = r, this._intPt[1] = e, !r.equals(e) || o || u ? t.COLLINEAR_INTERSECTION : t.POINT_INTERSECTION) : s && u ? (this._intPt[0] = r, this._intPt[1] = n, !r.equals(n) || o || a ? t.COLLINEAR_INTERSECTION : t.POINT_INTERSECTION) : t.NO_INTERSECTION }, e.prototype.normalizeToEnvCentre = function (t, e, n, i, r) { var o = t.x < e.x ? t.x : e.x, s = t.y < e.y ? t.y : e.y, a = t.x > e.x ? t.x : e.x, u = t.y > e.y ? t.y : e.y, l = n.x < i.x ? n.x : i.x, c = n.y < i.y ? n.y : i.y, h = n.x > i.x ? n.x : i.x, p = n.y > i.y ? n.y : i.y, f = ((o > l ? o : l) + (a < h ? a : h)) / 2, d = ((s > c ? s : c) + (u < p ? u : p)) / 2; r.x = f, r.y = d, t.x -= r.x, t.y -= r.y, e.x -= r.x, e.y -= r.y, n.x -= r.x, n.y -= r.y, i.x -= r.x, i.y -= r.y }, e.prototype.computeIntersect = function (e, n, i, r) { if (this._isProper = !1, !Cu.intersects(e, n, i, r)) return t.NO_INTERSECTION; var o = ju.orientationIndex(e, n, i), s = ju.orientationIndex(e, n, r); if (o > 0 && s > 0 || o < 0 && s < 0) return t.NO_INTERSECTION; var a = ju.orientationIndex(i, r, e), u = ju.orientationIndex(i, r, n); return a > 0 && u > 0 || a < 0 && u < 0 ? t.NO_INTERSECTION : 0 === o && 0 === s && 0 === a && 0 === u ? this.computeCollinearIntersection(e, n, i, r) : (0 === o || 0 === s || 0 === a || 0 === u ? (this._isProper = !1, e.equals2D(i) || e.equals2D(r) ? this._intPt[0] = e : n.equals2D(i) || n.equals2D(r) ? this._intPt[0] = n : 0 === o ? this._intPt[0] = new nu(i) : 0 === s ? this._intPt[0] = new nu(r) : 0 === a ? this._intPt[0] = new nu(e) : 0 === u && (this._intPt[0] = new nu(n))) : (this._isProper = !0, this._intPt[0] = this.intersection(e, n, i, r)), t.POINT_INTERSECTION) }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e.nearestEndpoint = function (t, e, n, i) { var r = t, o = ju.distancePointLine(t, n, i), s = ju.distancePointLine(e, n, i); return s < o && (o = s, r = e), (s = ju.distancePointLine(n, t, e)) < o && (o = s, r = n), (s = ju.distancePointLine(i, t, e)) < o && (o = s, r = i), r }, e }(Ou), Ru = function () { }; Ru.prototype.interfaces_ = function () { return [] }, Ru.prototype.getClass = function () { return Ru }, Ru.orientationIndex = function (t, e, n) { var i = e.x - t.x, r = e.y - t.y, o = n.x - e.x, s = n.y - e.y; return Ru.signOfDet2x2(i, r, o, s) }, Ru.signOfDet2x2 = function (t, e, n, i) { var r = null, o = null, s = null; if (r = 1, 0 === t || 0 === i) return 0 === e || 0 === n ? 0 : e > 0 ? n > 0 ? -r : r : n > 0 ? r : -r; if (0 === e || 0 === n) return i > 0 ? t > 0 ? r : -r : t > 0 ? -r : r; if (e > 0 ? i > 0 ? e <= i || (r = -r, o = t, t = n, n = o, o = e, e = i, i = o) : e <= -i ? (r = -r, n = -n, i = -i) : (o = t, t = -n, n = o, o = e, e = -i, i = o) : i > 0 ? -e <= i ? (r = -r, t = -t, e = -e) : (o = -t, t = n, n = o, o = -e, e = i, i = o) : e >= i ? (t = -t, e = -e, n = -n, i = -i) : (r = -r, o = -t, t = -n, n = o, o = -e, e = -i, i = o), t > 0) { if (!(n > 0)) return r; if (!(t <= n)) return r } else { if (n > 0) return -r; if (!(t >= n)) return -r; r = -r, t = -t, n = -n } for (; ;) { if ((i -= (s = Math.floor(n / t)) * e) < 0) return -r; if (i > e) return r; if (t > (n -= s * t) + n) { if (e < i + i) return r } else { if (e > i + i) return -r; n = t - n, i = e - i, r = -r } if (0 === i) return 0 === n ? 0 : -r; if (0 === n) return r; if ((e -= (s = Math.floor(t / n)) * i) < 0) return r; if (e > i) return -r; if (n > (t -= s * n) + t) { if (i < e + e) return -r } else { if (i > e + e) return r; t = n - t, e = i - e, r = -r } if (0 === e) return 0 === t ? 0 : r; if (0 === t) return -r } }; var qu = function () { this._p = null, this._crossingCount = 0, this._isPointOnSegment = !1; var t = arguments[0]; this._p = t }; qu.prototype.countSegment = function (t, e) { if (t.x < this._p.x && e.x < this._p.x) return null; if (this._p.x === e.x && this._p.y === e.y) return this._isPointOnSegment = !0, null; if (t.y === this._p.y && e.y === this._p.y) { var n = t.x, i = e.x; return n > i && (n = e.x, i = t.x), this._p.x >= n && this._p.x <= i && (this._isPointOnSegment = !0), null } if (t.y > this._p.y && e.y <= this._p.y || e.y > this._p.y && t.y <= this._p.y) { var r = t.x - this._p.x, o = t.y - this._p.y, s = e.x - this._p.x, a = e.y - this._p.y, u = Ru.signOfDet2x2(r, o, s, a); if (0 === u) return this._isPointOnSegment = !0, null; a < o && (u = -u), u > 0 && this._crossingCount++ } }, qu.prototype.isPointInPolygon = function () { return this.getLocation() !== su.EXTERIOR }, qu.prototype.getLocation = function () { return this._isPointOnSegment ? su.BOUNDARY : this._crossingCount % 2 == 1 ? su.INTERIOR : su.EXTERIOR }, qu.prototype.isOnSegment = function () { return this._isPointOnSegment }, qu.prototype.interfaces_ = function () { return [] }, qu.prototype.getClass = function () { return qu }, qu.locatePointInRing = function () { if (arguments[0] instanceof nu && uu(arguments[1], vu)) { for (var t = arguments[0], e = arguments[1], n = new qu(t), i = new nu, r = new nu, o = 1; o < e.size(); o++)if (e.getCoordinate(o, i), e.getCoordinate(o - 1, r), n.countSegment(i, r), n.isOnSegment()) return n.getLocation(); return n.getLocation() } if (arguments[0] instanceof nu && arguments[1] instanceof Array) { for (var s = arguments[0], a = arguments[1], u = new qu(s), l = 1; l < a.length; l++) { var c = a[l], h = a[l - 1]; if (u.countSegment(c, h), u.isOnSegment()) return u.getLocation() } return u.getLocation() } }; var ju = function () { }, Bu = { CLOCKWISE: { configurable: !0 }, RIGHT: { configurable: !0 }, COUNTERCLOCKWISE: { configurable: !0 }, LEFT: { configurable: !0 }, COLLINEAR: { configurable: !0 }, STRAIGHT: { configurable: !0 } }; ju.prototype.interfaces_ = function () { return [] }, ju.prototype.getClass = function () { return ju }, ju.orientationIndex = function (t, e, n) { return yu.orientationIndex(t, e, n) }, ju.signedArea = function () { if (arguments[0] instanceof Array) { var t = arguments[0]; if (t.length < 3) return 0; for (var e = 0, n = t[0].x, i = 1; i < t.length - 1; i++) { var r = t[i].x - n, o = t[i + 1].y; e += r * (t[i - 1].y - o) } return e / 2 } if (uu(arguments[0], vu)) { var s = arguments[0], a = s.size(); if (a < 3) return 0; var u = new nu, l = new nu, c = new nu; s.getCoordinate(0, l), s.getCoordinate(1, c); var h = l.x; c.x -= h; for (var p = 0, f = 1; f < a - 1; f++)u.y = l.y, l.x = c.x, l.y = c.y, s.getCoordinate(f + 1, c), c.x -= h, p += l.x * (u.y - c.y); return p / 2 } }, ju.distanceLineLine = function (t, e, n, i) { if (t.equals(e)) return ju.distancePointLine(t, n, i); if (n.equals(i)) return ju.distancePointLine(i, t, e); var r = !1; if (Cu.intersects(t, e, n, i)) { var o = (e.x - t.x) * (i.y - n.y) - (e.y - t.y) * (i.x - n.x); if (0 === o) r = !0; else { var s = (t.y - n.y) * (i.x - n.x) - (t.x - n.x) * (i.y - n.y), a = ((t.y - n.y) * (e.x - t.x) - (t.x - n.x) * (e.y - t.y)) / o, u = s / o; (u < 0 || u > 1 || a < 0 || a > 1) && (r = !0) } } else r = !0; return r ? lu.min(ju.distancePointLine(t, n, i), ju.distancePointLine(e, n, i), ju.distancePointLine(n, t, e), ju.distancePointLine(i, t, e)) : 0 }, ju.isPointInRing = function (t, e) { return ju.locatePointInRing(t, e) !== su.EXTERIOR }, ju.computeLength = function (t) { var e = t.size(); if (e <= 1) return 0; var n = 0, i = new nu; t.getCoordinate(0, i); for (var r = i.x, o = i.y, s = 1; s < e; s++) { t.getCoordinate(s, i); var a = i.x, u = i.y, l = a - r, c = u - o; n += Math.sqrt(l * l + c * c), r = a, o = u } return n }, ju.isCCW = function (t) { var e = t.length - 1; if (e < 3) throw new Ja("Ring has fewer than 4 points, so orientation cannot be determined"); for (var n = t[0], i = 0, r = 1; r <= e; r++) { var o = t[r]; o.y > n.y && (n = o, i = r) } var s = i; do { (s -= 1) < 0 && (s = e) } while (t[s].equals2D(n) && s !== i); var a = i; do { a = (a + 1) % e } while (t[a].equals2D(n) && a !== i); var u = t[s], l = t[a]; if (u.equals2D(n) || l.equals2D(n) || u.equals2D(l)) return !1; var c = ju.computeOrientation(u, n, l); return 0 === c ? u.x > l.x : c > 0 }, ju.locatePointInRing = function (t, e) { return qu.locatePointInRing(t, e) }, ju.distancePointLinePerpendicular = function (t, e, n) { var i = (n.x - e.x) * (n.x - e.x) + (n.y - e.y) * (n.y - e.y), r = ((e.y - t.y) * (n.x - e.x) - (e.x - t.x) * (n.y - e.y)) / i; return Math.abs(r) * Math.sqrt(i) }, ju.computeOrientation = function (t, e, n) { return ju.orientationIndex(t, e, n) }, ju.distancePointLine = function () { if (2 === arguments.length) { var t = arguments[0], e = arguments[1]; if (0 === e.length) throw new Ja("Line array must contain at least one vertex"); for (var n = t.distance(e[0]), i = 0; i < e.length - 1; i++) { var r = ju.distancePointLine(t, e[i], e[i + 1]); r < n && (n = r) } return n } if (3 === arguments.length) { var o = arguments[0], s = arguments[1], a = arguments[2]; if (s.x === a.x && s.y === a.y) return o.distance(s); var u = (a.x - s.x) * (a.x - s.x) + (a.y - s.y) * (a.y - s.y), l = ((o.x - s.x) * (a.x - s.x) + (o.y - s.y) * (a.y - s.y)) / u; if (l <= 0) return o.distance(s); if (l >= 1) return o.distance(a); var c = ((s.y - o.y) * (a.x - s.x) - (s.x - o.x) * (a.y - s.y)) / u; return Math.abs(c) * Math.sqrt(u) } }, ju.isOnLine = function (t, e) { for (var n = new Fu, i = 1; i < e.length; i++) { var r = e[i - 1], o = e[i]; if (n.computeIntersection(t, r, o), n.hasIntersection()) return !0 } return !1 }, Bu.CLOCKWISE.get = function () { return -1 }, Bu.RIGHT.get = function () { return ju.CLOCKWISE }, Bu.COUNTERCLOCKWISE.get = function () { return 1 }, Bu.LEFT.get = function () { return ju.COUNTERCLOCKWISE }, Bu.COLLINEAR.get = function () { return 0 }, Bu.STRAIGHT.get = function () { return ju.COLLINEAR }, Object.defineProperties(ju, Bu); var $u = function () { }; $u.prototype.filter = function (t) { }, $u.prototype.interfaces_ = function () { return [] }, $u.prototype.getClass = function () { return $u }; var zu = function () { var t = arguments[0]; this._envelope = null, this._factory = null, this._SRID = null, this._userData = null, this._factory = t, this._SRID = t.getSRID() }, Vu = { serialVersionUID: { configurable: !0 }, SORTINDEX_POINT: { configurable: !0 }, SORTINDEX_MULTIPOINT: { configurable: !0 }, SORTINDEX_LINESTRING: { configurable: !0 }, SORTINDEX_LINEARRING: { configurable: !0 }, SORTINDEX_MULTILINESTRING: { configurable: !0 }, SORTINDEX_POLYGON: { configurable: !0 }, SORTINDEX_MULTIPOLYGON: { configurable: !0 }, SORTINDEX_GEOMETRYCOLLECTION: { configurable: !0 }, geometryChangedFilter: { configurable: !0 } }; zu.prototype.isGeometryCollection = function () { return this.getSortIndex() === zu.SORTINDEX_GEOMETRYCOLLECTION }, zu.prototype.getFactory = function () { return this._factory }, zu.prototype.getGeometryN = function (t) { return this }, zu.prototype.getArea = function () { return 0 }, zu.prototype.isRectangle = function () { return !1 }, zu.prototype.equals = function () { if (arguments[0] instanceof zu) { var t = arguments[0]; return null !== t && this.equalsTopo(t) } if (arguments[0] instanceof Object) { var e = arguments[0]; if (!(e instanceof zu)) return !1; var n = e; return this.equalsExact(n) } }, zu.prototype.equalsExact = function (t) { return this === t || this.equalsExact(t, 0) }, zu.prototype.geometryChanged = function () { this.apply(zu.geometryChangedFilter) }, zu.prototype.geometryChangedAction = function () { this._envelope = null }, zu.prototype.equalsNorm = function (t) { return null !== t && this.norm().equalsExact(t.norm()) }, zu.prototype.getLength = function () { return 0 }, zu.prototype.getNumGeometries = function () { return 1 }, zu.prototype.compareTo = function () { if (1 === arguments.length) { var t = arguments[0], e = t; return this.getSortIndex() !== e.getSortIndex() ? this.getSortIndex() - e.getSortIndex() : this.isEmpty() && e.isEmpty() ? 0 : this.isEmpty() ? -1 : e.isEmpty() ? 1 : this.compareToSameClass(t) } if (2 === arguments.length) { var n = arguments[0], i = arguments[1]; return this.getSortIndex() !== n.getSortIndex() ? this.getSortIndex() - n.getSortIndex() : this.isEmpty() && n.isEmpty() ? 0 : this.isEmpty() ? -1 : n.isEmpty() ? 1 : this.compareToSameClass(n, i) } }, zu.prototype.getUserData = function () { return this._userData }, zu.prototype.getSRID = function () { return this._SRID }, zu.prototype.getEnvelope = function () { return this.getFactory().toGeometry(this.getEnvelopeInternal()) }, zu.prototype.checkNotGeometryCollection = function (t) { if (t.getSortIndex() === zu.SORTINDEX_GEOMETRYCOLLECTION) throw new Ja("This method does not support GeometryCollection arguments") }, zu.prototype.equal = function (t, e, n) { return 0 === n ? t.equals(e) : t.distance(e) <= n }, zu.prototype.norm = function () { var t = this.copy(); return t.normalize(), t }, zu.prototype.getPrecisionModel = function () { return this._factory.getPrecisionModel() }, zu.prototype.getEnvelopeInternal = function () { return null === this._envelope && (this._envelope = this.computeEnvelopeInternal()), new Cu(this._envelope) }, zu.prototype.setSRID = function (t) { this._SRID = t }, zu.prototype.setUserData = function (t) { this._userData = t }, zu.prototype.compare = function (t, e) { for (var n = t.iterator(), i = e.iterator(); n.hasNext() && i.hasNext();) { var r = n.next(), o = i.next(), s = r.compareTo(o); if (0 !== s) return s } return n.hasNext() ? 1 : i.hasNext() ? -1 : 0 }, zu.prototype.hashCode = function () { return this.getEnvelopeInternal().hashCode() }, zu.prototype.isGeometryCollectionOrDerived = function () { return this.getSortIndex() === zu.SORTINDEX_GEOMETRYCOLLECTION || this.getSortIndex() === zu.SORTINDEX_MULTIPOINT || this.getSortIndex() === zu.SORTINDEX_MULTILINESTRING || this.getSortIndex() === zu.SORTINDEX_MULTIPOLYGON }, zu.prototype.interfaces_ = function () { return [tu, Qa, mr] }, zu.prototype.getClass = function () { return zu }, zu.hasNonEmptyElements = function (t) { for (var e = 0; e < t.length; e++)if (!t[e].isEmpty()) return !0; return !1 }, zu.hasNullElements = function (t) { for (var e = 0; e < t.length; e++)if (null === t[e]) return !0; return !1 }, Vu.serialVersionUID.get = function () { return 0x799ea46522854c00 }, Vu.SORTINDEX_POINT.get = function () { return 0 }, Vu.SORTINDEX_MULTIPOINT.get = function () { return 1 }, Vu.SORTINDEX_LINESTRING.get = function () { return 2 }, Vu.SORTINDEX_LINEARRING.get = function () { return 3 }, Vu.SORTINDEX_MULTILINESTRING.get = function () { return 4 }, Vu.SORTINDEX_POLYGON.get = function () { return 5 }, Vu.SORTINDEX_MULTIPOLYGON.get = function () { return 6 }, Vu.SORTINDEX_GEOMETRYCOLLECTION.get = function () { return 7 }, Vu.geometryChangedFilter.get = function () { return Uu }, Object.defineProperties(zu, Vu); var Uu = function () { }; Uu.interfaces_ = function () { return [$u] }, Uu.filter = function (t) { t.geometryChangedAction() }; var Hu = function () { }; Hu.prototype.filter = function (t) { }, Hu.prototype.interfaces_ = function () { return [] }, Hu.prototype.getClass = function () { return Hu }; var Gu = function () { }, Xu = { Mod2BoundaryNodeRule: { configurable: !0 }, EndPointBoundaryNodeRule: { configurable: !0 }, MultiValentEndPointBoundaryNodeRule: { configurable: !0 }, MonoValentEndPointBoundaryNodeRule: { configurable: !0 }, MOD2_BOUNDARY_RULE: { configurable: !0 }, ENDPOINT_BOUNDARY_RULE: { configurable: !0 }, MULTIVALENT_ENDPOINT_BOUNDARY_RULE: { configurable: !0 }, MONOVALENT_ENDPOINT_BOUNDARY_RULE: { configurable: !0 }, OGC_SFS_BOUNDARY_RULE: { configurable: !0 } }; Gu.prototype.isInBoundary = function (t) { }, Gu.prototype.interfaces_ = function () { return [] }, Gu.prototype.getClass = function () { return Gu }, Xu.Mod2BoundaryNodeRule.get = function () { return Yu }, Xu.EndPointBoundaryNodeRule.get = function () { return Wu }, Xu.MultiValentEndPointBoundaryNodeRule.get = function () { return Ju }, Xu.MonoValentEndPointBoundaryNodeRule.get = function () { return Zu }, Xu.MOD2_BOUNDARY_RULE.get = function () { return new Yu }, Xu.ENDPOINT_BOUNDARY_RULE.get = function () { return new Wu }, Xu.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get = function () { return new Ju }, Xu.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get = function () { return new Zu }, Xu.OGC_SFS_BOUNDARY_RULE.get = function () { return Gu.MOD2_BOUNDARY_RULE }, Object.defineProperties(Gu, Xu); var Yu = function () { }; Yu.prototype.isInBoundary = function (t) { return t % 2 == 1 }, Yu.prototype.interfaces_ = function () { return [Gu] }, Yu.prototype.getClass = function () { return Yu }; var Wu = function () { }; Wu.prototype.isInBoundary = function (t) { return t > 0 }, Wu.prototype.interfaces_ = function () { return [Gu] }, Wu.prototype.getClass = function () { return Wu }; var Ju = function () { }; Ju.prototype.isInBoundary = function (t) { return t > 1 }, Ju.prototype.interfaces_ = function () { return [Gu] }, Ju.prototype.getClass = function () { return Ju }; var Zu = function () { }; Zu.prototype.isInBoundary = function (t) { return 1 === t }, Zu.prototype.interfaces_ = function () { return [Gu] }, Zu.prototype.getClass = function () { return Zu }; var Ku = function () { }; Ku.prototype.add = function () { }, Ku.prototype.addAll = function () { }, Ku.prototype.isEmpty = function () { }, Ku.prototype.iterator = function () { }, Ku.prototype.size = function () { }, Ku.prototype.toArray = function () { }, Ku.prototype.remove = function () { }; var Qu = function (t) { function e(e) { t.call(this), this.message = e || "" } t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e; var n = { name: { configurable: !0 } }; return n.name.get = function () { return "IndexOutOfBoundsException" }, Object.defineProperties(e, n), e }(Error), tl = function () { }; tl.prototype.hasNext = function () { }, tl.prototype.next = function () { }, tl.prototype.remove = function () { }; var el = function (t) { function e() { t.apply(this, arguments) } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.get = function () { }, e.prototype.set = function () { }, e.prototype.isEmpty = function () { }, e }(Ku); (vr.prototype = new Error).name = "NoSuchElementException"; var nl = function (t) { function e() { t.call(this), this.array_ = [], arguments[0] instanceof Ku && this.addAll(arguments[0]) } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.ensureCapacity = function () { }, e.prototype.interfaces_ = function () { return [t, Ku] }, e.prototype.add = function (t) { return 1 === arguments.length ? this.array_.push(t) : this.array_.splice(arguments[0], arguments[1]), !0 }, e.prototype.clear = function () { this.array_ = [] }, e.prototype.addAll = function (t) { for (var e = t.iterator(); e.hasNext();)this.add(e.next()); return !0 }, e.prototype.set = function (t, e) { var n = this.array_[t]; return this.array_[t] = e, n }, e.prototype.iterator = function () { return new il(this) }, e.prototype.get = function (t) { if (t < 0 || t >= this.size()) throw new Qu; return this.array_[t] }, e.prototype.isEmpty = function () { return 0 === this.array_.length }, e.prototype.size = function () { return this.array_.length }, e.prototype.toArray = function () { for (var t = [], e = 0, n = this.array_.length; e < n; e++)t.push(this.array_[e]); return t }, e.prototype.remove = function (t) { for (var e = !1, n = 0, i = this.array_.length; n < i; n++)if (this.array_[n] === t) { this.array_.splice(n, 1), e = !0; break } return e }, e }(el), il = function (t) { function e(e) { t.call(this), this.arrayList_ = e, this.position_ = 0 } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.next = function () { if (this.position_ === this.arrayList_.size()) throw new vr; return this.arrayList_.get(this.position_++) }, e.prototype.hasNext = function () { return this.position_ < this.arrayList_.size() }, e.prototype.set = function (t) { return this.arrayList_.set(this.position_ - 1, t) }, e.prototype.remove = function () { this.arrayList_.remove(this.arrayList_.get(this.position_)) }, e }(tl), rl = function (t) { function e() { if (t.call(this), 0 === arguments.length); else if (1 === arguments.length) { var e = arguments[0]; this.ensureCapacity(e.length), this.add(e, !0) } else if (2 === arguments.length) { var n = arguments[0], i = arguments[1]; this.ensureCapacity(n.length), this.add(n, i) } } t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e; var n = { coordArrayType: { configurable: !0 } }; return n.coordArrayType.get = function () { return new Array(0).fill(null) }, e.prototype.getCoordinate = function (t) { return this.get(t) }, e.prototype.addAll = function () { if (2 === arguments.length) { for (var e = arguments[0], n = arguments[1], i = !1, r = e.iterator(); r.hasNext();)this.add(r.next(), n), i = !0; return i } return t.prototype.addAll.apply(this, arguments) }, e.prototype.clone = function () { for (var e = t.prototype.clone.call(this), n = 0; n < this.size(); n++)e.add(n, this.get(n).copy()); return e }, e.prototype.toCoordinateArray = function () { return this.toArray(e.coordArrayType) }, e.prototype.add = function () { if (1 === arguments.length) { var e = arguments[0]; t.prototype.add.call(this, e) } else if (2 === arguments.length) { if (arguments[0] instanceof Array && "boolean" == typeof arguments[1]) { var n = arguments[0], i = arguments[1]; return this.add(n, i, !0), !0 } if (arguments[0] instanceof nu && "boolean" == typeof arguments[1]) { var r = arguments[0]; if (!arguments[1] && this.size() >= 1 && this.get(this.size() - 1).equals2D(r)) return null; t.prototype.add.call(this, r) } else if (arguments[0] instanceof Object && "boolean" == typeof arguments[1]) { var o = arguments[0], s = arguments[1]; return this.add(o, s), !0 } } else if (3 === arguments.length) { if ("boolean" == typeof arguments[2] && arguments[0] instanceof Array && "boolean" == typeof arguments[1]) { var a = arguments[0], u = arguments[1]; if (arguments[2]) for (var l = 0; l < a.length; l++)this.add(a[l], u); else for (var c = a.length - 1; c >= 0; c--)this.add(a[c], u); return !0 } if ("boolean" == typeof arguments[2] && Number.isInteger(arguments[0]) && arguments[1] instanceof nu) { var h = arguments[0], p = arguments[1]; if (!arguments[2]) { var f = this.size(); if (f > 0) { if (h > 0 && this.get(h - 1).equals2D(p)) return null; if (h < f && this.get(h).equals2D(p)) return null } } t.prototype.add.call(this, h, p) } } else if (4 === arguments.length) { var d = arguments[0], g = arguments[1], y = arguments[2], m = arguments[3], v = 1; y > m && (v = -1); for (var _ = y; _ !== m; _ += v)this.add(d[_], g); return !0 } }, e.prototype.closeRing = function () { this.size() > 0 && this.add(new nu(this.get(0)), !1) }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, Object.defineProperties(e, n), e }(nl), ol = function () { }, sl = { ForwardComparator: { configurable: !0 }, BidirectionalComparator: { configurable: !0 }, coordArrayType: { configurable: !0 } }; sl.ForwardComparator.get = function () { return al }, sl.BidirectionalComparator.get = function () { return ul }, sl.coordArrayType.get = function () { return new Array(0).fill(null) }, ol.prototype.interfaces_ = function () { return [] }, ol.prototype.getClass = function () { return ol }, ol.isRing = function (t) { return !(t.length < 4 || !t[0].equals2D(t[t.length - 1])) }, ol.ptNotInList = function (t, e) { for (var n = 0; n < t.length; n++) { var i = t[n]; if (ol.indexOf(i, e) < 0) return i } return null }, ol.scroll = function (t, e) { var n = ol.indexOf(e, t); if (n < 0) return null; var i = new Array(t.length).fill(null); xu.arraycopy(t, n, i, 0, t.length - n), xu.arraycopy(t, 0, i, t.length - n, n), xu.arraycopy(i, 0, t, 0, t.length) }, ol.equals = function () { if (2 === arguments.length) { var t = arguments[0], e = arguments[1]; if (t === e) return !0; if (null === t || null === e) return !1; if (t.length !== e.length) return !1; for (var n = 0; n < t.length; n++)if (!t[n].equals(e[n])) return !1; return !0 } if (3 === arguments.length) { var i = arguments[0], r = arguments[1], o = arguments[2]; if (i === r) return !0; if (null === i || null === r) return !1; if (i.length !== r.length) return !1; for (var s = 0; s < i.length; s++)if (0 !== o.compare(i[s], r[s])) return !1; return !0 } }, ol.intersection = function (t, e) { for (var n = new rl, i = 0; i < t.length; i++)e.intersects(t[i]) && n.add(t[i], !0); return n.toCoordinateArray() }, ol.hasRepeatedPoints = function (t) { for (var e = 1; e < t.length; e++)if (t[e - 1].equals(t[e])) return !0; return !1 }, ol.removeRepeatedPoints = function (t) { return ol.hasRepeatedPoints(t) ? new rl(t, !1).toCoordinateArray() : t }, ol.reverse = function (t) { for (var e = t.length - 1, n = Math.trunc(e / 2), i = 0; i <= n; i++) { var r = t[i]; t[i] = t[e - i], t[e - i] = r } }, ol.removeNull = function (t) { for (var e = 0, n = 0; n < t.length; n++)null !== t[n] && e++; var i = new Array(e).fill(null); if (0 === e) return i; for (var r = 0, o = 0; o < t.length; o++)null !== t[o] && (i[r++] = t[o]); return i }, ol.copyDeep = function () { if (1 === arguments.length) { for (var t = arguments[0], e = new Array(t.length).fill(null), n = 0; n < t.length; n++)e[n] = new nu(t[n]); return e } if (5 === arguments.length) for (var i = arguments[0], r = arguments[1], o = arguments[2], s = arguments[3], a = arguments[4], u = 0; u < a; u++)o[s + u] = new nu(i[r + u]) }, ol.isEqualReversed = function (t, e) { for (var n = 0; n < t.length; n++) { var i = t[n], r = e[t.length - n - 1]; if (0 !== i.compareTo(r)) return !1 } return !0 }, ol.envelope = function (t) { for (var e = new Cu, n = 0; n < t.length; n++)e.expandToInclude(t[n]); return e }, ol.toCoordinateArray = function (t) { return t.toArray(ol.coordArrayType) }, ol.atLeastNCoordinatesOrNothing = function (t, e) { return e.length >= t ? e : [] }, ol.indexOf = function (t, e) { for (var n = 0; n < e.length; n++)if (t.equals(e[n])) return n; return -1 }, ol.increasingDirection = function (t) { for (var e = 0; e < Math.trunc(t.length / 2); e++) { var n = t.length - 1 - e, i = t[e].compareTo(t[n]); if (0 !== i) return i } return 1 }, ol.compare = function (t, e) { for (var n = 0; n < t.length && n < e.length;) { var i = t[n].compareTo(e[n]); if (0 !== i) return i; n++ } return n < e.length ? -1 : n < t.length ? 1 : 0 }, ol.minCoordinate = function (t) { for (var e = null, n = 0; n < t.length; n++)(null === e || e.compareTo(t[n]) > 0) && (e = t[n]); return e }, ol.extract = function (t, e, n) { e = lu.clamp(e, 0, t.length); var i = (n = lu.clamp(n, -1, t.length)) - e + 1; n < 0 && (i = 0), e >= t.length && (i = 0), n < e && (i = 0); var r = new Array(i).fill(null); if (0 === i) return r; for (var o = 0, s = e; s <= n; s++)r[o++] = t[s]; return r }, Object.defineProperties(ol, sl); var al = function () { }; al.prototype.compare = function (t, e) { return ol.compare(t, e) }, al.prototype.interfaces_ = function () { return [eu] }, al.prototype.getClass = function () { return al }; var ul = function () { }; ul.prototype.compare = function (t, e) { var n = t, i = e; if (n.length < i.length) return -1; if (n.length > i.length) return 1; if (0 === n.length) return 0; var r = ol.compare(n, i); return ol.isEqualReversed(n, i) ? 0 : r }, ul.prototype.OLDcompare = function (t, e) { var n = t, i = e; if (n.length < i.length) return -1; if (n.length > i.length) return 1; if (0 === n.length) return 0; for (var r = ol.increasingDirection(n), o = ol.increasingDirection(i), s = r > 0 ? 0 : n.length - 1, a = o > 0 ? 0 : n.length - 1, u = 0; u < n.length; u++) { var l = n[s].compareTo(i[a]); if (0 !== l) return l; s += r, a += o } return 0 }, ul.prototype.interfaces_ = function () { return [eu] }, ul.prototype.getClass = function () { return ul }; var ll = function () { }; ll.prototype.get = function () { }, ll.prototype.put = function () { }, ll.prototype.size = function () { }, ll.prototype.values = function () { }, ll.prototype.entrySet = function () { }; var cl = function (t) { function e() { t.apply(this, arguments) } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e }(ll); (_r.prototype = new Error).name = "OperationNotSupported", (br.prototype = new Ku).contains = function () { }; var hl = function (t) { function e() { t.call(this), this.array_ = [], arguments[0] instanceof Ku && this.addAll(arguments[0]) } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.contains = function (t) { for (var e = 0, n = this.array_.length; e < n; e++)if (this.array_[e] === t) return !0; return !1 }, e.prototype.add = function (t) { return !this.contains(t) && (this.array_.push(t), !0) }, e.prototype.addAll = function (t) { for (var e = t.iterator(); e.hasNext();)this.add(e.next()); return !0 }, e.prototype.remove = function (t) { throw new Error }, e.prototype.size = function () { return this.array_.length }, e.prototype.isEmpty = function () { return 0 === this.array_.length }, e.prototype.toArray = function () { for (var t = [], e = 0, n = this.array_.length; e < n; e++)t.push(this.array_[e]); return t }, e.prototype.iterator = function () { return new pl(this) }, e }(br), pl = function (t) { function e(e) { t.call(this), this.hashSet_ = e, this.position_ = 0 } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.next = function () { if (this.position_ === this.hashSet_.size()) throw new vr; return this.hashSet_.array_[this.position_++] }, e.prototype.hasNext = function () { return this.position_ < this.hashSet_.size() }, e.prototype.remove = function () { throw new _r }, e }(tl), fl = 0; (Sr.prototype = new cl).get = function (t) { for (var e = this.root_; null !== e;) { var n = t.compareTo(e.key); if (n < 0) e = e.left; else { if (!(n > 0)) return e.value; e = e.right } } return null }, Sr.prototype.put = function (t, e) { if (null === this.root_) return this.root_ = { key: t, value: e, left: null, right: null, parent: null, color: fl, getValue: function () { return this.value }, getKey: function () { return this.key } }, this.size_ = 1, null; var n, i, r = this.root_; do { if (n = r, (i = t.compareTo(r.key)) < 0) r = r.left; else { if (!(i > 0)) { var o = r.value; return r.value = e, o } r = r.right } } while (null !== r); var s = { key: t, left: null, right: null, value: e, parent: n, color: fl, getValue: function () { return this.value }, getKey: function () { return this.key } }; return i < 0 ? n.left = s : n.right = s, this.fixAfterInsertion(s), this.size_++, null }, Sr.prototype.fixAfterInsertion = function (t) { for (t.color = 1; null != t && t !== this.root_ && 1 === t.parent.color;)if (xr(t) === Cr(xr(xr(t)))) { var e = Dr(xr(xr(t))); 1 === wr(e) ? (Er(xr(t), fl), Er(e, fl), Er(xr(xr(t)), 1), t = xr(xr(t))) : (t === Dr(xr(t)) && (t = xr(t), this.rotateLeft(t)), Er(xr(t), fl), Er(xr(xr(t)), 1), this.rotateRight(xr(xr(t)))) } else { var n = Cr(xr(xr(t))); 1 === wr(n) ? (Er(xr(t), fl), Er(n, fl), Er(xr(xr(t)), 1), t = xr(xr(t))) : (t === Cr(xr(t)) && (t = xr(t), this.rotateRight(t)), Er(xr(t), fl), Er(xr(xr(t)), 1), this.rotateLeft(xr(xr(t)))) } this.root_.color = fl }, Sr.prototype.values = function () { var t = new nl, e = this.getFirstEntry(); if (null !== e) for (t.add(e.value); null !== (e = Sr.successor(e));)t.add(e.value); return t }, Sr.prototype.entrySet = function () { var t = new hl, e = this.getFirstEntry(); if (null !== e) for (t.add(e); null !== (e = Sr.successor(e));)t.add(e); return t }, Sr.prototype.rotateLeft = function (t) { if (null != t) { var e = t.right; t.right = e.left, null != e.left && (e.left.parent = t), e.parent = t.parent, null === t.parent ? this.root_ = e : t.parent.left === t ? t.parent.left = e : t.parent.right = e, e.left = t, t.parent = e } }, Sr.prototype.rotateRight = function (t) { if (null != t) { var e = t.left; t.left = e.right, null != e.right && (e.right.parent = t), e.parent = t.parent, null === t.parent ? this.root_ = e : t.parent.right === t ? t.parent.right = e : t.parent.left = e, e.right = t, t.parent = e } }, Sr.prototype.getFirstEntry = function () { var t = this.root_; if (null != t) for (; null != t.left;)t = t.left; return t }, Sr.successor = function (t) { if (null === t) return null; if (null !== t.right) { for (var e = t.right; null !== e.left;)e = e.left; return e } for (var n = t.parent, i = t; null !== n && i === n.right;)i = n, n = n.parent; return n }, Sr.prototype.size = function () { return this.size_ }; var dl = function () { }; dl.prototype.interfaces_ = function () { return [] }, dl.prototype.getClass = function () { return dl }, Tr.prototype = new br, (Ir.prototype = new Tr).contains = function (t) { for (var e = 0, n = this.array_.length; e < n; e++)if (0 === this.array_[e].compareTo(t)) return !0; return !1 }, Ir.prototype.add = function (t) { if (this.contains(t)) return !1; for (var e = 0, n = this.array_.length; e < n; e++)if (1 === this.array_[e].compareTo(t)) return this.array_.splice(e, 0, t), !0; return this.array_.push(t), !0 }, Ir.prototype.addAll = function (t) { for (var e = t.iterator(); e.hasNext();)this.add(e.next()); return !0 }, Ir.prototype.remove = function (t) { throw new _r }, Ir.prototype.size = function () { return this.array_.length }, Ir.prototype.isEmpty = function () { return 0 === this.array_.length }, Ir.prototype.toArray = function () { for (var t = [], e = 0, n = this.array_.length; e < n; e++)t.push(this.array_[e]); return t }, Ir.prototype.iterator = function () { return new gl(this) }; var gl = function (t) { this.treeSet_ = t, this.position_ = 0 }; gl.prototype.next = function () { if (this.position_ === this.treeSet_.size()) throw new vr; return this.treeSet_.array_[this.position_++] }, gl.prototype.hasNext = function () { return this.position_ < this.treeSet_.size() }, gl.prototype.remove = function () { throw new _r }; var yl = function () { }; yl.sort = function () { var t, e, n, i, r = arguments[0]; if (1 === arguments.length) i = function (t, e) { return t.compareTo(e) }, r.sort(i); else if (2 === arguments.length) n = arguments[1], i = function (t, e) { return n.compare(t, e) }, r.sort(i); else if (3 === arguments.length) { (e = r.slice(arguments[1], arguments[2])).sort(); var o = r.slice(0, arguments[1]).concat(e, r.slice(arguments[2], r.length)); for (r.splice(0, r.length), t = 0; t < o.length; t++)r.push(o[t]) } else if (4 === arguments.length) for (e = r.slice(arguments[1], arguments[2]), n = arguments[3], i = function (t, e) { return n.compare(t, e) }, e.sort(i), o = r.slice(0, arguments[1]).concat(e, r.slice(arguments[2], r.length)), r.splice(0, r.length), t = 0; t < o.length; t++)r.push(o[t]) }, yl.asList = function (t) { for (var e = new nl, n = 0, i = t.length; n < i; n++)e.add(t[n]); return e }; var ml = function () { }, vl = { P: { configurable: !0 }, L: { configurable: !0 }, A: { configurable: !0 }, FALSE: { configurable: !0 }, TRUE: { configurable: !0 }, DONTCARE: { configurable: !0 }, SYM_FALSE: { configurable: !0 }, SYM_TRUE: { configurable: !0 }, SYM_DONTCARE: { configurable: !0 }, SYM_P: { configurable: !0 }, SYM_L: { configurable: !0 }, SYM_A: { configurable: !0 } }; vl.P.get = function () { return 0 }, vl.L.get = function () { return 1 }, vl.A.get = function () { return 2 }, vl.FALSE.get = function () { return -1 }, vl.TRUE.get = function () { return -2 }, vl.DONTCARE.get = function () { return -3 }, vl.SYM_FALSE.get = function () { return "F" }, vl.SYM_TRUE.get = function () { return "T" }, vl.SYM_DONTCARE.get = function () { return "*" }, vl.SYM_P.get = function () { return "0" }, vl.SYM_L.get = function () { return "1" }, vl.SYM_A.get = function () { return "2" }, ml.prototype.interfaces_ = function () { return [] }, ml.prototype.getClass = function () { return ml }, ml.toDimensionSymbol = function (t) { switch (t) { case ml.FALSE: return ml.SYM_FALSE; case ml.TRUE: return ml.SYM_TRUE; case ml.DONTCARE: return ml.SYM_DONTCARE; case ml.P: return ml.SYM_P; case ml.L: return ml.SYM_L; case ml.A: return ml.SYM_A }throw new Ja("Unknown dimension value: " + t) }, ml.toDimensionValue = function (t) { switch (fu.toUpperCase(t)) { case ml.SYM_FALSE: return ml.FALSE; case ml.SYM_TRUE: return ml.TRUE; case ml.SYM_DONTCARE: return ml.DONTCARE; case ml.SYM_P: return ml.P; case ml.SYM_L: return ml.L; case ml.SYM_A: return ml.A }throw new Ja("Unknown dimension symbol: " + t) }, Object.defineProperties(ml, vl); var _l = function () { }; _l.prototype.filter = function (t) { }, _l.prototype.interfaces_ = function () { return [] }, _l.prototype.getClass = function () { return _l }; var bl = function () { }; bl.prototype.filter = function (t, e) { }, bl.prototype.isDone = function () { }, bl.prototype.isGeometryChanged = function () { }, bl.prototype.interfaces_ = function () { return [] }, bl.prototype.getClass = function () { return bl }; var wl = function (t) { function e(e, n) { if (t.call(this, n), this._geometries = e || [], t.hasNullElements(this._geometries)) throw new Ja("geometries must not contain null elements") } t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e; var n = { serialVersionUID: { configurable: !0 } }; return e.prototype.computeEnvelopeInternal = function () { for (var t = new Cu, e = 0; e < this._geometries.length; e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal()); return t }, e.prototype.getGeometryN = function (t) { return this._geometries[t] }, e.prototype.getSortIndex = function () { return t.SORTINDEX_GEOMETRYCOLLECTION }, e.prototype.getCoordinates = function () { for (var t = new Array(this.getNumPoints()).fill(null), e = -1, n = 0; n < this._geometries.length; n++)for (var i = this._geometries[n].getCoordinates(), r = 0; r < i.length; r++)t[++e] = i[r]; return t }, e.prototype.getArea = function () { for (var t = 0, e = 0; e < this._geometries.length; e++)t += this._geometries[e].getArea(); return t }, e.prototype.equalsExact = function () { if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; if (!this.isEquivalentClass(e)) return !1; var i = e; if (this._geometries.length !== i._geometries.length) return !1; for (var r = 0; r < this._geometries.length; r++)if (!this._geometries[r].equalsExact(i._geometries[r], n)) return !1; return !0 } return t.prototype.equalsExact.apply(this, arguments) }, e.prototype.normalize = function () { for (var t = 0; t < this._geometries.length; t++)this._geometries[t].normalize(); yl.sort(this._geometries) }, e.prototype.getCoordinate = function () { return this.isEmpty() ? null : this._geometries[0].getCoordinate() }, e.prototype.getBoundaryDimension = function () { for (var t = ml.FALSE, e = 0; e < this._geometries.length; e++)t = Math.max(t, this._geometries[e].getBoundaryDimension()); return t }, e.prototype.getDimension = function () { for (var t = ml.FALSE, e = 0; e < this._geometries.length; e++)t = Math.max(t, this._geometries[e].getDimension()); return t }, e.prototype.getLength = function () { for (var t = 0, e = 0; e < this._geometries.length; e++)t += this._geometries[e].getLength(); return t }, e.prototype.getNumPoints = function () { for (var t = 0, e = 0; e < this._geometries.length; e++)t += this._geometries[e].getNumPoints(); return t }, e.prototype.getNumGeometries = function () { return this._geometries.length }, e.prototype.reverse = function () { for (var t = this._geometries.length, e = new Array(t).fill(null), n = 0; n < this._geometries.length; n++)e[n] = this._geometries[n].reverse(); return this.getFactory().createGeometryCollection(e) }, e.prototype.compareToSameClass = function () { if (1 === arguments.length) { var t = arguments[0], e = new Ir(yl.asList(this._geometries)), n = new Ir(yl.asList(t._geometries)); return this.compare(e, n) } if (2 === arguments.length) { for (var i = arguments[0], r = arguments[1], o = i, s = this.getNumGeometries(), a = o.getNumGeometries(), u = 0; u < s && u < a;) { var l = this.getGeometryN(u), c = o.getGeometryN(u), h = l.compareToSameClass(c, r); if (0 !== h) return h; u++ } return u < s ? 1 : u < a ? -1 : 0 } }, e.prototype.apply = function () { if (uu(arguments[0], Hu)) for (var t = arguments[0], e = 0; e < this._geometries.length; e++)this._geometries[e].apply(t); else if (uu(arguments[0], bl)) { var n = arguments[0]; if (0 === this._geometries.length) return null; for (var i = 0; i < this._geometries.length && (this._geometries[i].apply(n), !n.isDone()); i++); n.isGeometryChanged() && this.geometryChanged() } else if (uu(arguments[0], _l)) { var r = arguments[0]; r.filter(this); for (var o = 0; o < this._geometries.length; o++)this._geometries[o].apply(r) } else if (uu(arguments[0], $u)) { var s = arguments[0]; s.filter(this); for (var a = 0; a < this._geometries.length; a++)this._geometries[a].apply(s) } }, e.prototype.getBoundary = function () { return this.checkNotGeometryCollection(this), Lu.shouldNeverReachHere(), null }, e.prototype.clone = function () { var e = t.prototype.clone.call(this); e._geometries = new Array(this._geometries.length).fill(null); for (var n = 0; n < this._geometries.length; n++)e._geometries[n] = this._geometries[n].clone(); return e }, e.prototype.getGeometryType = function () { return "GeometryCollection" }, e.prototype.copy = function () { for (var t = new Array(this._geometries.length).fill(null), n = 0; n < t.length; n++)t[n] = this._geometries[n].copy(); return new e(t, this._factory) }, e.prototype.isEmpty = function () { for (var t = 0; t < this._geometries.length; t++)if (!this._geometries[t].isEmpty()) return !1; return !0 }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, n.serialVersionUID.get = function () { return -0x4f07bcb1f857d800 }, Object.defineProperties(e, n), e }(zu), xl = function (t) { function e() { t.apply(this, arguments) } t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e; var n = { serialVersionUID: { configurable: !0 } }; return e.prototype.getSortIndex = function () { return zu.SORTINDEX_MULTILINESTRING }, e.prototype.equalsExact = function () { if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; return !!this.isEquivalentClass(e) && t.prototype.equalsExact.call(this, e, n) } return t.prototype.equalsExact.apply(this, arguments) }, e.prototype.getBoundaryDimension = function () { return this.isClosed() ? ml.FALSE : 0 }, e.prototype.isClosed = function () { if (this.isEmpty()) return !1; for (var t = 0; t < this._geometries.length; t++)if (!this._geometries[t].isClosed()) return !1; return !0 }, e.prototype.getDimension = function () { return 1 }, e.prototype.reverse = function () { for (var t = this._geometries.length, e = new Array(t).fill(null), n = 0; n < this._geometries.length; n++)e[t - 1 - n] = this._geometries[n].reverse(); return this.getFactory().createMultiLineString(e) }, e.prototype.getBoundary = function () { return new El(this).getBoundary() }, e.prototype.getGeometryType = function () { return "MultiLineString" }, e.prototype.copy = function () { for (var t = new Array(this._geometries.length).fill(null), n = 0; n < t.length; n++)t[n] = this._geometries[n].copy(); return new e(t, this._factory) }, e.prototype.interfaces_ = function () { return [dl] }, e.prototype.getClass = function () { return e }, n.serialVersionUID.get = function () { return 0x7155d2ab4afa8000 }, Object.defineProperties(e, n), e }(wl), El = function () { if (this._geom = null, this._geomFact = null, this._bnRule = null, this._endpointMap = null, 1 === arguments.length) { var t = arguments[0], e = Gu.MOD2_BOUNDARY_RULE; this._geom = t, this._geomFact = t.getFactory(), this._bnRule = e } else if (2 === arguments.length) { var n = arguments[0], i = arguments[1]; this._geom = n, this._geomFact = n.getFactory(), this._bnRule = i } }; El.prototype.boundaryMultiLineString = function (t) { if (this._geom.isEmpty()) return this.getEmptyMultiPoint(); var e = this.computeBoundaryCoordinates(t); return 1 === e.length ? this._geomFact.createPoint(e[0]) : this._geomFact.createMultiPointFromCoords(e) }, El.prototype.getBoundary = function () { return this._geom instanceof Il ? this.boundaryLineString(this._geom) : this._geom instanceof xl ? this.boundaryMultiLineString(this._geom) : this._geom.getBoundary() }, El.prototype.boundaryLineString = function (t) { return this._geom.isEmpty() ? this.getEmptyMultiPoint() : t.isClosed() ? this._bnRule.isInBoundary(2) ? t.getStartPoint() : this._geomFact.createMultiPoint() : this._geomFact.createMultiPoint([t.getStartPoint(), t.getEndPoint()]) }, El.prototype.getEmptyMultiPoint = function () { return this._geomFact.createMultiPoint() }, El.prototype.computeBoundaryCoordinates = function (t) { var e = new nl; this._endpointMap = new Sr; for (var n = 0; n < t.getNumGeometries(); n++) { var i = t.getGeometryN(n); 0 !== i.getNumPoints() && (this.addEndpoint(i.getCoordinateN(0)), this.addEndpoint(i.getCoordinateN(i.getNumPoints() - 1))) } for (var r = this._endpointMap.entrySet().iterator(); r.hasNext();) { var o = r.next(), s = o.getValue().count; this._bnRule.isInBoundary(s) && e.add(o.getKey()) } return ol.toCoordinateArray(e) }, El.prototype.addEndpoint = function (t) { var e = this._endpointMap.get(t); null === e && (e = new Cl, this._endpointMap.put(t, e)), e.count++ }, El.prototype.interfaces_ = function () { return [] }, El.prototype.getClass = function () { return El }, El.getBoundary = function () { if (1 === arguments.length) { var t = arguments[0]; return new El(t).getBoundary() } if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; return new El(e, n).getBoundary() } }; var Cl = function () { this.count = null }; Cl.prototype.interfaces_ = function () { return [] }, Cl.prototype.getClass = function () { return Cl }; var Dl = function () { }, Sl = { NEWLINE: { configurable: !0 }, SIMPLE_ORDINATE_FORMAT: { configurable: !0 } }; Dl.prototype.interfaces_ = function () { return [] }, Dl.prototype.getClass = function () { return Dl }, Dl.chars = function (t, e) { for (var n = new Array(e).fill(null), i = 0; i < e; i++)n[i] = t; return String(n) }, Dl.getStackTrace = function () { if (1 === arguments.length) { var t = arguments[0], e = new function () { }, n = new function () { }(e); return t.printStackTrace(n), e.toString() } if (2 === arguments.length) { for (var i = arguments[0], r = arguments[1], o = "", s = new function () { }(new function () { }(Dl.getStackTrace(i))), a = 0; a < r; a++)try { o += s.readLine() + Dl.NEWLINE } catch (t) { if (!(t instanceof Nr)) throw t; Lu.shouldNeverReachHere() } return o } }, Dl.split = function (t, e) { for (var n = e.length, i = new nl, r = "" + t, o = r.indexOf(e); o >= 0;) { var s = r.substring(0, o); i.add(s), o = (r = r.substring(o + n)).indexOf(e) } r.length > 0 && i.add(r); for (var a = new Array(i.size()).fill(null), u = 0; u < a.length; u++)a[u] = i.get(u); return a }, Dl.toString = function () { if (1 === arguments.length) { var t = arguments[0]; return Dl.SIMPLE_ORDINATE_FORMAT.format(t) } }, Dl.spaces = function (t) { return Dl.chars(" ", t) }, Sl.NEWLINE.get = function () { return xu.getProperty("line.separator") }, Sl.SIMPLE_ORDINATE_FORMAT.get = function () { return new function () { }("0.#") }, Object.defineProperties(Dl, Sl); var Tl = function () { }; Tl.prototype.interfaces_ = function () { return [] }, Tl.prototype.getClass = function () { return Tl }, Tl.copyCoord = function (t, e, n, i) { for (var r = Math.min(t.getDimension(), n.getDimension()), o = 0; o < r; o++)n.setOrdinate(i, o, t.getOrdinate(e, o)) }, Tl.isRing = function (t) { var e = t.size(); return 0 === e || !(e <= 3) && t.getOrdinate(0, vu.X) === t.getOrdinate(e - 1, vu.X) && t.getOrdinate(0, vu.Y) === t.getOrdinate(e - 1, vu.Y) }, Tl.isEqual = function (t, e) { var n = t.size(); if (n !== e.size()) return !1; for (var i = Math.min(t.getDimension(), e.getDimension()), r = 0; r < n; r++)for (var o = 0; o < i; o++) { var s = t.getOrdinate(r, o), a = e.getOrdinate(r, o); if (!(t.getOrdinate(r, o) === e.getOrdinate(r, o) || Za.isNaN(s) && Za.isNaN(a))) return !1 } return !0 }, Tl.extend = function (t, e, n) { var i = t.create(n, e.getDimension()), r = e.size(); if (Tl.copy(e, 0, i, 0, r), r > 0) for (var o = r; o < n; o++)Tl.copy(e, r - 1, i, o, 1); return i }, Tl.reverse = function (t) { for (var e = t.size() - 1, n = Math.trunc(e / 2), i = 0; i <= n; i++)Tl.swap(t, i, e - i) }, Tl.swap = function (t, e, n) { if (e === n) return null; for (var i = 0; i < t.getDimension(); i++) { var r = t.getOrdinate(e, i); t.setOrdinate(e, i, t.getOrdinate(n, i)), t.setOrdinate(n, i, r) } }, Tl.copy = function (t, e, n, i, r) { for (var o = 0; o < r; o++)Tl.copyCoord(t, e + o, n, i + o) }, Tl.toString = function () { if (1 === arguments.length) { var t = arguments[0], e = t.size(); if (0 === e) return "()"; var n = t.getDimension(), i = new hu; i.append("("); for (var r = 0; r < e; r++) { r > 0 && i.append(" "); for (var o = 0; o < n; o++)o > 0 && i.append(","), i.append(Dl.toString(t.getOrdinate(r, o))) } return i.append(")"), i.toString() } }, Tl.ensureValidRing = function (t, e) { var n = e.size(); return 0 === n ? e : n <= 3 ? Tl.createClosedRing(t, e, 4) : e.getOrdinate(0, vu.X) === e.getOrdinate(n - 1, vu.X) && e.getOrdinate(0, vu.Y) === e.getOrdinate(n - 1, vu.Y) ? e : Tl.createClosedRing(t, e, n + 1) }, Tl.createClosedRing = function (t, e, n) { var i = t.create(n, e.getDimension()), r = e.size(); Tl.copy(e, 0, i, 0, r); for (var o = r; o < n; o++)Tl.copy(e, 0, i, o, 1); return i }; var Il = function (t) { function e(e, n) { t.call(this, n), this._points = null, this.init(e) } t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e; var n = { serialVersionUID: { configurable: !0 } }; return e.prototype.computeEnvelopeInternal = function () { return this.isEmpty() ? new Cu : this._points.expandEnvelope(new Cu) }, e.prototype.isRing = function () { return this.isClosed() && this.isSimple() }, e.prototype.getSortIndex = function () { return t.SORTINDEX_LINESTRING }, e.prototype.getCoordinates = function () { return this._points.toCoordinateArray() }, e.prototype.equalsExact = function () { if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; if (!this.isEquivalentClass(e)) return !1; var i = e; if (this._points.size() !== i._points.size()) return !1; for (var r = 0; r < this._points.size(); r++)if (!this.equal(this._points.getCoordinate(r), i._points.getCoordinate(r), n)) return !1; return !0 } return t.prototype.equalsExact.apply(this, arguments) }, e.prototype.normalize = function () { for (var t = 0; t < Math.trunc(this._points.size() / 2); t++) { var e = this._points.size() - 1 - t; if (!this._points.getCoordinate(t).equals(this._points.getCoordinate(e))) return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e)) > 0 && Tl.reverse(this._points), null } }, e.prototype.getCoordinate = function () { return this.isEmpty() ? null : this._points.getCoordinate(0) }, e.prototype.getBoundaryDimension = function () { return this.isClosed() ? ml.FALSE : 0 }, e.prototype.isClosed = function () { return !this.isEmpty() && this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints() - 1)) }, e.prototype.getEndPoint = function () { return this.isEmpty() ? null : this.getPointN(this.getNumPoints() - 1) }, e.prototype.getDimension = function () { return 1 }, e.prototype.getLength = function () { return ju.computeLength(this._points) }, e.prototype.getNumPoints = function () { return this._points.size() }, e.prototype.reverse = function () { var t = this._points.copy(); return Tl.reverse(t), this.getFactory().createLineString(t) }, e.prototype.compareToSameClass = function () { if (1 === arguments.length) { for (var t = arguments[0], e = 0, n = 0; e < this._points.size() && n < t._points.size();) { var i = this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n)); if (0 !== i) return i; e++, n++ } return e < this._points.size() ? 1 : n < t._points.size() ? -1 : 0 } if (2 === arguments.length) { var r = arguments[0]; return arguments[1].compare(this._points, r._points) } }, e.prototype.apply = function () { if (uu(arguments[0], Hu)) for (var t = arguments[0], e = 0; e < this._points.size(); e++)t.filter(this._points.getCoordinate(e)); else if (uu(arguments[0], bl)) { var n = arguments[0]; if (0 === this._points.size()) return null; for (var i = 0; i < this._points.size() && (n.filter(this._points, i), !n.isDone()); i++); n.isGeometryChanged() && this.geometryChanged() } else (uu(arguments[0], _l) || uu(arguments[0], $u)) && arguments[0].filter(this) }, e.prototype.getBoundary = function () { return new El(this).getBoundary() }, e.prototype.isEquivalentClass = function (t) { return t instanceof e }, e.prototype.clone = function () { var e = t.prototype.clone.call(this); return e._points = this._points.clone(), e }, e.prototype.getCoordinateN = function (t) { return this._points.getCoordinate(t) }, e.prototype.getGeometryType = function () { return "LineString" }, e.prototype.copy = function () { return new e(this._points.copy(), this._factory) }, e.prototype.getCoordinateSequence = function () { return this._points }, e.prototype.isEmpty = function () { return 0 === this._points.size() }, e.prototype.init = function (t) { if (null === t && (t = this.getFactory().getCoordinateSequenceFactory().create([])), 1 === t.size()) throw new Ja("Invalid number of points in LineString (found " + t.size() + " - must be 0 or >= 2)"); this._points = t }, e.prototype.isCoordinate = function (t) { for (var e = 0; e < this._points.size(); e++)if (this._points.getCoordinate(e).equals(t)) return !0; return !1 }, e.prototype.getStartPoint = function () { return this.isEmpty() ? null : this.getPointN(0) }, e.prototype.getPointN = function (t) { return this.getFactory().createPoint(this._points.getCoordinate(t)) }, e.prototype.interfaces_ = function () { return [dl] }, e.prototype.getClass = function () { return e }, n.serialVersionUID.get = function () { return 0x2b2b51ba435c8e00 }, Object.defineProperties(e, n), e }(zu), Nl = function () { }; Nl.prototype.interfaces_ = function () { return [] }, Nl.prototype.getClass = function () { return Nl }; var Pl = function (t) { function e(e, n) { t.call(this, n), this._coordinates = e || null, this.init(this._coordinates) } t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e; var n = { serialVersionUID: { configurable: !0 } }; return e.prototype.computeEnvelopeInternal = function () { if (this.isEmpty()) return new Cu; var t = new Cu; return t.expandToInclude(this._coordinates.getX(0), this._coordinates.getY(0)), t }, e.prototype.getSortIndex = function () { return t.SORTINDEX_POINT }, e.prototype.getCoordinates = function () { return this.isEmpty() ? [] : [this.getCoordinate()] }, e.prototype.equalsExact = function () { if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; return !!this.isEquivalentClass(e) && (!(!this.isEmpty() || !e.isEmpty()) || this.isEmpty() === e.isEmpty() && this.equal(e.getCoordinate(), this.getCoordinate(), n)) } return t.prototype.equalsExact.apply(this, arguments) }, e.prototype.normalize = function () { }, e.prototype.getCoordinate = function () { return 0 !== this._coordinates.size() ? this._coordinates.getCoordinate(0) : null }, e.prototype.getBoundaryDimension = function () { return ml.FALSE }, e.prototype.getDimension = function () { return 0 }, e.prototype.getNumPoints = function () { return this.isEmpty() ? 0 : 1 }, e.prototype.reverse = function () { return this.copy() }, e.prototype.getX = function () { if (null === this.getCoordinate()) throw new Error("getX called on empty Point"); return this.getCoordinate().x }, e.prototype.compareToSameClass = function () { if (1 === arguments.length) { var t = arguments[0]; return this.getCoordinate().compareTo(t.getCoordinate()) } if (2 === arguments.length) { var e = arguments[0]; return arguments[1].compare(this._coordinates, e._coordinates) } }, e.prototype.apply = function () { if (uu(arguments[0], Hu)) { var t = arguments[0]; if (this.isEmpty()) return null; t.filter(this.getCoordinate()) } else if (uu(arguments[0], bl)) { var e = arguments[0]; if (this.isEmpty()) return null; e.filter(this._coordinates, 0), e.isGeometryChanged() && this.geometryChanged() } else (uu(arguments[0], _l) || uu(arguments[0], $u)) && arguments[0].filter(this) }, e.prototype.getBoundary = function () { return this.getFactory().createGeometryCollection(null) }, e.prototype.clone = function () { var e = t.prototype.clone.call(this); return e._coordinates = this._coordinates.clone(), e }, e.prototype.getGeometryType = function () { return "Point" }, e.prototype.copy = function () { return new e(this._coordinates.copy(), this._factory) }, e.prototype.getCoordinateSequence = function () { return this._coordinates }, e.prototype.getY = function () { if (null === this.getCoordinate()) throw new Error("getY called on empty Point"); return this.getCoordinate().y }, e.prototype.isEmpty = function () { return 0 === this._coordinates.size() }, e.prototype.init = function (t) { null === t && (t = this.getFactory().getCoordinateSequenceFactory().create([])), Lu.isTrue(t.size() <= 1), this._coordinates = t }, e.prototype.isSimple = function () { return !0 }, e.prototype.interfaces_ = function () { return [Nl] }, e.prototype.getClass = function () { return e }, n.serialVersionUID.get = function () { return 0x44077bad161cbc00 }, Object.defineProperties(e, n), e }(zu), Al = function () { }; Al.prototype.interfaces_ = function () { return [] }, Al.prototype.getClass = function () { return Al }; var Ml = function (t) { function e(e, n, i) { if (t.call(this, i), this._shell = null, this._holes = null, null === e && (e = this.getFactory().createLinearRing()), null === n && (n = []), t.hasNullElements(n)) throw new Ja("holes must not contain null elements"); if (e.isEmpty() && t.hasNonEmptyElements(n)) throw new Ja("shell is empty but holes are not"); this._shell = e, this._holes = n } t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e; var n = { serialVersionUID: { configurable: !0 } }; return e.prototype.computeEnvelopeInternal = function () { return this._shell.getEnvelopeInternal() }, e.prototype.getSortIndex = function () { return t.SORTINDEX_POLYGON }, e.prototype.getCoordinates = function () { if (this.isEmpty()) return []; for (var t = new Array(this.getNumPoints()).fill(null), e = -1, n = this._shell.getCoordinates(), i = 0; i < n.length; i++)t[++e] = n[i]; for (var r = 0; r < this._holes.length; r++)for (var o = this._holes[r].getCoordinates(), s = 0; s < o.length; s++)t[++e] = o[s]; return t }, e.prototype.getArea = function () { var t = 0; t += Math.abs(ju.signedArea(this._shell.getCoordinateSequence())); for (var e = 0; e < this._holes.length; e++)t -= Math.abs(ju.signedArea(this._holes[e].getCoordinateSequence())); return t }, e.prototype.isRectangle = function () { if (0 !== this.getNumInteriorRing()) return !1; if (null === this._shell) return !1; if (5 !== this._shell.getNumPoints()) return !1; for (var t = this._shell.getCoordinateSequence(), e = this.getEnvelopeInternal(), n = 0; n < 5; n++) { var i = t.getX(n); if (i !== e.getMinX() && i !== e.getMaxX()) return !1; var r = t.getY(n); if (r !== e.getMinY() && r !== e.getMaxY()) return !1 } for (var o = t.getX(0), s = t.getY(0), a = 1; a <= 4; a++) { var u = t.getX(a), l = t.getY(a); if (u !== o == (l !== s)) return !1; o = u, s = l } return !0 }, e.prototype.equalsExact = function () { if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; if (!this.isEquivalentClass(e)) return !1; var i = e, r = this._shell, o = i._shell; if (!r.equalsExact(o, n)) return !1; if (this._holes.length !== i._holes.length) return !1; for (var s = 0; s < this._holes.length; s++)if (!this._holes[s].equalsExact(i._holes[s], n)) return !1; return !0 } return t.prototype.equalsExact.apply(this, arguments) }, e.prototype.normalize = function () { if (0 === arguments.length) { this.normalize(this._shell, !0); for (var t = 0; t < this._holes.length; t++)this.normalize(this._holes[t], !1); yl.sort(this._holes) } else if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; if (e.isEmpty()) return null; var i = new Array(e.getCoordinates().length - 1).fill(null); xu.arraycopy(e.getCoordinates(), 0, i, 0, i.length); var r = ol.minCoordinate(e.getCoordinates()); ol.scroll(i, r), xu.arraycopy(i, 0, e.getCoordinates(), 0, i.length), e.getCoordinates()[i.length] = i[0], ju.isCCW(e.getCoordinates()) === n && ol.reverse(e.getCoordinates()) } }, e.prototype.getCoordinate = function () { return this._shell.getCoordinate() }, e.prototype.getNumInteriorRing = function () { return this._holes.length }, e.prototype.getBoundaryDimension = function () { return 1 }, e.prototype.getDimension = function () { return 2 }, e.prototype.getLength = function () { var t = 0; t += this._shell.getLength(); for (var e = 0; e < this._holes.length; e++)t += this._holes[e].getLength(); return t }, e.prototype.getNumPoints = function () { for (var t = this._shell.getNumPoints(), e = 0; e < this._holes.length; e++)t += this._holes[e].getNumPoints(); return t }, e.prototype.reverse = function () { var t = this.copy(); t._shell = this._shell.copy().reverse(), t._holes = new Array(this._holes.length).fill(null); for (var e = 0; e < this._holes.length; e++)t._holes[e] = this._holes[e].copy().reverse(); return t }, e.prototype.convexHull = function () { return this.getExteriorRing().convexHull() }, e.prototype.compareToSameClass = function () { if (1 === arguments.length) { var t = arguments[0], e = this._shell, n = t._shell; return e.compareToSameClass(n) } if (2 === arguments.length) { var i = arguments[0], r = arguments[1], o = i, s = this._shell, a = o._shell, u = s.compareToSameClass(a, r); if (0 !== u) return u; for (var l = this.getNumInteriorRing(), c = o.getNumInteriorRing(), h = 0; h < l && h < c;) { var p = this.getInteriorRingN(h), f = o.getInteriorRingN(h), d = p.compareToSameClass(f, r); if (0 !== d) return d; h++ } return h < l ? 1 : h < c ? -1 : 0 } }, e.prototype.apply = function (t) { if (uu(t, Hu)) { this._shell.apply(t); for (var e = 0; e < this._holes.length; e++)this._holes[e].apply(t) } else if (uu(t, bl)) { if (this._shell.apply(t), !t.isDone()) for (var n = 0; n < this._holes.length && (this._holes[n].apply(t), !t.isDone()); n++); t.isGeometryChanged() && this.geometryChanged() } else if (uu(t, _l)) t.filter(this); else if (uu(t, $u)) { t.filter(this), this._shell.apply(t); for (var i = 0; i < this._holes.length; i++)this._holes[i].apply(t) } }, e.prototype.getBoundary = function () { if (this.isEmpty()) return this.getFactory().createMultiLineString(); var t = new Array(this._holes.length + 1).fill(null); t[0] = this._shell; for (var e = 0; e < this._holes.length; e++)t[e + 1] = this._holes[e]; return t.length <= 1 ? this.getFactory().createLinearRing(t[0].getCoordinateSequence()) : this.getFactory().createMultiLineString(t) }, e.prototype.clone = function () { var e = t.prototype.clone.call(this); e._shell = this._shell.clone(), e._holes = new Array(this._holes.length).fill(null); for (var n = 0; n < this._holes.length; n++)e._holes[n] = this._holes[n].clone(); return e }, e.prototype.getGeometryType = function () { return "Polygon" }, e.prototype.copy = function () { for (var t = this._shell.copy(), n = new Array(this._holes.length).fill(null), i = 0; i < n.length; i++)n[i] = this._holes[i].copy(); return new e(t, n, this._factory) }, e.prototype.getExteriorRing = function () { return this._shell }, e.prototype.isEmpty = function () { return this._shell.isEmpty() }, e.prototype.getInteriorRingN = function (t) { return this._holes[t] }, e.prototype.interfaces_ = function () { return [Al] }, e.prototype.getClass = function () { return e }, n.serialVersionUID.get = function () { return -0x307ffefd8dc97200 }, Object.defineProperties(e, n), e }(zu), Ll = function (t) { function e() { t.apply(this, arguments) } t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e; var n = { serialVersionUID: { configurable: !0 } }; return e.prototype.getSortIndex = function () { return zu.SORTINDEX_MULTIPOINT }, e.prototype.isValid = function () { return !0 }, e.prototype.equalsExact = function () { if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; return !!this.isEquivalentClass(e) && t.prototype.equalsExact.call(this, e, n) } return t.prototype.equalsExact.apply(this, arguments) }, e.prototype.getCoordinate = function () { if (1 === arguments.length) { var e = arguments[0]; return this._geometries[e].getCoordinate() } return t.prototype.getCoordinate.apply(this, arguments) }, e.prototype.getBoundaryDimension = function () { return ml.FALSE }, e.prototype.getDimension = function () { return 0 }, e.prototype.getBoundary = function () { return this.getFactory().createGeometryCollection(null) }, e.prototype.getGeometryType = function () { return "MultiPoint" }, e.prototype.copy = function () { for (var t = new Array(this._geometries.length).fill(null), n = 0; n < t.length; n++)t[n] = this._geometries[n].copy(); return new e(t, this._factory) }, e.prototype.interfaces_ = function () { return [Nl] }, e.prototype.getClass = function () { return e }, n.serialVersionUID.get = function () { return -0x6fb1ed4162e0fc00 }, Object.defineProperties(e, n), e }(wl), Ol = function (t) { function e(e, n) { e instanceof nu && n instanceof Jl && (e = n.getCoordinateSequenceFactory().create(e)), t.call(this, e, n), this.validateConstruction() } t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e; var n = { MINIMUM_VALID_SIZE: { configurable: !0 }, serialVersionUID: { configurable: !0 } }; return e.prototype.getSortIndex = function () { return zu.SORTINDEX_LINEARRING }, e.prototype.getBoundaryDimension = function () { return ml.FALSE }, e.prototype.isClosed = function () { return !!this.isEmpty() || t.prototype.isClosed.call(this) }, e.prototype.reverse = function () { var t = this._points.copy(); return Tl.reverse(t), this.getFactory().createLinearRing(t) }, e.prototype.validateConstruction = function () { if (!this.isEmpty() && !t.prototype.isClosed.call(this)) throw new Ja("Points of LinearRing do not form a closed linestring"); if (this.getCoordinateSequence().size() >= 1 && this.getCoordinateSequence().size() < e.MINIMUM_VALID_SIZE) throw new Ja("Invalid number of points in LinearRing (found " + this.getCoordinateSequence().size() + " - must be 0 or >= 4)") }, e.prototype.getGeometryType = function () { return "LinearRing" }, e.prototype.copy = function () { return new e(this._points.copy(), this._factory) }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, n.MINIMUM_VALID_SIZE.get = function () { return 4 }, n.serialVersionUID.get = function () { return -0x3b229e262367a600 }, Object.defineProperties(e, n), e }(Il), kl = function (t) { function e() { t.apply(this, arguments) } t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e; var n = { serialVersionUID: { configurable: !0 } }; return e.prototype.getSortIndex = function () { return zu.SORTINDEX_MULTIPOLYGON }, e.prototype.equalsExact = function () { if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; return !!this.isEquivalentClass(e) && t.prototype.equalsExact.call(this, e, n) } return t.prototype.equalsExact.apply(this, arguments) }, e.prototype.getBoundaryDimension = function () { return 1 }, e.prototype.getDimension = function () { return 2 }, e.prototype.reverse = function () { for (var t = this._geometries.length, e = new Array(t).fill(null), n = 0; n < this._geometries.length; n++)e[n] = this._geometries[n].reverse(); return this.getFactory().createMultiPolygon(e) }, e.prototype.getBoundary = function () { if (this.isEmpty()) return this.getFactory().createMultiLineString(); for (var t = new nl, e = 0; e < this._geometries.length; e++)for (var n = this._geometries[e].getBoundary(), i = 0; i < n.getNumGeometries(); i++)t.add(n.getGeometryN(i)); var r = new Array(t.size()).fill(null); return this.getFactory().createMultiLineString(t.toArray(r)) }, e.prototype.getGeometryType = function () { return "MultiPolygon" }, e.prototype.copy = function () { for (var t = new Array(this._geometries.length).fill(null), n = 0; n < t.length; n++)t[n] = this._geometries[n].copy(); return new e(t, this._factory) }, e.prototype.interfaces_ = function () { return [Al] }, e.prototype.getClass = function () { return e }, n.serialVersionUID.get = function () { return -0x7a5aa1369171980 }, Object.defineProperties(e, n), e }(wl), Fl = function (t) { this._factory = t || null, this._isUserDataCopied = !1 }, Rl = { NoOpGeometryOperation: { configurable: !0 }, CoordinateOperation: { configurable: !0 }, CoordinateSequenceOperation: { configurable: !0 } }; Fl.prototype.setCopyUserData = function (t) { this._isUserDataCopied = t }, Fl.prototype.edit = function (t, e) { if (null === t) return null; var n = this.editInternal(t, e); return this._isUserDataCopied && n.setUserData(t.getUserData()), n }, Fl.prototype.editInternal = function (t, e) { return null === this._factory && (this._factory = t.getFactory()), t instanceof wl ? this.editGeometryCollection(t, e) : t instanceof Ml ? this.editPolygon(t, e) : t instanceof Pl || t instanceof Il ? e.edit(t, this._factory) : (Lu.shouldNeverReachHere("Unsupported Geometry class: " + t.getClass().getName()), null) }, Fl.prototype.editGeometryCollection = function (t, e) { for (var n = e.edit(t, this._factory), i = new nl, r = 0; r < n.getNumGeometries(); r++) { var o = this.edit(n.getGeometryN(r), e); null === o || o.isEmpty() || i.add(o) } return n.getClass() === Ll ? this._factory.createMultiPoint(i.toArray([])) : n.getClass() === xl ? this._factory.createMultiLineString(i.toArray([])) : n.getClass() === kl ? this._factory.createMultiPolygon(i.toArray([])) : this._factory.createGeometryCollection(i.toArray([])) }, Fl.prototype.editPolygon = function (t, e) { var n = e.edit(t, this._factory); if (null === n && (n = this._factory.createPolygon(null)), n.isEmpty()) return n; var i = this.edit(n.getExteriorRing(), e); if (null === i || i.isEmpty()) return this._factory.createPolygon(); for (var r = new nl, o = 0; o < n.getNumInteriorRing(); o++) { var s = this.edit(n.getInteriorRingN(o), e); null === s || s.isEmpty() || r.add(s) } return this._factory.createPolygon(i, r.toArray([])) }, Fl.prototype.interfaces_ = function () { return [] }, Fl.prototype.getClass = function () { return Fl }, Fl.GeometryEditorOperation = function () { }, Rl.NoOpGeometryOperation.get = function () { return ql }, Rl.CoordinateOperation.get = function () { return jl }, Rl.CoordinateSequenceOperation.get = function () { return Bl }, Object.defineProperties(Fl, Rl); var ql = function () { }; ql.prototype.edit = function (t, e) { return t }, ql.prototype.interfaces_ = function () { return [Fl.GeometryEditorOperation] }, ql.prototype.getClass = function () { return ql }; var jl = function () { }; jl.prototype.edit = function (t, e) { var n = this.editCoordinates(t.getCoordinates(), t); return null === n ? t : t instanceof Ol ? e.createLinearRing(n) : t instanceof Il ? e.createLineString(n) : t instanceof Pl ? n.length > 0 ? e.createPoint(n[0]) : e.createPoint() : t }, jl.prototype.interfaces_ = function () { return [Fl.GeometryEditorOperation] }, jl.prototype.getClass = function () { return jl }; var Bl = function () { }; Bl.prototype.edit = function (t, e) { return t instanceof Ol ? e.createLinearRing(this.edit(t.getCoordinateSequence(), t)) : t instanceof Il ? e.createLineString(this.edit(t.getCoordinateSequence(), t)) : t instanceof Pl ? e.createPoint(this.edit(t.getCoordinateSequence(), t)) : t }, Bl.prototype.interfaces_ = function () { return [Fl.GeometryEditorOperation] }, Bl.prototype.getClass = function () { return Bl }; var $l = function () { if (this._dimension = 3, this._coordinates = null, 1 === arguments.length) { if (arguments[0] instanceof Array) this._coordinates = arguments[0], this._dimension = 3; else if (Number.isInteger(arguments[0])) { var t = arguments[0]; this._coordinates = new Array(t).fill(null); for (var e = 0; e < t; e++)this._coordinates[e] = new nu } else if (uu(arguments[0], vu)) { var n = arguments[0]; if (null === n) return this._coordinates = new Array(0).fill(null), null; this._dimension = n.getDimension(), this._coordinates = new Array(n.size()).fill(null); for (var i = 0; i < this._coordinates.length; i++)this._coordinates[i] = n.getCoordinateCopy(i) } } else if (2 === arguments.length) if (arguments[0] instanceof Array && Number.isInteger(arguments[1])) { var r = arguments[0], o = arguments[1]; this._coordinates = r, this._dimension = o, null === r && (this._coordinates = new Array(0).fill(null)) } else if (Number.isInteger(arguments[0]) && Number.isInteger(arguments[1])) { var s = arguments[0], a = arguments[1]; this._coordinates = new Array(s).fill(null), this._dimension = a; for (var u = 0; u < s; u++)this._coordinates[u] = new nu } }, zl = { serialVersionUID: { configurable: !0 } }; $l.prototype.setOrdinate = function (t, e, n) { switch (e) { case vu.X: this._coordinates[t].x = n; break; case vu.Y: this._coordinates[t].y = n; break; case vu.Z: this._coordinates[t].z = n; break; default: throw new Ja("invalid ordinateIndex") } }, $l.prototype.size = function () { return this._coordinates.length }, $l.prototype.getOrdinate = function (t, e) { switch (e) { case vu.X: return this._coordinates[t].x; case vu.Y: return this._coordinates[t].y; case vu.Z: return this._coordinates[t].z }return Za.NaN }, $l.prototype.getCoordinate = function () { if (1 === arguments.length) { var t = arguments[0]; return this._coordinates[t] } if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; n.x = this._coordinates[e].x, n.y = this._coordinates[e].y, n.z = this._coordinates[e].z } }, $l.prototype.getCoordinateCopy = function (t) { return new nu(this._coordinates[t]) }, $l.prototype.getDimension = function () { return this._dimension }, $l.prototype.getX = function (t) { return this._coordinates[t].x }, $l.prototype.clone = function () { for (var t = new Array(this.size()).fill(null), e = 0; e < this._coordinates.length; e++)t[e] = this._coordinates[e].clone(); return new $l(t, this._dimension) }, $l.prototype.expandEnvelope = function (t) { for (var e = 0; e < this._coordinates.length; e++)t.expandToInclude(this._coordinates[e]); return t }, $l.prototype.copy = function () { for (var t = new Array(this.size()).fill(null), e = 0; e < this._coordinates.length; e++)t[e] = this._coordinates[e].copy(); return new $l(t, this._dimension) }, $l.prototype.toString = function () { if (this._coordinates.length > 0) { var t = new hu(17 * this._coordinates.length); t.append("("), t.append(this._coordinates[0]); for (var e = 1; e < this._coordinates.length; e++)t.append(", "), t.append(this._coordinates[e]); return t.append(")"), t.toString() } return "()" }, $l.prototype.getY = function (t) { return this._coordinates[t].y }, $l.prototype.toCoordinateArray = function () { return this._coordinates }, $l.prototype.interfaces_ = function () { return [vu, mr] }, $l.prototype.getClass = function () { return $l }, zl.serialVersionUID.get = function () { return -0xcb44a778db18e00 }, Object.defineProperties($l, zl); var Vl = function () { }, Ul = { serialVersionUID: { configurable: !0 }, instanceObject: { configurable: !0 } }; Vl.prototype.readResolve = function () { return Vl.instance() }, Vl.prototype.create = function () { if (1 === arguments.length) { if (arguments[0] instanceof Array) { var t = arguments[0]; return new $l(t) } if (uu(arguments[0], vu)) { var e = arguments[0]; return new $l(e) } } else if (2 === arguments.length) { var n = arguments[0], i = arguments[1]; return i > 3 && (i = 3), i < 2 ? new $l(n) : new $l(n, i) } }, Vl.prototype.interfaces_ = function () { return [ou, mr] }, Vl.prototype.getClass = function () { return Vl }, Vl.instance = function () { return Vl.instanceObject }, Ul.serialVersionUID.get = function () { return -0x38e49fa6cf6f2e00 }, Ul.instanceObject.get = function () { return new Vl }, Object.defineProperties(Vl, Ul); var Hl = function (t) { function e() { t.call(this), this.map_ = new Map } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.get = function (t) { return this.map_.get(t) || null }, e.prototype.put = function (t, e) { return this.map_.set(t, e), e }, e.prototype.values = function () { for (var t = new nl, e = this.map_.values(), n = e.next(); !n.done;)t.add(n.value), n = e.next(); return t }, e.prototype.entrySet = function () { var t = new hl; return this.map_.entries().forEach((function (e) { return t.add(e) })), t }, e.prototype.size = function () { return this.map_.size() }, e }(ll), Gl = function t() { if (this._modelType = null, this._scale = null, 0 === arguments.length) this._modelType = t.FLOATING; else if (1 === arguments.length) if (arguments[0] instanceof Yl) { var e = arguments[0]; this._modelType = e, e === t.FIXED && this.setScale(1) } else if ("number" == typeof arguments[0]) { var n = arguments[0]; this._modelType = t.FIXED, this.setScale(n) } else if (arguments[0] instanceof t) { var i = arguments[0]; this._modelType = i._modelType, this._scale = i._scale } }, Xl = { serialVersionUID: { configurable: !0 }, maximumPreciseValue: { configurable: !0 } }; Gl.prototype.equals = function (t) { if (!(t instanceof Gl)) return !1; var e = t; return this._modelType === e._modelType && this._scale === e._scale }, Gl.prototype.compareTo = function (t) { var e = t, n = this.getMaximumSignificantDigits(), i = e.getMaximumSignificantDigits(); return new pu(n).compareTo(new pu(i)) }, Gl.prototype.getScale = function () { return this._scale }, Gl.prototype.isFloating = function () { return this._modelType === Gl.FLOATING || this._modelType === Gl.FLOATING_SINGLE }, Gl.prototype.getType = function () { return this._modelType }, Gl.prototype.toString = function () { var t = "UNKNOWN"; return this._modelType === Gl.FLOATING ? t = "Floating" : this._modelType === Gl.FLOATING_SINGLE ? t = "Floating-Single" : this._modelType === Gl.FIXED && (t = "Fixed (Scale=" + this.getScale() + ")"), t }, Gl.prototype.makePrecise = function () { if ("number" == typeof arguments[0]) { var t = arguments[0]; return Za.isNaN(t) || this._modelType === Gl.FLOATING_SINGLE ? t : this._modelType === Gl.FIXED ? Math.round(t * this._scale) / this._scale : t } if (arguments[0] instanceof nu) { var e = arguments[0]; if (this._modelType === Gl.FLOATING) return null; e.x = this.makePrecise(e.x), e.y = this.makePrecise(e.y) } }, Gl.prototype.getMaximumSignificantDigits = function () { var t = 16; return this._modelType === Gl.FLOATING ? t = 16 : this._modelType === Gl.FLOATING_SINGLE ? t = 6 : this._modelType === Gl.FIXED && (t = 1 + Math.trunc(Math.ceil(Math.log(this.getScale()) / Math.log(10)))), t }, Gl.prototype.setScale = function (t) { this._scale = Math.abs(t) }, Gl.prototype.interfaces_ = function () { return [mr, Qa] }, Gl.prototype.getClass = function () { return Gl }, Gl.mostPrecise = function (t, e) { return t.compareTo(e) >= 0 ? t : e }, Xl.serialVersionUID.get = function () { return 0x6bee6404e9a25c00 }, Xl.maximumPreciseValue.get = function () { return 9007199254740992 }, Object.defineProperties(Gl, Xl); var Yl = function t(e) { this._name = e || null, t.nameToTypeMap.put(e, this) }, Wl = { serialVersionUID: { configurable: !0 }, nameToTypeMap: { configurable: !0 } }; Yl.prototype.readResolve = function () { return Yl.nameToTypeMap.get(this._name) }, Yl.prototype.toString = function () { return this._name }, Yl.prototype.interfaces_ = function () { return [mr] }, Yl.prototype.getClass = function () { return Yl }, Wl.serialVersionUID.get = function () { return -552860263173159e4 }, Wl.nameToTypeMap.get = function () { return new Hl }, Object.defineProperties(Yl, Wl), Gl.Type = Yl, Gl.FIXED = new Yl("FIXED"), Gl.FLOATING = new Yl("FLOATING"), Gl.FLOATING_SINGLE = new Yl("FLOATING SINGLE"); var Jl = function t() { this._precisionModel = new Gl, this._SRID = 0, this._coordinateSequenceFactory = t.getDefaultCoordinateSequenceFactory(), 0 === arguments.length || (1 === arguments.length ? uu(arguments[0], ou) ? this._coordinateSequenceFactory = arguments[0] : arguments[0] instanceof Gl && (this._precisionModel = arguments[0]) : 2 === arguments.length ? (this._precisionModel = arguments[0], this._SRID = arguments[1]) : 3 === arguments.length && (this._precisionModel = arguments[0], this._SRID = arguments[1], this._coordinateSequenceFactory = arguments[2])) }, Zl = { serialVersionUID: { configurable: !0 } }; Jl.prototype.toGeometry = function (t) { return t.isNull() ? this.createPoint(null) : t.getMinX() === t.getMaxX() && t.getMinY() === t.getMaxY() ? this.createPoint(new nu(t.getMinX(), t.getMinY())) : t.getMinX() === t.getMaxX() || t.getMinY() === t.getMaxY() ? this.createLineString([new nu(t.getMinX(), t.getMinY()), new nu(t.getMaxX(), t.getMaxY())]) : this.createPolygon(this.createLinearRing([new nu(t.getMinX(), t.getMinY()), new nu(t.getMinX(), t.getMaxY()), new nu(t.getMaxX(), t.getMaxY()), new nu(t.getMaxX(), t.getMinY()), new nu(t.getMinX(), t.getMinY())]), null) }, Jl.prototype.createLineString = function (t) { return t ? t instanceof Array ? new Il(this.getCoordinateSequenceFactory().create(t), this) : uu(t, vu) ? new Il(t, this) : void 0 : new Il(this.getCoordinateSequenceFactory().create([]), this) }, Jl.prototype.createMultiLineString = function () { if (0 === arguments.length) return new xl(null, this); if (1 === arguments.length) { var t = arguments[0]; return new xl(t, this) } }, Jl.prototype.buildGeometry = function (t) { for (var e = null, n = !1, i = !1, r = t.iterator(); r.hasNext();) { var o = r.next(), s = o.getClass(); null === e && (e = s), s !== e && (n = !0), o.isGeometryCollectionOrDerived() && (i = !0) } if (null === e) return this.createGeometryCollection(); if (n || i) return this.createGeometryCollection(Jl.toGeometryArray(t)); var a = t.iterator().next(); if (t.size() > 1) { if (a instanceof Ml) return this.createMultiPolygon(Jl.toPolygonArray(t)); if (a instanceof Il) return this.createMultiLineString(Jl.toLineStringArray(t)); if (a instanceof Pl) return this.createMultiPoint(Jl.toPointArray(t)); Lu.shouldNeverReachHere("Unhandled class: " + a.getClass().getName()) } return a }, Jl.prototype.createMultiPointFromCoords = function (t) { return this.createMultiPoint(null !== t ? this.getCoordinateSequenceFactory().create(t) : null) }, Jl.prototype.createPoint = function () { if (0 === arguments.length) return this.createPoint(this.getCoordinateSequenceFactory().create([])); if (1 === arguments.length) { if (arguments[0] instanceof nu) { var t = arguments[0]; return this.createPoint(null !== t ? this.getCoordinateSequenceFactory().create([t]) : null) } if (uu(arguments[0], vu)) { var e = arguments[0]; return new Pl(e, this) } } }, Jl.prototype.getCoordinateSequenceFactory = function () { return this._coordinateSequenceFactory }, Jl.prototype.createPolygon = function () { if (0 === arguments.length) return new Ml(null, null, this); if (1 === arguments.length) { if (uu(arguments[0], vu)) { var t = arguments[0]; return this.createPolygon(this.createLinearRing(t)) } if (arguments[0] instanceof Array) { var e = arguments[0]; return this.createPolygon(this.createLinearRing(e)) } if (arguments[0] instanceof Ol) { var n = arguments[0]; return this.createPolygon(n, null) } } else if (2 === arguments.length) { var i = arguments[0], r = arguments[1]; return new Ml(i, r, this) } }, Jl.prototype.getSRID = function () { return this._SRID }, Jl.prototype.createGeometryCollection = function () { if (0 === arguments.length) return new wl(null, this); if (1 === arguments.length) { var t = arguments[0]; return new wl(t, this) } }, Jl.prototype.createGeometry = function (t) { return new Fl(this).edit(t, { edit: function () { if (2 === arguments.length) { var t = arguments[0]; return this._coordinateSequenceFactory.create(t) } } }) }, Jl.prototype.getPrecisionModel = function () { return this._precisionModel }, Jl.prototype.createLinearRing = function () { if (0 === arguments.length) return this.createLinearRing(this.getCoordinateSequenceFactory().create([])); if (1 === arguments.length) { if (arguments[0] instanceof Array) { var t = arguments[0]; return this.createLinearRing(null !== t ? this.getCoordinateSequenceFactory().create(t) : null) } if (uu(arguments[0], vu)) { var e = arguments[0]; return new Ol(e, this) } } }, Jl.prototype.createMultiPolygon = function () { if (0 === arguments.length) return new kl(null, this); if (1 === arguments.length) { var t = arguments[0]; return new kl(t, this) } }, Jl.prototype.createMultiPoint = function () { if (0 === arguments.length) return new Ll(null, this); if (1 === arguments.length) { if (arguments[0] instanceof Array) { var t = arguments[0]; return new Ll(t, this) } if (arguments[0] instanceof Array) { var e = arguments[0]; return this.createMultiPoint(null !== e ? this.getCoordinateSequenceFactory().create(e) : null) } if (uu(arguments[0], vu)) { var n = arguments[0]; if (null === n) return this.createMultiPoint(new Array(0).fill(null)); for (var i = new Array(n.size()).fill(null), r = 0; r < n.size(); r++) { var o = this.getCoordinateSequenceFactory().create(1, n.getDimension()); Tl.copy(n, r, o, 0, 1), i[r] = this.createPoint(o) } return this.createMultiPoint(i) } } }, Jl.prototype.interfaces_ = function () { return [mr] }, Jl.prototype.getClass = function () { return Jl }, Jl.toMultiPolygonArray = function (t) { var e = new Array(t.size()).fill(null); return t.toArray(e) }, Jl.toGeometryArray = function (t) { if (null === t) return null; var e = new Array(t.size()).fill(null); return t.toArray(e) }, Jl.getDefaultCoordinateSequenceFactory = function () { return Vl.instance() }, Jl.toMultiLineStringArray = function (t) { var e = new Array(t.size()).fill(null); return t.toArray(e) }, Jl.toLineStringArray = function (t) { var e = new Array(t.size()).fill(null); return t.toArray(e) }, Jl.toMultiPointArray = function (t) { var e = new Array(t.size()).fill(null); return t.toArray(e) }, Jl.toLinearRingArray = function (t) { var e = new Array(t.size()).fill(null); return t.toArray(e) }, Jl.toPointArray = function (t) { var e = new Array(t.size()).fill(null); return t.toArray(e) }, Jl.toPolygonArray = function (t) { var e = new Array(t.size()).fill(null); return t.toArray(e) }, Jl.createPointFromInternalCoord = function (t, e) { return e.getPrecisionModel().makePrecise(t), e.getFactory().createPoint(t) }, Zl.serialVersionUID.get = function () { return -0x5ea75f2051eeb400 }, Object.defineProperties(Jl, Zl); var Kl = ["Point", "MultiPoint", "LineString", "MultiLineString", "Polygon", "MultiPolygon"], Ql = function (t) { this.geometryFactory = t || new Jl }; Ql.prototype.read = function (t) { var e, n = (e = "string" == typeof t ? JSON.parse(t) : t).type; if (!tc[n]) throw new Error("Unknown GeoJSON type: " + e.type); return -1 !== Kl.indexOf(n) ? tc[n].apply(this, [e.coordinates]) : "GeometryCollection" === n ? tc[n].apply(this, [e.geometries]) : tc[n].apply(this, [e]) }, Ql.prototype.write = function (t) { var e = t.getGeometryType(); if (!ec[e]) throw new Error("Geometry is not supported"); return ec[e].apply(this, [t]) }; var tc = { Feature: function (t) { var e = {}; for (var n in t) e[n] = t[n]; if (t.geometry) { var i = t.geometry.type; if (!tc[i]) throw new Error("Unknown GeoJSON type: " + t.type); e.geometry = this.read(t.geometry) } return t.bbox && (e.bbox = tc.bbox.apply(this, [t.bbox])), e }, FeatureCollection: function (t) { var e = {}; if (t.features) { e.features = []; for (var n = 0; n < t.features.length; ++n)e.features.push(this.read(t.features[n])) } return t.bbox && (e.bbox = this.parse.bbox.apply(this, [t.bbox])), e }, coordinates: function (t) { for (var e = [], n = 0; n < t.length; ++n) { var i = t[n]; e.push(new nu(i[0], i[1])) } return e }, bbox: function (t) { return this.geometryFactory.createLinearRing([new nu(t[0], t[1]), new nu(t[2], t[1]), new nu(t[2], t[3]), new nu(t[0], t[3]), new nu(t[0], t[1])]) }, Point: function (t) { var e = new nu(t[0], t[1]); return this.geometryFactory.createPoint(e) }, MultiPoint: function (t) { for (var e = [], n = 0; n < t.length; ++n)e.push(tc.Point.apply(this, [t[n]])); return this.geometryFactory.createMultiPoint(e) }, LineString: function (t) { var e = tc.coordinates.apply(this, [t]); return this.geometryFactory.createLineString(e) }, MultiLineString: function (t) { for (var e = [], n = 0; n < t.length; ++n)e.push(tc.LineString.apply(this, [t[n]])); return this.geometryFactory.createMultiLineString(e) }, Polygon: function (t) { for (var e = tc.coordinates.apply(this, [t[0]]), n = this.geometryFactory.createLinearRing(e), i = [], r = 1; r < t.length; ++r) { var o = t[r], s = tc.coordinates.apply(this, [o]), a = this.geometryFactory.createLinearRing(s); i.push(a) } return this.geometryFactory.createPolygon(n, i) }, MultiPolygon: function (t) { for (var e = [], n = 0; n < t.length; ++n) { var i = t[n]; e.push(tc.Polygon.apply(this, [i])) } return this.geometryFactory.createMultiPolygon(e) }, GeometryCollection: function (t) { for (var e = [], n = 0; n < t.length; ++n) { var i = t[n]; e.push(this.read(i)) } return this.geometryFactory.createGeometryCollection(e) } }, ec = { coordinate: function (t) { return [t.x, t.y] }, Point: function (t) { return { type: "Point", coordinates: ec.coordinate.apply(this, [t.getCoordinate()]) } }, MultiPoint: function (t) { for (var e = [], n = 0; n < t._geometries.length; ++n) { var i = t._geometries[n], r = ec.Point.apply(this, [i]); e.push(r.coordinates) } return { type: "MultiPoint", coordinates: e } }, LineString: function (t) { for (var e = [], n = t.getCoordinates(), i = 0; i < n.length; ++i) { var r = n[i]; e.push(ec.coordinate.apply(this, [r])) } return { type: "LineString", coordinates: e } }, MultiLineString: function (t) { for (var e = [], n = 0; n < t._geometries.length; ++n) { var i = t._geometries[n], r = ec.LineString.apply(this, [i]); e.push(r.coordinates) } return { type: "MultiLineString", coordinates: e } }, Polygon: function (t) { var e = [], n = ec.LineString.apply(this, [t._shell]); e.push(n.coordinates); for (var i = 0; i < t._holes.length; ++i) { var r = t._holes[i], o = ec.LineString.apply(this, [r]); e.push(o.coordinates) } return { type: "Polygon", coordinates: e } }, MultiPolygon: function (t) { for (var e = [], n = 0; n < t._geometries.length; ++n) { var i = t._geometries[n], r = ec.Polygon.apply(this, [i]); e.push(r.coordinates) } return { type: "MultiPolygon", coordinates: e } }, GeometryCollection: function (t) { for (var e = [], n = 0; n < t._geometries.length; ++n) { var i = t._geometries[n], r = i.getGeometryType(); e.push(ec[r].apply(this, [i])) } return { type: "GeometryCollection", geometries: e } } }, nc = function (t) { this.geometryFactory = t || new Jl, this.precisionModel = this.geometryFactory.getPrecisionModel(), this.parser = new Ql(this.geometryFactory) }; nc.prototype.read = function (t) { var e = this.parser.read(t); return this.precisionModel.getType() === Gl.FIXED && this.reducePrecision(e), e }, nc.prototype.reducePrecision = function (t) { var e, n; if (t.coordinate) this.precisionModel.makePrecise(t.coordinate); else if (t.points) for (e = 0, n = t.points.length; e < n; e++)this.precisionModel.makePrecise(t.points[e]); else if (t.geometries) for (e = 0, n = t.geometries.length; e < n; e++)this.reducePrecision(t.geometries[e]) }; var ic = function () { this.parser = new Ql(this.geometryFactory) }; ic.prototype.write = function (t) { return this.parser.write(t) }; var rc = function () { }, oc = { ON: { configurable: !0 }, LEFT: { configurable: !0 }, RIGHT: { configurable: !0 } }; rc.prototype.interfaces_ = function () { return [] }, rc.prototype.getClass = function () { return rc }, rc.opposite = function (t) { return t === rc.LEFT ? rc.RIGHT : t === rc.RIGHT ? rc.LEFT : t }, oc.ON.get = function () { return 0 }, oc.LEFT.get = function () { return 1 }, oc.RIGHT.get = function () { return 2 }, Object.defineProperties(rc, oc), (Pr.prototype = new Error).name = "EmptyStackException", (Ar.prototype = new el).add = function (t) { return this.array_.push(t), !0 }, Ar.prototype.get = function (t) { if (t < 0 || t >= this.size()) throw new Error; return this.array_[t] }, Ar.prototype.push = function (t) { return this.array_.push(t), t }, Ar.prototype.pop = function (t) { if (0 === this.array_.length) throw new Pr; return this.array_.pop() }, Ar.prototype.peek = function () { if (0 === this.array_.length) throw new Pr; return this.array_[this.array_.length - 1] }, Ar.prototype.empty = function () { return 0 === this.array_.length }, Ar.prototype.isEmpty = function () { return this.empty() }, Ar.prototype.search = function (t) { return this.array_.indexOf(t) }, Ar.prototype.size = function () { return this.array_.length }, Ar.prototype.toArray = function () { for (var t = [], e = 0, n = this.array_.length; e < n; e++)t.push(this.array_[e]); return t }; var sc = function () { this._minIndex = -1, this._minCoord = null, this._minDe = null, this._orientedDe = null }; sc.prototype.getCoordinate = function () { return this._minCoord }, sc.prototype.getRightmostSide = function (t, e) { var n = this.getRightmostSideOfSegment(t, e); return n < 0 && (n = this.getRightmostSideOfSegment(t, e - 1)), n < 0 && (this._minCoord = null, this.checkForRightmostCoordinate(t)), n }, sc.prototype.findRightmostEdgeAtVertex = function () { var t = this._minDe.getEdge().getCoordinates(); Lu.isTrue(this._minIndex > 0 && this._minIndex < t.length, "rightmost point expected to be interior vertex of edge"); var e = t[this._minIndex - 1], n = t[this._minIndex + 1], i = ju.computeOrientation(this._minCoord, n, e), r = !1; (e.y < this._minCoord.y && n.y < this._minCoord.y && i === ju.COUNTERCLOCKWISE || e.y > this._minCoord.y && n.y > this._minCoord.y && i === ju.CLOCKWISE) && (r = !0), r && (this._minIndex = this._minIndex - 1) }, sc.prototype.getRightmostSideOfSegment = function (t, e) { var n = t.getEdge().getCoordinates(); if (e < 0 || e + 1 >= n.length) return -1; if (n[e].y === n[e + 1].y) return -1; var i = rc.LEFT; return n[e].y < n[e + 1].y && (i = rc.RIGHT), i }, sc.prototype.getEdge = function () { return this._orientedDe }, sc.prototype.checkForRightmostCoordinate = function (t) { for (var e = t.getEdge().getCoordinates(), n = 0; n < e.length - 1; n++)(null === this._minCoord || e[n].x > this._minCoord.x) && (this._minDe = t, this._minIndex = n, this._minCoord = e[n]) }, sc.prototype.findRightmostEdgeAtNode = function () { var t = this._minDe.getNode().getEdges(); this._minDe = t.getRightmostEdge(), this._minDe.isForward() || (this._minDe = this._minDe.getSym(), this._minIndex = this._minDe.getEdge().getCoordinates().length - 1) }, sc.prototype.findEdge = function (t) { for (var e = t.iterator(); e.hasNext();) { var n = e.next(); n.isForward() && this.checkForRightmostCoordinate(n) } Lu.isTrue(0 !== this._minIndex || this._minCoord.equals(this._minDe.getCoordinate()), "inconsistency in rightmost processing"), 0 === this._minIndex ? this.findRightmostEdgeAtNode() : this.findRightmostEdgeAtVertex(), this._orientedDe = this._minDe, this.getRightmostSide(this._minDe, this._minIndex) === rc.LEFT && (this._orientedDe = this._minDe.getSym()) }, sc.prototype.interfaces_ = function () { return [] }, sc.prototype.getClass = function () { return sc }; var ac = function (t) { function e(n, i) { t.call(this, e.msgWithCoord(n, i)), this.pt = i ? new nu(i) : null, this.name = "TopologyException" } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.getCoordinate = function () { return this.pt }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e.msgWithCoord = function (t, e) { return e ? t : t + " [ " + e + " ]" }, e }(Au), uc = function () { this.array_ = [] }; uc.prototype.addLast = function (t) { this.array_.push(t) }, uc.prototype.removeFirst = function () { return this.array_.shift() }, uc.prototype.isEmpty = function () { return 0 === this.array_.length }; var lc = function () { this._finder = null, this._dirEdgeList = new nl, this._nodes = new nl, this._rightMostCoord = null, this._env = null, this._finder = new sc }; lc.prototype.clearVisitedEdges = function () { for (var t = this._dirEdgeList.iterator(); t.hasNext();)t.next().setVisited(!1) }, lc.prototype.getRightmostCoordinate = function () { return this._rightMostCoord }, lc.prototype.computeNodeDepth = function (t) { for (var e = null, n = t.getEdges().iterator(); n.hasNext();) { var i = n.next(); if (i.isVisited() || i.getSym().isVisited()) { e = i; break } } if (null === e) throw new ac("unable to find edge to compute depths at " + t.getCoordinate()); t.getEdges().computeDepths(e); for (var r = t.getEdges().iterator(); r.hasNext();) { var o = r.next(); o.setVisited(!0), this.copySymDepths(o) } }, lc.prototype.computeDepth = function (t) { this.clearVisitedEdges(); var e = this._finder.getEdge(); e.setEdgeDepths(rc.RIGHT, t), this.copySymDepths(e), this.computeDepths(e) }, lc.prototype.create = function (t) { this.addReachable(t), this._finder.findEdge(this._dirEdgeList), this._rightMostCoord = this._finder.getCoordinate() }, lc.prototype.findResultEdges = function () { for (var t = this._dirEdgeList.iterator(); t.hasNext();) { var e = t.next(); e.getDepth(rc.RIGHT) >= 1 && e.getDepth(rc.LEFT) <= 0 && !e.isInteriorAreaEdge() && e.setInResult(!0) } }, lc.prototype.computeDepths = function (t) { var e = new hl, n = new uc, i = t.getNode(); for (n.addLast(i), e.add(i), t.setVisited(!0); !n.isEmpty();) { var r = n.removeFirst(); e.add(r), this.computeNodeDepth(r); for (var o = r.getEdges().iterator(); o.hasNext();) { var s = o.next().getSym(); if (!s.isVisited()) { var a = s.getNode(); e.contains(a) || (n.addLast(a), e.add(a)) } } } }, lc.prototype.compareTo = function (t) { var e = t; return this._rightMostCoord.x < e._rightMostCoord.x ? -1 : this._rightMostCoord.x > e._rightMostCoord.x ? 1 : 0 }, lc.prototype.getEnvelope = function () { if (null === this._env) { for (var t = new Cu, e = this._dirEdgeList.iterator(); e.hasNext();)for (var n = e.next().getEdge().getCoordinates(), i = 0; i < n.length - 1; i++)t.expandToInclude(n[i]); this._env = t } return this._env }, lc.prototype.addReachable = function (t) { var e = new Ar; for (e.add(t); !e.empty();) { var n = e.pop(); this.add(n, e) } }, lc.prototype.copySymDepths = function (t) { var e = t.getSym(); e.setDepth(rc.LEFT, t.getDepth(rc.RIGHT)), e.setDepth(rc.RIGHT, t.getDepth(rc.LEFT)) }, lc.prototype.add = function (t, e) { t.setVisited(!0), this._nodes.add(t); for (var n = t.getEdges().iterator(); n.hasNext();) { var i = n.next(); this._dirEdgeList.add(i); var r = i.getSym().getNode(); r.isVisited() || e.push(r) } }, lc.prototype.getNodes = function () { return this._nodes }, lc.prototype.getDirectedEdges = function () { return this._dirEdgeList }, lc.prototype.interfaces_ = function () { return [Qa] }, lc.prototype.getClass = function () { return lc }; var cc = function t() { if (this.location = null, 1 === arguments.length) { if (arguments[0] instanceof Array) { var e = arguments[0]; this.init(e.length) } else if (Number.isInteger(arguments[0])) { var n = arguments[0]; this.init(1), this.location[rc.ON] = n } else if (arguments[0] instanceof t) { var i = arguments[0]; if (this.init(i.location.length), null !== i) for (var r = 0; r < this.location.length; r++)this.location[r] = i.location[r] } } else if (3 === arguments.length) { var o = arguments[0], s = arguments[1], a = arguments[2]; this.init(3), this.location[rc.ON] = o, this.location[rc.LEFT] = s, this.location[rc.RIGHT] = a } }; cc.prototype.setAllLocations = function (t) { for (var e = 0; e < this.location.length; e++)this.location[e] = t }, cc.prototype.isNull = function () { for (var t = 0; t < this.location.length; t++)if (this.location[t] !== su.NONE) return !1; return !0 }, cc.prototype.setAllLocationsIfNull = function (t) { for (var e = 0; e < this.location.length; e++)this.location[e] === su.NONE && (this.location[e] = t) }, cc.prototype.isLine = function () { return 1 === this.location.length }, cc.prototype.merge = function (t) { if (t.location.length > this.location.length) { var e = new Array(3).fill(null); e[rc.ON] = this.location[rc.ON], e[rc.LEFT] = su.NONE, e[rc.RIGHT] = su.NONE, this.location = e } for (var n = 0; n < this.location.length; n++)this.location[n] === su.NONE && n < t.location.length && (this.location[n] = t.location[n]) }, cc.prototype.getLocations = function () { return this.location }, cc.prototype.flip = function () { if (this.location.length <= 1) return null; var t = this.location[rc.LEFT]; this.location[rc.LEFT] = this.location[rc.RIGHT], this.location[rc.RIGHT] = t }, cc.prototype.toString = function () { var t = new hu; return this.location.length > 1 && t.append(su.toLocationSymbol(this.location[rc.LEFT])), t.append(su.toLocationSymbol(this.location[rc.ON])), this.location.length > 1 && t.append(su.toLocationSymbol(this.location[rc.RIGHT])), t.toString() }, cc.prototype.setLocations = function (t, e, n) { this.location[rc.ON] = t, this.location[rc.LEFT] = e, this.location[rc.RIGHT] = n }, cc.prototype.get = function (t) { return t < this.location.length ? this.location[t] : su.NONE }, cc.prototype.isArea = function () { return this.location.length > 1 }, cc.prototype.isAnyNull = function () { for (var t = 0; t < this.location.length; t++)if (this.location[t] === su.NONE) return !0; return !1 }, cc.prototype.setLocation = function () { if (1 === arguments.length) { var t = arguments[0]; this.setLocation(rc.ON, t) } else if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; this.location[e] = n } }, cc.prototype.init = function (t) { this.location = new Array(t).fill(null), this.setAllLocations(su.NONE) }, cc.prototype.isEqualOnSide = function (t, e) { return this.location[e] === t.location[e] }, cc.prototype.allPositionsEqual = function (t) { for (var e = 0; e < this.location.length; e++)if (this.location[e] !== t) return !1; return !0 }, cc.prototype.interfaces_ = function () { return [] }, cc.prototype.getClass = function () { return cc }; var hc = function t() { if (this.elt = new Array(2).fill(null), 1 === arguments.length) { if (Number.isInteger(arguments[0])) { var e = arguments[0]; this.elt[0] = new cc(e), this.elt[1] = new cc(e) } else if (arguments[0] instanceof t) { var n = arguments[0]; this.elt[0] = new cc(n.elt[0]), this.elt[1] = new cc(n.elt[1]) } } else if (2 === arguments.length) { var i = arguments[0], r = arguments[1]; this.elt[0] = new cc(su.NONE), this.elt[1] = new cc(su.NONE), this.elt[i].setLocation(r) } else if (3 === arguments.length) { var o = arguments[0], s = arguments[1], a = arguments[2]; this.elt[0] = new cc(o, s, a), this.elt[1] = new cc(o, s, a) } else if (4 === arguments.length) { var u = arguments[0], l = arguments[1], c = arguments[2], h = arguments[3]; this.elt[0] = new cc(su.NONE, su.NONE, su.NONE), this.elt[1] = new cc(su.NONE, su.NONE, su.NONE), this.elt[u].setLocations(l, c, h) } }; hc.prototype.getGeometryCount = function () { var t = 0; return this.elt[0].isNull() || t++, this.elt[1].isNull() || t++, t }, hc.prototype.setAllLocations = function (t, e) { this.elt[t].setAllLocations(e) }, hc.prototype.isNull = function (t) { return this.elt[t].isNull() }, hc.prototype.setAllLocationsIfNull = function () { if (1 === arguments.length) { var t = arguments[0]; this.setAllLocationsIfNull(0, t), this.setAllLocationsIfNull(1, t) } else if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; this.elt[e].setAllLocationsIfNull(n) } }, hc.prototype.isLine = function (t) { return this.elt[t].isLine() }, hc.prototype.merge = function (t) { for (var e = 0; e < 2; e++)null === this.elt[e] && null !== t.elt[e] ? this.elt[e] = new cc(t.elt[e]) : this.elt[e].merge(t.elt[e]) }, hc.prototype.flip = function () { this.elt[0].flip(), this.elt[1].flip() }, hc.prototype.getLocation = function () { if (1 === arguments.length) { var t = arguments[0]; return this.elt[t].get(rc.ON) } if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; return this.elt[e].get(n) } }, hc.prototype.toString = function () { var t = new hu; return null !== this.elt[0] && (t.append("A:"), t.append(this.elt[0].toString())), null !== this.elt[1] && (t.append(" B:"), t.append(this.elt[1].toString())), t.toString() }, hc.prototype.isArea = function () { if (0 === arguments.length) return this.elt[0].isArea() || this.elt[1].isArea(); if (1 === arguments.length) { var t = arguments[0]; return this.elt[t].isArea() } }, hc.prototype.isAnyNull = function (t) { return this.elt[t].isAnyNull() }, hc.prototype.setLocation = function () { if (2 === arguments.length) { var t = arguments[0], e = arguments[1]; this.elt[t].setLocation(rc.ON, e) } else if (3 === arguments.length) { var n = arguments[0], i = arguments[1], r = arguments[2]; this.elt[n].setLocation(i, r) } }, hc.prototype.isEqualOnSide = function (t, e) { return this.elt[0].isEqualOnSide(t.elt[0], e) && this.elt[1].isEqualOnSide(t.elt[1], e) }, hc.prototype.allPositionsEqual = function (t, e) { return this.elt[t].allPositionsEqual(e) }, hc.prototype.toLine = function (t) { this.elt[t].isArea() && (this.elt[t] = new cc(this.elt[t].location[0])) }, hc.prototype.interfaces_ = function () { return [] }, hc.prototype.getClass = function () { return hc }, hc.toLineLabel = function (t) { for (var e = new hc(su.NONE), n = 0; n < 2; n++)e.setLocation(n, t.getLocation(n)); return e }; var pc = function () { this._startDe = null, this._maxNodeDegree = -1, this._edges = new nl, this._pts = new nl, this._label = new hc(su.NONE), this._ring = null, this._isHole = null, this._shell = null, this._holes = new nl, this._geometryFactory = null; var t = arguments[0], e = arguments[1]; this._geometryFactory = e, this.computePoints(t), this.computeRing() }; pc.prototype.computeRing = function () { if (null !== this._ring) return null; for (var t = new Array(this._pts.size()).fill(null), e = 0; e < this._pts.size(); e++)t[e] = this._pts.get(e); this._ring = this._geometryFactory.createLinearRing(t), this._isHole = ju.isCCW(this._ring.getCoordinates()) }, pc.prototype.isIsolated = function () { return 1 === this._label.getGeometryCount() }, pc.prototype.computePoints = function (t) { this._startDe = t; var e = t, n = !0; do { if (null === e) throw new ac("Found null DirectedEdge"); if (e.getEdgeRing() === this) throw new ac("Directed Edge visited twice during ring-building at " + e.getCoordinate()); this._edges.add(e); var i = e.getLabel(); Lu.isTrue(i.isArea()), this.mergeLabel(i), this.addPoints(e.getEdge(), e.isForward(), n), n = !1, this.setEdgeRing(e, this), e = this.getNext(e) } while (e !== this._startDe) }, pc.prototype.getLinearRing = function () { return this._ring }, pc.prototype.getCoordinate = function (t) { return this._pts.get(t) }, pc.prototype.computeMaxNodeDegree = function () { this._maxNodeDegree = 0; var t = this._startDe; do { var e = t.getNode().getEdges().getOutgoingDegree(this); e > this._maxNodeDegree && (this._maxNodeDegree = e), t = this.getNext(t) } while (t !== this._startDe); this._maxNodeDegree *= 2 }, pc.prototype.addPoints = function (t, e, n) { var i = t.getCoordinates(); if (e) { var r = 1; n && (r = 0); for (var o = r; o < i.length; o++)this._pts.add(i[o]) } else { var s = i.length - 2; n && (s = i.length - 1); for (var a = s; a >= 0; a--)this._pts.add(i[a]) } }, pc.prototype.isHole = function () { return this._isHole }, pc.prototype.setInResult = function () { var t = this._startDe; do { t.getEdge().setInResult(!0), t = t.getNext() } while (t !== this._startDe) }, pc.prototype.containsPoint = function (t) { var e = this.getLinearRing(); if (!e.getEnvelopeInternal().contains(t)) return !1; if (!ju.isPointInRing(t, e.getCoordinates())) return !1; for (var n = this._holes.iterator(); n.hasNext();)if (n.next().containsPoint(t)) return !1; return !0 }, pc.prototype.addHole = function (t) { this._holes.add(t) }, pc.prototype.isShell = function () { return null === this._shell }, pc.prototype.getLabel = function () { return this._label }, pc.prototype.getEdges = function () { return this._edges }, pc.prototype.getMaxNodeDegree = function () { return this._maxNodeDegree < 0 && this.computeMaxNodeDegree(), this._maxNodeDegree }, pc.prototype.getShell = function () { return this._shell }, pc.prototype.mergeLabel = function () { if (1 === arguments.length) { var t = arguments[0]; this.mergeLabel(t, 0), this.mergeLabel(t, 1) } else if (2 === arguments.length) { var e = arguments[0], n = arguments[1], i = e.getLocation(n, rc.RIGHT); if (i === su.NONE) return null; if (this._label.getLocation(n) === su.NONE) return this._label.setLocation(n, i), null } }, pc.prototype.setShell = function (t) { this._shell = t, null !== t && t.addHole(this) }, pc.prototype.toPolygon = function (t) { for (var e = new Array(this._holes.size()).fill(null), n = 0; n < this._holes.size(); n++)e[n] = this._holes.get(n).getLinearRing(); return t.createPolygon(this.getLinearRing(), e) }, pc.prototype.interfaces_ = function () { return [] }, pc.prototype.getClass = function () { return pc }; var fc = function (t) { function e() { var e = arguments[0], n = arguments[1]; t.call(this, e, n) } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.setEdgeRing = function (t, e) { t.setMinEdgeRing(e) }, e.prototype.getNext = function (t) { return t.getNextMin() }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e }(pc), dc = function (t) { function e() { var e = arguments[0], n = arguments[1]; t.call(this, e, n) } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.buildMinimalRings = function () { var t = new nl, e = this._startDe; do { if (null === e.getMinEdgeRing()) { var n = new fc(e, this._geometryFactory); t.add(n) } e = e.getNext() } while (e !== this._startDe); return t }, e.prototype.setEdgeRing = function (t, e) { t.setEdgeRing(e) }, e.prototype.linkDirectedEdgesForMinimalEdgeRings = function () { var t = this._startDe; do { t.getNode().getEdges().linkMinimalDirectedEdges(this), t = t.getNext() } while (t !== this._startDe) }, e.prototype.getNext = function (t) { return t.getNext() }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e }(pc), gc = function () { if (this._label = null, this._isInResult = !1, this._isCovered = !1, this._isCoveredSet = !1, this._isVisited = !1, 0 === arguments.length); else if (1 === arguments.length) { var t = arguments[0]; this._label = t } }; gc.prototype.setVisited = function (t) { this._isVisited = t }, gc.prototype.setInResult = function (t) { this._isInResult = t }, gc.prototype.isCovered = function () { return this._isCovered }, gc.prototype.isCoveredSet = function () { return this._isCoveredSet }, gc.prototype.setLabel = function (t) { this._label = t }, gc.prototype.getLabel = function () { return this._label }, gc.prototype.setCovered = function (t) { this._isCovered = t, this._isCoveredSet = !0 }, gc.prototype.updateIM = function (t) { Lu.isTrue(this._label.getGeometryCount() >= 2, "found partial label"), this.computeIM(t) }, gc.prototype.isInResult = function () { return this._isInResult }, gc.prototype.isVisited = function () { return this._isVisited }, gc.prototype.interfaces_ = function () { return [] }, gc.prototype.getClass = function () { return gc }; var yc = function (t) { function e() { t.call(this), this._coord = null, this._edges = null; var e = arguments[0], n = arguments[1]; this._coord = e, this._edges = n, this._label = new hc(0, su.NONE) } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.isIncidentEdgeInResult = function () { for (var t = this.getEdges().getEdges().iterator(); t.hasNext();)if (t.next().getEdge().isInResult()) return !0; return !1 }, e.prototype.isIsolated = function () { return 1 === this._label.getGeometryCount() }, e.prototype.getCoordinate = function () { return this._coord }, e.prototype.print = function (t) { t.println("node " + this._coord + " lbl: " + this._label) }, e.prototype.computeIM = function (t) { }, e.prototype.computeMergedLocation = function (t, e) { var n = su.NONE; if (n = this._label.getLocation(e), !t.isNull(e)) { var i = t.getLocation(e); n !== su.BOUNDARY && (n = i) } return n }, e.prototype.setLabel = function () { if (2 !== arguments.length) return t.prototype.setLabel.apply(this, arguments); var e = arguments[0], n = arguments[1]; null === this._label ? this._label = new hc(e, n) : this._label.setLocation(e, n) }, e.prototype.getEdges = function () { return this._edges }, e.prototype.mergeLabel = function () { if (arguments[0] instanceof e) { var t = arguments[0]; this.mergeLabel(t._label) } else if (arguments[0] instanceof hc) for (var n = arguments[0], i = 0; i < 2; i++) { var r = this.computeMergedLocation(n, i); this._label.getLocation(i) === su.NONE && this._label.setLocation(i, r) } }, e.prototype.add = function (t) { this._edges.insert(t), t.setNode(this) }, e.prototype.setLabelBoundary = function (t) { if (null === this._label) return null; var e = su.NONE; null !== this._label && (e = this._label.getLocation(t)); var n = null; switch (e) { case su.BOUNDARY: n = su.INTERIOR; break; case su.INTERIOR: default: n = su.BOUNDARY }this._label.setLocation(t, n) }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e }(gc), mc = function () { this.nodeMap = new Sr, this.nodeFact = null; var t = arguments[0]; this.nodeFact = t }; mc.prototype.find = function (t) { return this.nodeMap.get(t) }, mc.prototype.addNode = function () { if (arguments[0] instanceof nu) { var t = arguments[0], e = this.nodeMap.get(t); return null === e && (e = this.nodeFact.createNode(t), this.nodeMap.put(t, e)), e } if (arguments[0] instanceof yc) { var n = arguments[0], i = this.nodeMap.get(n.getCoordinate()); return null === i ? (this.nodeMap.put(n.getCoordinate(), n), n) : (i.mergeLabel(n), i) } }, mc.prototype.print = function (t) { for (var e = this.iterator(); e.hasNext();)e.next().print(t) }, mc.prototype.iterator = function () { return this.nodeMap.values().iterator() }, mc.prototype.values = function () { return this.nodeMap.values() }, mc.prototype.getBoundaryNodes = function (t) { for (var e = new nl, n = this.iterator(); n.hasNext();) { var i = n.next(); i.getLabel().getLocation(t) === su.BOUNDARY && e.add(i) } return e }, mc.prototype.add = function (t) { var e = t.getCoordinate(); this.addNode(e).add(t) }, mc.prototype.interfaces_ = function () { return [] }, mc.prototype.getClass = function () { return mc }; var vc = function () { }, _c = { NE: { configurable: !0 }, NW: { configurable: !0 }, SW: { configurable: !0 }, SE: { configurable: !0 } }; vc.prototype.interfaces_ = function () { return [] }, vc.prototype.getClass = function () { return vc }, vc.isNorthern = function (t) { return t === vc.NE || t === vc.NW }, vc.isOpposite = function (t, e) { return t !== e && 2 == (t - e + 4) % 4 }, vc.commonHalfPlane = function (t, e) { if (t === e) return t; if (2 == (t - e + 4) % 4) return -1; var n = t < e ? t : e; return 0 === n && 3 === (t > e ? t : e) ? 3 : n }, vc.isInHalfPlane = function (t, e) { return e === vc.SE ? t === vc.SE || t === vc.SW : t === e || t === e + 1 }, vc.quadrant = function () { if ("number" == typeof arguments[0] && "number" == typeof arguments[1]) { var t = arguments[0], e = arguments[1]; if (0 === t && 0 === e) throw new Ja("Cannot compute the quadrant for point ( " + t + ", " + e + " )"); return t >= 0 ? e >= 0 ? vc.NE : vc.SE : e >= 0 ? vc.NW : vc.SW } if (arguments[0] instanceof nu && arguments[1] instanceof nu) { var n = arguments[0], i = arguments[1]; if (i.x === n.x && i.y === n.y) throw new Ja("Cannot compute the quadrant for two identical points " + n); return i.x >= n.x ? i.y >= n.y ? vc.NE : vc.SE : i.y >= n.y ? vc.NW : vc.SW } }, _c.NE.get = function () { return 0 }, _c.NW.get = function () { return 1 }, _c.SW.get = function () { return 2 }, _c.SE.get = function () { return 3 }, Object.defineProperties(vc, _c); var bc = function () { if (this._edge = null, this._label = null, this._node = null, this._p0 = null, this._p1 = null, this._dx = null, this._dy = null, this._quadrant = null, 1 === arguments.length) { var t = arguments[0]; this._edge = t } else if (3 === arguments.length) { var e = arguments[0], n = arguments[1], i = arguments[2]; this._edge = e, this.init(n, i), this._label = null } else if (4 === arguments.length) { var r = arguments[0], o = arguments[1], s = arguments[2], a = arguments[3]; this._edge = r, this.init(o, s), this._label = a } }; bc.prototype.compareDirection = function (t) { return this._dx === t._dx && this._dy === t._dy ? 0 : this._quadrant > t._quadrant ? 1 : this._quadrant < t._quadrant ? -1 : ju.computeOrientation(t._p0, t._p1, this._p1) }, bc.prototype.getDy = function () { return this._dy }, bc.prototype.getCoordinate = function () { return this._p0 }, bc.prototype.setNode = function (t) { this._node = t }, bc.prototype.print = function (t) { var e = Math.atan2(this._dy, this._dx), n = this.getClass().getName(), i = n.lastIndexOf("."), r = n.substring(i + 1); t.print("  " + r + ": " + this._p0 + " - " + this._p1 + " " + this._quadrant + ":" + e + "   " + this._label) }, bc.prototype.compareTo = function (t) { var e = t; return this.compareDirection(e) }, bc.prototype.getDirectedCoordinate = function () { return this._p1 }, bc.prototype.getDx = function () { return this._dx }, bc.prototype.getLabel = function () { return this._label }, bc.prototype.getEdge = function () { return this._edge }, bc.prototype.getQuadrant = function () { return this._quadrant }, bc.prototype.getNode = function () { return this._node }, bc.prototype.toString = function () { var t = Math.atan2(this._dy, this._dx), e = this.getClass().getName(), n = e.lastIndexOf("."); return "  " + e.substring(n + 1) + ": " + this._p0 + " - " + this._p1 + " " + this._quadrant + ":" + t + "   " + this._label }, bc.prototype.computeLabel = function (t) { }, bc.prototype.init = function (t, e) { this._p0 = t, this._p1 = e, this._dx = e.x - t.x, this._dy = e.y - t.y, this._quadrant = vc.quadrant(this._dx, this._dy), Lu.isTrue(!(0 === this._dx && 0 === this._dy), "EdgeEnd with identical endpoints found") }, bc.prototype.interfaces_ = function () { return [Qa] }, bc.prototype.getClass = function () { return bc }; var wc = function (t) { function e() { var e = arguments[0], n = arguments[1]; if (t.call(this, e), this._isForward = null, this._isInResult = !1, this._isVisited = !1, this._sym = null, this._next = null, this._nextMin = null, this._edgeRing = null, this._minEdgeRing = null, this._depth = [0, -999, -999], this._isForward = n, n) this.init(e.getCoordinate(0), e.getCoordinate(1)); else { var i = e.getNumPoints() - 1; this.init(e.getCoordinate(i), e.getCoordinate(i - 1)) } this.computeDirectedLabel() } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.getNextMin = function () { return this._nextMin }, e.prototype.getDepth = function (t) { return this._depth[t] }, e.prototype.setVisited = function (t) { this._isVisited = t }, e.prototype.computeDirectedLabel = function () { this._label = new hc(this._edge.getLabel()), this._isForward || this._label.flip() }, e.prototype.getNext = function () { return this._next }, e.prototype.setDepth = function (t, e) { if (-999 !== this._depth[t] && this._depth[t] !== e) throw new ac("assigned depths do not match", this.getCoordinate()); this._depth[t] = e }, e.prototype.isInteriorAreaEdge = function () { for (var t = !0, e = 0; e < 2; e++)this._label.isArea(e) && this._label.getLocation(e, rc.LEFT) === su.INTERIOR && this._label.getLocation(e, rc.RIGHT) === su.INTERIOR || (t = !1); return t }, e.prototype.setNextMin = function (t) { this._nextMin = t }, e.prototype.print = function (e) { t.prototype.print.call(this, e), e.print(" " + this._depth[rc.LEFT] + "/" + this._depth[rc.RIGHT]), e.print(" (" + this.getDepthDelta() + ")"), this._isInResult && e.print(" inResult") }, e.prototype.setMinEdgeRing = function (t) { this._minEdgeRing = t }, e.prototype.isLineEdge = function () { var t = this._label.isLine(0) || this._label.isLine(1), e = !this._label.isArea(0) || this._label.allPositionsEqual(0, su.EXTERIOR), n = !this._label.isArea(1) || this._label.allPositionsEqual(1, su.EXTERIOR); return t && e && n }, e.prototype.setEdgeRing = function (t) { this._edgeRing = t }, e.prototype.getMinEdgeRing = function () { return this._minEdgeRing }, e.prototype.getDepthDelta = function () { var t = this._edge.getDepthDelta(); return this._isForward || (t = -t), t }, e.prototype.setInResult = function (t) { this._isInResult = t }, e.prototype.getSym = function () { return this._sym }, e.prototype.isForward = function () { return this._isForward }, e.prototype.getEdge = function () { return this._edge }, e.prototype.printEdge = function (t) { this.print(t), t.print(" "), this._isForward ? this._edge.print(t) : this._edge.printReverse(t) }, e.prototype.setSym = function (t) { this._sym = t }, e.prototype.setVisitedEdge = function (t) { this.setVisited(t), this._sym.setVisited(t) }, e.prototype.setEdgeDepths = function (t, e) { var n = this.getEdge().getDepthDelta(); this._isForward || (n = -n); var i = 1; t === rc.LEFT && (i = -1); var r = rc.opposite(t), o = e + n * i; this.setDepth(t, e), this.setDepth(r, o) }, e.prototype.getEdgeRing = function () { return this._edgeRing }, e.prototype.isInResult = function () { return this._isInResult }, e.prototype.setNext = function (t) { this._next = t }, e.prototype.isVisited = function () { return this._isVisited }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e.depthFactor = function (t, e) { return t === su.EXTERIOR && e === su.INTERIOR ? 1 : t === su.INTERIOR && e === su.EXTERIOR ? -1 : 0 }, e }(bc), xc = function () { }; xc.prototype.createNode = function (t) { return new yc(t, null) }, xc.prototype.interfaces_ = function () { return [] }, xc.prototype.getClass = function () { return xc }; var Ec = function () { if (this._edges = new nl, this._nodes = null, this._edgeEndList = new nl, 0 === arguments.length) this._nodes = new mc(new xc); else if (1 === arguments.length) { var t = arguments[0]; this._nodes = new mc(t) } }; Ec.prototype.printEdges = function (t) { t.println("Edges:"); for (var e = 0; e < this._edges.size(); e++) { t.println("edge " + e + ":"); var n = this._edges.get(e); n.print(t), n.eiList.print(t) } }, Ec.prototype.find = function (t) { return this._nodes.find(t) }, Ec.prototype.addNode = function () { if (arguments[0] instanceof yc) { var t = arguments[0]; return this._nodes.addNode(t) } if (arguments[0] instanceof nu) { var e = arguments[0]; return this._nodes.addNode(e) } }, Ec.prototype.getNodeIterator = function () { return this._nodes.iterator() }, Ec.prototype.linkResultDirectedEdges = function () { for (var t = this._nodes.iterator(); t.hasNext();)t.next().getEdges().linkResultDirectedEdges() }, Ec.prototype.debugPrintln = function (t) { xu.out.println(t) }, Ec.prototype.isBoundaryNode = function (t, e) { var n = this._nodes.find(e); if (null === n) return !1; var i = n.getLabel(); return null !== i && i.getLocation(t) === su.BOUNDARY }, Ec.prototype.linkAllDirectedEdges = function () { for (var t = this._nodes.iterator(); t.hasNext();)t.next().getEdges().linkAllDirectedEdges() }, Ec.prototype.matchInSameDirection = function (t, e, n, i) { return !!t.equals(n) && ju.computeOrientation(t, e, i) === ju.COLLINEAR && vc.quadrant(t, e) === vc.quadrant(n, i) }, Ec.prototype.getEdgeEnds = function () { return this._edgeEndList }, Ec.prototype.debugPrint = function (t) { xu.out.print(t) }, Ec.prototype.getEdgeIterator = function () { return this._edges.iterator() }, Ec.prototype.findEdgeInSameDirection = function (t, e) { for (var n = 0; n < this._edges.size(); n++) { var i = this._edges.get(n), r = i.getCoordinates(); if (this.matchInSameDirection(t, e, r[0], r[1])) return i; if (this.matchInSameDirection(t, e, r[r.length - 1], r[r.length - 2])) return i } return null }, Ec.prototype.insertEdge = function (t) { this._edges.add(t) }, Ec.prototype.findEdgeEnd = function (t) { for (var e = this.getEdgeEnds().iterator(); e.hasNext();) { var n = e.next(); if (n.getEdge() === t) return n } return null }, Ec.prototype.addEdges = function (t) { for (var e = t.iterator(); e.hasNext();) { var n = e.next(); this._edges.add(n); var i = new wc(n, !0), r = new wc(n, !1); i.setSym(r), r.setSym(i), this.add(i), this.add(r) } }, Ec.prototype.add = function (t) { this._nodes.add(t), this._edgeEndList.add(t) }, Ec.prototype.getNodes = function () { return this._nodes.values() }, Ec.prototype.findEdge = function (t, e) { for (var n = 0; n < this._edges.size(); n++) { var i = this._edges.get(n), r = i.getCoordinates(); if (t.equals(r[0]) && e.equals(r[1])) return i } return null }, Ec.prototype.interfaces_ = function () { return [] }, Ec.prototype.getClass = function () { return Ec }, Ec.linkResultDirectedEdges = function (t) { for (var e = t.iterator(); e.hasNext();)e.next().getEdges().linkResultDirectedEdges() }; var Cc = function () { this._geometryFactory = null, this._shellList = new nl; var t = arguments[0]; this._geometryFactory = t }; Cc.prototype.sortShellsAndHoles = function (t, e, n) { for (var i = t.iterator(); i.hasNext();) { var r = i.next(); r.isHole() ? n.add(r) : e.add(r) } }, Cc.prototype.computePolygons = function (t) { for (var e = new nl, n = t.iterator(); n.hasNext();) { var i = n.next().toPolygon(this._geometryFactory); e.add(i) } return e }, Cc.prototype.placeFreeHoles = function (t, e) { for (var n = e.iterator(); n.hasNext();) { var i = n.next(); if (null === i.getShell()) { var r = this.findEdgeRingContaining(i, t); if (null === r) throw new ac("unable to assign hole to a shell", i.getCoordinate(0)); i.setShell(r) } } }, Cc.prototype.buildMinimalEdgeRings = function (t, e, n) { for (var i = new nl, r = t.iterator(); r.hasNext();) { var o = r.next(); if (o.getMaxNodeDegree() > 2) { o.linkDirectedEdgesForMinimalEdgeRings(); var s = o.buildMinimalRings(), a = this.findShell(s); null !== a ? (this.placePolygonHoles(a, s), e.add(a)) : n.addAll(s) } else i.add(o) } return i }, Cc.prototype.containsPoint = function (t) { for (var e = this._shellList.iterator(); e.hasNext();)if (e.next().containsPoint(t)) return !0; return !1 }, Cc.prototype.buildMaximalEdgeRings = function (t) { for (var e = new nl, n = t.iterator(); n.hasNext();) { var i = n.next(); if (i.isInResult() && i.getLabel().isArea() && null === i.getEdgeRing()) { var r = new dc(i, this._geometryFactory); e.add(r), r.setInResult() } } return e }, Cc.prototype.placePolygonHoles = function (t, e) { for (var n = e.iterator(); n.hasNext();) { var i = n.next(); i.isHole() && i.setShell(t) } }, Cc.prototype.getPolygons = function () { return this.computePolygons(this._shellList) }, Cc.prototype.findEdgeRingContaining = function (t, e) { for (var n = t.getLinearRing(), i = n.getEnvelopeInternal(), r = n.getCoordinateN(0), o = null, s = null, a = e.iterator(); a.hasNext();) { var u = a.next(), l = u.getLinearRing(), c = l.getEnvelopeInternal(); null !== o && (s = o.getLinearRing().getEnvelopeInternal()); var h = !1; c.contains(i) && ju.isPointInRing(r, l.getCoordinates()) && (h = !0), h && (null === o || s.contains(c)) && (o = u) } return o }, Cc.prototype.findShell = function (t) { for (var e = 0, n = null, i = t.iterator(); i.hasNext();) { var r = i.next(); r.isHole() || (n = r, e++) } return Lu.isTrue(e <= 1, "found two shells in MinimalEdgeRing list"), n }, Cc.prototype.add = function () { if (1 === arguments.length) { var t = arguments[0]; this.add(t.getEdgeEnds(), t.getNodes()) } else if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; Ec.linkResultDirectedEdges(n); var i = this.buildMaximalEdgeRings(e), r = new nl, o = this.buildMinimalEdgeRings(i, this._shellList, r); this.sortShellsAndHoles(o, this._shellList, r), this.placeFreeHoles(this._shellList, r) } }, Cc.prototype.interfaces_ = function () { return [] }, Cc.prototype.getClass = function () { return Cc }; var Dc = function () { }; Dc.prototype.getBounds = function () { }, Dc.prototype.interfaces_ = function () { return [] }, Dc.prototype.getClass = function () { return Dc }; var Sc = function () { this._bounds = null, this._item = null; var t = arguments[0], e = arguments[1]; this._bounds = t, this._item = e }; Sc.prototype.getItem = function () { return this._item }, Sc.prototype.getBounds = function () { return this._bounds }, Sc.prototype.interfaces_ = function () { return [Dc, mr] }, Sc.prototype.getClass = function () { return Sc }; var Tc = function () { this._size = null, this._items = null, this._size = 0, this._items = new nl, this._items.add(null) }; Tc.prototype.poll = function () { if (this.isEmpty()) return null; var t = this._items.get(1); return this._items.set(1, this._items.get(this._size)), this._size -= 1, this.reorder(1), t }, Tc.prototype.size = function () { return this._size }, Tc.prototype.reorder = function (t) { for (var e = null, n = this._items.get(t); 2 * t <= this._size && ((e = 2 * t) !== this._size && this._items.get(e + 1).compareTo(this._items.get(e)) < 0 && e++, this._items.get(e).compareTo(n) < 0); t = e)this._items.set(t, this._items.get(e)); this._items.set(t, n) }, Tc.prototype.clear = function () { this._size = 0, this._items.clear() }, Tc.prototype.isEmpty = function () { return 0 === this._size }, Tc.prototype.add = function (t) { this._items.add(null), this._size += 1; var e = this._size; for (this._items.set(0, t); t.compareTo(this._items.get(Math.trunc(e / 2))) < 0; e /= 2)this._items.set(e, this._items.get(Math.trunc(e / 2))); this._items.set(e, t) }, Tc.prototype.interfaces_ = function () { return [] }, Tc.prototype.getClass = function () { return Tc }; var Ic = function () { }; Ic.prototype.visitItem = function (t) { }, Ic.prototype.interfaces_ = function () { return [] }, Ic.prototype.getClass = function () { return Ic }; var Nc = function () { }; Nc.prototype.insert = function (t, e) { }, Nc.prototype.remove = function (t, e) { }, Nc.prototype.query = function () { }, Nc.prototype.interfaces_ = function () { return [] }, Nc.prototype.getClass = function () { return Nc }; var Pc = function () { if (this._childBoundables = new nl, this._bounds = null, this._level = null, 0 === arguments.length); else if (1 === arguments.length) { var t = arguments[0]; this._level = t } }, Ac = { serialVersionUID: { configurable: !0 } }; Pc.prototype.getLevel = function () { return this._level }, Pc.prototype.size = function () { return this._childBoundables.size() }, Pc.prototype.getChildBoundables = function () { return this._childBoundables }, Pc.prototype.addChildBoundable = function (t) { Lu.isTrue(null === this._bounds), this._childBoundables.add(t) }, Pc.prototype.isEmpty = function () { return this._childBoundables.isEmpty() }, Pc.prototype.getBounds = function () { return null === this._bounds && (this._bounds = this.computeBounds()), this._bounds }, Pc.prototype.interfaces_ = function () { return [Dc, mr] }, Pc.prototype.getClass = function () { return Pc }, Ac.serialVersionUID.get = function () { return 0x5a1e55ec41369800 }, Object.defineProperties(Pc, Ac); var Mc = function () { }; Mc.reverseOrder = function () { return { compare: function (t, e) { return e.compareTo(t) } } }, Mc.min = function (t) { return Mc.sort(t), t.get(0) }, Mc.sort = function (t, e) { var n = t.toArray(); e ? yl.sort(n, e) : yl.sort(n); for (var i = t.iterator(), r = 0, o = n.length; r < o; r++)i.next(), i.set(n[r]) }, Mc.singletonList = function (t) { var e = new nl; return e.add(t), e }; var Lc = function () { this._boundable1 = null, this._boundable2 = null, this._distance = null, this._itemDistance = null; var t = arguments[0], e = arguments[1], n = arguments[2]; this._boundable1 = t, this._boundable2 = e, this._itemDistance = n, this._distance = this.distance() }; Lc.prototype.expandToQueue = function (t, e) { var n = Lc.isComposite(this._boundable1), i = Lc.isComposite(this._boundable2); if (n && i) return Lc.area(this._boundable1) > Lc.area(this._boundable2) ? (this.expand(this._boundable1, this._boundable2, t, e), null) : (this.expand(this._boundable2, this._boundable1, t, e), null); if (n) return this.expand(this._boundable1, this._boundable2, t, e), null; if (i) return this.expand(this._boundable2, this._boundable1, t, e), null; throw new Ja("neither boundable is composite") }, Lc.prototype.isLeaves = function () { return !(Lc.isComposite(this._boundable1) || Lc.isComposite(this._boundable2)) }, Lc.prototype.compareTo = function (t) { var e = t; return this._distance < e._distance ? -1 : this._distance > e._distance ? 1 : 0 }, Lc.prototype.expand = function (t, e, n, i) { for (var r = t.getChildBoundables().iterator(); r.hasNext();) { var o = r.next(), s = new Lc(o, e, this._itemDistance); s.getDistance() < i && n.add(s) } }, Lc.prototype.getBoundable = function (t) { return 0 === t ? this._boundable1 : this._boundable2 }, Lc.prototype.getDistance = function () { return this._distance }, Lc.prototype.distance = function () { return this.isLeaves() ? this._itemDistance.distance(this._boundable1, this._boundable2) : this._boundable1.getBounds().distance(this._boundable2.getBounds()) }, Lc.prototype.interfaces_ = function () { return [Qa] }, Lc.prototype.getClass = function () { return Lc }, Lc.area = function (t) { return t.getBounds().getArea() }, Lc.isComposite = function (t) { return t instanceof Pc }; var Oc = function t() { if (this._root = null, this._built = !1, this._itemBoundables = new nl, this._nodeCapacity = null, 0 === arguments.length) { var e = t.DEFAULT_NODE_CAPACITY; this._nodeCapacity = e } else if (1 === arguments.length) { var n = arguments[0]; Lu.isTrue(n > 1, "Node capacity must be greater than 1"), this._nodeCapacity = n } }, kc = { IntersectsOp: { configurable: !0 }, serialVersionUID: { configurable: !0 }, DEFAULT_NODE_CAPACITY: { configurable: !0 } }; Oc.prototype.getNodeCapacity = function () { return this._nodeCapacity }, Oc.prototype.lastNode = function (t) { return t.get(t.size() - 1) }, Oc.prototype.size = function () { if (0 === arguments.length) return this.isEmpty() ? 0 : (this.build(), this.size(this._root)); if (1 === arguments.length) { for (var t = 0, e = arguments[0].getChildBoundables().iterator(); e.hasNext();) { var n = e.next(); n instanceof Pc ? t += this.size(n) : n instanceof Sc && (t += 1) } return t } }, Oc.prototype.removeItem = function (t, e) { for (var n = null, i = t.getChildBoundables().iterator(); i.hasNext();) { var r = i.next(); r instanceof Sc && r.getItem() === e && (n = r) } return null !== n && (t.getChildBoundables().remove(n), !0) }, Oc.prototype.itemsTree = function () { if (0 === arguments.length) { this.build(); var t = this.itemsTree(this._root); return null === t ? new nl : t } if (1 === arguments.length) { for (var e = arguments[0], n = new nl, i = e.getChildBoundables().iterator(); i.hasNext();) { var r = i.next(); if (r instanceof Pc) { var o = this.itemsTree(r); null !== o && n.add(o) } else r instanceof Sc ? n.add(r.getItem()) : Lu.shouldNeverReachHere() } return n.size() <= 0 ? null : n } }, Oc.prototype.insert = function (t, e) { Lu.isTrue(!this._built, "Cannot insert items into an STR packed R-tree after it has been built."), this._itemBoundables.add(new Sc(t, e)) }, Oc.prototype.boundablesAtLevel = function () { if (1 === arguments.length) { var t = arguments[0], e = new nl; return this.boundablesAtLevel(t, this._root, e), e } if (3 === arguments.length) { var n = arguments[0], i = arguments[1], r = arguments[2]; if (Lu.isTrue(n > -2), i.getLevel() === n) return r.add(i), null; for (var o = i.getChildBoundables().iterator(); o.hasNext();) { var s = o.next(); s instanceof Pc ? this.boundablesAtLevel(n, s, r) : (Lu.isTrue(s instanceof Sc), -1 === n && r.add(s)) } return null } }, Oc.prototype.query = function () { if (1 === arguments.length) { var t = arguments[0]; this.build(); var e = new nl; return this.isEmpty() || this.getIntersectsOp().intersects(this._root.getBounds(), t) && this.query(t, this._root, e), e } if (2 === arguments.length) { var n = arguments[0], i = arguments[1]; if (this.build(), this.isEmpty()) return null; this.getIntersectsOp().intersects(this._root.getBounds(), n) && this.query(n, this._root, i) } else if (3 === arguments.length) if (uu(arguments[2], Ic) && arguments[0] instanceof Object && arguments[1] instanceof Pc) for (var r = arguments[0], o = arguments[1], s = arguments[2], a = o.getChildBoundables(), u = 0; u < a.size(); u++) { var l = a.get(u); this.getIntersectsOp().intersects(l.getBounds(), r) && (l instanceof Pc ? this.query(r, l, s) : l instanceof Sc ? s.visitItem(l.getItem()) : Lu.shouldNeverReachHere()) } else if (uu(arguments[2], el) && arguments[0] instanceof Object && arguments[1] instanceof Pc) for (var c = arguments[0], h = arguments[1], p = arguments[2], f = h.getChildBoundables(), d = 0; d < f.size(); d++) { var g = f.get(d); this.getIntersectsOp().intersects(g.getBounds(), c) && (g instanceof Pc ? this.query(c, g, p) : g instanceof Sc ? p.add(g.getItem()) : Lu.shouldNeverReachHere()) } }, Oc.prototype.build = function () { if (this._built) return null; this._root = this._itemBoundables.isEmpty() ? this.createNode(0) : this.createHigherLevels(this._itemBoundables, -1), this._itemBoundables = null, this._built = !0 }, Oc.prototype.getRoot = function () { return this.build(), this._root }, Oc.prototype.remove = function () { if (2 === arguments.length) { var t = arguments[0], e = arguments[1]; return this.build(), !!this.getIntersectsOp().intersects(this._root.getBounds(), t) && this.remove(t, this._root, e) } if (3 === arguments.length) { var n = arguments[0], i = arguments[1], r = arguments[2], o = this.removeItem(i, r); if (o) return !0; for (var s = null, a = i.getChildBoundables().iterator(); a.hasNext();) { var u = a.next(); if (this.getIntersectsOp().intersects(u.getBounds(), n) && u instanceof Pc && (o = this.remove(n, u, r))) { s = u; break } } return null !== s && s.getChildBoundables().isEmpty() && i.getChildBoundables().remove(s), o } }, Oc.prototype.createHigherLevels = function (t, e) { Lu.isTrue(!t.isEmpty()); var n = this.createParentBoundables(t, e + 1); return 1 === n.size() ? n.get(0) : this.createHigherLevels(n, e + 1) }, Oc.prototype.depth = function () { if (0 === arguments.length) return this.isEmpty() ? 0 : (this.build(), this.depth(this._root)); if (1 === arguments.length) { for (var t = 0, e = arguments[0].getChildBoundables().iterator(); e.hasNext();) { var n = e.next(); if (n instanceof Pc) { var i = this.depth(n); i > t && (t = i) } } return t + 1 } }, Oc.prototype.createParentBoundables = function (t, e) { Lu.isTrue(!t.isEmpty()); var n = new nl; n.add(this.createNode(e)); var i = new nl(t); Mc.sort(i, this.getComparator()); for (var r = i.iterator(); r.hasNext();) { var o = r.next(); this.lastNode(n).getChildBoundables().size() === this.getNodeCapacity() && n.add(this.createNode(e)), this.lastNode(n).addChildBoundable(o) } return n }, Oc.prototype.isEmpty = function () { return this._built ? this._root.isEmpty() : this._itemBoundables.isEmpty() }, Oc.prototype.interfaces_ = function () { return [mr] }, Oc.prototype.getClass = function () { return Oc }, Oc.compareDoubles = function (t, e) { return t > e ? 1 : t < e ? -1 : 0 }, kc.IntersectsOp.get = function () { return Fc }, kc.serialVersionUID.get = function () { return -0x35ef64c82d4c5400 }, kc.DEFAULT_NODE_CAPACITY.get = function () { return 10 }, Object.defineProperties(Oc, kc); var Fc = function () { }, Rc = function () { }; Rc.prototype.distance = function (t, e) { }, Rc.prototype.interfaces_ = function () { return [] }, Rc.prototype.getClass = function () { return Rc }; var qc = function (t) { function e(n) { n = n || e.DEFAULT_NODE_CAPACITY, t.call(this, n) } t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e; var n = { STRtreeNode: { configurable: !0 }, serialVersionUID: { configurable: !0 }, xComparator: { configurable: !0 }, yComparator: { configurable: !0 }, intersectsOp: { configurable: !0 }, DEFAULT_NODE_CAPACITY: { configurable: !0 } }; return e.prototype.createParentBoundablesFromVerticalSlices = function (t, e) { Lu.isTrue(t.length > 0); for (var n = new nl, i = 0; i < t.length; i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i], e)); return n }, e.prototype.createNode = function (t) { return new jc(t) }, e.prototype.size = function () { return 0 === arguments.length ? t.prototype.size.call(this) : t.prototype.size.apply(this, arguments) }, e.prototype.insert = function () { if (2 !== arguments.length) return t.prototype.insert.apply(this, arguments); var e = arguments[0], n = arguments[1]; if (e.isNull()) return null; t.prototype.insert.call(this, e, n) }, e.prototype.getIntersectsOp = function () { return e.intersectsOp }, e.prototype.verticalSlices = function (t, e) { for (var n = Math.trunc(Math.ceil(t.size() / e)), i = new Array(e).fill(null), r = t.iterator(), o = 0; o < e; o++) { i[o] = new nl; for (var s = 0; r.hasNext() && s < n;) { var a = r.next(); i[o].add(a), s++ } } return i }, e.prototype.query = function () { if (1 === arguments.length) { var e = arguments[0]; return t.prototype.query.call(this, e) } if (2 === arguments.length) { var n = arguments[0], i = arguments[1]; t.prototype.query.call(this, n, i) } else if (3 === arguments.length) if (uu(arguments[2], Ic) && arguments[0] instanceof Object && arguments[1] instanceof Pc) { var r = arguments[0], o = arguments[1], s = arguments[2]; t.prototype.query.call(this, r, o, s) } else if (uu(arguments[2], el) && arguments[0] instanceof Object && arguments[1] instanceof Pc) { var a = arguments[0], u = arguments[1], l = arguments[2]; t.prototype.query.call(this, a, u, l) } }, e.prototype.getComparator = function () { return e.yComparator }, e.prototype.createParentBoundablesFromVerticalSlice = function (e, n) { return t.prototype.createParentBoundables.call(this, e, n) }, e.prototype.remove = function () { if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; return t.prototype.remove.call(this, e, n) } return t.prototype.remove.apply(this, arguments) }, e.prototype.depth = function () { return 0 === arguments.length ? t.prototype.depth.call(this) : t.prototype.depth.apply(this, arguments) }, e.prototype.createParentBoundables = function (t, n) { Lu.isTrue(!t.isEmpty()); var i = Math.trunc(Math.ceil(t.size() / this.getNodeCapacity())), r = new nl(t); Mc.sort(r, e.xComparator); var o = this.verticalSlices(r, Math.trunc(Math.ceil(Math.sqrt(i)))); return this.createParentBoundablesFromVerticalSlices(o, n) }, e.prototype.nearestNeighbour = function () { if (1 === arguments.length) { if (uu(arguments[0], Rc)) { var t = arguments[0], n = new Lc(this.getRoot(), this.getRoot(), t); return this.nearestNeighbour(n) } if (arguments[0] instanceof Lc) { var i = arguments[0]; return this.nearestNeighbour(i, Za.POSITIVE_INFINITY) } } else if (2 === arguments.length) { if (arguments[0] instanceof e && uu(arguments[1], Rc)) { var r = arguments[0], o = arguments[1], s = new Lc(this.getRoot(), r.getRoot(), o); return this.nearestNeighbour(s) } if (arguments[0] instanceof Lc && "number" == typeof arguments[1]) { var a = arguments[0], u = arguments[1], l = null, c = new Tc; for (c.add(a); !c.isEmpty() && u > 0;) { var h = c.poll(), p = h.getDistance(); if (p >= u) break; h.isLeaves() ? (u = p, l = h) : h.expandToQueue(c, u) } return [l.getBoundable(0).getItem(), l.getBoundable(1).getItem()] } } else if (3 === arguments.length) { var f = arguments[0], d = arguments[1], g = arguments[2], y = new Sc(f, d), m = new Lc(this.getRoot(), y, g); return this.nearestNeighbour(m)[0] } }, e.prototype.interfaces_ = function () { return [Nc, mr] }, e.prototype.getClass = function () { return e }, e.centreX = function (t) { return e.avg(t.getMinX(), t.getMaxX()) }, e.avg = function (t, e) { return (t + e) / 2 }, e.centreY = function (t) { return e.avg(t.getMinY(), t.getMaxY()) }, n.STRtreeNode.get = function () { return jc }, n.serialVersionUID.get = function () { return 0x39920f7d5f261e0 }, n.xComparator.get = function () { return { interfaces_: function () { return [eu] }, compare: function (n, i) { return t.compareDoubles(e.centreX(n.getBounds()), e.centreX(i.getBounds())) } } }, n.yComparator.get = function () { return { interfaces_: function () { return [eu] }, compare: function (n, i) { return t.compareDoubles(e.centreY(n.getBounds()), e.centreY(i.getBounds())) } } }, n.intersectsOp.get = function () { return { interfaces_: function () { return [t.IntersectsOp] }, intersects: function (t, e) { return t.intersects(e) } } }, n.DEFAULT_NODE_CAPACITY.get = function () { return 10 }, Object.defineProperties(e, n), e }(Oc), jc = function (t) { function e() { var e = arguments[0]; t.call(this, e) } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.computeBounds = function () { for (var t = null, e = this.getChildBoundables().iterator(); e.hasNext();) { var n = e.next(); null === t ? t = new Cu(n.getBounds()) : t.expandToInclude(n.getBounds()) } return t }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e }(Pc), Bc = function () { }; Bc.prototype.interfaces_ = function () { return [] }, Bc.prototype.getClass = function () { return Bc }, Bc.relativeSign = function (t, e) { return t < e ? -1 : t > e ? 1 : 0 }, Bc.compare = function (t, e, n) { if (e.equals2D(n)) return 0; var i = Bc.relativeSign(e.x, n.x), r = Bc.relativeSign(e.y, n.y); switch (t) { case 0: return Bc.compareValue(i, r); case 1: return Bc.compareValue(r, i); case 2: return Bc.compareValue(r, -i); case 3: return Bc.compareValue(-i, r); case 4: return Bc.compareValue(-i, -r); case 5: return Bc.compareValue(-r, -i); case 6: return Bc.compareValue(-r, i); case 7: return Bc.compareValue(i, -r) }return Lu.shouldNeverReachHere("invalid octant value"), 0 }, Bc.compareValue = function (t, e) { return t < 0 ? -1 : t > 0 ? 1 : e < 0 ? -1 : e > 0 ? 1 : 0 }; var $c = function () { this._segString = null, this.coord = null, this.segmentIndex = null, this._segmentOctant = null, this._isInterior = null; var t = arguments[0], e = arguments[1], n = arguments[2], i = arguments[3]; this._segString = t, this.coord = new nu(e), this.segmentIndex = n, this._segmentOctant = i, this._isInterior = !e.equals2D(t.getCoordinate(n)) }; $c.prototype.getCoordinate = function () { return this.coord }, $c.prototype.print = function (t) { t.print(this.coord), t.print(" seg # = " + this.segmentIndex) }, $c.prototype.compareTo = function (t) { var e = t; return this.segmentIndex < e.segmentIndex ? -1 : this.segmentIndex > e.segmentIndex ? 1 : this.coord.equals2D(e.coord) ? 0 : Bc.compare(this._segmentOctant, this.coord, e.coord) }, $c.prototype.isEndPoint = function (t) { return 0 === this.segmentIndex && !this._isInterior || this.segmentIndex === t }, $c.prototype.isInterior = function () { return this._isInterior }, $c.prototype.interfaces_ = function () { return [Qa] }, $c.prototype.getClass = function () { return $c }; var zc = function () { this._nodeMap = new Sr, this._edge = null; var t = arguments[0]; this._edge = t }; zc.prototype.getSplitCoordinates = function () { var t = new rl; this.addEndpoints(); for (var e = this.iterator(), n = e.next(); e.hasNext();) { var i = e.next(); this.addEdgeCoordinates(n, i, t), n = i } return t.toCoordinateArray() }, zc.prototype.addCollapsedNodes = function () { var t = new nl; this.findCollapsesFromInsertedNodes(t), this.findCollapsesFromExistingVertices(t); for (var e = t.iterator(); e.hasNext();) { var n = e.next().intValue(); this.add(this._edge.getCoordinate(n), n) } }, zc.prototype.print = function (t) { t.println("Intersections:"); for (var e = this.iterator(); e.hasNext();)e.next().print(t) }, zc.prototype.findCollapsesFromExistingVertices = function (t) { for (var e = 0; e < this._edge.size() - 2; e++) { var n = this._edge.getCoordinate(e), i = this._edge.getCoordinate(e + 2); n.equals2D(i) && t.add(new pu(e + 1)) } }, zc.prototype.addEdgeCoordinates = function (t, e, n) { var i = this._edge.getCoordinate(e.segmentIndex), r = e.isInterior() || !e.coord.equals2D(i); n.add(new nu(t.coord), !1); for (var o = t.segmentIndex + 1; o <= e.segmentIndex; o++)n.add(this._edge.getCoordinate(o)); r && n.add(new nu(e.coord)) }, zc.prototype.iterator = function () { return this._nodeMap.values().iterator() }, zc.prototype.addSplitEdges = function (t) { this.addEndpoints(), this.addCollapsedNodes(); for (var e = this.iterator(), n = e.next(); e.hasNext();) { var i = e.next(), r = this.createSplitEdge(n, i); t.add(r), n = i } }, zc.prototype.findCollapseIndex = function (t, e, n) { if (!t.coord.equals2D(e.coord)) return !1; var i = e.segmentIndex - t.segmentIndex; return e.isInterior() || i--, 1 === i && (n[0] = t.segmentIndex + 1, !0) }, zc.prototype.findCollapsesFromInsertedNodes = function (t) { for (var e = new Array(1).fill(null), n = this.iterator(), i = n.next(); n.hasNext();) { var r = n.next(); this.findCollapseIndex(i, r, e) && t.add(new pu(e[0])), i = r } }, zc.prototype.getEdge = function () { return this._edge }, zc.prototype.addEndpoints = function () { var t = this._edge.size() - 1; this.add(this._edge.getCoordinate(0), 0), this.add(this._edge.getCoordinate(t), t) }, zc.prototype.createSplitEdge = function (t, e) { var n = e.segmentIndex - t.segmentIndex + 2, i = this._edge.getCoordinate(e.segmentIndex), r = e.isInterior() || !e.coord.equals2D(i); r || n--; var o = new Array(n).fill(null), s = 0; o[s++] = new nu(t.coord); for (var a = t.segmentIndex + 1; a <= e.segmentIndex; a++)o[s++] = this._edge.getCoordinate(a); return r && (o[s] = new nu(e.coord)), new Gc(o, this._edge.getData()) }, zc.prototype.add = function (t, e) { var n = new $c(this._edge, t, e, this._edge.getSegmentOctant(e)), i = this._nodeMap.get(n); return null !== i ? (Lu.isTrue(i.coord.equals2D(t), "Found equal nodes with different coordinates"), i) : (this._nodeMap.put(n, n), n) }, zc.prototype.checkSplitEdgesCorrectness = function (t) { var e = this._edge.getCoordinates(), n = t.get(0).getCoordinate(0); if (!n.equals2D(e[0])) throw new Au("bad split edge start point at " + n); var i = t.get(t.size() - 1).getCoordinates(), r = i[i.length - 1]; if (!r.equals2D(e[e.length - 1])) throw new Au("bad split edge end point at " + r) }, zc.prototype.interfaces_ = function () { return [] }, zc.prototype.getClass = function () { return zc }; var Vc = function () { }; Vc.prototype.interfaces_ = function () { return [] }, Vc.prototype.getClass = function () { return Vc }, Vc.octant = function () { if ("number" == typeof arguments[0] && "number" == typeof arguments[1]) { var t = arguments[0], e = arguments[1]; if (0 === t && 0 === e) throw new Ja("Cannot compute the octant for point ( " + t + ", " + e + " )"); var n = Math.abs(t), i = Math.abs(e); return t >= 0 ? e >= 0 ? n >= i ? 0 : 1 : n >= i ? 7 : 6 : e >= 0 ? n >= i ? 3 : 2 : n >= i ? 4 : 5 } if (arguments[0] instanceof nu && arguments[1] instanceof nu) { var r = arguments[0], o = arguments[1], s = o.x - r.x, a = o.y - r.y; if (0 === s && 0 === a) throw new Ja("Cannot compute the octant for two identical points " + r); return Vc.octant(s, a) } }; var Uc = function () { }; Uc.prototype.getCoordinates = function () { }, Uc.prototype.size = function () { }, Uc.prototype.getCoordinate = function (t) { }, Uc.prototype.isClosed = function () { }, Uc.prototype.setData = function (t) { }, Uc.prototype.getData = function () { }, Uc.prototype.interfaces_ = function () { return [] }, Uc.prototype.getClass = function () { return Uc }; var Hc = function () { }; Hc.prototype.addIntersection = function (t, e) { }, Hc.prototype.interfaces_ = function () { return [Uc] }, Hc.prototype.getClass = function () { return Hc }; var Gc = function () { this._nodeList = new zc(this), this._pts = null, this._data = null; var t = arguments[0], e = arguments[1]; this._pts = t, this._data = e }; Gc.prototype.getCoordinates = function () { return this._pts }, Gc.prototype.size = function () { return this._pts.length }, Gc.prototype.getCoordinate = function (t) { return this._pts[t] }, Gc.prototype.isClosed = function () { return this._pts[0].equals(this._pts[this._pts.length - 1]) }, Gc.prototype.getSegmentOctant = function (t) { return t === this._pts.length - 1 ? -1 : this.safeOctant(this.getCoordinate(t), this.getCoordinate(t + 1)) }, Gc.prototype.setData = function (t) { this._data = t }, Gc.prototype.safeOctant = function (t, e) { return t.equals2D(e) ? 0 : Vc.octant(t, e) }, Gc.prototype.getData = function () { return this._data }, Gc.prototype.addIntersection = function () { if (2 === arguments.length) { var t = arguments[0], e = arguments[1]; this.addIntersectionNode(t, e) } else if (4 === arguments.length) { var n = arguments[0], i = arguments[1], r = arguments[3], o = new nu(n.getIntersection(r)); this.addIntersection(o, i) } }, Gc.prototype.toString = function () { return Pu.toLineString(new $l(this._pts)) }, Gc.prototype.getNodeList = function () { return this._nodeList }, Gc.prototype.addIntersectionNode = function (t, e) { var n = e, i = n + 1; if (i < this._pts.length) { var r = this._pts[i]; t.equals2D(r) && (n = i) } return this._nodeList.add(t, n) }, Gc.prototype.addIntersections = function (t, e, n) { for (var i = 0; i < t.getIntersectionNum(); i++)this.addIntersection(t, e, n, i) }, Gc.prototype.interfaces_ = function () { return [Hc] }, Gc.prototype.getClass = function () { return Gc }, Gc.getNodedSubstrings = function () { if (1 === arguments.length) { var t = arguments[0], e = new nl; return Gc.getNodedSubstrings(t, e), e } if (2 === arguments.length) for (var n = arguments[0], i = arguments[1], r = n.iterator(); r.hasNext();)r.next().getNodeList().addSplitEdges(i) }; var Xc = function () { if (this.p0 = null, this.p1 = null, 0 === arguments.length) this.p0 = new nu, this.p1 = new nu; else if (1 === arguments.length) { var t = arguments[0]; this.p0 = new nu(t.p0), this.p1 = new nu(t.p1) } else if (2 === arguments.length) this.p0 = arguments[0], this.p1 = arguments[1]; else if (4 === arguments.length) { var e = arguments[0], n = arguments[1], i = arguments[2], r = arguments[3]; this.p0 = new nu(e, n), this.p1 = new nu(i, r) } }, Yc = { serialVersionUID: { configurable: !0 } }; Xc.prototype.minX = function () { return Math.min(this.p0.x, this.p1.x) }, Xc.prototype.orientationIndex = function () { if (arguments[0] instanceof Xc) { var t = arguments[0], e = ju.orientationIndex(this.p0, this.p1, t.p0), n = ju.orientationIndex(this.p0, this.p1, t.p1); return e >= 0 && n >= 0 || e <= 0 && n <= 0 ? Math.max(e, n) : 0 } if (arguments[0] instanceof nu) { var i = arguments[0]; return ju.orientationIndex(this.p0, this.p1, i) } }, Xc.prototype.toGeometry = function (t) { return t.createLineString([this.p0, this.p1]) }, Xc.prototype.isVertical = function () { return this.p0.x === this.p1.x }, Xc.prototype.equals = function (t) { if (!(t instanceof Xc)) return !1; var e = t; return this.p0.equals(e.p0) && this.p1.equals(e.p1) }, Xc.prototype.intersection = function (t) { var e = new Fu; return e.computeIntersection(this.p0, this.p1, t.p0, t.p1), e.hasIntersection() ? e.getIntersection(0) : null }, Xc.prototype.project = function () { if (arguments[0] instanceof nu) { var t = arguments[0]; if (t.equals(this.p0) || t.equals(this.p1)) return new nu(t); var e = this.projectionFactor(t), n = new nu; return n.x = this.p0.x + e * (this.p1.x - this.p0.x), n.y = this.p0.y + e * (this.p1.y - this.p0.y), n } if (arguments[0] instanceof Xc) { var i = arguments[0], r = this.projectionFactor(i.p0), o = this.projectionFactor(i.p1); if (r >= 1 && o >= 1) return null; if (r <= 0 && o <= 0) return null; var s = this.project(i.p0); r < 0 && (s = this.p0), r > 1 && (s = this.p1); var a = this.project(i.p1); return o < 0 && (a = this.p0), o > 1 && (a = this.p1), new Xc(s, a) } }, Xc.prototype.normalize = function () { this.p1.compareTo(this.p0) < 0 && this.reverse() }, Xc.prototype.angle = function () { return Math.atan2(this.p1.y - this.p0.y, this.p1.x - this.p0.x) }, Xc.prototype.getCoordinate = function (t) { return 0 === t ? this.p0 : this.p1 }, Xc.prototype.distancePerpendicular = function (t) { return ju.distancePointLinePerpendicular(t, this.p0, this.p1) }, Xc.prototype.minY = function () { return Math.min(this.p0.y, this.p1.y) }, Xc.prototype.midPoint = function () { return Xc.midPoint(this.p0, this.p1) }, Xc.prototype.projectionFactor = function (t) { if (t.equals(this.p0)) return 0; if (t.equals(this.p1)) return 1; var e = this.p1.x - this.p0.x, n = this.p1.y - this.p0.y, i = e * e + n * n; return i <= 0 ? Za.NaN : ((t.x - this.p0.x) * e + (t.y - this.p0.y) * n) / i }, Xc.prototype.closestPoints = function (t) { var e = this.intersection(t); if (null !== e) return [e, e]; var n = new Array(2).fill(null), i = Za.MAX_VALUE, r = null, o = this.closestPoint(t.p0); i = o.distance(t.p0), n[0] = o, n[1] = t.p0; var s = this.closestPoint(t.p1); (r = s.distance(t.p1)) < i && (i = r, n[0] = s, n[1] = t.p1); var a = t.closestPoint(this.p0); (r = a.distance(this.p0)) < i && (i = r, n[0] = this.p0, n[1] = a); var u = t.closestPoint(this.p1); return (r = u.distance(this.p1)) < i && (i = r, n[0] = this.p1, n[1] = u), n }, Xc.prototype.closestPoint = function (t) { var e = this.projectionFactor(t); return e > 0 && e < 1 ? this.project(t) : this.p0.distance(t) < this.p1.distance(t) ? this.p0 : this.p1 }, Xc.prototype.maxX = function () { return Math.max(this.p0.x, this.p1.x) }, Xc.prototype.getLength = function () { return this.p0.distance(this.p1) }, Xc.prototype.compareTo = function (t) { var e = t, n = this.p0.compareTo(e.p0); return 0 !== n ? n : this.p1.compareTo(e.p1) }, Xc.prototype.reverse = function () { var t = this.p0; this.p0 = this.p1, this.p1 = t }, Xc.prototype.equalsTopo = function (t) { return this.p0.equals(t.p0) && (this.p1.equals(t.p1) || this.p0.equals(t.p1)) && this.p1.equals(t.p0) }, Xc.prototype.lineIntersection = function (t) { try { return Eu.intersection(this.p0, this.p1, t.p0, t.p1) } catch (t) { if (!(t instanceof wu)) throw t } return null }, Xc.prototype.maxY = function () { return Math.max(this.p0.y, this.p1.y) }, Xc.prototype.pointAlongOffset = function (t, e) { var n = this.p0.x + t * (this.p1.x - this.p0.x), i = this.p0.y + t * (this.p1.y - this.p0.y), r = this.p1.x - this.p0.x, o = this.p1.y - this.p0.y, s = Math.sqrt(r * r + o * o), a = 0, u = 0; if (0 !== e) { if (s <= 0) throw new Error("Cannot compute offset from zero-length line segment"); a = e * r / s, u = e * o / s } return new nu(n - u, i + a) }, Xc.prototype.setCoordinates = function () { if (1 === arguments.length) { var t = arguments[0]; this.setCoordinates(t.p0, t.p1) } else if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; this.p0.x = e.x, this.p0.y = e.y, this.p1.x = n.x, this.p1.y = n.y } }, Xc.prototype.segmentFraction = function (t) { var e = this.projectionFactor(t); return e < 0 ? e = 0 : (e > 1 || Za.isNaN(e)) && (e = 1), e }, Xc.prototype.toString = function () { return "LINESTRING( " + this.p0.x + " " + this.p0.y + ", " + this.p1.x + " " + this.p1.y + ")" }, Xc.prototype.isHorizontal = function () { return this.p0.y === this.p1.y }, Xc.prototype.distance = function () { if (arguments[0] instanceof Xc) { var t = arguments[0]; return ju.distanceLineLine(this.p0, this.p1, t.p0, t.p1) } if (arguments[0] instanceof nu) { var e = arguments[0]; return ju.distancePointLine(e, this.p0, this.p1) } }, Xc.prototype.pointAlong = function (t) { var e = new nu; return e.x = this.p0.x + t * (this.p1.x - this.p0.x), e.y = this.p0.y + t * (this.p1.y - this.p0.y), e }, Xc.prototype.hashCode = function () { var t = Za.doubleToLongBits(this.p0.x); t ^= 31 * Za.doubleToLongBits(this.p0.y); var e = Math.trunc(t) ^ Math.trunc(t >> 32), n = Za.doubleToLongBits(this.p1.x); return n ^= 31 * Za.doubleToLongBits(this.p1.y), e ^ Math.trunc(n) ^ Math.trunc(n >> 32) }, Xc.prototype.interfaces_ = function () { return [Qa, mr] }, Xc.prototype.getClass = function () { return Xc }, Xc.midPoint = function (t, e) { return new nu((t.x + e.x) / 2, (t.y + e.y) / 2) }, Yc.serialVersionUID.get = function () { return 0x2d2172135f411c00 }, Object.defineProperties(Xc, Yc); var Wc = function () { this.tempEnv1 = new Cu, this.tempEnv2 = new Cu, this._overlapSeg1 = new Xc, this._overlapSeg2 = new Xc }; Wc.prototype.overlap = function () { if (2 === arguments.length); else if (4 === arguments.length) { var t = arguments[0], e = arguments[1], n = arguments[2], i = arguments[3]; t.getLineSegment(e, this._overlapSeg1), n.getLineSegment(i, this._overlapSeg2), this.overlap(this._overlapSeg1, this._overlapSeg2) } }, Wc.prototype.interfaces_ = function () { return [] }, Wc.prototype.getClass = function () { return Wc }; var Jc = function () { this._pts = null, this._start = null, this._end = null, this._env = null, this._context = null, this._id = null; var t = arguments[0], e = arguments[1], n = arguments[2], i = arguments[3]; this._pts = t, this._start = e, this._end = n, this._context = i }; Jc.prototype.getLineSegment = function (t, e) { e.p0 = this._pts[t], e.p1 = this._pts[t + 1] }, Jc.prototype.computeSelect = function (t, e, n, i) { var r = this._pts[e], o = this._pts[n]; if (i.tempEnv1.init(r, o), n - e == 1) return i.select(this, e), null; if (!t.intersects(i.tempEnv1)) return null; var s = Math.trunc((e + n) / 2); e < s && this.computeSelect(t, e, s, i), s < n && this.computeSelect(t, s, n, i) }, Jc.prototype.getCoordinates = function () { for (var t = new Array(this._end - this._start + 1).fill(null), e = 0, n = this._start; n <= this._end; n++)t[e++] = this._pts[n]; return t }, Jc.prototype.computeOverlaps = function (t, e) { this.computeOverlapsInternal(this._start, this._end, t, t._start, t._end, e) }, Jc.prototype.setId = function (t) { this._id = t }, Jc.prototype.select = function (t, e) { this.computeSelect(t, this._start, this._end, e) }, Jc.prototype.getEnvelope = function () { if (null === this._env) { var t = this._pts[this._start], e = this._pts[this._end]; this._env = new Cu(t, e) } return this._env }, Jc.prototype.getEndIndex = function () { return this._end }, Jc.prototype.getStartIndex = function () { return this._start }, Jc.prototype.getContext = function () { return this._context }, Jc.prototype.getId = function () { return this._id }, Jc.prototype.computeOverlapsInternal = function (t, e, n, i, r, o) { var s = this._pts[t], a = this._pts[e], u = n._pts[i], l = n._pts[r]; if (e - t == 1 && r - i == 1) return o.overlap(this, t, n, i), null; if (o.tempEnv1.init(s, a), o.tempEnv2.init(u, l), !o.tempEnv1.intersects(o.tempEnv2)) return null; var c = Math.trunc((t + e) / 2), h = Math.trunc((i + r) / 2); t < c && (i < h && this.computeOverlapsInternal(t, c, n, i, h, o), h < r && this.computeOverlapsInternal(t, c, n, h, r, o)), c < e && (i < h && this.computeOverlapsInternal(c, e, n, i, h, o), h < r && this.computeOverlapsInternal(c, e, n, h, r, o)) }, Jc.prototype.interfaces_ = function () { return [] }, Jc.prototype.getClass = function () { return Jc }; var Zc = function () { }; Zc.prototype.interfaces_ = function () { return [] }, Zc.prototype.getClass = function () { return Zc }, Zc.getChainStartIndices = function (t) { var e = 0, n = new nl; n.add(new pu(e)); do { var i = Zc.findChainEnd(t, e); n.add(new pu(i)), e = i } while (e < t.length - 1); return Zc.toIntArray(n) }, Zc.findChainEnd = function (t, e) { for (var n = e; n < t.length - 1 && t[n].equals2D(t[n + 1]);)n++; if (n >= t.length - 1) return t.length - 1; for (var i = vc.quadrant(t[n], t[n + 1]), r = e + 1; r < t.length && (t[r - 1].equals2D(t[r]) || vc.quadrant(t[r - 1], t[r]) === i);)r++; return r - 1 }, Zc.getChains = function () { if (1 === arguments.length) { var t = arguments[0]; return Zc.getChains(t, null) } if (2 === arguments.length) { for (var e = arguments[0], n = arguments[1], i = new nl, r = Zc.getChainStartIndices(e), o = 0; o < r.length - 1; o++) { var s = new Jc(e, r[o], r[o + 1], n); i.add(s) } return i } }, Zc.toIntArray = function (t) { for (var e = new Array(t.size()).fill(null), n = 0; n < e.length; n++)e[n] = t.get(n).intValue(); return e }; var Kc = function () { }; Kc.prototype.computeNodes = function (t) { }, Kc.prototype.getNodedSubstrings = function () { }, Kc.prototype.interfaces_ = function () { return [] }, Kc.prototype.getClass = function () { return Kc }; var Qc = function () { if (this._segInt = null, 0 === arguments.length); else if (1 === arguments.length) { var t = arguments[0]; this.setSegmentIntersector(t) } }; Qc.prototype.setSegmentIntersector = function (t) { this._segInt = t }, Qc.prototype.interfaces_ = function () { return [Kc] }, Qc.prototype.getClass = function () { return Qc }; var th = function (t) { function e(e) { e ? t.call(this, e) : t.call(this), this._monoChains = new nl, this._index = new qc, this._idCounter = 0, this._nodedSegStrings = null, this._nOverlaps = 0 } t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e; var n = { SegmentOverlapAction: { configurable: !0 } }; return e.prototype.getMonotoneChains = function () { return this._monoChains }, e.prototype.getNodedSubstrings = function () { return Gc.getNodedSubstrings(this._nodedSegStrings) }, e.prototype.getIndex = function () { return this._index }, e.prototype.add = function (t) { for (var e = Zc.getChains(t.getCoordinates(), t).iterator(); e.hasNext();) { var n = e.next(); n.setId(this._idCounter++), this._index.insert(n.getEnvelope(), n), this._monoChains.add(n) } }, e.prototype.computeNodes = function (t) { this._nodedSegStrings = t; for (var e = t.iterator(); e.hasNext();)this.add(e.next()); this.intersectChains() }, e.prototype.intersectChains = function () { for (var t = new eh(this._segInt), e = this._monoChains.iterator(); e.hasNext();)for (var n = e.next(), i = this._index.query(n.getEnvelope()).iterator(); i.hasNext();) { var r = i.next(); if (r.getId() > n.getId() && (n.computeOverlaps(r, t), this._nOverlaps++), this._segInt.isDone()) return null } }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, n.SegmentOverlapAction.get = function () { return eh }, Object.defineProperties(e, n), e }(Qc), eh = function (t) { function e() { t.call(this), this._si = null; var e = arguments[0]; this._si = e } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.overlap = function () { if (4 !== arguments.length) return t.prototype.overlap.apply(this, arguments); var e = arguments[0], n = arguments[1], i = arguments[2], r = arguments[3], o = e.getContext(), s = i.getContext(); this._si.processIntersections(o, n, s, r) }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e }(Wc), nh = function t() { if (this._quadrantSegments = t.DEFAULT_QUADRANT_SEGMENTS, this._endCapStyle = t.CAP_ROUND, this._joinStyle = t.JOIN_ROUND, this._mitreLimit = t.DEFAULT_MITRE_LIMIT, this._isSingleSided = !1, this._simplifyFactor = t.DEFAULT_SIMPLIFY_FACTOR, 0 === arguments.length); else if (1 === arguments.length) { var e = arguments[0]; this.setQuadrantSegments(e) } else if (2 === arguments.length) { var n = arguments[0], i = arguments[1]; this.setQuadrantSegments(n), this.setEndCapStyle(i) } else if (4 === arguments.length) { var r = arguments[0], o = arguments[1], s = arguments[2], a = arguments[3]; this.setQuadrantSegments(r), this.setEndCapStyle(o), this.setJoinStyle(s), this.setMitreLimit(a) } }, ih = { CAP_ROUND: { configurable: !0 }, CAP_FLAT: { configurable: !0 }, CAP_SQUARE: { configurable: !0 }, JOIN_ROUND: { configurable: !0 }, JOIN_MITRE: { configurable: !0 }, JOIN_BEVEL: { configurable: !0 }, DEFAULT_QUADRANT_SEGMENTS: { configurable: !0 }, DEFAULT_MITRE_LIMIT: { configurable: !0 }, DEFAULT_SIMPLIFY_FACTOR: { configurable: !0 } }; nh.prototype.getEndCapStyle = function () { return this._endCapStyle }, nh.prototype.isSingleSided = function () { return this._isSingleSided }, nh.prototype.setQuadrantSegments = function (t) { this._quadrantSegments = t, 0 === this._quadrantSegments && (this._joinStyle = nh.JOIN_BEVEL), this._quadrantSegments < 0 && (this._joinStyle = nh.JOIN_MITRE, this._mitreLimit = Math.abs(this._quadrantSegments)), t <= 0 && (this._quadrantSegments = 1), this._joinStyle !== nh.JOIN_ROUND && (this._quadrantSegments = nh.DEFAULT_QUADRANT_SEGMENTS) }, nh.prototype.getJoinStyle = function () { return this._joinStyle }, nh.prototype.setJoinStyle = function (t) { this._joinStyle = t }, nh.prototype.setSimplifyFactor = function (t) { this._simplifyFactor = t < 0 ? 0 : t }, nh.prototype.getSimplifyFactor = function () { return this._simplifyFactor }, nh.prototype.getQuadrantSegments = function () { return this._quadrantSegments }, nh.prototype.setEndCapStyle = function (t) { this._endCapStyle = t }, nh.prototype.getMitreLimit = function () { return this._mitreLimit }, nh.prototype.setMitreLimit = function (t) { this._mitreLimit = t }, nh.prototype.setSingleSided = function (t) { this._isSingleSided = t }, nh.prototype.interfaces_ = function () { return [] }, nh.prototype.getClass = function () { return nh }, nh.bufferDistanceError = function (t) { var e = Math.PI / 2 / t; return 1 - Math.cos(e / 2) }, ih.CAP_ROUND.get = function () { return 1 }, ih.CAP_FLAT.get = function () { return 2 }, ih.CAP_SQUARE.get = function () { return 3 }, ih.JOIN_ROUND.get = function () { return 1 }, ih.JOIN_MITRE.get = function () { return 2 }, ih.JOIN_BEVEL.get = function () { return 3 }, ih.DEFAULT_QUADRANT_SEGMENTS.get = function () { return 8 }, ih.DEFAULT_MITRE_LIMIT.get = function () { return 5 }, ih.DEFAULT_SIMPLIFY_FACTOR.get = function () { return .01 }, Object.defineProperties(nh, ih); var rh = function (t) { this._distanceTol = null, this._isDeleted = null, this._angleOrientation = ju.COUNTERCLOCKWISE, this._inputLine = t || null }, oh = { INIT: { configurable: !0 }, DELETE: { configurable: !0 }, KEEP: { configurable: !0 }, NUM_PTS_TO_CHECK: { configurable: !0 } }; rh.prototype.isDeletable = function (t, e, n, i) { var r = this._inputLine[t], o = this._inputLine[e], s = this._inputLine[n]; return !!this.isConcave(r, o, s) && !!this.isShallow(r, o, s, i) && this.isShallowSampled(r, o, t, n, i) }, rh.prototype.deleteShallowConcavities = function () { for (var t = 1, e = this.findNextNonDeletedIndex(t), n = this.findNextNonDeletedIndex(e), i = !1; n < this._inputLine.length;) { var r = !1; this.isDeletable(t, e, n, this._distanceTol) && (this._isDeleted[e] = rh.DELETE, r = !0, i = !0), t = r ? n : e, e = this.findNextNonDeletedIndex(t), n = this.findNextNonDeletedIndex(e) } return i }, rh.prototype.isShallowConcavity = function (t, e, n, i) { return ju.computeOrientation(t, e, n) === this._angleOrientation && ju.distancePointLine(e, t, n) < i }, rh.prototype.isShallowSampled = function (t, e, n, i, r) { var o = Math.trunc((i - n) / rh.NUM_PTS_TO_CHECK); o <= 0 && (o = 1); for (var s = n; s < i; s += o)if (!this.isShallow(t, e, this._inputLine[s], r)) return !1; return !0 }, rh.prototype.isConcave = function (t, e, n) { return ju.computeOrientation(t, e, n) === this._angleOrientation }, rh.prototype.simplify = function (t) { this._distanceTol = Math.abs(t), t < 0 && (this._angleOrientation = ju.CLOCKWISE), this._isDeleted = new Array(this._inputLine.length).fill(null); var e = !1; do { e = this.deleteShallowConcavities() } while (e); return this.collapseLine() }, rh.prototype.findNextNonDeletedIndex = function (t) { for (var e = t + 1; e < this._inputLine.length && this._isDeleted[e] === rh.DELETE;)e++; return e }, rh.prototype.isShallow = function (t, e, n, i) { return ju.distancePointLine(e, t, n) < i }, rh.prototype.collapseLine = function () { for (var t = new rl, e = 0; e < this._inputLine.length; e++)this._isDeleted[e] !== rh.DELETE && t.add(this._inputLine[e]); return t.toCoordinateArray() }, rh.prototype.interfaces_ = function () { return [] }, rh.prototype.getClass = function () { return rh }, rh.simplify = function (t, e) { return new rh(t).simplify(e) }, oh.INIT.get = function () { return 0 }, oh.DELETE.get = function () { return 1 }, oh.KEEP.get = function () { return 1 }, oh.NUM_PTS_TO_CHECK.get = function () { return 10 }, Object.defineProperties(rh, oh); var sh = function () { this._ptList = null, this._precisionModel = null, this._minimimVertexDistance = 0, this._ptList = new nl }, ah = { COORDINATE_ARRAY_TYPE: { configurable: !0 } }; sh.prototype.getCoordinates = function () { return this._ptList.toArray(sh.COORDINATE_ARRAY_TYPE) }, sh.prototype.setPrecisionModel = function (t) { this._precisionModel = t }, sh.prototype.addPt = function (t) { var e = new nu(t); if (this._precisionModel.makePrecise(e), this.isRedundant(e)) return null; this._ptList.add(e) }, sh.prototype.revere = function () { }, sh.prototype.addPts = function (t, e) { if (e) for (var n = 0; n < t.length; n++)this.addPt(t[n]); else for (var i = t.length - 1; i >= 0; i--)this.addPt(t[i]) }, sh.prototype.isRedundant = function (t) { if (this._ptList.size() < 1) return !1; var e = this._ptList.get(this._ptList.size() - 1); return t.distance(e) < this._minimimVertexDistance }, sh.prototype.toString = function () { return (new Jl).createLineString(this.getCoordinates()).toString() }, sh.prototype.closeRing = function () { if (this._ptList.size() < 1) return null; var t = new nu(this._ptList.get(0)), e = this._ptList.get(this._ptList.size() - 1); if (t.equals(e)) return null; this._ptList.add(t) }, sh.prototype.setMinimumVertexDistance = function (t) { this._minimimVertexDistance = t }, sh.prototype.interfaces_ = function () { return [] }, sh.prototype.getClass = function () { return sh }, ah.COORDINATE_ARRAY_TYPE.get = function () { return new Array(0).fill(null) }, Object.defineProperties(sh, ah); var uh = function () { }, lh = { PI_TIMES_2: { configurable: !0 }, PI_OVER_2: { configurable: !0 }, PI_OVER_4: { configurable: !0 }, COUNTERCLOCKWISE: { configurable: !0 }, CLOCKWISE: { configurable: !0 }, NONE: { configurable: !0 } }; uh.prototype.interfaces_ = function () { return [] }, uh.prototype.getClass = function () { return uh }, uh.toDegrees = function (t) { return 180 * t / Math.PI }, uh.normalize = function (t) { for (; t > Math.PI;)t -= uh.PI_TIMES_2; for (; t <= -Math.PI;)t += uh.PI_TIMES_2; return t }, uh.angle = function () { if (1 === arguments.length) { var t = arguments[0]; return Math.atan2(t.y, t.x) } if (2 === arguments.length) { var e = arguments[0], n = arguments[1], i = n.x - e.x, r = n.y - e.y; return Math.atan2(r, i) } }, uh.isAcute = function (t, e, n) { var i = t.x - e.x, r = t.y - e.y; return i * (n.x - e.x) + r * (n.y - e.y) > 0 }, uh.isObtuse = function (t, e, n) { var i = t.x - e.x, r = t.y - e.y; return i * (n.x - e.x) + r * (n.y - e.y) < 0 }, uh.interiorAngle = function (t, e, n) { var i = uh.angle(e, t), r = uh.angle(e, n); return Math.abs(r - i) }, uh.normalizePositive = function (t) { if (t < 0) { for (; t < 0;)t += uh.PI_TIMES_2; t >= uh.PI_TIMES_2 && (t = 0) } else { for (; t >= uh.PI_TIMES_2;)t -= uh.PI_TIMES_2; t < 0 && (t = 0) } return t }, uh.angleBetween = function (t, e, n) { var i = uh.angle(e, t), r = uh.angle(e, n); return uh.diff(i, r) }, uh.diff = function (t, e) { var n = null; return (n = t < e ? e - t : t - e) > Math.PI && (n = 2 * Math.PI - n), n }, uh.toRadians = function (t) { return t * Math.PI / 180 }, uh.getTurn = function (t, e) { var n = Math.sin(e - t); return n > 0 ? uh.COUNTERCLOCKWISE : n < 0 ? uh.CLOCKWISE : uh.NONE }, uh.angleBetweenOriented = function (t, e, n) { var i = uh.angle(e, t), r = uh.angle(e, n) - i; return r <= -Math.PI ? r + uh.PI_TIMES_2 : r > Math.PI ? r - uh.PI_TIMES_2 : r }, lh.PI_TIMES_2.get = function () { return 2 * Math.PI }, lh.PI_OVER_2.get = function () { return Math.PI / 2 }, lh.PI_OVER_4.get = function () { return Math.PI / 4 }, lh.COUNTERCLOCKWISE.get = function () { return ju.COUNTERCLOCKWISE }, lh.CLOCKWISE.get = function () { return ju.CLOCKWISE }, lh.NONE.get = function () { return ju.COLLINEAR }, Object.defineProperties(uh, lh); var ch = function t() { this._maxCurveSegmentError = 0, this._filletAngleQuantum = null, this._closingSegLengthFactor = 1, this._segList = null, this._distance = 0, this._precisionModel = null, this._bufParams = null, this._li = null, this._s0 = null, this._s1 = null, this._s2 = null, this._seg0 = new Xc, this._seg1 = new Xc, this._offset0 = new Xc, this._offset1 = new Xc, this._side = 0, this._hasNarrowConcaveAngle = !1; var e = arguments[0], n = arguments[1], i = arguments[2]; this._precisionModel = e, this._bufParams = n, this._li = new Fu, this._filletAngleQuantum = Math.PI / 2 / n.getQuadrantSegments(), n.getQuadrantSegments() >= 8 && n.getJoinStyle() === nh.JOIN_ROUND && (this._closingSegLengthFactor = t.MAX_CLOSING_SEG_LEN_FACTOR), this.init(i) }, hh = { OFFSET_SEGMENT_SEPARATION_FACTOR: { configurable: !0 }, INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR: { configurable: !0 }, CURVE_VERTEX_SNAP_DISTANCE_FACTOR: { configurable: !0 }, MAX_CLOSING_SEG_LEN_FACTOR: { configurable: !0 } }; ch.prototype.addNextSegment = function (t, e) { if (this._s0 = this._s1, this._s1 = this._s2, this._s2 = t, this._seg0.setCoordinates(this._s0, this._s1), this.computeOffsetSegment(this._seg0, this._side, this._distance, this._offset0), this._seg1.setCoordinates(this._s1, this._s2), this.computeOffsetSegment(this._seg1, this._side, this._distance, this._offset1), this._s1.equals(this._s2)) return null; var n = ju.computeOrientation(this._s0, this._s1, this._s2), i = n === ju.CLOCKWISE && this._side === rc.LEFT || n === ju.COUNTERCLOCKWISE && this._side === rc.RIGHT; 0 === n ? this.addCollinear(e) : i ? this.addOutsideTurn(n, e) : this.addInsideTurn(n, e) }, ch.prototype.addLineEndCap = function (t, e) { var n = new Xc(t, e), i = new Xc; this.computeOffsetSegment(n, rc.LEFT, this._distance, i); var r = new Xc; this.computeOffsetSegment(n, rc.RIGHT, this._distance, r); var o = e.x - t.x, s = e.y - t.y, a = Math.atan2(s, o); switch (this._bufParams.getEndCapStyle()) { case nh.CAP_ROUND: this._segList.addPt(i.p1), this.addFilletArc(e, a + Math.PI / 2, a - Math.PI / 2, ju.CLOCKWISE, this._distance), this._segList.addPt(r.p1); break; case nh.CAP_FLAT: this._segList.addPt(i.p1), this._segList.addPt(r.p1); break; case nh.CAP_SQUARE: var u = new nu; u.x = Math.abs(this._distance) * Math.cos(a), u.y = Math.abs(this._distance) * Math.sin(a); var l = new nu(i.p1.x + u.x, i.p1.y + u.y), c = new nu(r.p1.x + u.x, r.p1.y + u.y); this._segList.addPt(l), this._segList.addPt(c) } }, ch.prototype.getCoordinates = function () { return this._segList.getCoordinates() }, ch.prototype.addMitreJoin = function (t, e, n, i) { var r = !0, o = null; try { o = Eu.intersection(e.p0, e.p1, n.p0, n.p1), (i <= 0 ? 1 : o.distance(t) / Math.abs(i)) > this._bufParams.getMitreLimit() && (r = !1) } catch (t) { if (!(t instanceof wu)) throw t; o = new nu(0, 0), r = !1 } r ? this._segList.addPt(o) : this.addLimitedMitreJoin(e, n, i, this._bufParams.getMitreLimit()) }, ch.prototype.addFilletCorner = function (t, e, n, i, r) { var o = e.x - t.x, s = e.y - t.y, a = Math.atan2(s, o), u = n.x - t.x, l = n.y - t.y, c = Math.atan2(l, u); i === ju.CLOCKWISE ? a <= c && (a += 2 * Math.PI) : a >= c && (a -= 2 * Math.PI), this._segList.addPt(e), this.addFilletArc(t, a, c, i, r), this._segList.addPt(n) }, ch.prototype.addOutsideTurn = function (t, e) { if (this._offset0.p1.distance(this._offset1.p0) < this._distance * ch.OFFSET_SEGMENT_SEPARATION_FACTOR) return this._segList.addPt(this._offset0.p1), null; this._bufParams.getJoinStyle() === nh.JOIN_MITRE ? this.addMitreJoin(this._s1, this._offset0, this._offset1, this._distance) : this._bufParams.getJoinStyle() === nh.JOIN_BEVEL ? this.addBevelJoin(this._offset0, this._offset1) : (e && this._segList.addPt(this._offset0.p1), this.addFilletCorner(this._s1, this._offset0.p1, this._offset1.p0, t, this._distance), this._segList.addPt(this._offset1.p0)) }, ch.prototype.createSquare = function (t) { this._segList.addPt(new nu(t.x + this._distance, t.y + this._distance)), this._segList.addPt(new nu(t.x + this._distance, t.y - this._distance)), this._segList.addPt(new nu(t.x - this._distance, t.y - this._distance)), this._segList.addPt(new nu(t.x - this._distance, t.y + this._distance)), this._segList.closeRing() }, ch.prototype.addSegments = function (t, e) { this._segList.addPts(t, e) }, ch.prototype.addFirstSegment = function () { this._segList.addPt(this._offset1.p0) }, ch.prototype.addLastSegment = function () { this._segList.addPt(this._offset1.p1) }, ch.prototype.initSideSegments = function (t, e, n) { this._s1 = t, this._s2 = e, this._side = n, this._seg1.setCoordinates(t, e), this.computeOffsetSegment(this._seg1, n, this._distance, this._offset1) }, ch.prototype.addLimitedMitreJoin = function (t, e, n, i) { var r = this._seg0.p1, o = uh.angle(r, this._seg0.p0), s = uh.angleBetweenOriented(this._seg0.p0, r, this._seg1.p1) / 2, a = uh.normalize(o + s), u = uh.normalize(a + Math.PI), l = i * n, c = n - l * Math.abs(Math.sin(s)), h = r.x + l * Math.cos(u), p = r.y + l * Math.sin(u), f = new nu(h, p), d = new Xc(r, f), g = d.pointAlongOffset(1, c), y = d.pointAlongOffset(1, -c); this._side === rc.LEFT ? (this._segList.addPt(g), this._segList.addPt(y)) : (this._segList.addPt(y), this._segList.addPt(g)) }, ch.prototype.computeOffsetSegment = function (t, e, n, i) { var r = e === rc.LEFT ? 1 : -1, o = t.p1.x - t.p0.x, s = t.p1.y - t.p0.y, a = Math.sqrt(o * o + s * s), u = r * n * o / a, l = r * n * s / a; i.p0.x = t.p0.x - l, i.p0.y = t.p0.y + u, i.p1.x = t.p1.x - l, i.p1.y = t.p1.y + u }, ch.prototype.addFilletArc = function (t, e, n, i, r) { var o = i === ju.CLOCKWISE ? -1 : 1, s = Math.abs(e - n), a = Math.trunc(s / this._filletAngleQuantum + .5); if (a < 1) return null; for (var u = s / a, l = 0, c = new nu; l < s;) { var h = e + o * l; c.x = t.x + r * Math.cos(h), c.y = t.y + r * Math.sin(h), this._segList.addPt(c), l += u } }, ch.prototype.addInsideTurn = function (t, e) { if (this._li.computeIntersection(this._offset0.p0, this._offset0.p1, this._offset1.p0, this._offset1.p1), this._li.hasIntersection()) this._segList.addPt(this._li.getIntersection(0)); else if (this._hasNarrowConcaveAngle = !0, this._offset0.p1.distance(this._offset1.p0) < this._distance * ch.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR) this._segList.addPt(this._offset0.p1); else { if (this._segList.addPt(this._offset0.p1), this._closingSegLengthFactor > 0) { var n = new nu((this._closingSegLengthFactor * this._offset0.p1.x + this._s1.x) / (this._closingSegLengthFactor + 1), (this._closingSegLengthFactor * this._offset0.p1.y + this._s1.y) / (this._closingSegLengthFactor + 1)); this._segList.addPt(n); var i = new nu((this._closingSegLengthFactor * this._offset1.p0.x + this._s1.x) / (this._closingSegLengthFactor + 1), (this._closingSegLengthFactor * this._offset1.p0.y + this._s1.y) / (this._closingSegLengthFactor + 1)); this._segList.addPt(i) } else this._segList.addPt(this._s1); this._segList.addPt(this._offset1.p0) } }, ch.prototype.createCircle = function (t) { var e = new nu(t.x + this._distance, t.y); this._segList.addPt(e), this.addFilletArc(t, 0, 2 * Math.PI, -1, this._distance), this._segList.closeRing() }, ch.prototype.addBevelJoin = function (t, e) { this._segList.addPt(t.p1), this._segList.addPt(e.p0) }, ch.prototype.init = function (t) { this._distance = t, this._maxCurveSegmentError = t * (1 - Math.cos(this._filletAngleQuantum / 2)), this._segList = new sh, this._segList.setPrecisionModel(this._precisionModel), this._segList.setMinimumVertexDistance(t * ch.CURVE_VERTEX_SNAP_DISTANCE_FACTOR) }, ch.prototype.addCollinear = function (t) { this._li.computeIntersection(this._s0, this._s1, this._s1, this._s2), this._li.getIntersectionNum() >= 2 && (this._bufParams.getJoinStyle() === nh.JOIN_BEVEL || this._bufParams.getJoinStyle() === nh.JOIN_MITRE ? (t && this._segList.addPt(this._offset0.p1), this._segList.addPt(this._offset1.p0)) : this.addFilletCorner(this._s1, this._offset0.p1, this._offset1.p0, ju.CLOCKWISE, this._distance)) }, ch.prototype.closeRing = function () { this._segList.closeRing() }, ch.prototype.hasNarrowConcaveAngle = function () { return this._hasNarrowConcaveAngle }, ch.prototype.interfaces_ = function () { return [] }, ch.prototype.getClass = function () { return ch }, hh.OFFSET_SEGMENT_SEPARATION_FACTOR.get = function () { return .001 }, hh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get = function () { return .001 }, hh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get = function () { return 1e-6 }, hh.MAX_CLOSING_SEG_LEN_FACTOR.get = function () { return 80 }, Object.defineProperties(ch, hh); var ph = function () { this._distance = 0, this._precisionModel = null, this._bufParams = null; var t = arguments[0], e = arguments[1]; this._precisionModel = t, this._bufParams = e }; ph.prototype.getOffsetCurve = function (t, e) { if (this._distance = e, 0 === e) return null; var n = e < 0, i = Math.abs(e), r = this.getSegGen(i); t.length <= 1 ? this.computePointCurve(t[0], r) : this.computeOffsetCurve(t, n, r); var o = r.getCoordinates(); return n && ol.reverse(o), o }, ph.prototype.computeSingleSidedBufferCurve = function (t, e, n) { var i = this.simplifyTolerance(this._distance); if (e) { n.addSegments(t, !0); var r = rh.simplify(t, -i), o = r.length - 1; n.initSideSegments(r[o], r[o - 1], rc.LEFT), n.addFirstSegment(); for (var s = o - 2; s >= 0; s--)n.addNextSegment(r[s], !0) } else { n.addSegments(t, !1); var a = rh.simplify(t, i), u = a.length - 1; n.initSideSegments(a[0], a[1], rc.LEFT), n.addFirstSegment(); for (var l = 2; l <= u; l++)n.addNextSegment(a[l], !0) } n.addLastSegment(), n.closeRing() }, ph.prototype.computeRingBufferCurve = function (t, e, n) { var i = this.simplifyTolerance(this._distance); e === rc.RIGHT && (i = -i); var r = rh.simplify(t, i), o = r.length - 1; n.initSideSegments(r[o - 1], r[0], e); for (var s = 1; s <= o; s++) { var a = 1 !== s; n.addNextSegment(r[s], a) } n.closeRing() }, ph.prototype.computeLineBufferCurve = function (t, e) { var n = this.simplifyTolerance(this._distance), i = rh.simplify(t, n), r = i.length - 1; e.initSideSegments(i[0], i[1], rc.LEFT); for (var o = 2; o <= r; o++)e.addNextSegment(i[o], !0); e.addLastSegment(), e.addLineEndCap(i[r - 1], i[r]); var s = rh.simplify(t, -n), a = s.length - 1; e.initSideSegments(s[a], s[a - 1], rc.LEFT); for (var u = a - 2; u >= 0; u--)e.addNextSegment(s[u], !0); e.addLastSegment(), e.addLineEndCap(s[1], s[0]), e.closeRing() }, ph.prototype.computePointCurve = function (t, e) { switch (this._bufParams.getEndCapStyle()) { case nh.CAP_ROUND: e.createCircle(t); break; case nh.CAP_SQUARE: e.createSquare(t) } }, ph.prototype.getLineCurve = function (t, e) { if (this._distance = e, e < 0 && !this._bufParams.isSingleSided()) return null; if (0 === e) return null; var n = Math.abs(e), i = this.getSegGen(n); if (t.length <= 1) this.computePointCurve(t[0], i); else if (this._bufParams.isSingleSided()) { var r = e < 0; this.computeSingleSidedBufferCurve(t, r, i) } else this.computeLineBufferCurve(t, i); return i.getCoordinates() }, ph.prototype.getBufferParameters = function () { return this._bufParams }, ph.prototype.simplifyTolerance = function (t) { return t * this._bufParams.getSimplifyFactor() }, ph.prototype.getRingCurve = function (t, e, n) { if (this._distance = n, t.length <= 2) return this.getLineCurve(t, n); if (0 === n) return ph.copyCoordinates(t); var i = this.getSegGen(n); return this.computeRingBufferCurve(t, e, i), i.getCoordinates() }, ph.prototype.computeOffsetCurve = function (t, e, n) { var i = this.simplifyTolerance(this._distance); if (e) { var r = rh.simplify(t, -i), o = r.length - 1; n.initSideSegments(r[o], r[o - 1], rc.LEFT), n.addFirstSegment(); for (var s = o - 2; s >= 0; s--)n.addNextSegment(r[s], !0) } else { var a = rh.simplify(t, i), u = a.length - 1; n.initSideSegments(a[0], a[1], rc.LEFT), n.addFirstSegment(); for (var l = 2; l <= u; l++)n.addNextSegment(a[l], !0) } n.addLastSegment() }, ph.prototype.getSegGen = function (t) { return new ch(this._precisionModel, this._bufParams, t) }, ph.prototype.interfaces_ = function () { return [] }, ph.prototype.getClass = function () { return ph }, ph.copyCoordinates = function (t) { for (var e = new Array(t.length).fill(null), n = 0; n < e.length; n++)e[n] = new nu(t[n]); return e }; var fh = function () { this._subgraphs = null, this._seg = new Xc, this._cga = new ju; var t = arguments[0]; this._subgraphs = t }, dh = { DepthSegment: { configurable: !0 } }; fh.prototype.findStabbedSegments = function () { if (1 === arguments.length) { for (var t = arguments[0], e = new nl, n = this._subgraphs.iterator(); n.hasNext();) { var i = n.next(), r = i.getEnvelope(); t.y < r.getMinY() || t.y > r.getMaxY() || this.findStabbedSegments(t, i.getDirectedEdges(), e) } return e } if (3 === arguments.length) if (uu(arguments[2], el) && arguments[0] instanceof nu && arguments[1] instanceof wc) { for (var o = arguments[0], s = arguments[1], a = arguments[2], u = s.getEdge().getCoordinates(), l = 0; l < u.length - 1; l++)if (this._seg.p0 = u[l], this._seg.p1 = u[l + 1], this._seg.p0.y > this._seg.p1.y && this._seg.reverse(), !(Math.max(this._seg.p0.x, this._seg.p1.x) < o.x || this._seg.isHorizontal() || o.y < this._seg.p0.y || o.y > this._seg.p1.y || ju.computeOrientation(this._seg.p0, this._seg.p1, o) === ju.RIGHT)) { var c = s.getDepth(rc.LEFT); this._seg.p0.equals(u[l]) || (c = s.getDepth(rc.RIGHT)); var h = new gh(this._seg, c); a.add(h) } } else if (uu(arguments[2], el) && arguments[0] instanceof nu && uu(arguments[1], el)) for (var p = arguments[0], f = arguments[1], d = arguments[2], g = f.iterator(); g.hasNext();) { var y = g.next(); y.isForward() && this.findStabbedSegments(p, y, d) } }, fh.prototype.getDepth = function (t) { var e = this.findStabbedSegments(t); return 0 === e.size() ? 0 : Mc.min(e)._leftDepth }, fh.prototype.interfaces_ = function () { return [] }, fh.prototype.getClass = function () { return fh }, dh.DepthSegment.get = function () { return gh }, Object.defineProperties(fh, dh); var gh = function () { this._upwardSeg = null, this._leftDepth = null; var t = arguments[0], e = arguments[1]; this._upwardSeg = new Xc(t), this._leftDepth = e }; gh.prototype.compareTo = function (t) { var e = t; if (this._upwardSeg.minX() >= e._upwardSeg.maxX()) return 1; if (this._upwardSeg.maxX() <= e._upwardSeg.minX()) return -1; var n = this._upwardSeg.orientationIndex(e._upwardSeg); return 0 !== n || 0 != (n = -1 * e._upwardSeg.orientationIndex(this._upwardSeg)) ? n : this._upwardSeg.compareTo(e._upwardSeg) }, gh.prototype.compareX = function (t, e) { var n = t.p0.compareTo(e.p0); return 0 !== n ? n : t.p1.compareTo(e.p1) }, gh.prototype.toString = function () { return this._upwardSeg.toString() }, gh.prototype.interfaces_ = function () { return [Qa] }, gh.prototype.getClass = function () { return gh }; var yh = function (t, e, n) { this.p0 = t || null, this.p1 = e || null, this.p2 = n || null }; yh.prototype.area = function () { return yh.area(this.p0, this.p1, this.p2) }, yh.prototype.signedArea = function () { return yh.signedArea(this.p0, this.p1, this.p2) }, yh.prototype.interpolateZ = function (t) { if (null === t) throw new Ja("Supplied point is null."); return yh.interpolateZ(t, this.p0, this.p1, this.p2) }, yh.prototype.longestSideLength = function () { return yh.longestSideLength(this.p0, this.p1, this.p2) }, yh.prototype.isAcute = function () { return yh.isAcute(this.p0, this.p1, this.p2) }, yh.prototype.circumcentre = function () { return yh.circumcentre(this.p0, this.p1, this.p2) }, yh.prototype.area3D = function () { return yh.area3D(this.p0, this.p1, this.p2) }, yh.prototype.centroid = function () { return yh.centroid(this.p0, this.p1, this.p2) }, yh.prototype.inCentre = function () { return yh.inCentre(this.p0, this.p1, this.p2) }, yh.prototype.interfaces_ = function () { return [] }, yh.prototype.getClass = function () { return yh }, yh.area = function (t, e, n) { return Math.abs(((n.x - t.x) * (e.y - t.y) - (e.x - t.x) * (n.y - t.y)) / 2) }, yh.signedArea = function (t, e, n) { return ((n.x - t.x) * (e.y - t.y) - (e.x - t.x) * (n.y - t.y)) / 2 }, yh.det = function (t, e, n, i) { return t * i - e * n }, yh.interpolateZ = function (t, e, n, i) { var r = e.x, o = e.y, s = n.x - r, a = i.x - r, u = n.y - o, l = i.y - o, c = s * l - a * u, h = t.x - r, p = t.y - o, f = (l * h - a * p) / c, d = (-u * h + s * p) / c; return e.z + f * (n.z - e.z) + d * (i.z - e.z) }, yh.longestSideLength = function (t, e, n) { var i = t.distance(e), r = e.distance(n), o = n.distance(t), s = i; return r > s && (s = r), o > s && (s = o), s }, yh.isAcute = function (t, e, n) { return !!uh.isAcute(t, e, n) && !!uh.isAcute(e, n, t) && !!uh.isAcute(n, t, e) }, yh.circumcentre = function (t, e, n) { var i = n.x, r = n.y, o = t.x - i, s = t.y - r, a = e.x - i, u = e.y - r, l = 2 * yh.det(o, s, a, u), c = yh.det(s, o * o + s * s, u, a * a + u * u), h = yh.det(o, o * o + s * s, a, a * a + u * u); return new nu(i - c / l, r + h / l) }, yh.perpendicularBisector = function (t, e) { var n = e.x - t.x, i = e.y - t.y, r = new Eu(t.x + n / 2, t.y + i / 2, 1), o = new Eu(t.x - i + n / 2, t.y + n + i / 2, 1); return new Eu(r, o) }, yh.angleBisector = function (t, e, n) { var i = e.distance(t), r = i / (i + e.distance(n)), o = n.x - t.x, s = n.y - t.y; return new nu(t.x + r * o, t.y + r * s) }, yh.area3D = function (t, e, n) { var i = e.x - t.x, r = e.y - t.y, o = e.z - t.z, s = n.x - t.x, a = n.y - t.y, u = n.z - t.z, l = r * u - o * a, c = o * s - i * u, h = i * a - r * s, p = l * l + c * c + h * h; return Math.sqrt(p) / 2 }, yh.centroid = function (t, e, n) { var i = (t.x + e.x + n.x) / 3, r = (t.y + e.y + n.y) / 3; return new nu(i, r) }, yh.inCentre = function (t, e, n) { var i = e.distance(n), r = t.distance(n), o = t.distance(e), s = i + r + o, a = (i * t.x + r * e.x + o * n.x) / s, u = (i * t.y + r * e.y + o * n.y) / s; return new nu(a, u) }; var mh = function () { this._inputGeom = null, this._distance = null, this._curveBuilder = null, this._curveList = new nl; var t = arguments[0], e = arguments[1], n = arguments[2]; this._inputGeom = t, this._distance = e, this._curveBuilder = n }; mh.prototype.addPoint = function (t) { if (this._distance <= 0) return null; var e = t.getCoordinates(), n = this._curveBuilder.getLineCurve(e, this._distance); this.addCurve(n, su.EXTERIOR, su.INTERIOR) }, mh.prototype.addPolygon = function (t) { var e = this._distance, n = rc.LEFT; this._distance < 0 && (e = -this._distance, n = rc.RIGHT); var i = t.getExteriorRing(), r = ol.removeRepeatedPoints(i.getCoordinates()); if (this._distance < 0 && this.isErodedCompletely(i, this._distance)) return null; if (this._distance <= 0 && r.length < 3) return null; this.addPolygonRing(r, e, n, su.EXTERIOR, su.INTERIOR); for (var o = 0; o < t.getNumInteriorRing(); o++) { var s = t.getInteriorRingN(o), a = ol.removeRepeatedPoints(s.getCoordinates()); this._distance > 0 && this.isErodedCompletely(s, -this._distance) || this.addPolygonRing(a, e, rc.opposite(n), su.INTERIOR, su.EXTERIOR) } }, mh.prototype.isTriangleErodedCompletely = function (t, e) { var n = new yh(t[0], t[1], t[2]), i = n.inCentre(); return ju.distancePointLine(i, n.p0, n.p1) < Math.abs(e) }, mh.prototype.addLineString = function (t) { if (this._distance <= 0 && !this._curveBuilder.getBufferParameters().isSingleSided()) return null; var e = ol.removeRepeatedPoints(t.getCoordinates()), n = this._curveBuilder.getLineCurve(e, this._distance); this.addCurve(n, su.EXTERIOR, su.INTERIOR) }, mh.prototype.addCurve = function (t, e, n) { if (null === t || t.length < 2) return null; var i = new Gc(t, new hc(0, su.BOUNDARY, e, n)); this._curveList.add(i) }, mh.prototype.getCurves = function () { return this.add(this._inputGeom), this._curveList }, mh.prototype.addPolygonRing = function (t, e, n, i, r) { if (0 === e && t.length < Ol.MINIMUM_VALID_SIZE) return null; var o = i, s = r; t.length >= Ol.MINIMUM_VALID_SIZE && ju.isCCW(t) && (o = r, s = i, n = rc.opposite(n)); var a = this._curveBuilder.getRingCurve(t, n, e); this.addCurve(a, o, s) }, mh.prototype.add = function (t) { if (t.isEmpty()) return null; t instanceof Ml ? this.addPolygon(t) : t instanceof Il ? this.addLineString(t) : t instanceof Pl ? this.addPoint(t) : (t instanceof Ll || t instanceof xl || t instanceof kl || t instanceof wl) && this.addCollection(t) }, mh.prototype.isErodedCompletely = function (t, e) { var n = t.getCoordinates(); if (n.length < 4) return e < 0; if (4 === n.length) return this.isTriangleErodedCompletely(n, e); var i = t.getEnvelopeInternal(), r = Math.min(i.getHeight(), i.getWidth()); return e < 0 && 2 * Math.abs(e) > r }, mh.prototype.addCollection = function (t) { for (var e = 0; e < t.getNumGeometries(); e++) { var n = t.getGeometryN(e); this.add(n) } }, mh.prototype.interfaces_ = function () { return [] }, mh.prototype.getClass = function () { return mh }; var vh = function () { }; vh.prototype.locate = function (t) { }, vh.prototype.interfaces_ = function () { return [] }, vh.prototype.getClass = function () { return vh }; var _h = function () { this._parent = null, this._atStart = null, this._max = null, this._index = null, this._subcollectionIterator = null; var t = arguments[0]; this._parent = t, this._atStart = !0, this._index = 0, this._max = t.getNumGeometries() }; _h.prototype.next = function () { if (this._atStart) return this._atStart = !1, _h.isAtomic(this._parent) && this._index++, this._parent; if (null !== this._subcollectionIterator) { if (this._subcollectionIterator.hasNext()) return this._subcollectionIterator.next(); this._subcollectionIterator = null } if (this._index >= this._max) throw new vr; var t = this._parent.getGeometryN(this._index++); return t instanceof wl ? (this._subcollectionIterator = new _h(t), this._subcollectionIterator.next()) : t }, _h.prototype.remove = function () { throw new Error(this.getClass().getName()) }, _h.prototype.hasNext = function () { if (this._atStart) return !0; if (null !== this._subcollectionIterator) { if (this._subcollectionIterator.hasNext()) return !0; this._subcollectionIterator = null } return !(this._index >= this._max) }, _h.prototype.interfaces_ = function () { return [tl] }, _h.prototype.getClass = function () { return _h }, _h.isAtomic = function (t) { return !(t instanceof wl) }; var bh = function () { this._geom = null; var t = arguments[0]; this._geom = t }; bh.prototype.locate = function (t) { return bh.locate(t, this._geom) }, bh.prototype.interfaces_ = function () { return [vh] }, bh.prototype.getClass = function () { return bh }, bh.isPointInRing = function (t, e) { return !!e.getEnvelopeInternal().intersects(t) && ju.isPointInRing(t, e.getCoordinates()) }, bh.containsPointInPolygon = function (t, e) { if (e.isEmpty()) return !1; var n = e.getExteriorRing(); if (!bh.isPointInRing(t, n)) return !1; for (var i = 0; i < e.getNumInteriorRing(); i++) { var r = e.getInteriorRingN(i); if (bh.isPointInRing(t, r)) return !1 } return !0 }, bh.containsPoint = function (t, e) { if (e instanceof Ml) return bh.containsPointInPolygon(t, e); if (e instanceof wl) for (var n = new _h(e); n.hasNext();) { var i = n.next(); if (i !== e && bh.containsPoint(t, i)) return !0 } return !1 }, bh.locate = function (t, e) { return e.isEmpty() ? su.EXTERIOR : bh.containsPoint(t, e) ? su.INTERIOR : su.EXTERIOR }; var wh = function () { this._edgeMap = new Sr, this._edgeList = null, this._ptInAreaLocation = [su.NONE, su.NONE] }; wh.prototype.getNextCW = function (t) { this.getEdges(); var e = this._edgeList.indexOf(t), n = e - 1; return 0 === e && (n = this._edgeList.size() - 1), this._edgeList.get(n) }, wh.prototype.propagateSideLabels = function (t) { for (var e = su.NONE, n = this.iterator(); n.hasNext();) { var i = n.next().getLabel(); i.isArea(t) && i.getLocation(t, rc.LEFT) !== su.NONE && (e = i.getLocation(t, rc.LEFT)) } if (e === su.NONE) return null; for (var r = e, o = this.iterator(); o.hasNext();) { var s = o.next(), a = s.getLabel(); if (a.getLocation(t, rc.ON) === su.NONE && a.setLocation(t, rc.ON, r), a.isArea(t)) { var u = a.getLocation(t, rc.LEFT), l = a.getLocation(t, rc.RIGHT); if (l !== su.NONE) { if (l !== r) throw new ac("side location conflict", s.getCoordinate()); u === su.NONE && Lu.shouldNeverReachHere("found single null side (at " + s.getCoordinate() + ")"), r = u } else Lu.isTrue(a.getLocation(t, rc.LEFT) === su.NONE, "found single null side"), a.setLocation(t, rc.RIGHT, r), a.setLocation(t, rc.LEFT, r) } } }, wh.prototype.getCoordinate = function () { var t = this.iterator(); return t.hasNext() ? t.next().getCoordinate() : null }, wh.prototype.print = function (t) { xu.out.println("EdgeEndStar:   " + this.getCoordinate()); for (var e = this.iterator(); e.hasNext();)e.next().print(t) }, wh.prototype.isAreaLabelsConsistent = function (t) { return this.computeEdgeEndLabels(t.getBoundaryNodeRule()), this.checkAreaLabelsConsistent(0) }, wh.prototype.checkAreaLabelsConsistent = function (t) { var e = this.getEdges(); if (e.size() <= 0) return !0; var n = e.size() - 1, i = e.get(n).getLabel().getLocation(t, rc.LEFT); Lu.isTrue(i !== su.NONE, "Found unlabelled area edge"); for (var r = i, o = this.iterator(); o.hasNext();) { var s = o.next().getLabel(); Lu.isTrue(s.isArea(t), "Found non-area edge"); var a = s.getLocation(t, rc.LEFT), u = s.getLocation(t, rc.RIGHT); if (a === u) return !1; if (u !== r) return !1; r = a } return !0 }, wh.prototype.findIndex = function (t) { this.iterator(); for (var e = 0; e < this._edgeList.size(); e++)if (this._edgeList.get(e) === t) return e; return -1 }, wh.prototype.iterator = function () { return this.getEdges().iterator() }, wh.prototype.getEdges = function () { return null === this._edgeList && (this._edgeList = new nl(this._edgeMap.values())), this._edgeList }, wh.prototype.getLocation = function (t, e, n) { return this._ptInAreaLocation[t] === su.NONE && (this._ptInAreaLocation[t] = bh.locate(e, n[t].getGeometry())), this._ptInAreaLocation[t] }, wh.prototype.toString = function () { var t = new hu; t.append("EdgeEndStar:   " + this.getCoordinate()), t.append("\n"); for (var e = this.iterator(); e.hasNext();) { var n = e.next(); t.append(n), t.append("\n") } return t.toString() }, wh.prototype.computeEdgeEndLabels = function (t) { for (var e = this.iterator(); e.hasNext();)e.next().computeLabel(t) }, wh.prototype.computeLabelling = function (t) { this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()), this.propagateSideLabels(0), this.propagateSideLabels(1); for (var e = [!1, !1], n = this.iterator(); n.hasNext();)for (var i = n.next().getLabel(), r = 0; r < 2; r++)i.isLine(r) && i.getLocation(r) === su.BOUNDARY && (e[r] = !0); for (var o = this.iterator(); o.hasNext();)for (var s = o.next(), a = s.getLabel(), u = 0; u < 2; u++)if (a.isAnyNull(u)) { var l = su.NONE; if (e[u]) l = su.EXTERIOR; else { var c = s.getCoordinate(); l = this.getLocation(u, c, t) } a.setAllLocationsIfNull(u, l) } }, wh.prototype.getDegree = function () { return this._edgeMap.size() }, wh.prototype.insertEdgeEnd = function (t, e) { this._edgeMap.put(t, e), this._edgeList = null }, wh.prototype.interfaces_ = function () { return [] }, wh.prototype.getClass = function () { return wh }; var xh = function (t) { function e() { t.call(this), this._resultAreaEdgeList = null, this._label = null, this._SCANNING_FOR_INCOMING = 1, this._LINKING_TO_OUTGOING = 2 } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.linkResultDirectedEdges = function () { this.getResultAreaEdges(); for (var t = null, e = null, n = this._SCANNING_FOR_INCOMING, i = 0; i < this._resultAreaEdgeList.size(); i++) { var r = this._resultAreaEdgeList.get(i), o = r.getSym(); if (r.getLabel().isArea()) switch (null === t && r.isInResult() && (t = r), n) { case this._SCANNING_FOR_INCOMING: if (!o.isInResult()) continue; e = o, n = this._LINKING_TO_OUTGOING; break; case this._LINKING_TO_OUTGOING: if (!r.isInResult()) continue; e.setNext(r), n = this._SCANNING_FOR_INCOMING } } if (n === this._LINKING_TO_OUTGOING) { if (null === t) throw new ac("no outgoing dirEdge found", this.getCoordinate()); Lu.isTrue(t.isInResult(), "unable to link last incoming dirEdge"), e.setNext(t) } }, e.prototype.insert = function (t) { var e = t; this.insertEdgeEnd(e, e) }, e.prototype.getRightmostEdge = function () { var t = this.getEdges(), e = t.size(); if (e < 1) return null; var n = t.get(0); if (1 === e) return n; var i = t.get(e - 1), r = n.getQuadrant(), o = i.getQuadrant(); return vc.isNorthern(r) && vc.isNorthern(o) ? n : vc.isNorthern(r) || vc.isNorthern(o) ? 0 !== n.getDy() ? n : 0 !== i.getDy() ? i : (Lu.shouldNeverReachHere("found two horizontal edges incident on node"), null) : i }, e.prototype.print = function (t) { xu.out.println("DirectedEdgeStar: " + this.getCoordinate()); for (var e = this.iterator(); e.hasNext();) { var n = e.next(); t.print("out "), n.print(t), t.println(), t.print("in "), n.getSym().print(t), t.println() } }, e.prototype.getResultAreaEdges = function () { if (null !== this._resultAreaEdgeList) return this._resultAreaEdgeList; this._resultAreaEdgeList = new nl; for (var t = this.iterator(); t.hasNext();) { var e = t.next(); (e.isInResult() || e.getSym().isInResult()) && this._resultAreaEdgeList.add(e) } return this._resultAreaEdgeList }, e.prototype.updateLabelling = function (t) { for (var e = this.iterator(); e.hasNext();) { var n = e.next().getLabel(); n.setAllLocationsIfNull(0, t.getLocation(0)), n.setAllLocationsIfNull(1, t.getLocation(1)) } }, e.prototype.linkAllDirectedEdges = function () { this.getEdges(); for (var t = null, e = null, n = this._edgeList.size() - 1; n >= 0; n--) { var i = this._edgeList.get(n), r = i.getSym(); null === e && (e = r), null !== t && r.setNext(t), t = i } e.setNext(t) }, e.prototype.computeDepths = function () { if (1 === arguments.length) { var t = arguments[0], e = this.findIndex(t), n = t.getDepth(rc.LEFT), i = t.getDepth(rc.RIGHT), r = this.computeDepths(e + 1, this._edgeList.size(), n); if (this.computeDepths(0, e, r) !== i) throw new ac("depth mismatch at " + t.getCoordinate()) } else if (3 === arguments.length) { for (var o = arguments[0], s = arguments[1], a = arguments[2], u = o; u < s; u++) { var l = this._edgeList.get(u); l.setEdgeDepths(rc.RIGHT, a), a = l.getDepth(rc.LEFT) } return a } }, e.prototype.mergeSymLabels = function () { for (var t = this.iterator(); t.hasNext();) { var e = t.next(); e.getLabel().merge(e.getSym().getLabel()) } }, e.prototype.linkMinimalDirectedEdges = function (t) { for (var e = null, n = null, i = this._SCANNING_FOR_INCOMING, r = this._resultAreaEdgeList.size() - 1; r >= 0; r--) { var o = this._resultAreaEdgeList.get(r), s = o.getSym(); switch (null === e && o.getEdgeRing() === t && (e = o), i) { case this._SCANNING_FOR_INCOMING: if (s.getEdgeRing() !== t) continue; n = s, i = this._LINKING_TO_OUTGOING; break; case this._LINKING_TO_OUTGOING: if (o.getEdgeRing() !== t) continue; n.setNextMin(o), i = this._SCANNING_FOR_INCOMING } } i === this._LINKING_TO_OUTGOING && (Lu.isTrue(null !== e, "found null for first outgoing dirEdge"), Lu.isTrue(e.getEdgeRing() === t, "unable to link last incoming dirEdge"), n.setNextMin(e)) }, e.prototype.getOutgoingDegree = function () { if (0 === arguments.length) { for (var t = 0, e = this.iterator(); e.hasNext();)e.next().isInResult() && t++; return t } if (1 === arguments.length) { for (var n = arguments[0], i = 0, r = this.iterator(); r.hasNext();)r.next().getEdgeRing() === n && i++; return i } }, e.prototype.getLabel = function () { return this._label }, e.prototype.findCoveredLineEdges = function () { for (var t = su.NONE, e = this.iterator(); e.hasNext();) { var n = e.next(), i = n.getSym(); if (!n.isLineEdge()) { if (n.isInResult()) { t = su.INTERIOR; break } if (i.isInResult()) { t = su.EXTERIOR; break } } } if (t === su.NONE) return null; for (var r = t, o = this.iterator(); o.hasNext();) { var s = o.next(), a = s.getSym(); s.isLineEdge() ? s.getEdge().setCovered(r === su.INTERIOR) : (s.isInResult() && (r = su.EXTERIOR), a.isInResult() && (r = su.INTERIOR)) } }, e.prototype.computeLabelling = function (e) { t.prototype.computeLabelling.call(this, e), this._label = new hc(su.NONE); for (var n = this.iterator(); n.hasNext();)for (var i = n.next().getEdge().getLabel(), r = 0; r < 2; r++) { var o = i.getLocation(r); o !== su.INTERIOR && o !== su.BOUNDARY || this._label.setLocation(r, su.INTERIOR) } }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e }(wh), Eh = function (t) { function e() { t.apply(this, arguments) } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.createNode = function (t) { return new yc(t, new xh) }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e }(xc), Ch = function t() { this._pts = null, this._orientation = null; var e = arguments[0]; this._pts = e, this._orientation = t.orientation(e) }; Ch.prototype.compareTo = function (t) { var e = t; return Ch.compareOriented(this._pts, this._orientation, e._pts, e._orientation) }, Ch.prototype.interfaces_ = function () { return [Qa] }, Ch.prototype.getClass = function () { return Ch }, Ch.orientation = function (t) { return 1 === ol.increasingDirection(t) }, Ch.compareOriented = function (t, e, n, i) { for (var r = e ? 1 : -1, o = i ? 1 : -1, s = e ? t.length : -1, a = i ? n.length : -1, u = e ? 0 : t.length - 1, l = i ? 0 : n.length - 1; ;) { var c = t[u].compareTo(n[l]); if (0 !== c) return c; var h = (u += r) === s, p = (l += o) === a; if (h && !p) return -1; if (!h && p) return 1; if (h && p) return 0 } }; var Dh = function () { this._edges = new nl, this._ocaMap = new Sr }; Dh.prototype.print = function (t) { t.print("MULTILINESTRING ( "); for (var e = 0; e < this._edges.size(); e++) { var n = this._edges.get(e); e > 0 && t.print(","), t.print("("); for (var i = n.getCoordinates(), r = 0; r < i.length; r++)r > 0 && t.print(","), t.print(i[r].x + " " + i[r].y); t.println(")") } t.print(")  ") }, Dh.prototype.addAll = function (t) { for (var e = t.iterator(); e.hasNext();)this.add(e.next()) }, Dh.prototype.findEdgeIndex = function (t) { for (var e = 0; e < this._edges.size(); e++)if (this._edges.get(e).equals(t)) return e; return -1 }, Dh.prototype.iterator = function () { return this._edges.iterator() }, Dh.prototype.getEdges = function () { return this._edges }, Dh.prototype.get = function (t) { return this._edges.get(t) }, Dh.prototype.findEqualEdge = function (t) { var e = new Ch(t.getCoordinates()); return this._ocaMap.get(e) }, Dh.prototype.add = function (t) { this._edges.add(t); var e = new Ch(t.getCoordinates()); this._ocaMap.put(e, t) }, Dh.prototype.interfaces_ = function () { return [] }, Dh.prototype.getClass = function () { return Dh }; var Sh = function () { }; Sh.prototype.processIntersections = function (t, e, n, i) { }, Sh.prototype.isDone = function () { }, Sh.prototype.interfaces_ = function () { return [] }, Sh.prototype.getClass = function () { return Sh }; var Th = function () { this._hasIntersection = !1, this._hasProper = !1, this._hasProperInterior = !1, this._hasInterior = !1, this._properIntersectionPoint = null, this._li = null, this._isSelfIntersection = null, this.numIntersections = 0, this.numInteriorIntersections = 0, this.numProperIntersections = 0, this.numTests = 0; var t = arguments[0]; this._li = t }; Th.prototype.isTrivialIntersection = function (t, e, n, i) { if (t === n && 1 === this._li.getIntersectionNum()) { if (Th.isAdjacentSegments(e, i)) return !0; if (t.isClosed()) { var r = t.size() - 1; if (0 === e && i === r || 0 === i && e === r) return !0 } } return !1 }, Th.prototype.getProperIntersectionPoint = function () { return this._properIntersectionPoint }, Th.prototype.hasProperInteriorIntersection = function () { return this._hasProperInterior }, Th.prototype.getLineIntersector = function () { return this._li }, Th.prototype.hasProperIntersection = function () { return this._hasProper }, Th.prototype.processIntersections = function (t, e, n, i) { if (t === n && e === i) return null; this.numTests++; var r = t.getCoordinates()[e], o = t.getCoordinates()[e + 1], s = n.getCoordinates()[i], a = n.getCoordinates()[i + 1]; this._li.computeIntersection(r, o, s, a), this._li.hasIntersection() && (this.numIntersections++, this._li.isInteriorIntersection() && (this.numInteriorIntersections++, this._hasInterior = !0), this.isTrivialIntersection(t, e, n, i) || (this._hasIntersection = !0, t.addIntersections(this._li, e, 0), n.addIntersections(this._li, i, 1), this._li.isProper() && (this.numProperIntersections++, this._hasProper = !0, this._hasProperInterior = !0))) }, Th.prototype.hasIntersection = function () { return this._hasIntersection }, Th.prototype.isDone = function () { return !1 }, Th.prototype.hasInteriorIntersection = function () { return this._hasInterior }, Th.prototype.interfaces_ = function () { return [Sh] }, Th.prototype.getClass = function () { return Th }, Th.isAdjacentSegments = function (t, e) { return 1 === Math.abs(t - e) }; var Ih = function () { this.coord = null, this.segmentIndex = null, this.dist = null; var t = arguments[0], e = arguments[1], n = arguments[2]; this.coord = new nu(t), this.segmentIndex = e, this.dist = n }; Ih.prototype.getSegmentIndex = function () { return this.segmentIndex }, Ih.prototype.getCoordinate = function () { return this.coord }, Ih.prototype.print = function (t) { t.print(this.coord), t.print(" seg # = " + this.segmentIndex), t.println(" dist = " + this.dist) }, Ih.prototype.compareTo = function (t) { var e = t; return this.compare(e.segmentIndex, e.dist) }, Ih.prototype.isEndPoint = function (t) { return 0 === this.segmentIndex && 0 === this.dist || this.segmentIndex === t }, Ih.prototype.toString = function () { return this.coord + " seg # = " + this.segmentIndex + " dist = " + this.dist }, Ih.prototype.getDistance = function () { return this.dist }, Ih.prototype.compare = function (t, e) { return this.segmentIndex < t ? -1 : this.segmentIndex > t ? 1 : this.dist < e ? -1 : this.dist > e ? 1 : 0 }, Ih.prototype.interfaces_ = function () { return [Qa] }, Ih.prototype.getClass = function () { return Ih }; var Nh = function () { this._nodeMap = new Sr, this.edge = null; var t = arguments[0]; this.edge = t }; Nh.prototype.print = function (t) { t.println("Intersections:"); for (var e = this.iterator(); e.hasNext();)e.next().print(t) }, Nh.prototype.iterator = function () { return this._nodeMap.values().iterator() }, Nh.prototype.addSplitEdges = function (t) { this.addEndpoints(); for (var e = this.iterator(), n = e.next(); e.hasNext();) { var i = e.next(), r = this.createSplitEdge(n, i); t.add(r), n = i } }, Nh.prototype.addEndpoints = function () { var t = this.edge.pts.length - 1; this.add(this.edge.pts[0], 0, 0), this.add(this.edge.pts[t], t, 0) }, Nh.prototype.createSplitEdge = function (t, e) { var n = e.segmentIndex - t.segmentIndex + 2, i = this.edge.pts[e.segmentIndex], r = e.dist > 0 || !e.coord.equals2D(i); r || n--; var o = new Array(n).fill(null), s = 0; o[s++] = new nu(t.coord); for (var a = t.segmentIndex + 1; a <= e.segmentIndex; a++)o[s++] = this.edge.pts[a]; return r && (o[s] = e.coord), new Oh(o, new hc(this.edge._label)) }, Nh.prototype.add = function (t, e, n) { var i = new Ih(t, e, n), r = this._nodeMap.get(i); return null !== r ? r : (this._nodeMap.put(i, i), i) }, Nh.prototype.isIntersection = function (t) { for (var e = this.iterator(); e.hasNext();)if (e.next().coord.equals(t)) return !0; return !1 }, Nh.prototype.interfaces_ = function () { return [] }, Nh.prototype.getClass = function () { return Nh }; var Ph = function () { }; Ph.prototype.getChainStartIndices = function (t) { var e = 0, n = new nl; n.add(new pu(e)); do { var i = this.findChainEnd(t, e); n.add(new pu(i)), e = i } while (e < t.length - 1); return Ph.toIntArray(n) }, Ph.prototype.findChainEnd = function (t, e) { for (var n = vc.quadrant(t[e], t[e + 1]), i = e + 1; i < t.length && vc.quadrant(t[i - 1], t[i]) === n;)i++; return i - 1 }, Ph.prototype.interfaces_ = function () { return [] }, Ph.prototype.getClass = function () { return Ph }, Ph.toIntArray = function (t) { for (var e = new Array(t.size()).fill(null), n = 0; n < e.length; n++)e[n] = t.get(n).intValue(); return e }; var Ah = function () { this.e = null, this.pts = null, this.startIndex = null, this.env1 = new Cu, this.env2 = new Cu; var t = arguments[0]; this.e = t, this.pts = t.getCoordinates(); var e = new Ph; this.startIndex = e.getChainStartIndices(this.pts) }; Ah.prototype.getCoordinates = function () { return this.pts }, Ah.prototype.getMaxX = function (t) { var e = this.pts[this.startIndex[t]].x, n = this.pts[this.startIndex[t + 1]].x; return e > n ? e : n }, Ah.prototype.getMinX = function (t) { var e = this.pts[this.startIndex[t]].x, n = this.pts[this.startIndex[t + 1]].x; return e < n ? e : n }, Ah.prototype.computeIntersectsForChain = function () { if (4 === arguments.length) { var t = arguments[0], e = arguments[1], n = arguments[2], i = arguments[3]; this.computeIntersectsForChain(this.startIndex[t], this.startIndex[t + 1], e, e.startIndex[n], e.startIndex[n + 1], i) } else if (6 === arguments.length) { var r = arguments[0], o = arguments[1], s = arguments[2], a = arguments[3], u = arguments[4], l = arguments[5], c = this.pts[r], h = this.pts[o], p = s.pts[a], f = s.pts[u]; if (o - r == 1 && u - a == 1) return l.addIntersections(this.e, r, s.e, a), null; if (this.env1.init(c, h), this.env2.init(p, f), !this.env1.intersects(this.env2)) return null; var d = Math.trunc((r + o) / 2), g = Math.trunc((a + u) / 2); r < d && (a < g && this.computeIntersectsForChain(r, d, s, a, g, l), g < u && this.computeIntersectsForChain(r, d, s, g, u, l)), d < o && (a < g && this.computeIntersectsForChain(d, o, s, a, g, l), g < u && this.computeIntersectsForChain(d, o, s, g, u, l)) } }, Ah.prototype.getStartIndexes = function () { return this.startIndex }, Ah.prototype.computeIntersects = function (t, e) { for (var n = 0; n < this.startIndex.length - 1; n++)for (var i = 0; i < t.startIndex.length - 1; i++)this.computeIntersectsForChain(n, t, i, e) }, Ah.prototype.interfaces_ = function () { return [] }, Ah.prototype.getClass = function () { return Ah }; var Mh = function t() { this._depth = Array(2).fill().map((function () { return Array(3) })); for (var e = 0; e < 2; e++)for (var n = 0; n < 3; n++)this._depth[e][n] = t.NULL_VALUE }, Lh = { NULL_VALUE: { configurable: !0 } }; Mh.prototype.getDepth = function (t, e) { return this._depth[t][e] }, Mh.prototype.setDepth = function (t, e, n) { this._depth[t][e] = n }, Mh.prototype.isNull = function () { if (0 === arguments.length) { for (var t = 0; t < 2; t++)for (var e = 0; e < 3; e++)if (this._depth[t][e] !== Mh.NULL_VALUE) return !1; return !0 } if (1 === arguments.length) { var n = arguments[0]; return this._depth[n][1] === Mh.NULL_VALUE } if (2 === arguments.length) { var i = arguments[0], r = arguments[1]; return this._depth[i][r] === Mh.NULL_VALUE } }, Mh.prototype.normalize = function () { for (var t = 0; t < 2; t++)if (!this.isNull(t)) { var e = this._depth[t][1]; this._depth[t][2] < e && (e = this._depth[t][2]), e < 0 && (e = 0); for (var n = 1; n < 3; n++) { var i = 0; this._depth[t][n] > e && (i = 1), this._depth[t][n] = i } } }, Mh.prototype.getDelta = function (t) { return this._depth[t][rc.RIGHT] - this._depth[t][rc.LEFT] }, Mh.prototype.getLocation = function (t, e) { return this._depth[t][e] <= 0 ? su.EXTERIOR : su.INTERIOR }, Mh.prototype.toString = function () { return "A: " + this._depth[0][1] + "," + this._depth[0][2] + " B: " + this._depth[1][1] + "," + this._depth[1][2] }, Mh.prototype.add = function () { if (1 === arguments.length) for (var t = arguments[0], e = 0; e < 2; e++)for (var n = 1; n < 3; n++) { var i = t.getLocation(e, n); i !== su.EXTERIOR && i !== su.INTERIOR || (this.isNull(e, n) ? this._depth[e][n] = Mh.depthAtLocation(i) : this._depth[e][n] += Mh.depthAtLocation(i)) } else if (3 === arguments.length) { var r = arguments[0], o = arguments[1]; arguments[2] === su.INTERIOR && this._depth[r][o]++ } }, Mh.prototype.interfaces_ = function () { return [] }, Mh.prototype.getClass = function () { return Mh }, Mh.depthAtLocation = function (t) { return t === su.EXTERIOR ? 0 : t === su.INTERIOR ? 1 : Mh.NULL_VALUE }, Lh.NULL_VALUE.get = function () { return -1 }, Object.defineProperties(Mh, Lh); var Oh = function (t) { function e() { if (t.call(this), this.pts = null, this._env = null, this.eiList = new Nh(this), this._name = null, this._mce = null, this._isIsolated = !0, this._depth = new Mh, this._depthDelta = 0, 1 === arguments.length) { var n = arguments[0]; e.call(this, n, null) } else if (2 === arguments.length) { var i = arguments[0], r = arguments[1]; this.pts = i, this._label = r } } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.getDepth = function () { return this._depth }, e.prototype.getCollapsedEdge = function () { var t = new Array(2).fill(null); return t[0] = this.pts[0], t[1] = this.pts[1], new e(t, hc.toLineLabel(this._label)) }, e.prototype.isIsolated = function () { return this._isIsolated }, e.prototype.getCoordinates = function () { return this.pts }, e.prototype.setIsolated = function (t) { this._isIsolated = t }, e.prototype.setName = function (t) { this._name = t }, e.prototype.equals = function (t) { if (!(t instanceof e)) return !1; var n = t; if (this.pts.length !== n.pts.length) return !1; for (var i = !0, r = !0, o = this.pts.length, s = 0; s < this.pts.length; s++)if (this.pts[s].equals2D(n.pts[s]) || (i = !1), this.pts[s].equals2D(n.pts[--o]) || (r = !1), !i && !r) return !1; return !0 }, e.prototype.getCoordinate = function () { if (0 === arguments.length) return this.pts.length > 0 ? this.pts[0] : null; if (1 === arguments.length) { var t = arguments[0]; return this.pts[t] } }, e.prototype.print = function (t) { t.print("edge " + this._name + ": "), t.print("LINESTRING ("); for (var e = 0; e < this.pts.length; e++)e > 0 && t.print(","), t.print(this.pts[e].x + " " + this.pts[e].y); t.print(")  " + this._label + " " + this._depthDelta) }, e.prototype.computeIM = function (t) { e.updateIM(this._label, t) }, e.prototype.isCollapsed = function () { return !!this._label.isArea() && 3 === this.pts.length && !!this.pts[0].equals(this.pts[2]) }, e.prototype.isClosed = function () { return this.pts[0].equals(this.pts[this.pts.length - 1]) }, e.prototype.getMaximumSegmentIndex = function () { return this.pts.length - 1 }, e.prototype.getDepthDelta = function () { return this._depthDelta }, e.prototype.getNumPoints = function () { return this.pts.length }, e.prototype.printReverse = function (t) { t.print("edge " + this._name + ": "); for (var e = this.pts.length - 1; e >= 0; e--)t.print(this.pts[e] + " "); t.println("") }, e.prototype.getMonotoneChainEdge = function () { return null === this._mce && (this._mce = new Ah(this)), this._mce }, e.prototype.getEnvelope = function () { if (null === this._env) { this._env = new Cu; for (var t = 0; t < this.pts.length; t++)this._env.expandToInclude(this.pts[t]) } return this._env }, e.prototype.addIntersection = function (t, e, n, i) { var r = new nu(t.getIntersection(i)), o = e, s = t.getEdgeDistance(n, i), a = o + 1; if (a < this.pts.length) { var u = this.pts[a]; r.equals2D(u) && (o = a, s = 0) } this.eiList.add(r, o, s) }, e.prototype.toString = function () { var t = new hu; t.append("edge " + this._name + ": "), t.append("LINESTRING ("); for (var e = 0; e < this.pts.length; e++)e > 0 && t.append(","), t.append(this.pts[e].x + " " + this.pts[e].y); return t.append(")  " + this._label + " " + this._depthDelta), t.toString() }, e.prototype.isPointwiseEqual = function (t) { if (this.pts.length !== t.pts.length) return !1; for (var e = 0; e < this.pts.length; e++)if (!this.pts[e].equals2D(t.pts[e])) return !1; return !0 }, e.prototype.setDepthDelta = function (t) { this._depthDelta = t }, e.prototype.getEdgeIntersectionList = function () { return this.eiList }, e.prototype.addIntersections = function (t, e, n) { for (var i = 0; i < t.getIntersectionNum(); i++)this.addIntersection(t, e, n, i) }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e.updateIM = function () { if (2 !== arguments.length) return t.prototype.updateIM.apply(this, arguments); var e = arguments[0], n = arguments[1]; n.setAtLeastIfValid(e.getLocation(0, rc.ON), e.getLocation(1, rc.ON), 1), e.isArea() && (n.setAtLeastIfValid(e.getLocation(0, rc.LEFT), e.getLocation(1, rc.LEFT), 2), n.setAtLeastIfValid(e.getLocation(0, rc.RIGHT), e.getLocation(1, rc.RIGHT), 2)) }, e }(gc), kh = function (t) { this._workingPrecisionModel = null, this._workingNoder = null, this._geomFact = null, this._graph = null, this._edgeList = new Dh, this._bufParams = t || null }; kh.prototype.setWorkingPrecisionModel = function (t) { this._workingPrecisionModel = t }, kh.prototype.insertUniqueEdge = function (t) { var e = this._edgeList.findEqualEdge(t); if (null !== e) { var n = e.getLabel(), i = t.getLabel(); e.isPointwiseEqual(t) || (i = new hc(t.getLabel())).flip(), n.merge(i); var r = kh.depthDelta(i), o = e.getDepthDelta() + r; e.setDepthDelta(o) } else this._edgeList.add(t), t.setDepthDelta(kh.depthDelta(t.getLabel())) }, kh.prototype.buildSubgraphs = function (t, e) { for (var n = new nl, i = t.iterator(); i.hasNext();) { var r = i.next(), o = r.getRightmostCoordinate(), s = new fh(n).getDepth(o); r.computeDepth(s), r.findResultEdges(), n.add(r), e.add(r.getDirectedEdges(), r.getNodes()) } }, kh.prototype.createSubgraphs = function (t) { for (var e = new nl, n = t.getNodes().iterator(); n.hasNext();) { var i = n.next(); if (!i.isVisited()) { var r = new lc; r.create(i), e.add(r) } } return Mc.sort(e, Mc.reverseOrder()), e }, kh.prototype.createEmptyResultGeometry = function () { return this._geomFact.createPolygon() }, kh.prototype.getNoder = function (t) { if (null !== this._workingNoder) return this._workingNoder; var e = new th, n = new Fu; return n.setPrecisionModel(t), e.setSegmentIntersector(new Th(n)), e }, kh.prototype.buffer = function (t, e) { var n = this._workingPrecisionModel; null === n && (n = t.getPrecisionModel()), this._geomFact = t.getFactory(); var i = new ph(n, this._bufParams), r = new mh(t, e, i).getCurves(); if (r.size() <= 0) return this.createEmptyResultGeometry(); this.computeNodedEdges(r, n), this._graph = new Ec(new Eh), this._graph.addEdges(this._edgeList.getEdges()); var o = this.createSubgraphs(this._graph), s = new Cc(this._geomFact); this.buildSubgraphs(o, s); var a = s.getPolygons(); return a.size() <= 0 ? this.createEmptyResultGeometry() : this._geomFact.buildGeometry(a) }, kh.prototype.computeNodedEdges = function (t, e) { var n = this.getNoder(e); n.computeNodes(t); for (var i = n.getNodedSubstrings().iterator(); i.hasNext();) { var r = i.next(), o = r.getCoordinates(); if (2 !== o.length || !o[0].equals2D(o[1])) { var s = r.getData(), a = new Oh(r.getCoordinates(), new hc(s)); this.insertUniqueEdge(a) } } }, kh.prototype.setNoder = function (t) { this._workingNoder = t }, kh.prototype.interfaces_ = function () { return [] }, kh.prototype.getClass = function () { return kh }, kh.depthDelta = function (t) { var e = t.getLocation(0, rc.LEFT), n = t.getLocation(0, rc.RIGHT); return e === su.INTERIOR && n === su.EXTERIOR ? 1 : e === su.EXTERIOR && n === su.INTERIOR ? -1 : 0 }, kh.convertSegStrings = function (t) { for (var e = new Jl, n = new nl; t.hasNext();) { var i = t.next(), r = e.createLineString(i.getCoordinates()); n.add(r) } return e.buildGeometry(n) }; var Fh = function () { if (this._noder = null, this._scaleFactor = null, this._offsetX = null, this._offsetY = null, this._isScaled = !1, 2 === arguments.length) { var t = arguments[0], e = arguments[1]; this._noder = t, this._scaleFactor = e, this._offsetX = 0, this._offsetY = 0, this._isScaled = !this.isIntegerPrecision() } else if (4 === arguments.length) { var n = arguments[0], i = arguments[1], r = arguments[2], o = arguments[3]; this._noder = n, this._scaleFactor = i, this._offsetX = r, this._offsetY = o, this._isScaled = !this.isIntegerPrecision() } }; Fh.prototype.rescale = function () { if (uu(arguments[0], Ku)) for (var t = arguments[0].iterator(); t.hasNext();) { var e = t.next(); this.rescale(e.getCoordinates()) } else if (arguments[0] instanceof Array) { for (var n = arguments[0], i = 0; i < n.length; i++)n[i].x = n[i].x / this._scaleFactor + this._offsetX, n[i].y = n[i].y / this._scaleFactor + this._offsetY; 2 === n.length && n[0].equals2D(n[1]) && xu.out.println(n) } }, Fh.prototype.scale = function () { if (uu(arguments[0], Ku)) { for (var t = arguments[0], e = new nl, n = t.iterator(); n.hasNext();) { var i = n.next(); e.add(new Gc(this.scale(i.getCoordinates()), i.getData())) } return e } if (arguments[0] instanceof Array) { for (var r = arguments[0], o = new Array(r.length).fill(null), s = 0; s < r.length; s++)o[s] = new nu(Math.round((r[s].x - this._offsetX) * this._scaleFactor), Math.round((r[s].y - this._offsetY) * this._scaleFactor), r[s].z); return ol.removeRepeatedPoints(o) } }, Fh.prototype.isIntegerPrecision = function () { return 1 === this._scaleFactor }, Fh.prototype.getNodedSubstrings = function () { var t = this._noder.getNodedSubstrings(); return this._isScaled && this.rescale(t), t }, Fh.prototype.computeNodes = function (t) { var e = t; this._isScaled && (e = this.scale(t)), this._noder.computeNodes(e) }, Fh.prototype.interfaces_ = function () { return [Kc] }, Fh.prototype.getClass = function () { return Fh }; var Rh = function () { this._li = new Fu, this._segStrings = null; var t = arguments[0]; this._segStrings = t }, qh = { fact: { configurable: !0 } }; Rh.prototype.checkEndPtVertexIntersections = function () { if (0 === arguments.length) for (var t = this._segStrings.iterator(); t.hasNext();) { var e = t.next().getCoordinates(); this.checkEndPtVertexIntersections(e[0], this._segStrings), this.checkEndPtVertexIntersections(e[e.length - 1], this._segStrings) } else if (2 === arguments.length) for (var n = arguments[0], i = arguments[1].iterator(); i.hasNext();)for (var r = i.next().getCoordinates(), o = 1; o < r.length - 1; o++)if (r[o].equals(n)) throw new Au("found endpt/interior pt intersection at index " + o + " :pt " + n) }, Rh.prototype.checkInteriorIntersections = function () { if (0 === arguments.length) for (var t = this._segStrings.iterator(); t.hasNext();)for (var e = t.next(), n = this._segStrings.iterator(); n.hasNext();) { var i = n.next(); this.checkInteriorIntersections(e, i) } else if (2 === arguments.length) for (var r = arguments[0], o = arguments[1], s = r.getCoordinates(), a = o.getCoordinates(), u = 0; u < s.length - 1; u++)for (var l = 0; l < a.length - 1; l++)this.checkInteriorIntersections(r, u, o, l); else if (4 === arguments.length) { var c = arguments[0], h = arguments[1], p = arguments[2], f = arguments[3]; if (c === p && h === f) return null; var d = c.getCoordinates()[h], g = c.getCoordinates()[h + 1], y = p.getCoordinates()[f], m = p.getCoordinates()[f + 1]; if (this._li.computeIntersection(d, g, y, m), this._li.hasIntersection() && (this._li.isProper() || this.hasInteriorIntersection(this._li, d, g) || this.hasInteriorIntersection(this._li, y, m))) throw new Au("found non-noded intersection at " + d + "-" + g + " and " + y + "-" + m) } }, Rh.prototype.checkValid = function () { this.checkEndPtVertexIntersections(), this.checkInteriorIntersections(), this.checkCollapses() }, Rh.prototype.checkCollapses = function () { if (0 === arguments.length) for (var t = this._segStrings.iterator(); t.hasNext();) { var e = t.next(); this.checkCollapses(e) } else if (1 === arguments.length) for (var n = arguments[0].getCoordinates(), i = 0; i < n.length - 2; i++)this.checkCollapse(n[i], n[i + 1], n[i + 2]) }, Rh.prototype.hasInteriorIntersection = function (t, e, n) { for (var i = 0; i < t.getIntersectionNum(); i++) { var r = t.getIntersection(i); if (!r.equals(e) && !r.equals(n)) return !0 } return !1 }, Rh.prototype.checkCollapse = function (t, e, n) { if (t.equals(n)) throw new Au("found non-noded collapse at " + Rh.fact.createLineString([t, e, n])) }, Rh.prototype.interfaces_ = function () { return [] }, Rh.prototype.getClass = function () { return Rh }, qh.fact.get = function () { return new Jl }, Object.defineProperties(Rh, qh); var jh = function () { this._li = null, this._pt = null, this._originalPt = null, this._ptScaled = null, this._p0Scaled = null, this._p1Scaled = null, this._scaleFactor = null, this._minx = null, this._maxx = null, this._miny = null, this._maxy = null, this._corner = new Array(4).fill(null), this._safeEnv = null; var t = arguments[0], e = arguments[1], n = arguments[2]; if (this._originalPt = t, this._pt = t, this._scaleFactor = e, this._li = n, e <= 0) throw new Ja("Scale factor must be non-zero"); 1 !== e && (this._pt = new nu(this.scale(t.x), this.scale(t.y)), this._p0Scaled = new nu, this._p1Scaled = new nu), this.initCorners(this._pt) }, Bh = { SAFE_ENV_EXPANSION_FACTOR: { configurable: !0 } }; jh.prototype.intersectsScaled = function (t, e) { var n = Math.min(t.x, e.x), i = Math.max(t.x, e.x), r = Math.min(t.y, e.y), o = Math.max(t.y, e.y), s = this._maxx < n || this._minx > i || this._maxy < r || this._miny > o; if (s) return !1; var a = this.intersectsToleranceSquare(t, e); return Lu.isTrue(!(s && a), "Found bad envelope test"), a }, jh.prototype.initCorners = function (t) { this._minx = t.x - .5, this._maxx = t.x + .5, this._miny = t.y - .5, this._maxy = t.y + .5, this._corner[0] = new nu(this._maxx, this._maxy), this._corner[1] = new nu(this._minx, this._maxy), this._corner[2] = new nu(this._minx, this._miny), this._corner[3] = new nu(this._maxx, this._miny) }, jh.prototype.intersects = function (t, e) { return 1 === this._scaleFactor ? this.intersectsScaled(t, e) : (this.copyScaled(t, this._p0Scaled), this.copyScaled(e, this._p1Scaled), this.intersectsScaled(this._p0Scaled, this._p1Scaled)) }, jh.prototype.scale = function (t) { return Math.round(t * this._scaleFactor) }, jh.prototype.getCoordinate = function () { return this._originalPt }, jh.prototype.copyScaled = function (t, e) { e.x = this.scale(t.x), e.y = this.scale(t.y) }, jh.prototype.getSafeEnvelope = function () { if (null === this._safeEnv) { var t = jh.SAFE_ENV_EXPANSION_FACTOR / this._scaleFactor; this._safeEnv = new Cu(this._originalPt.x - t, this._originalPt.x + t, this._originalPt.y - t, this._originalPt.y + t) } return this._safeEnv }, jh.prototype.intersectsPixelClosure = function (t, e) { return this._li.computeIntersection(t, e, this._corner[0], this._corner[1]), !!(this._li.hasIntersection() || (this._li.computeIntersection(t, e, this._corner[1], this._corner[2]), this._li.hasIntersection() || (this._li.computeIntersection(t, e, this._corner[2], this._corner[3]), this._li.hasIntersection() || (this._li.computeIntersection(t, e, this._corner[3], this._corner[0]), this._li.hasIntersection())))) }, jh.prototype.intersectsToleranceSquare = function (t, e) { var n = !1, i = !1; return this._li.computeIntersection(t, e, this._corner[0], this._corner[1]), !!(this._li.isProper() || (this._li.computeIntersection(t, e, this._corner[1], this._corner[2]), this._li.isProper() || (this._li.hasIntersection() && (n = !0), this._li.computeIntersection(t, e, this._corner[2], this._corner[3]), this._li.isProper() || (this._li.hasIntersection() && (i = !0), this._li.computeIntersection(t, e, this._corner[3], this._corner[0]), this._li.isProper() || n && i || t.equals(this._pt) || e.equals(this._pt))))) }, jh.prototype.addSnappedNode = function (t, e) { var n = t.getCoordinate(e), i = t.getCoordinate(e + 1); return !!this.intersects(n, i) && (t.addIntersection(this.getCoordinate(), e), !0) }, jh.prototype.interfaces_ = function () { return [] }, jh.prototype.getClass = function () { return jh }, Bh.SAFE_ENV_EXPANSION_FACTOR.get = function () { return .75 }, Object.defineProperties(jh, Bh); var $h = function () { this.tempEnv1 = new Cu, this.selectedSegment = new Xc }; $h.prototype.select = function () { if (1 === arguments.length); else if (2 === arguments.length) { var t = arguments[0], e = arguments[1]; t.getLineSegment(e, this.selectedSegment), this.select(this.selectedSegment) } }, $h.prototype.interfaces_ = function () { return [] }, $h.prototype.getClass = function () { return $h }; var zh = function () { this._index = null; var t = arguments[0]; this._index = t }, Vh = { HotPixelSnapAction: { configurable: !0 } }; zh.prototype.snap = function () { if (1 === arguments.length) { var t = arguments[0]; return this.snap(t, null, -1) } if (3 === arguments.length) { var e = arguments[0], n = arguments[1], i = arguments[2], r = e.getSafeEnvelope(), o = new Uh(e, n, i); return this._index.query(r, { interfaces_: function () { return [Ic] }, visitItem: function (t) { t.select(r, o) } }), o.isNodeAdded() } }, zh.prototype.interfaces_ = function () { return [] }, zh.prototype.getClass = function () { return zh }, Vh.HotPixelSnapAction.get = function () { return Uh }, Object.defineProperties(zh, Vh); var Uh = function (t) { function e() { t.call(this), this._hotPixel = null, this._parentEdge = null, this._hotPixelVertexIndex = null, this._isNodeAdded = !1; var e = arguments[0], n = arguments[1], i = arguments[2]; this._hotPixel = e, this._parentEdge = n, this._hotPixelVertexIndex = i } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.isNodeAdded = function () { return this._isNodeAdded }, e.prototype.select = function () { if (2 !== arguments.length) return t.prototype.select.apply(this, arguments); var e = arguments[0], n = arguments[1], i = e.getContext(); if (null !== this._parentEdge && i === this._parentEdge && n === this._hotPixelVertexIndex) return null; this._isNodeAdded = this._hotPixel.addSnappedNode(i, n) }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e }($h), Hh = function () { this._li = null, this._interiorIntersections = null; var t = arguments[0]; this._li = t, this._interiorIntersections = new nl }; Hh.prototype.processIntersections = function (t, e, n, i) { if (t === n && e === i) return null; var r = t.getCoordinates()[e], o = t.getCoordinates()[e + 1], s = n.getCoordinates()[i], a = n.getCoordinates()[i + 1]; if (this._li.computeIntersection(r, o, s, a), this._li.hasIntersection() && this._li.isInteriorIntersection()) { for (var u = 0; u < this._li.getIntersectionNum(); u++)this._interiorIntersections.add(this._li.getIntersection(u)); t.addIntersections(this._li, e, 0), n.addIntersections(this._li, i, 1) } }, Hh.prototype.isDone = function () { return !1 }, Hh.prototype.getInteriorIntersections = function () { return this._interiorIntersections }, Hh.prototype.interfaces_ = function () { return [Sh] }, Hh.prototype.getClass = function () { return Hh }; var Gh = function () { this._pm = null, this._li = null, this._scaleFactor = null, this._noder = null, this._pointSnapper = null, this._nodedSegStrings = null; var t = arguments[0]; this._pm = t, this._li = new Fu, this._li.setPrecisionModel(t), this._scaleFactor = t.getScale() }; Gh.prototype.checkCorrectness = function (t) { var e = Gc.getNodedSubstrings(t), n = new Rh(e); try { n.checkValid() } catch (t) { if (!(t instanceof bu)) throw t; t.printStackTrace() } }, Gh.prototype.getNodedSubstrings = function () { return Gc.getNodedSubstrings(this._nodedSegStrings) }, Gh.prototype.snapRound = function (t, e) { var n = this.findInteriorIntersections(t, e); this.computeIntersectionSnaps(n), this.computeVertexSnaps(t) }, Gh.prototype.findInteriorIntersections = function (t, e) { var n = new Hh(e); return this._noder.setSegmentIntersector(n), this._noder.computeNodes(t), n.getInteriorIntersections() }, Gh.prototype.computeVertexSnaps = function () { if (uu(arguments[0], Ku)) for (var t = arguments[0].iterator(); t.hasNext();) { var e = t.next(); this.computeVertexSnaps(e) } else if (arguments[0] instanceof Gc) for (var n = arguments[0], i = n.getCoordinates(), r = 0; r < i.length; r++) { var o = new jh(i[r], this._scaleFactor, this._li); this._pointSnapper.snap(o, n, r) && n.addIntersection(i[r], r) } }, Gh.prototype.computeNodes = function (t) { this._nodedSegStrings = t, this._noder = new th, this._pointSnapper = new zh(this._noder.getIndex()), this.snapRound(t, this._li) }, Gh.prototype.computeIntersectionSnaps = function (t) { for (var e = t.iterator(); e.hasNext();) { var n = e.next(), i = new jh(n, this._scaleFactor, this._li); this._pointSnapper.snap(i) } }, Gh.prototype.interfaces_ = function () { return [Kc] }, Gh.prototype.getClass = function () { return Gh }; var Xh = function () { if (this._argGeom = null, this._distance = null, this._bufParams = new nh, this._resultGeometry = null, this._saveException = null, 1 === arguments.length) { var t = arguments[0]; this._argGeom = t } else if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; this._argGeom = e, this._bufParams = n } }, Yh = { CAP_ROUND: { configurable: !0 }, CAP_BUTT: { configurable: !0 }, CAP_FLAT: { configurable: !0 }, CAP_SQUARE: { configurable: !0 }, MAX_PRECISION_DIGITS: { configurable: !0 } }; Xh.prototype.bufferFixedPrecision = function (t) { var e = new Fh(new Gh(new Gl(1)), t.getScale()), n = new kh(this._bufParams); n.setWorkingPrecisionModel(t), n.setNoder(e), this._resultGeometry = n.buffer(this._argGeom, this._distance) }, Xh.prototype.bufferReducedPrecision = function () { var t = this; if (0 === arguments.length) { for (var e = Xh.MAX_PRECISION_DIGITS; e >= 0; e--) { try { t.bufferReducedPrecision(e) } catch (e) { if (!(e instanceof ac)) throw e; t._saveException = e } if (null !== t._resultGeometry) return null } throw this._saveException } if (1 === arguments.length) { var n = arguments[0], i = Xh.precisionScaleFactor(this._argGeom, this._distance, n), r = new Gl(i); this.bufferFixedPrecision(r) } }, Xh.prototype.computeGeometry = function () { if (this.bufferOriginalPrecision(), null !== this._resultGeometry) return null; var t = this._argGeom.getFactory().getPrecisionModel(); t.getType() === Gl.FIXED ? this.bufferFixedPrecision(t) : this.bufferReducedPrecision() }, Xh.prototype.setQuadrantSegments = function (t) { this._bufParams.setQuadrantSegments(t) }, Xh.prototype.bufferOriginalPrecision = function () { try { var t = new kh(this._bufParams); this._resultGeometry = t.buffer(this._argGeom, this._distance) } catch (t) { if (!(t instanceof Au)) throw t; this._saveException = t } }, Xh.prototype.getResultGeometry = function (t) { return this._distance = t, this.computeGeometry(), this._resultGeometry }, Xh.prototype.setEndCapStyle = function (t) { this._bufParams.setEndCapStyle(t) }, Xh.prototype.interfaces_ = function () { return [] }, Xh.prototype.getClass = function () { return Xh }, Xh.bufferOp = function () { if (2 === arguments.length) { var t = arguments[0], e = arguments[1]; return new Xh(t).getResultGeometry(e) } if (3 === arguments.length) { if (Number.isInteger(arguments[2]) && arguments[0] instanceof zu && "number" == typeof arguments[1]) { var n = arguments[0], i = arguments[1], r = arguments[2], o = new Xh(n); return o.setQuadrantSegments(r), o.getResultGeometry(i) } if (arguments[2] instanceof nh && arguments[0] instanceof zu && "number" == typeof arguments[1]) { var s = arguments[0], a = arguments[1], u = arguments[2]; return new Xh(s, u).getResultGeometry(a) } } else if (4 === arguments.length) { var l = arguments[0], c = arguments[1], h = arguments[2], p = arguments[3], f = new Xh(l); return f.setQuadrantSegments(h), f.setEndCapStyle(p), f.getResultGeometry(c) } }, Xh.precisionScaleFactor = function (t, e, n) { var i = t.getEnvelopeInternal(), r = lu.max(Math.abs(i.getMaxX()), Math.abs(i.getMaxY()), Math.abs(i.getMinX()), Math.abs(i.getMinY())) + 2 * (e > 0 ? e : 0), o = n - Math.trunc(Math.log(r) / Math.log(10) + 1); return Math.pow(10, o) }, Yh.CAP_ROUND.get = function () { return nh.CAP_ROUND }, Yh.CAP_BUTT.get = function () { return nh.CAP_FLAT }, Yh.CAP_FLAT.get = function () { return nh.CAP_FLAT }, Yh.CAP_SQUARE.get = function () { return nh.CAP_SQUARE }, Yh.MAX_PRECISION_DIGITS.get = function () { return 12 }, Object.defineProperties(Xh, Yh); var Wh = function () { this._pt = [new nu, new nu], this._distance = Za.NaN, this._isNull = !0 }; Wh.prototype.getCoordinates = function () { return this._pt }, Wh.prototype.getCoordinate = function (t) { return this._pt[t] }, Wh.prototype.setMinimum = function () { if (1 === arguments.length) { var t = arguments[0]; this.setMinimum(t._pt[0], t._pt[1]) } else if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; if (this._isNull) return this.initialize(e, n), null; var i = e.distance(n); i < this._distance && this.initialize(e, n, i) } }, Wh.prototype.initialize = function () { if (0 === arguments.length) this._isNull = !0; else if (2 === arguments.length) { var t = arguments[0], e = arguments[1]; this._pt[0].setCoordinate(t), this._pt[1].setCoordinate(e), this._distance = t.distance(e), this._isNull = !1 } else if (3 === arguments.length) { var n = arguments[0], i = arguments[1], r = arguments[2]; this._pt[0].setCoordinate(n), this._pt[1].setCoordinate(i), this._distance = r, this._isNull = !1 } }, Wh.prototype.getDistance = function () { return this._distance }, Wh.prototype.setMaximum = function () { if (1 === arguments.length) { var t = arguments[0]; this.setMaximum(t._pt[0], t._pt[1]) } else if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; if (this._isNull) return this.initialize(e, n), null; var i = e.distance(n); i > this._distance && this.initialize(e, n, i) } }, Wh.prototype.interfaces_ = function () { return [] }, Wh.prototype.getClass = function () { return Wh }; var Jh = function () { }; Jh.prototype.interfaces_ = function () { return [] }, Jh.prototype.getClass = function () { return Jh }, Jh.computeDistance = function () { if (arguments[2] instanceof Wh && arguments[0] instanceof Il && arguments[1] instanceof nu) for (var t = arguments[0], e = arguments[1], n = arguments[2], i = t.getCoordinates(), r = new Xc, o = 0; o < i.length - 1; o++) { r.setCoordinates(i[o], i[o + 1]); var s = r.closestPoint(e); n.setMinimum(s, e) } else if (arguments[2] instanceof Wh && arguments[0] instanceof Ml && arguments[1] instanceof nu) { var a = arguments[0], u = arguments[1], l = arguments[2]; Jh.computeDistance(a.getExteriorRing(), u, l); for (var c = 0; c < a.getNumInteriorRing(); c++)Jh.computeDistance(a.getInteriorRingN(c), u, l) } else if (arguments[2] instanceof Wh && arguments[0] instanceof zu && arguments[1] instanceof nu) { var h = arguments[0], p = arguments[1], f = arguments[2]; if (h instanceof Il) Jh.computeDistance(h, p, f); else if (h instanceof Ml) Jh.computeDistance(h, p, f); else if (h instanceof wl) for (var d = h, g = 0; g < d.getNumGeometries(); g++) { var y = d.getGeometryN(g); Jh.computeDistance(y, p, f) } else f.setMinimum(h.getCoordinate(), p) } else if (arguments[2] instanceof Wh && arguments[0] instanceof Xc && arguments[1] instanceof nu) { var m = arguments[0], v = arguments[1], _ = arguments[2], b = m.closestPoint(v); _.setMinimum(b, v) } }; var Zh = function (t) { this._maxPtDist = new Wh, this._inputGeom = t || null }, Kh = { MaxPointDistanceFilter: { configurable: !0 }, MaxMidpointDistanceFilter: { configurable: !0 } }; Zh.prototype.computeMaxMidpointDistance = function (t) { var e = new tp(this._inputGeom); t.apply(e), this._maxPtDist.setMaximum(e.getMaxPointDistance()) }, Zh.prototype.computeMaxVertexDistance = function (t) { var e = new Qh(this._inputGeom); t.apply(e), this._maxPtDist.setMaximum(e.getMaxPointDistance()) }, Zh.prototype.findDistance = function (t) { return this.computeMaxVertexDistance(t), this.computeMaxMidpointDistance(t), this._maxPtDist.getDistance() }, Zh.prototype.getDistancePoints = function () { return this._maxPtDist }, Zh.prototype.interfaces_ = function () { return [] }, Zh.prototype.getClass = function () { return Zh }, Kh.MaxPointDistanceFilter.get = function () { return Qh }, Kh.MaxMidpointDistanceFilter.get = function () { return tp }, Object.defineProperties(Zh, Kh); var Qh = function (t) { this._maxPtDist = new Wh, this._minPtDist = new Wh, this._geom = t || null }; Qh.prototype.filter = function (t) { this._minPtDist.initialize(), Jh.computeDistance(this._geom, t, this._minPtDist), this._maxPtDist.setMaximum(this._minPtDist) }, Qh.prototype.getMaxPointDistance = function () { return this._maxPtDist }, Qh.prototype.interfaces_ = function () { return [Hu] }, Qh.prototype.getClass = function () { return Qh }; var tp = function (t) { this._maxPtDist = new Wh, this._minPtDist = new Wh, this._geom = t || null }; tp.prototype.filter = function (t, e) { if (0 === e) return null; var n = t.getCoordinate(e - 1), i = t.getCoordinate(e), r = new nu((n.x + i.x) / 2, (n.y + i.y) / 2); this._minPtDist.initialize(), Jh.computeDistance(this._geom, r, this._minPtDist), this._maxPtDist.setMaximum(this._minPtDist) }, tp.prototype.isDone = function () { return !1 }, tp.prototype.isGeometryChanged = function () { return !1 }, tp.prototype.getMaxPointDistance = function () { return this._maxPtDist }, tp.prototype.interfaces_ = function () { return [bl] }, tp.prototype.getClass = function () { return tp }; var ep = function (t) { this._comps = t || null }; ep.prototype.filter = function (t) { t instanceof Ml && this._comps.add(t) }, ep.prototype.interfaces_ = function () { return [_l] }, ep.prototype.getClass = function () { return ep }, ep.getPolygons = function () { if (1 === arguments.length) { var t = arguments[0]; return ep.getPolygons(t, new nl) } if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; return e instanceof Ml ? n.add(e) : e instanceof wl && e.apply(new ep(n)), n } }; var np = function () { if (this._lines = null, this._isForcedToLineString = !1, 1 === arguments.length) { var t = arguments[0]; this._lines = t } else if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; this._lines = e, this._isForcedToLineString = n } }; np.prototype.filter = function (t) { if (this._isForcedToLineString && t instanceof Ol) { var e = t.getFactory().createLineString(t.getCoordinateSequence()); return this._lines.add(e), null } t instanceof Il && this._lines.add(t) }, np.prototype.setForceToLineString = function (t) { this._isForcedToLineString = t }, np.prototype.interfaces_ = function () { return [$u] }, np.prototype.getClass = function () { return np }, np.getGeometry = function () { if (1 === arguments.length) { var t = arguments[0]; return t.getFactory().buildGeometry(np.getLines(t)) } if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; return e.getFactory().buildGeometry(np.getLines(e, n)) } }, np.getLines = function () { if (1 === arguments.length) { var t = arguments[0]; return np.getLines(t, !1) } if (2 === arguments.length) { if (uu(arguments[0], Ku) && uu(arguments[1], Ku)) { for (var e = arguments[0], n = arguments[1], i = e.iterator(); i.hasNext();) { var r = i.next(); np.getLines(r, n) } return n } if (arguments[0] instanceof zu && "boolean" == typeof arguments[1]) { var o = arguments[0], s = arguments[1], a = new nl; return o.apply(new np(a, s)), a } if (arguments[0] instanceof zu && uu(arguments[1], Ku)) { var u = arguments[0], l = arguments[1]; return u instanceof Il ? l.add(u) : u.apply(new np(l)), l } } else if (3 === arguments.length) { if ("boolean" == typeof arguments[2] && uu(arguments[0], Ku) && uu(arguments[1], Ku)) { for (var c = arguments[0], h = arguments[1], p = arguments[2], f = c.iterator(); f.hasNext();) { var d = f.next(); np.getLines(d, h, p) } return h } if ("boolean" == typeof arguments[2] && arguments[0] instanceof zu && uu(arguments[1], Ku)) { var g = arguments[0], y = arguments[1], m = arguments[2]; return g.apply(new np(y, m)), y } } }; var ip = function () { if (this._boundaryRule = Gu.OGC_SFS_BOUNDARY_RULE, this._isIn = null, this._numBoundaries = null, 0 === arguments.length); else if (1 === arguments.length) { var t = arguments[0]; if (null === t) throw new Ja("Rule must be non-null"); this._boundaryRule = t } }; ip.prototype.locateInternal = function () { if (arguments[0] instanceof nu && arguments[1] instanceof Ml) { var t = arguments[0], e = arguments[1]; if (e.isEmpty()) return su.EXTERIOR; var n = e.getExteriorRing(), i = this.locateInPolygonRing(t, n); if (i === su.EXTERIOR) return su.EXTERIOR; if (i === su.BOUNDARY) return su.BOUNDARY; for (var r = 0; r < e.getNumInteriorRing(); r++) { var o = e.getInteriorRingN(r), s = this.locateInPolygonRing(t, o); if (s === su.INTERIOR) return su.EXTERIOR; if (s === su.BOUNDARY) return su.BOUNDARY } return su.INTERIOR } if (arguments[0] instanceof nu && arguments[1] instanceof Il) { var a = arguments[0], u = arguments[1]; if (!u.getEnvelopeInternal().intersects(a)) return su.EXTERIOR; var l = u.getCoordinates(); return u.isClosed() || !a.equals(l[0]) && !a.equals(l[l.length - 1]) ? ju.isOnLine(a, l) ? su.INTERIOR : su.EXTERIOR : su.BOUNDARY } if (arguments[0] instanceof nu && arguments[1] instanceof Pl) { var c = arguments[0]; return arguments[1].getCoordinate().equals2D(c) ? su.INTERIOR : su.EXTERIOR } }, ip.prototype.locateInPolygonRing = function (t, e) { return e.getEnvelopeInternal().intersects(t) ? ju.locatePointInRing(t, e.getCoordinates()) : su.EXTERIOR }, ip.prototype.intersects = function (t, e) { return this.locate(t, e) !== su.EXTERIOR }, ip.prototype.updateLocationInfo = function (t) { t === su.INTERIOR && (this._isIn = !0), t === su.BOUNDARY && this._numBoundaries++ }, ip.prototype.computeLocation = function (t, e) { if (e instanceof Pl && this.updateLocationInfo(this.locateInternal(t, e)), e instanceof Il) this.updateLocationInfo(this.locateInternal(t, e)); else if (e instanceof Ml) this.updateLocationInfo(this.locateInternal(t, e)); else if (e instanceof xl) for (var n = e, i = 0; i < n.getNumGeometries(); i++) { var r = n.getGeometryN(i); this.updateLocationInfo(this.locateInternal(t, r)) } else if (e instanceof kl) for (var o = e, s = 0; s < o.getNumGeometries(); s++) { var a = o.getGeometryN(s); this.updateLocationInfo(this.locateInternal(t, a)) } else if (e instanceof wl) for (var u = new _h(e); u.hasNext();) { var l = u.next(); l !== e && this.computeLocation(t, l) } }, ip.prototype.locate = function (t, e) { return e.isEmpty() ? su.EXTERIOR : e instanceof Il || e instanceof Ml ? this.locateInternal(t, e) : (this._isIn = !1, this._numBoundaries = 0, this.computeLocation(t, e), this._boundaryRule.isInBoundary(this._numBoundaries) ? su.BOUNDARY : this._numBoundaries > 0 || this._isIn ? su.INTERIOR : su.EXTERIOR) }, ip.prototype.interfaces_ = function () { return [] }, ip.prototype.getClass = function () { return ip }; var rp = function t() { if (this._component = null, this._segIndex = null, this._pt = null, 2 === arguments.length) { var e = arguments[0], n = arguments[1]; t.call(this, e, t.INSIDE_AREA, n) } else if (3 === arguments.length) { var i = arguments[0], r = arguments[1], o = arguments[2]; this._component = i, this._segIndex = r, this._pt = o } }, op = { INSIDE_AREA: { configurable: !0 } }; rp.prototype.isInsideArea = function () { return this._segIndex === rp.INSIDE_AREA }, rp.prototype.getCoordinate = function () { return this._pt }, rp.prototype.getGeometryComponent = function () { return this._component }, rp.prototype.getSegmentIndex = function () { return this._segIndex }, rp.prototype.interfaces_ = function () { return [] }, rp.prototype.getClass = function () { return rp }, op.INSIDE_AREA.get = function () { return -1 }, Object.defineProperties(rp, op); var sp = function (t) { this._pts = t || null }; sp.prototype.filter = function (t) { t instanceof Pl && this._pts.add(t) }, sp.prototype.interfaces_ = function () { return [_l] }, sp.prototype.getClass = function () { return sp }, sp.getPoints = function () { if (1 === arguments.length) { var t = arguments[0]; return t instanceof Pl ? Mc.singletonList(t) : sp.getPoints(t, new nl) } if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; return e instanceof Pl ? n.add(e) : e instanceof wl && e.apply(new sp(n)), n } }; var ap = function () { this._locations = null; var t = arguments[0]; this._locations = t }; ap.prototype.filter = function (t) { (t instanceof Pl || t instanceof Il || t instanceof Ml) && this._locations.add(new rp(t, 0, t.getCoordinate())) }, ap.prototype.interfaces_ = function () { return [_l] }, ap.prototype.getClass = function () { return ap }, ap.getLocations = function (t) { var e = new nl; return t.apply(new ap(e)), e }; var up = function () { if (this._geom = null, this._terminateDistance = 0, this._ptLocator = new ip, this._minDistanceLocation = null, this._minDistance = Za.MAX_VALUE, 2 === arguments.length) { var t = arguments[0], e = arguments[1]; this._geom = [t, e], this._terminateDistance = 0 } else if (3 === arguments.length) { var n = arguments[0], i = arguments[1], r = arguments[2]; this._geom = new Array(2).fill(null), this._geom[0] = n, this._geom[1] = i, this._terminateDistance = r } }; up.prototype.computeContainmentDistance = function () { if (0 === arguments.length) { var t = new Array(2).fill(null); if (this.computeContainmentDistance(0, t), this._minDistance <= this._terminateDistance) return null; this.computeContainmentDistance(1, t) } else if (2 === arguments.length) { var e = arguments[0], n = arguments[1], i = 1 - e, r = ep.getPolygons(this._geom[e]); if (r.size() > 0) { var o = ap.getLocations(this._geom[i]); if (this.computeContainmentDistance(o, r, n), this._minDistance <= this._terminateDistance) return this._minDistanceLocation[i] = n[0], this._minDistanceLocation[e] = n[1], null } } else if (3 === arguments.length) if (arguments[2] instanceof Array && uu(arguments[0], el) && uu(arguments[1], el)) { for (var s = arguments[0], a = arguments[1], u = arguments[2], l = 0; l < s.size(); l++)for (var c = s.get(l), h = 0; h < a.size(); h++)if (this.computeContainmentDistance(c, a.get(h), u), this._minDistance <= this._terminateDistance) return null } else if (arguments[2] instanceof Array && arguments[0] instanceof rp && arguments[1] instanceof Ml) { var p = arguments[0], f = arguments[1], d = arguments[2], g = p.getCoordinate(); if (su.EXTERIOR !== this._ptLocator.locate(g, f)) return this._minDistance = 0, d[0] = p, d[1] = new rp(f, g), null } }, up.prototype.computeMinDistanceLinesPoints = function (t, e, n) { for (var i = 0; i < t.size(); i++)for (var r = t.get(i), o = 0; o < e.size(); o++) { var s = e.get(o); if (this.computeMinDistance(r, s, n), this._minDistance <= this._terminateDistance) return null } }, up.prototype.computeFacetDistance = function () { var t = new Array(2).fill(null), e = np.getLines(this._geom[0]), n = np.getLines(this._geom[1]), i = sp.getPoints(this._geom[0]), r = sp.getPoints(this._geom[1]); return this.computeMinDistanceLines(e, n, t), this.updateMinDistance(t, !1), this._minDistance <= this._terminateDistance ? null : (t[0] = null, t[1] = null, this.computeMinDistanceLinesPoints(e, r, t), this.updateMinDistance(t, !1), this._minDistance <= this._terminateDistance ? null : (t[0] = null, t[1] = null, this.computeMinDistanceLinesPoints(n, i, t), this.updateMinDistance(t, !0), this._minDistance <= this._terminateDistance ? null : (t[0] = null, t[1] = null, this.computeMinDistancePoints(i, r, t), void this.updateMinDistance(t, !1)))) }, up.prototype.nearestLocations = function () { return this.computeMinDistance(), this._minDistanceLocation }, up.prototype.updateMinDistance = function (t, e) { if (null === t[0]) return null; e ? (this._minDistanceLocation[0] = t[1], this._minDistanceLocation[1] = t[0]) : (this._minDistanceLocation[0] = t[0], this._minDistanceLocation[1] = t[1]) }, up.prototype.nearestPoints = function () { return this.computeMinDistance(), [this._minDistanceLocation[0].getCoordinate(), this._minDistanceLocation[1].getCoordinate()] }, up.prototype.computeMinDistance = function () { if (0 === arguments.length) { if (null !== this._minDistanceLocation) return null; if (this._minDistanceLocation = new Array(2).fill(null), this.computeContainmentDistance(), this._minDistance <= this._terminateDistance) return null; this.computeFacetDistance() } else if (3 === arguments.length) if (arguments[2] instanceof Array && arguments[0] instanceof Il && arguments[1] instanceof Pl) { var t = arguments[0], e = arguments[1], n = arguments[2]; if (t.getEnvelopeInternal().distance(e.getEnvelopeInternal()) > this._minDistance) return null; for (var i = t.getCoordinates(), r = e.getCoordinate(), o = 0; o < i.length - 1; o++) { var s = ju.distancePointLine(r, i[o], i[o + 1]); if (s < this._minDistance) { this._minDistance = s; var a = new Xc(i[o], i[o + 1]).closestPoint(r); n[0] = new rp(t, o, a), n[1] = new rp(e, 0, r) } if (this._minDistance <= this._terminateDistance) return null } } else if (arguments[2] instanceof Array && arguments[0] instanceof Il && arguments[1] instanceof Il) { var u = arguments[0], l = arguments[1], c = arguments[2]; if (u.getEnvelopeInternal().distance(l.getEnvelopeInternal()) > this._minDistance) return null; for (var h = u.getCoordinates(), p = l.getCoordinates(), f = 0; f < h.length - 1; f++)for (var d = 0; d < p.length - 1; d++) { var g = ju.distanceLineLine(h[f], h[f + 1], p[d], p[d + 1]); if (g < this._minDistance) { this._minDistance = g; var y = new Xc(h[f], h[f + 1]), m = new Xc(p[d], p[d + 1]), v = y.closestPoints(m); c[0] = new rp(u, f, v[0]), c[1] = new rp(l, d, v[1]) } if (this._minDistance <= this._terminateDistance) return null } } }, up.prototype.computeMinDistancePoints = function (t, e, n) { for (var i = 0; i < t.size(); i++)for (var r = t.get(i), o = 0; o < e.size(); o++) { var s = e.get(o), a = r.getCoordinate().distance(s.getCoordinate()); if (a < this._minDistance && (this._minDistance = a, n[0] = new rp(r, 0, r.getCoordinate()), n[1] = new rp(s, 0, s.getCoordinate())), this._minDistance <= this._terminateDistance) return null } }, up.prototype.distance = function () { if (null === this._geom[0] || null === this._geom[1]) throw new Ja("null geometries are not supported"); return this._geom[0].isEmpty() || this._geom[1].isEmpty() ? 0 : (this.computeMinDistance(), this._minDistance) }, up.prototype.computeMinDistanceLines = function (t, e, n) { for (var i = 0; i < t.size(); i++)for (var r = t.get(i), o = 0; o < e.size(); o++) { var s = e.get(o); if (this.computeMinDistance(r, s, n), this._minDistance <= this._terminateDistance) return null } }, up.prototype.interfaces_ = function () { return [] }, up.prototype.getClass = function () { return up }, up.distance = function (t, e) { return new up(t, e).distance() }, up.isWithinDistance = function (t, e, n) { return new up(t, e, n).distance() <= n }, up.nearestPoints = function (t, e) { return new up(t, e).nearestPoints() }; var lp = function () { this._pt = [new nu, new nu], this._distance = Za.NaN, this._isNull = !0 }; lp.prototype.getCoordinates = function () { return this._pt }, lp.prototype.getCoordinate = function (t) { return this._pt[t] }, lp.prototype.setMinimum = function () { if (1 === arguments.length) { var t = arguments[0]; this.setMinimum(t._pt[0], t._pt[1]) } else if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; if (this._isNull) return this.initialize(e, n), null; var i = e.distance(n); i < this._distance && this.initialize(e, n, i) } }, lp.prototype.initialize = function () { if (0 === arguments.length) this._isNull = !0; else if (2 === arguments.length) { var t = arguments[0], e = arguments[1]; this._pt[0].setCoordinate(t), this._pt[1].setCoordinate(e), this._distance = t.distance(e), this._isNull = !1 } else if (3 === arguments.length) { var n = arguments[0], i = arguments[1], r = arguments[2]; this._pt[0].setCoordinate(n), this._pt[1].setCoordinate(i), this._distance = r, this._isNull = !1 } }, lp.prototype.toString = function () { return Pu.toLineString(this._pt[0], this._pt[1]) }, lp.prototype.getDistance = function () { return this._distance }, lp.prototype.setMaximum = function () { if (1 === arguments.length) { var t = arguments[0]; this.setMaximum(t._pt[0], t._pt[1]) } else if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; if (this._isNull) return this.initialize(e, n), null; var i = e.distance(n); i > this._distance && this.initialize(e, n, i) } }, lp.prototype.interfaces_ = function () { return [] }, lp.prototype.getClass = function () { return lp }; var cp = function () { }; cp.prototype.interfaces_ = function () { return [] }, cp.prototype.getClass = function () { return cp }, cp.computeDistance = function () { if (arguments[2] instanceof lp && arguments[0] instanceof Il && arguments[1] instanceof nu) for (var t = arguments[0], e = arguments[1], n = arguments[2], i = new Xc, r = t.getCoordinates(), o = 0; o < r.length - 1; o++) { i.setCoordinates(r[o], r[o + 1]); var s = i.closestPoint(e); n.setMinimum(s, e) } else if (arguments[2] instanceof lp && arguments[0] instanceof Ml && arguments[1] instanceof nu) { var a = arguments[0], u = arguments[1], l = arguments[2]; cp.computeDistance(a.getExteriorRing(), u, l); for (var c = 0; c < a.getNumInteriorRing(); c++)cp.computeDistance(a.getInteriorRingN(c), u, l) } else if (arguments[2] instanceof lp && arguments[0] instanceof zu && arguments[1] instanceof nu) { var h = arguments[0], p = arguments[1], f = arguments[2]; if (h instanceof Il) cp.computeDistance(h, p, f); else if (h instanceof Ml) cp.computeDistance(h, p, f); else if (h instanceof wl) for (var d = h, g = 0; g < d.getNumGeometries(); g++) { var y = d.getGeometryN(g); cp.computeDistance(y, p, f) } else f.setMinimum(h.getCoordinate(), p) } else if (arguments[2] instanceof lp && arguments[0] instanceof Xc && arguments[1] instanceof nu) { var m = arguments[0], v = arguments[1], _ = arguments[2], b = m.closestPoint(v); _.setMinimum(b, v) } }; var hp = function () { this._g0 = null, this._g1 = null, this._ptDist = new lp, this._densifyFrac = 0; var t = arguments[0], e = arguments[1]; this._g0 = t, this._g1 = e }, pp = { MaxPointDistanceFilter: { configurable: !0 }, MaxDensifiedByFractionDistanceFilter: { configurable: !0 } }; hp.prototype.getCoordinates = function () { return this._ptDist.getCoordinates() }, hp.prototype.setDensifyFraction = function (t) { if (t > 1 || t <= 0) throw new Ja("Fraction is not in range (0.0 - 1.0]"); this._densifyFrac = t }, hp.prototype.compute = function (t, e) { this.computeOrientedDistance(t, e, this._ptDist), this.computeOrientedDistance(e, t, this._ptDist) }, hp.prototype.distance = function () { return this.compute(this._g0, this._g1), this._ptDist.getDistance() }, hp.prototype.computeOrientedDistance = function (t, e, n) { var i = new fp(e); if (t.apply(i), n.setMaximum(i.getMaxPointDistance()), this._densifyFrac > 0) { var r = new dp(e, this._densifyFrac); t.apply(r), n.setMaximum(r.getMaxPointDistance()) } }, hp.prototype.orientedDistance = function () { return this.computeOrientedDistance(this._g0, this._g1, this._ptDist), this._ptDist.getDistance() }, hp.prototype.interfaces_ = function () { return [] }, hp.prototype.getClass = function () { return hp }, hp.distance = function () { if (2 === arguments.length) { var t = arguments[0], e = arguments[1]; return new hp(t, e).distance() } if (3 === arguments.length) { var n = arguments[0], i = arguments[1], r = arguments[2], o = new hp(n, i); return o.setDensifyFraction(r), o.distance() } }, pp.MaxPointDistanceFilter.get = function () { return fp }, pp.MaxDensifiedByFractionDistanceFilter.get = function () { return dp }, Object.defineProperties(hp, pp); var fp = function () { this._maxPtDist = new lp, this._minPtDist = new lp, this._euclideanDist = new cp, this._geom = null; var t = arguments[0]; this._geom = t }; fp.prototype.filter = function (t) { this._minPtDist.initialize(), cp.computeDistance(this._geom, t, this._minPtDist), this._maxPtDist.setMaximum(this._minPtDist) }, fp.prototype.getMaxPointDistance = function () { return this._maxPtDist }, fp.prototype.interfaces_ = function () { return [Hu] }, fp.prototype.getClass = function () { return fp }; var dp = function () { this._maxPtDist = new lp, this._minPtDist = new lp, this._geom = null, this._numSubSegs = 0; var t = arguments[0], e = arguments[1]; this._geom = t, this._numSubSegs = Math.trunc(Math.round(1 / e)) }; dp.prototype.filter = function (t, e) { if (0 === e) return null; for (var n = t.getCoordinate(e - 1), i = t.getCoordinate(e), r = (i.x - n.x) / this._numSubSegs, o = (i.y - n.y) / this._numSubSegs, s = 0; s < this._numSubSegs; s++) { var a = n.x + s * r, u = n.y + s * o, l = new nu(a, u); this._minPtDist.initialize(), cp.computeDistance(this._geom, l, this._minPtDist), this._maxPtDist.setMaximum(this._minPtDist) } }, dp.prototype.isDone = function () { return !1 }, dp.prototype.isGeometryChanged = function () { return !1 }, dp.prototype.getMaxPointDistance = function () { return this._maxPtDist }, dp.prototype.interfaces_ = function () { return [bl] }, dp.prototype.getClass = function () { return dp }; var gp = function (t, e, n) { this._minValidDistance = null, this._maxValidDistance = null, this._minDistanceFound = null, this._maxDistanceFound = null, this._isValid = !0, this._errMsg = null, this._errorLocation = null, this._errorIndicator = null, this._input = t || null, this._bufDistance = e || null, this._result = n || null }, yp = { VERBOSE: { configurable: !0 }, MAX_DISTANCE_DIFF_FRAC: { configurable: !0 } }; gp.prototype.checkMaximumDistance = function (t, e, n) { var i = new hp(e, t); if (i.setDensifyFraction(.25), this._maxDistanceFound = i.orientedDistance(), this._maxDistanceFound > n) { this._isValid = !1; var r = i.getCoordinates(); this._errorLocation = r[1], this._errorIndicator = t.getFactory().createLineString(r), this._errMsg = "Distance between buffer curve and input is too large (" + this._maxDistanceFound + " at " + Pu.toLineString(r[0], r[1]) + ")" } }, gp.prototype.isValid = function () { var t = Math.abs(this._bufDistance), e = gp.MAX_DISTANCE_DIFF_FRAC * t; return this._minValidDistance = t - e, this._maxValidDistance = t + e, !(!this._input.isEmpty() && !this._result.isEmpty()) || (this._bufDistance > 0 ? this.checkPositiveValid() : this.checkNegativeValid(), gp.VERBOSE && xu.out.println("Min Dist= " + this._minDistanceFound + "  err= " + (1 - this._minDistanceFound / this._bufDistance) + "  Max Dist= " + this._maxDistanceFound + "  err= " + (this._maxDistanceFound / this._bufDistance - 1)), this._isValid) }, gp.prototype.checkNegativeValid = function () { if (!(this._input instanceof Ml || this._input instanceof kl || this._input instanceof wl)) return null; var t = this.getPolygonLines(this._input); if (this.checkMinimumDistance(t, this._result, this._minValidDistance), !this._isValid) return null; this.checkMaximumDistance(t, this._result, this._maxValidDistance) }, gp.prototype.getErrorIndicator = function () { return this._errorIndicator }, gp.prototype.checkMinimumDistance = function (t, e, n) { var i = new up(t, e, n); if (this._minDistanceFound = i.distance(), this._minDistanceFound < n) { this._isValid = !1; var r = i.nearestPoints(); this._errorLocation = i.nearestPoints()[1], this._errorIndicator = t.getFactory().createLineString(r), this._errMsg = "Distance between buffer curve and input is too small (" + this._minDistanceFound + " at " + Pu.toLineString(r[0], r[1]) + " )" } }, gp.prototype.checkPositiveValid = function () { var t = this._result.getBoundary(); if (this.checkMinimumDistance(this._input, t, this._minValidDistance), !this._isValid) return null; this.checkMaximumDistance(this._input, t, this._maxValidDistance) }, gp.prototype.getErrorLocation = function () { return this._errorLocation }, gp.prototype.getPolygonLines = function (t) { for (var e = new nl, n = new np(e), i = ep.getPolygons(t).iterator(); i.hasNext();)i.next().apply(n); return t.getFactory().buildGeometry(e) }, gp.prototype.getErrorMessage = function () { return this._errMsg }, gp.prototype.interfaces_ = function () { return [] }, gp.prototype.getClass = function () { return gp }, yp.VERBOSE.get = function () { return !1 }, yp.MAX_DISTANCE_DIFF_FRAC.get = function () { return .012 }, Object.defineProperties(gp, yp); var mp = function (t, e, n) { this._isValid = !0, this._errorMsg = null, this._errorLocation = null, this._errorIndicator = null, this._input = t || null, this._distance = e || null, this._result = n || null }, vp = { VERBOSE: { configurable: !0 }, MAX_ENV_DIFF_FRAC: { configurable: !0 } }; mp.prototype.isValid = function () { return this.checkPolygonal(), this._isValid ? (this.checkExpectedEmpty(), this._isValid ? (this.checkEnvelope(), this._isValid ? (this.checkArea(), this._isValid ? (this.checkDistance(), this._isValid) : this._isValid) : this._isValid) : this._isValid) : this._isValid }, mp.prototype.checkEnvelope = function () { if (this._distance < 0) return null; var t = this._distance * mp.MAX_ENV_DIFF_FRAC; 0 === t && (t = .001); var e = new Cu(this._input.getEnvelopeInternal()); e.expandBy(this._distance); var n = new Cu(this._result.getEnvelopeInternal()); n.expandBy(t), n.contains(e) || (this._isValid = !1, this._errorMsg = "Buffer envelope is incorrect", this._errorIndicator = this._input.getFactory().toGeometry(n)), this.report("Envelope") }, mp.prototype.checkDistance = function () { var t = new gp(this._input, this._distance, this._result); t.isValid() || (this._isValid = !1, this._errorMsg = t.getErrorMessage(), this._errorLocation = t.getErrorLocation(), this._errorIndicator = t.getErrorIndicator()), this.report("Distance") }, mp.prototype.checkArea = function () { var t = this._input.getArea(), e = this._result.getArea(); this._distance > 0 && t > e && (this._isValid = !1, this._errorMsg = "Area of positive buffer is smaller than input", this._errorIndicator = this._result), this._distance < 0 && t < e && (this._isValid = !1, this._errorMsg = "Area of negative buffer is larger than input", this._errorIndicator = this._result), this.report("Area") }, mp.prototype.checkPolygonal = function () { this._result instanceof Ml || this._result instanceof kl || (this._isValid = !1), this._errorMsg = "Result is not polygonal", this._errorIndicator = this._result, this.report("Polygonal") }, mp.prototype.getErrorIndicator = function () { return this._errorIndicator }, mp.prototype.getErrorLocation = function () { return this._errorLocation }, mp.prototype.checkExpectedEmpty = function () { return this._input.getDimension() >= 2 || this._distance > 0 ? null : (this._result.isEmpty() || (this._isValid = !1, this._errorMsg = "Result is non-empty", this._errorIndicator = this._result), void this.report("ExpectedEmpty")) }, mp.prototype.report = function (t) { if (!mp.VERBOSE) return null; xu.out.println("Check " + t + ": " + (this._isValid ? "passed" : "FAILED")) }, mp.prototype.getErrorMessage = function () { return this._errorMsg }, mp.prototype.interfaces_ = function () { return [] }, mp.prototype.getClass = function () { return mp }, mp.isValidMsg = function (t, e, n) { var i = new mp(t, e, n); return i.isValid() ? null : i.getErrorMessage() }, mp.isValid = function (t, e, n) { return !!new mp(t, e, n).isValid() }, vp.VERBOSE.get = function () { return !1 }, vp.MAX_ENV_DIFF_FRAC.get = function () { return .012 }, Object.defineProperties(mp, vp); var _p = function () { this._pts = null, this._data = null; var t = arguments[0], e = arguments[1]; this._pts = t, this._data = e }; _p.prototype.getCoordinates = function () { return this._pts }, _p.prototype.size = function () { return this._pts.length }, _p.prototype.getCoordinate = function (t) { return this._pts[t] }, _p.prototype.isClosed = function () { return this._pts[0].equals(this._pts[this._pts.length - 1]) }, _p.prototype.getSegmentOctant = function (t) { return t === this._pts.length - 1 ? -1 : Vc.octant(this.getCoordinate(t), this.getCoordinate(t + 1)) }, _p.prototype.setData = function (t) { this._data = t }, _p.prototype.getData = function () { return this._data }, _p.prototype.toString = function () { return Pu.toLineString(new $l(this._pts)) }, _p.prototype.interfaces_ = function () { return [Uc] }, _p.prototype.getClass = function () { return _p }; var bp = function () { this._findAllIntersections = !1, this._isCheckEndSegmentsOnly = !1, this._li = null, this._interiorIntersection = null, this._intSegments = null, this._intersections = new nl, this._intersectionCount = 0, this._keepIntersections = !0; var t = arguments[0]; this._li = t, this._interiorIntersection = null }; bp.prototype.getInteriorIntersection = function () { return this._interiorIntersection }, bp.prototype.setCheckEndSegmentsOnly = function (t) { this._isCheckEndSegmentsOnly = t }, bp.prototype.getIntersectionSegments = function () { return this._intSegments }, bp.prototype.count = function () { return this._intersectionCount }, bp.prototype.getIntersections = function () { return this._intersections }, bp.prototype.setFindAllIntersections = function (t) { this._findAllIntersections = t }, bp.prototype.setKeepIntersections = function (t) { this._keepIntersections = t }, bp.prototype.processIntersections = function (t, e, n, i) { if (!this._findAllIntersections && this.hasIntersection()) return null; if (t === n && e === i) return null; if (this._isCheckEndSegmentsOnly && !this.isEndSegment(t, e) && !this.isEndSegment(n, i)) return null; var r = t.getCoordinates()[e], o = t.getCoordinates()[e + 1], s = n.getCoordinates()[i], a = n.getCoordinates()[i + 1]; this._li.computeIntersection(r, o, s, a), this._li.hasIntersection() && this._li.isInteriorIntersection() && (this._intSegments = new Array(4).fill(null), this._intSegments[0] = r, this._intSegments[1] = o, this._intSegments[2] = s, this._intSegments[3] = a, this._interiorIntersection = this._li.getIntersection(0), this._keepIntersections && this._intersections.add(this._interiorIntersection), this._intersectionCount++) }, bp.prototype.isEndSegment = function (t, e) { return 0 === e || e >= t.size() - 2 }, bp.prototype.hasIntersection = function () { return null !== this._interiorIntersection }, bp.prototype.isDone = function () { return !this._findAllIntersections && null !== this._interiorIntersection }, bp.prototype.interfaces_ = function () { return [Sh] }, bp.prototype.getClass = function () { return bp }, bp.createAllIntersectionsFinder = function (t) { var e = new bp(t); return e.setFindAllIntersections(!0), e }, bp.createAnyIntersectionFinder = function (t) { return new bp(t) }, bp.createIntersectionCounter = function (t) { var e = new bp(t); return e.setFindAllIntersections(!0), e.setKeepIntersections(!1), e }; var wp = function () { this._li = new Fu, this._segStrings = null, this._findAllIntersections = !1, this._segInt = null, this._isValid = !0; var t = arguments[0]; this._segStrings = t }; wp.prototype.execute = function () { if (null !== this._segInt) return null; this.checkInteriorIntersections() }, wp.prototype.getIntersections = function () { return this._segInt.getIntersections() }, wp.prototype.isValid = function () { return this.execute(), this._isValid }, wp.prototype.setFindAllIntersections = function (t) { this._findAllIntersections = t }, wp.prototype.checkInteriorIntersections = function () { this._isValid = !0, this._segInt = new bp(this._li), this._segInt.setFindAllIntersections(this._findAllIntersections); var t = new th; if (t.setSegmentIntersector(this._segInt), t.computeNodes(this._segStrings), this._segInt.hasIntersection()) return this._isValid = !1, null }, wp.prototype.checkValid = function () { if (this.execute(), !this._isValid) throw new ac(this.getErrorMessage(), this._segInt.getInteriorIntersection()) }, wp.prototype.getErrorMessage = function () { if (this._isValid) return "no intersections found"; var t = this._segInt.getIntersectionSegments(); return "found non-noded intersection between " + Pu.toLineString(t[0], t[1]) + " and " + Pu.toLineString(t[2], t[3]) }, wp.prototype.interfaces_ = function () { return [] }, wp.prototype.getClass = function () { return wp }, wp.computeIntersections = function (t) { var e = new wp(t); return e.setFindAllIntersections(!0), e.isValid(), e.getIntersections() }; var xp = function t() { this._nv = null; var e = arguments[0]; this._nv = new wp(t.toSegmentStrings(e)) }; xp.prototype.checkValid = function () { this._nv.checkValid() }, xp.prototype.interfaces_ = function () { return [] }, xp.prototype.getClass = function () { return xp }, xp.toSegmentStrings = function (t) { for (var e = new nl, n = t.iterator(); n.hasNext();) { var i = n.next(); e.add(new _p(i.getCoordinates(), i)) } return e }, xp.checkValid = function (t) { new xp(t).checkValid() }; var Ep = function (t) { this._mapOp = t }; Ep.prototype.map = function (t) { for (var e = new nl, n = 0; n < t.getNumGeometries(); n++) { var i = this._mapOp.map(t.getGeometryN(n)); i.isEmpty() || e.add(i) } return t.getFactory().createGeometryCollection(Jl.toGeometryArray(e)) }, Ep.prototype.interfaces_ = function () { return [] }, Ep.prototype.getClass = function () { return Ep }, Ep.map = function (t, e) { return new Ep(e).map(t) }; var Cp = function () { this._op = null, this._geometryFactory = null, this._ptLocator = null, this._lineEdgesList = new nl, this._resultLineList = new nl; var t = arguments[0], e = arguments[1], n = arguments[2]; this._op = t, this._geometryFactory = e, this._ptLocator = n }; Cp.prototype.collectLines = function (t) { for (var e = this._op.getGraph().getEdgeEnds().iterator(); e.hasNext();) { var n = e.next(); this.collectLineEdge(n, t, this._lineEdgesList), this.collectBoundaryTouchEdge(n, t, this._lineEdgesList) } }, Cp.prototype.labelIsolatedLine = function (t, e) { var n = this._ptLocator.locate(t.getCoordinate(), this._op.getArgGeometry(e)); t.getLabel().setLocation(e, n) }, Cp.prototype.build = function (t) { return this.findCoveredLineEdges(), this.collectLines(t), this.buildLines(t), this._resultLineList }, Cp.prototype.collectLineEdge = function (t, e, n) { var i = t.getLabel(), r = t.getEdge(); t.isLineEdge() && (t.isVisited() || !of.isResultOfOp(i, e) || r.isCovered() || (n.add(r), t.setVisitedEdge(!0))) }, Cp.prototype.findCoveredLineEdges = function () { for (var t = this._op.getGraph().getNodes().iterator(); t.hasNext();)t.next().getEdges().findCoveredLineEdges(); for (var e = this._op.getGraph().getEdgeEnds().iterator(); e.hasNext();) { var n = e.next(), i = n.getEdge(); if (n.isLineEdge() && !i.isCoveredSet()) { var r = this._op.isCoveredByA(n.getCoordinate()); i.setCovered(r) } } }, Cp.prototype.labelIsolatedLines = function (t) { for (var e = t.iterator(); e.hasNext();) { var n = e.next(), i = n.getLabel(); n.isIsolated() && (i.isNull(0) ? this.labelIsolatedLine(n, 0) : this.labelIsolatedLine(n, 1)) } }, Cp.prototype.buildLines = function (t) { for (var e = this._lineEdgesList.iterator(); e.hasNext();) { var n = e.next(), i = this._geometryFactory.createLineString(n.getCoordinates()); this._resultLineList.add(i), n.setInResult(!0) } }, Cp.prototype.collectBoundaryTouchEdge = function (t, e, n) { var i = t.getLabel(); return t.isLineEdge() || t.isVisited() || t.isInteriorAreaEdge() || t.getEdge().isInResult() ? null : (Lu.isTrue(!(t.isInResult() || t.getSym().isInResult()) || !t.getEdge().isInResult()), void (of.isResultOfOp(i, e) && e === of.INTERSECTION && (n.add(t.getEdge()), t.setVisitedEdge(!0)))) }, Cp.prototype.interfaces_ = function () { return [] }, Cp.prototype.getClass = function () { return Cp }; var Dp = function () { this._op = null, this._geometryFactory = null, this._resultPointList = new nl; var t = arguments[0], e = arguments[1]; this._op = t, this._geometryFactory = e }; Dp.prototype.filterCoveredNodeToPoint = function (t) { var e = t.getCoordinate(); if (!this._op.isCoveredByLA(e)) { var n = this._geometryFactory.createPoint(e); this._resultPointList.add(n) } }, Dp.prototype.extractNonCoveredResultNodes = function (t) { for (var e = this._op.getGraph().getNodes().iterator(); e.hasNext();) { var n = e.next(); if (!(n.isInResult() || n.isIncidentEdgeInResult() || 0 !== n.getEdges().getDegree() && t !== of.INTERSECTION)) { var i = n.getLabel(); of.isResultOfOp(i, t) && this.filterCoveredNodeToPoint(n) } } }, Dp.prototype.build = function (t) { return this.extractNonCoveredResultNodes(t), this._resultPointList }, Dp.prototype.interfaces_ = function () { return [] }, Dp.prototype.getClass = function () { return Dp }; var Sp = function () { this._inputGeom = null, this._factory = null, this._pruneEmptyGeometry = !0, this._preserveGeometryCollectionType = !0, this._preserveCollections = !1, this._preserveType = !1 }; Sp.prototype.transformPoint = function (t, e) { return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(), t)) }, Sp.prototype.transformPolygon = function (t, e) { var n = !0, i = this.transformLinearRing(t.getExteriorRing(), t); null !== i && i instanceof Ol && !i.isEmpty() || (n = !1); for (var r = new nl, o = 0; o < t.getNumInteriorRing(); o++) { var s = this.transformLinearRing(t.getInteriorRingN(o), t); null === s || s.isEmpty() || (s instanceof Ol || (n = !1), r.add(s)) } if (n) return this._factory.createPolygon(i, r.toArray([])); var a = new nl; return null !== i && a.add(i), a.addAll(r), this._factory.buildGeometry(a) }, Sp.prototype.createCoordinateSequence = function (t) { return this._factory.getCoordinateSequenceFactory().create(t) }, Sp.prototype.getInputGeometry = function () { return this._inputGeom }, Sp.prototype.transformMultiLineString = function (t, e) { for (var n = new nl, i = 0; i < t.getNumGeometries(); i++) { var r = this.transformLineString(t.getGeometryN(i), t); null !== r && (r.isEmpty() || n.add(r)) } return this._factory.buildGeometry(n) }, Sp.prototype.transformCoordinates = function (t, e) { return this.copy(t) }, Sp.prototype.transformLineString = function (t, e) { return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(), t)) }, Sp.prototype.transformMultiPoint = function (t, e) { for (var n = new nl, i = 0; i < t.getNumGeometries(); i++) { var r = this.transformPoint(t.getGeometryN(i), t); null !== r && (r.isEmpty() || n.add(r)) } return this._factory.buildGeometry(n) }, Sp.prototype.transformMultiPolygon = function (t, e) { for (var n = new nl, i = 0; i < t.getNumGeometries(); i++) { var r = this.transformPolygon(t.getGeometryN(i), t); null !== r && (r.isEmpty() || n.add(r)) } return this._factory.buildGeometry(n) }, Sp.prototype.copy = function (t) { return t.copy() }, Sp.prototype.transformGeometryCollection = function (t, e) { for (var n = new nl, i = 0; i < t.getNumGeometries(); i++) { var r = this.transform(t.getGeometryN(i)); null !== r && (this._pruneEmptyGeometry && r.isEmpty() || n.add(r)) } return this._preserveGeometryCollectionType ? this._factory.createGeometryCollection(Jl.toGeometryArray(n)) : this._factory.buildGeometry(n) }, Sp.prototype.transform = function (t) { if (this._inputGeom = t, this._factory = t.getFactory(), t instanceof Pl) return this.transformPoint(t, null); if (t instanceof Ll) return this.transformMultiPoint(t, null); if (t instanceof Ol) return this.transformLinearRing(t, null); if (t instanceof Il) return this.transformLineString(t, null); if (t instanceof xl) return this.transformMultiLineString(t, null); if (t instanceof Ml) return this.transformPolygon(t, null); if (t instanceof kl) return this.transformMultiPolygon(t, null); if (t instanceof wl) return this.transformGeometryCollection(t, null); throw new Ja("Unknown Geometry subtype: " + t.getClass().getName()) }, Sp.prototype.transformLinearRing = function (t, e) { var n = this.transformCoordinates(t.getCoordinateSequence(), t); if (null === n) return this._factory.createLinearRing(null); var i = n.size(); return i > 0 && i < 4 && !this._preserveType ? this._factory.createLineString(n) : this._factory.createLinearRing(n) }, Sp.prototype.interfaces_ = function () { return [] }, Sp.prototype.getClass = function () { return Sp }; var Tp = function t() { if (this._snapTolerance = 0, this._srcPts = null, this._seg = new Xc, this._allowSnappingToSourceVertices = !1, this._isClosed = !1, arguments[0] instanceof Il && "number" == typeof arguments[1]) { var e = arguments[0], n = arguments[1]; t.call(this, e.getCoordinates(), n) } else if (arguments[0] instanceof Array && "number" == typeof arguments[1]) { var i = arguments[0], r = arguments[1]; this._srcPts = i, this._isClosed = t.isClosed(i), this._snapTolerance = r } }; Tp.prototype.snapVertices = function (t, e) { for (var n = this._isClosed ? t.size() - 1 : t.size(), i = 0; i < n; i++) { var r = t.get(i), o = this.findSnapForVertex(r, e); null !== o && (t.set(i, new nu(o)), 0 === i && this._isClosed && t.set(t.size() - 1, new nu(o))) } }, Tp.prototype.findSnapForVertex = function (t, e) { for (var n = 0; n < e.length; n++) { if (t.equals2D(e[n])) return null; if (t.distance(e[n]) < this._snapTolerance) return e[n] } return null }, Tp.prototype.snapTo = function (t) { var e = new rl(this._srcPts); return this.snapVertices(e, t), this.snapSegments(e, t), e.toCoordinateArray() }, Tp.prototype.snapSegments = function (t, e) { if (0 === e.length) return null; var n = e.length; e[0].equals2D(e[e.length - 1]) && (n = e.length - 1); for (var i = 0; i < n; i++) { var r = e[i], o = this.findSegmentIndexToSnap(r, t); o >= 0 && t.add(o + 1, new nu(r), !1) } }, Tp.prototype.findSegmentIndexToSnap = function (t, e) { for (var n = Za.MAX_VALUE, i = -1, r = 0; r < e.size() - 1; r++) { if (this._seg.p0 = e.get(r), this._seg.p1 = e.get(r + 1), this._seg.p0.equals2D(t) || this._seg.p1.equals2D(t)) { if (this._allowSnappingToSourceVertices) continue; return -1 } var o = this._seg.distance(t); o < this._snapTolerance && o < n && (n = o, i = r) } return i }, Tp.prototype.setAllowSnappingToSourceVertices = function (t) { this._allowSnappingToSourceVertices = t }, Tp.prototype.interfaces_ = function () { return [] }, Tp.prototype.getClass = function () { return Tp }, Tp.isClosed = function (t) { return !(t.length <= 1) && t[0].equals2D(t[t.length - 1]) }; var Ip = function (t) { this._srcGeom = t || null }, Np = { SNAP_PRECISION_FACTOR: { configurable: !0 } }; Ip.prototype.snapTo = function (t, e) { var n = this.extractTargetCoordinates(t); return new Pp(e, n).transform(this._srcGeom) }, Ip.prototype.snapToSelf = function (t, e) { var n = this.extractTargetCoordinates(this._srcGeom), i = new Pp(t, n, !0).transform(this._srcGeom), r = i; return e && uu(r, Al) && (r = i.buffer(0)), r }, Ip.prototype.computeSnapTolerance = function (t) { return this.computeMinimumSegmentLength(t) / 10 }, Ip.prototype.extractTargetCoordinates = function (t) { for (var e = new Ir, n = t.getCoordinates(), i = 0; i < n.length; i++)e.add(n[i]); return e.toArray(new Array(0).fill(null)) }, Ip.prototype.computeMinimumSegmentLength = function (t) { for (var e = Za.MAX_VALUE, n = 0; n < t.length - 1; n++) { var i = t[n].distance(t[n + 1]); i < e && (e = i) } return e }, Ip.prototype.interfaces_ = function () { return [] }, Ip.prototype.getClass = function () { return Ip }, Ip.snap = function (t, e, n) { var i = new Array(2).fill(null), r = new Ip(t); i[0] = r.snapTo(e, n); var o = new Ip(e); return i[1] = o.snapTo(i[0], n), i }, Ip.computeOverlaySnapTolerance = function () { if (1 === arguments.length) { var t = arguments[0], e = Ip.computeSizeBasedSnapTolerance(t), n = t.getPrecisionModel(); if (n.getType() === Gl.FIXED) { var i = 1 / n.getScale() * 2 / 1.415; i > e && (e = i) } return e } if (2 === arguments.length) { var r = arguments[0], o = arguments[1]; return Math.min(Ip.computeOverlaySnapTolerance(r), Ip.computeOverlaySnapTolerance(o)) } }, Ip.computeSizeBasedSnapTolerance = function (t) { var e = t.getEnvelopeInternal(); return Math.min(e.getHeight(), e.getWidth()) * Ip.SNAP_PRECISION_FACTOR }, Ip.snapToSelf = function (t, e, n) { return new Ip(t).snapToSelf(e, n) }, Np.SNAP_PRECISION_FACTOR.get = function () { return 1e-9 }, Object.defineProperties(Ip, Np); var Pp = function (t) { function e(e, n, i) { t.call(this), this._snapTolerance = e || null, this._snapPts = n || null, this._isSelfSnap = void 0 !== i && i } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.snapLine = function (t, e) { var n = new Tp(t, this._snapTolerance); return n.setAllowSnappingToSourceVertices(this._isSelfSnap), n.snapTo(e) }, e.prototype.transformCoordinates = function (t, e) { var n = t.toCoordinateArray(), i = this.snapLine(n, this._snapPts); return this._factory.getCoordinateSequenceFactory().create(i) }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e }(Sp), Ap = function () { this._isFirst = !0, this._commonMantissaBitsCount = 53, this._commonBits = 0, this._commonSignExp = null }; Ap.prototype.getCommon = function () { return Za.longBitsToDouble(this._commonBits) }, Ap.prototype.add = function (t) { var e = Za.doubleToLongBits(t); return this._isFirst ? (this._commonBits = e, this._commonSignExp = Ap.signExpBits(this._commonBits), this._isFirst = !1, null) : Ap.signExpBits(e) !== this._commonSignExp ? (this._commonBits = 0, null) : (this._commonMantissaBitsCount = Ap.numCommonMostSigMantissaBits(this._commonBits, e), void (this._commonBits = Ap.zeroLowerBits(this._commonBits, 64 - (12 + this._commonMantissaBitsCount)))) }, Ap.prototype.toString = function () { if (1 === arguments.length) { var t = arguments[0], e = Za.longBitsToDouble(t), n = "0000000000000000000000000000000000000000000000000000000000000000" + Za.toBinaryString(t), i = n.substring(n.length - 64); return i.substring(0, 1) + "  " + i.substring(1, 12) + "(exp) " + i.substring(12) + " [ " + e + " ]" } }, Ap.prototype.interfaces_ = function () { return [] }, Ap.prototype.getClass = function () { return Ap }, Ap.getBit = function (t, e) { return 0 != (t & 1 << e) ? 1 : 0 }, Ap.signExpBits = function (t) { return t >> 52 }, Ap.zeroLowerBits = function (t, e) { return t & ~((1 << e) - 1) }, Ap.numCommonMostSigMantissaBits = function (t, e) { for (var n = 0, i = 52; i >= 0; i--) { if (Ap.getBit(t, i) !== Ap.getBit(e, i)) return n; n++ } return 52 }; var Mp = function () { this._commonCoord = null, this._ccFilter = new Op }, Lp = { CommonCoordinateFilter: { configurable: !0 }, Translater: { configurable: !0 } }; Mp.prototype.addCommonBits = function (t) { var e = new kp(this._commonCoord); t.apply(e), t.geometryChanged() }, Mp.prototype.removeCommonBits = function (t) { if (0 === this._commonCoord.x && 0 === this._commonCoord.y) return t; var e = new nu(this._commonCoord); e.x = -e.x, e.y = -e.y; var n = new kp(e); return t.apply(n), t.geometryChanged(), t }, Mp.prototype.getCommonCoordinate = function () { return this._commonCoord }, Mp.prototype.add = function (t) { t.apply(this._ccFilter), this._commonCoord = this._ccFilter.getCommonCoordinate() }, Mp.prototype.interfaces_ = function () { return [] }, Mp.prototype.getClass = function () { return Mp }, Lp.CommonCoordinateFilter.get = function () { return Op }, Lp.Translater.get = function () { return kp }, Object.defineProperties(Mp, Lp); var Op = function () { this._commonBitsX = new Ap, this._commonBitsY = new Ap }; Op.prototype.filter = function (t) { this._commonBitsX.add(t.x), this._commonBitsY.add(t.y) }, Op.prototype.getCommonCoordinate = function () { return new nu(this._commonBitsX.getCommon(), this._commonBitsY.getCommon()) }, Op.prototype.interfaces_ = function () { return [Hu] }, Op.prototype.getClass = function () { return Op }; var kp = function () { this.trans = null; var t = arguments[0]; this.trans = t }; kp.prototype.filter = function (t, e) { var n = t.getOrdinate(e, 0) + this.trans.x, i = t.getOrdinate(e, 1) + this.trans.y; t.setOrdinate(e, 0, n), t.setOrdinate(e, 1, i) }, kp.prototype.isDone = function () { return !1 }, kp.prototype.isGeometryChanged = function () { return !0 }, kp.prototype.interfaces_ = function () { return [bl] }, kp.prototype.getClass = function () { return kp }; var Fp = function (t, e) { this._geom = new Array(2).fill(null), this._snapTolerance = null, this._cbr = null, this._geom[0] = t, this._geom[1] = e, this.computeSnapTolerance() }; Fp.prototype.selfSnap = function (t) { return new Ip(t).snapTo(t, this._snapTolerance) }, Fp.prototype.removeCommonBits = function (t) { this._cbr = new Mp, this._cbr.add(t[0]), this._cbr.add(t[1]); var e = new Array(2).fill(null); return e[0] = this._cbr.removeCommonBits(t[0].copy()), e[1] = this._cbr.removeCommonBits(t[1].copy()), e }, Fp.prototype.prepareResult = function (t) { return this._cbr.addCommonBits(t), t }, Fp.prototype.getResultGeometry = function (t) { var e = this.snap(this._geom), n = of.overlayOp(e[0], e[1], t); return this.prepareResult(n) }, Fp.prototype.checkValid = function (t) { t.isValid() || xu.out.println("Snapped geometry is invalid") }, Fp.prototype.computeSnapTolerance = function () { this._snapTolerance = Ip.computeOverlaySnapTolerance(this._geom[0], this._geom[1]) }, Fp.prototype.snap = function (t) { var e = this.removeCommonBits(t); return Ip.snap(e[0], e[1], this._snapTolerance) }, Fp.prototype.interfaces_ = function () { return [] }, Fp.prototype.getClass = function () { return Fp }, Fp.overlayOp = function (t, e, n) { return new Fp(t, e).getResultGeometry(n) }, Fp.union = function (t, e) { return Fp.overlayOp(t, e, of.UNION) }, Fp.intersection = function (t, e) { return Fp.overlayOp(t, e, of.INTERSECTION) }, Fp.symDifference = function (t, e) { return Fp.overlayOp(t, e, of.SYMDIFFERENCE) }, Fp.difference = function (t, e) { return Fp.overlayOp(t, e, of.DIFFERENCE) }; var Rp = function (t, e) { this._geom = new Array(2).fill(null), this._geom[0] = t, this._geom[1] = e }; Rp.prototype.getResultGeometry = function (t) { var e = null, n = !1, i = null; try { e = of.overlayOp(this._geom[0], this._geom[1], t), n = !0 } catch (t) { if (!(t instanceof Au)) throw t; i = t } if (!n) try { e = Fp.overlayOp(this._geom[0], this._geom[1], t) } catch (t) { throw t instanceof Au ? i : t } return e }, Rp.prototype.interfaces_ = function () { return [] }, Rp.prototype.getClass = function () { return Rp }, Rp.overlayOp = function (t, e, n) { return new Rp(t, e).getResultGeometry(n) }, Rp.union = function (t, e) { return Rp.overlayOp(t, e, of.UNION) }, Rp.intersection = function (t, e) { return Rp.overlayOp(t, e, of.INTERSECTION) }, Rp.symDifference = function (t, e) { return Rp.overlayOp(t, e, of.SYMDIFFERENCE) }, Rp.difference = function (t, e) { return Rp.overlayOp(t, e, of.DIFFERENCE) }; var qp = function () { this.mce = null, this.chainIndex = null; var t = arguments[0], e = arguments[1]; this.mce = t, this.chainIndex = e }; qp.prototype.computeIntersections = function (t, e) { this.mce.computeIntersectsForChain(this.chainIndex, t.mce, t.chainIndex, e) }, qp.prototype.interfaces_ = function () { return [] }, qp.prototype.getClass = function () { return qp }; var jp = function t() { if (this._label = null, this._xValue = null, this._eventType = null, this._insertEvent = null, this._deleteEventIndex = null, this._obj = null, 2 === arguments.length) { var e = arguments[0], n = arguments[1]; this._eventType = t.DELETE, this._xValue = e, this._insertEvent = n } else if (3 === arguments.length) { var i = arguments[0], r = arguments[1], o = arguments[2]; this._eventType = t.INSERT, this._label = i, this._xValue = r, this._obj = o } }, Bp = { INSERT: { configurable: !0 }, DELETE: { configurable: !0 } }; jp.prototype.isDelete = function () { return this._eventType === jp.DELETE }, jp.prototype.setDeleteEventIndex = function (t) { this._deleteEventIndex = t }, jp.prototype.getObject = function () { return this._obj }, jp.prototype.compareTo = function (t) { var e = t; return this._xValue < e._xValue ? -1 : this._xValue > e._xValue ? 1 : this._eventType < e._eventType ? -1 : this._eventType > e._eventType ? 1 : 0 }, jp.prototype.getInsertEvent = function () { return this._insertEvent }, jp.prototype.isInsert = function () { return this._eventType === jp.INSERT }, jp.prototype.isSameLabel = function (t) { return null !== this._label && this._label === t._label }, jp.prototype.getDeleteEventIndex = function () { return this._deleteEventIndex }, jp.prototype.interfaces_ = function () { return [Qa] }, jp.prototype.getClass = function () { return jp }, Bp.INSERT.get = function () { return 1 }, Bp.DELETE.get = function () { return 2 }, Object.defineProperties(jp, Bp); var $p = function () { }; $p.prototype.interfaces_ = function () { return [] }, $p.prototype.getClass = function () { return $p }; var zp = function () { this._hasIntersection = !1, this._hasProper = !1, this._hasProperInterior = !1, this._properIntersectionPoint = null, this._li = null, this._includeProper = null, this._recordIsolated = null, this._isSelfIntersection = null, this._numIntersections = 0, this.numTests = 0, this._bdyNodes = null, this._isDone = !1, this._isDoneWhenProperInt = !1; var t = arguments[0], e = arguments[1], n = arguments[2]; this._li = t, this._includeProper = e, this._recordIsolated = n }; zp.prototype.isTrivialIntersection = function (t, e, n, i) { if (t === n && 1 === this._li.getIntersectionNum()) { if (zp.isAdjacentSegments(e, i)) return !0; if (t.isClosed()) { var r = t.getNumPoints() - 1; if (0 === e && i === r || 0 === i && e === r) return !0 } } return !1 }, zp.prototype.getProperIntersectionPoint = function () { return this._properIntersectionPoint }, zp.prototype.setIsDoneIfProperInt = function (t) { this._isDoneWhenProperInt = t }, zp.prototype.hasProperInteriorIntersection = function () { return this._hasProperInterior }, zp.prototype.isBoundaryPointInternal = function (t, e) { for (var n = e.iterator(); n.hasNext();) { var i = n.next().getCoordinate(); if (t.isIntersection(i)) return !0 } return !1 }, zp.prototype.hasProperIntersection = function () { return this._hasProper }, zp.prototype.hasIntersection = function () { return this._hasIntersection }, zp.prototype.isDone = function () { return this._isDone }, zp.prototype.isBoundaryPoint = function (t, e) { return !(null === e || !this.isBoundaryPointInternal(t, e[0]) && !this.isBoundaryPointInternal(t, e[1])) }, zp.prototype.setBoundaryNodes = function (t, e) { this._bdyNodes = new Array(2).fill(null), this._bdyNodes[0] = t, this._bdyNodes[1] = e }, zp.prototype.addIntersections = function (t, e, n, i) { if (t === n && e === i) return null; this.numTests++; var r = t.getCoordinates()[e], o = t.getCoordinates()[e + 1], s = n.getCoordinates()[i], a = n.getCoordinates()[i + 1]; this._li.computeIntersection(r, o, s, a), this._li.hasIntersection() && (this._recordIsolated && (t.setIsolated(!1), n.setIsolated(!1)), this._numIntersections++, this.isTrivialIntersection(t, e, n, i) || (this._hasIntersection = !0, !this._includeProper && this._li.isProper() || (t.addIntersections(this._li, e, 0), n.addIntersections(this._li, i, 1)), this._li.isProper() && (this._properIntersectionPoint = this._li.getIntersection(0).copy(), this._hasProper = !0, this._isDoneWhenProperInt && (this._isDone = !0), this.isBoundaryPoint(this._li, this._bdyNodes) || (this._hasProperInterior = !0)))) }, zp.prototype.interfaces_ = function () { return [] }, zp.prototype.getClass = function () { return zp }, zp.isAdjacentSegments = function (t, e) { return 1 === Math.abs(t - e) }; var Vp = function (t) { function e() { t.call(this), this.events = new nl, this.nOverlaps = null } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.prepareEvents = function () { Mc.sort(this.events); for (var t = 0; t < this.events.size(); t++) { var e = this.events.get(t); e.isDelete() && e.getInsertEvent().setDeleteEventIndex(t) } }, e.prototype.computeIntersections = function () { if (1 === arguments.length) { var t = arguments[0]; this.nOverlaps = 0, this.prepareEvents(); for (var e = 0; e < this.events.size(); e++) { var n = this.events.get(e); if (n.isInsert() && this.processOverlaps(e, n.getDeleteEventIndex(), n, t), t.isDone()) break } } else if (3 === arguments.length) if (arguments[2] instanceof zp && uu(arguments[0], el) && uu(arguments[1], el)) { var i = arguments[0], r = arguments[1], o = arguments[2]; this.addEdges(i, i), this.addEdges(r, r), this.computeIntersections(o) } else if ("boolean" == typeof arguments[2] && uu(arguments[0], el) && arguments[1] instanceof zp) { var s = arguments[0], a = arguments[1]; arguments[2] ? this.addEdges(s, null) : this.addEdges(s), this.computeIntersections(a) } }, e.prototype.addEdge = function (t, e) { for (var n = t.getMonotoneChainEdge(), i = n.getStartIndexes(), r = 0; r < i.length - 1; r++) { var o = new qp(n, r), s = new jp(e, n.getMinX(r), o); this.events.add(s), this.events.add(new jp(n.getMaxX(r), s)) } }, e.prototype.processOverlaps = function (t, e, n, i) { for (var r = n.getObject(), o = t; o < e; o++) { var s = this.events.get(o); if (s.isInsert()) { var a = s.getObject(); n.isSameLabel(s) || (r.computeIntersections(a, i), this.nOverlaps++) } } }, e.prototype.addEdges = function () { if (1 === arguments.length) for (var t = arguments[0].iterator(); t.hasNext();) { var e = t.next(); this.addEdge(e, e) } else if (2 === arguments.length) for (var n = arguments[0], i = arguments[1], r = n.iterator(); r.hasNext();) { var o = r.next(); this.addEdge(o, i) } }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e }($p), Up = function () { this._min = Za.POSITIVE_INFINITY, this._max = Za.NEGATIVE_INFINITY }, Hp = { NodeComparator: { configurable: !0 } }; Up.prototype.getMin = function () { return this._min }, Up.prototype.intersects = function (t, e) { return !(this._min > e || this._max < t) }, Up.prototype.getMax = function () { return this._max }, Up.prototype.toString = function () { return Pu.toLineString(new nu(this._min, 0), new nu(this._max, 0)) }, Up.prototype.interfaces_ = function () { return [] }, Up.prototype.getClass = function () { return Up }, Hp.NodeComparator.get = function () { return Gp }, Object.defineProperties(Up, Hp); var Gp = function () { }; Gp.prototype.compare = function (t, e) { var n = t, i = e, r = (n._min + n._max) / 2, o = (i._min + i._max) / 2; return r < o ? -1 : r > o ? 1 : 0 }, Gp.prototype.interfaces_ = function () { return [eu] }, Gp.prototype.getClass = function () { return Gp }; var Xp = function (t) { function e() { t.call(this), this._item = null; var e = arguments[0], n = arguments[1], i = arguments[2]; this._min = e, this._max = n, this._item = i } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.query = function (t, e, n) { if (!this.intersects(t, e)) return null; n.visitItem(this._item) }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e }(Up), Yp = function (t) { function e() { t.call(this), this._node1 = null, this._node2 = null; var e = arguments[0], n = arguments[1]; this._node1 = e, this._node2 = n, this.buildExtent(this._node1, this._node2) } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.buildExtent = function (t, e) { this._min = Math.min(t._min, e._min), this._max = Math.max(t._max, e._max) }, e.prototype.query = function (t, e, n) { if (!this.intersects(t, e)) return null; null !== this._node1 && this._node1.query(t, e, n), null !== this._node2 && this._node2.query(t, e, n) }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e }(Up), Wp = function () { this._leaves = new nl, this._root = null, this._level = 0 }; Wp.prototype.buildTree = function () { Mc.sort(this._leaves, new Up.NodeComparator); for (var t = this._leaves, e = null, n = new nl; ;) { if (this.buildLevel(t, n), 1 === n.size()) return n.get(0); e = t, t = n, n = e } }, Wp.prototype.insert = function (t, e, n) { if (null !== this._root) throw new Error("Index cannot be added to once it has been queried"); this._leaves.add(new Xp(t, e, n)) }, Wp.prototype.query = function (t, e, n) { this.init(), this._root.query(t, e, n) }, Wp.prototype.buildRoot = function () { if (null !== this._root) return null; this._root = this.buildTree() }, Wp.prototype.printNode = function (t) { xu.out.println(Pu.toLineString(new nu(t._min, this._level), new nu(t._max, this._level))) }, Wp.prototype.init = function () { if (null !== this._root) return null; this.buildRoot() }, Wp.prototype.buildLevel = function (t, e) { this._level++, e.clear(); for (var n = 0; n < t.size(); n += 2) { var i = t.get(n); if (null === (n + 1 < t.size() ? t.get(n) : null)) e.add(i); else { var r = new Yp(t.get(n), t.get(n + 1)); e.add(r) } } }, Wp.prototype.interfaces_ = function () { return [] }, Wp.prototype.getClass = function () { return Wp }; var Jp = function () { this._items = new nl }; Jp.prototype.visitItem = function (t) { this._items.add(t) }, Jp.prototype.getItems = function () { return this._items }, Jp.prototype.interfaces_ = function () { return [Ic] }, Jp.prototype.getClass = function () { return Jp }; var Zp = function () { this._index = null; var t = arguments[0]; if (!uu(t, Al)) throw new Ja("Argument must be Polygonal"); this._index = new tf(t) }, Kp = { SegmentVisitor: { configurable: !0 }, IntervalIndexedGeometry: { configurable: !0 } }; Zp.prototype.locate = function (t) { var e = new qu(t), n = new Qp(e); return this._index.query(t.y, t.y, n), e.getLocation() }, Zp.prototype.interfaces_ = function () { return [vh] }, Zp.prototype.getClass = function () { return Zp }, Kp.SegmentVisitor.get = function () { return Qp }, Kp.IntervalIndexedGeometry.get = function () { return tf }, Object.defineProperties(Zp, Kp); var Qp = function () { this._counter = null; var t = arguments[0]; this._counter = t }; Qp.prototype.visitItem = function (t) { var e = t; this._counter.countSegment(e.getCoordinate(0), e.getCoordinate(1)) }, Qp.prototype.interfaces_ = function () { return [Ic] }, Qp.prototype.getClass = function () { return Qp }; var tf = function () { this._index = new Wp; var t = arguments[0]; this.init(t) }; tf.prototype.init = function (t) { for (var e = np.getLines(t).iterator(); e.hasNext();) { var n = e.next().getCoordinates(); this.addLine(n) } }, tf.prototype.addLine = function (t) { for (var e = 1; e < t.length; e++) { var n = new Xc(t[e - 1], t[e]), i = Math.min(n.p0.y, n.p1.y), r = Math.max(n.p0.y, n.p1.y); this._index.insert(i, r, n) } }, tf.prototype.query = function () { if (2 === arguments.length) { var t = arguments[0], e = arguments[1], n = new Jp; return this._index.query(t, e, n), n.getItems() } if (3 === arguments.length) { var i = arguments[0], r = arguments[1], o = arguments[2]; this._index.query(i, r, o) } }, tf.prototype.interfaces_ = function () { return [] }, tf.prototype.getClass = function () { return tf }; var ef = function (t) { function e() { if (t.call(this), this._parentGeom = null, this._lineEdgeMap = new Hl, this._boundaryNodeRule = null, this._useBoundaryDeterminationRule = !0, this._argIndex = null, this._boundaryNodes = null, this._hasTooFewPoints = !1, this._invalidPoint = null, this._areaPtLocator = null, this._ptLocator = new ip, 2 === arguments.length) { var e = arguments[0], n = arguments[1], i = Gu.OGC_SFS_BOUNDARY_RULE; this._argIndex = e, this._parentGeom = n, this._boundaryNodeRule = i, null !== n && this.add(n) } else if (3 === arguments.length) { var r = arguments[0], o = arguments[1], s = arguments[2]; this._argIndex = r, this._parentGeom = o, this._boundaryNodeRule = s, null !== o && this.add(o) } } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.insertBoundaryPoint = function (t, n) { var i = this._nodes.addNode(n).getLabel(), r = 1; i.getLocation(t, rc.ON) === su.BOUNDARY && r++; var o = e.determineBoundary(this._boundaryNodeRule, r); i.setLocation(t, o) }, e.prototype.computeSelfNodes = function () { if (2 === arguments.length) { var t = arguments[0], e = arguments[1]; return this.computeSelfNodes(t, e, !1) } if (3 === arguments.length) { var n = arguments[0], i = arguments[1], r = arguments[2], o = new zp(n, !0, !1); o.setIsDoneIfProperInt(r); var s = this.createEdgeSetIntersector(), a = this._parentGeom instanceof Ol || this._parentGeom instanceof Ml || this._parentGeom instanceof kl, u = i || !a; return s.computeIntersections(this._edges, o, u), this.addSelfIntersectionNodes(this._argIndex), o } }, e.prototype.computeSplitEdges = function (t) { for (var e = this._edges.iterator(); e.hasNext();)e.next().eiList.addSplitEdges(t) }, e.prototype.computeEdgeIntersections = function (t, e, n) { var i = new zp(e, n, !0); return i.setBoundaryNodes(this.getBoundaryNodes(), t.getBoundaryNodes()), this.createEdgeSetIntersector().computeIntersections(this._edges, t._edges, i), i }, e.prototype.getGeometry = function () { return this._parentGeom }, e.prototype.getBoundaryNodeRule = function () { return this._boundaryNodeRule }, e.prototype.hasTooFewPoints = function () { return this._hasTooFewPoints }, e.prototype.addPoint = function () { if (arguments[0] instanceof Pl) { var t = arguments[0].getCoordinate(); this.insertPoint(this._argIndex, t, su.INTERIOR) } else if (arguments[0] instanceof nu) { var e = arguments[0]; this.insertPoint(this._argIndex, e, su.INTERIOR) } }, e.prototype.addPolygon = function (t) { this.addPolygonRing(t.getExteriorRing(), su.EXTERIOR, su.INTERIOR); for (var e = 0; e < t.getNumInteriorRing(); e++) { var n = t.getInteriorRingN(e); this.addPolygonRing(n, su.INTERIOR, su.EXTERIOR) } }, e.prototype.addEdge = function (t) { this.insertEdge(t); var e = t.getCoordinates(); this.insertPoint(this._argIndex, e[0], su.BOUNDARY), this.insertPoint(this._argIndex, e[e.length - 1], su.BOUNDARY) }, e.prototype.addLineString = function (t) { var e = ol.removeRepeatedPoints(t.getCoordinates()); if (e.length < 2) return this._hasTooFewPoints = !0, this._invalidPoint = e[0], null; var n = new Oh(e, new hc(this._argIndex, su.INTERIOR)); this._lineEdgeMap.put(t, n), this.insertEdge(n), Lu.isTrue(e.length >= 2, "found LineString with single point"), this.insertBoundaryPoint(this._argIndex, e[0]), this.insertBoundaryPoint(this._argIndex, e[e.length - 1]) }, e.prototype.getInvalidPoint = function () { return this._invalidPoint }, e.prototype.getBoundaryPoints = function () { for (var t = this.getBoundaryNodes(), e = new Array(t.size()).fill(null), n = 0, i = t.iterator(); i.hasNext();) { var r = i.next(); e[n++] = r.getCoordinate().copy() } return e }, e.prototype.getBoundaryNodes = function () { return null === this._boundaryNodes && (this._boundaryNodes = this._nodes.getBoundaryNodes(this._argIndex)), this._boundaryNodes }, e.prototype.addSelfIntersectionNode = function (t, e, n) { if (this.isBoundaryNode(t, e)) return null; n === su.BOUNDARY && this._useBoundaryDeterminationRule ? this.insertBoundaryPoint(t, e) : this.insertPoint(t, e, n) }, e.prototype.addPolygonRing = function (t, e, n) { if (t.isEmpty()) return null; var i = ol.removeRepeatedPoints(t.getCoordinates()); if (i.length < 4) return this._hasTooFewPoints = !0, this._invalidPoint = i[0], null; var r = e, o = n; ju.isCCW(i) && (r = n, o = e); var s = new Oh(i, new hc(this._argIndex, su.BOUNDARY, r, o)); this._lineEdgeMap.put(t, s), this.insertEdge(s), this.insertPoint(this._argIndex, i[0], su.BOUNDARY) }, e.prototype.insertPoint = function (t, e, n) { var i = this._nodes.addNode(e), r = i.getLabel(); null === r ? i._label = new hc(t, n) : r.setLocation(t, n) }, e.prototype.createEdgeSetIntersector = function () { return new Vp }, e.prototype.addSelfIntersectionNodes = function (t) { for (var e = this._edges.iterator(); e.hasNext();)for (var n = e.next(), i = n.getLabel().getLocation(t), r = n.eiList.iterator(); r.hasNext();) { var o = r.next(); this.addSelfIntersectionNode(t, o.coord, i) } }, e.prototype.add = function () { if (1 !== arguments.length) return t.prototype.add.apply(this, arguments); var e = arguments[0]; if (e.isEmpty()) return null; if (e instanceof kl && (this._useBoundaryDeterminationRule = !1), e instanceof Ml) this.addPolygon(e); else if (e instanceof Il) this.addLineString(e); else if (e instanceof Pl) this.addPoint(e); else if (e instanceof Ll) this.addCollection(e); else if (e instanceof xl) this.addCollection(e); else if (e instanceof kl) this.addCollection(e); else { if (!(e instanceof wl)) throw new Error(e.getClass().getName()); this.addCollection(e) } }, e.prototype.addCollection = function (t) { for (var e = 0; e < t.getNumGeometries(); e++) { var n = t.getGeometryN(e); this.add(n) } }, e.prototype.locate = function (t) { return uu(this._parentGeom, Al) && this._parentGeom.getNumGeometries() > 50 ? (null === this._areaPtLocator && (this._areaPtLocator = new Zp(this._parentGeom)), this._areaPtLocator.locate(t)) : this._ptLocator.locate(t, this._parentGeom) }, e.prototype.findEdge = function () { if (1 === arguments.length) { var e = arguments[0]; return this._lineEdgeMap.get(e) } return t.prototype.findEdge.apply(this, arguments) }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e.determineBoundary = function (t, e) { return t.isInBoundary(e) ? su.BOUNDARY : su.INTERIOR }, e }(Ec), nf = function () { if (this._li = new Fu, this._resultPrecisionModel = null, this._arg = null, 1 === arguments.length) { var t = arguments[0]; this.setComputationPrecision(t.getPrecisionModel()), this._arg = new Array(1).fill(null), this._arg[0] = new ef(0, t) } else if (2 === arguments.length) { var e = arguments[0], n = arguments[1], i = Gu.OGC_SFS_BOUNDARY_RULE; e.getPrecisionModel().compareTo(n.getPrecisionModel()) >= 0 ? this.setComputationPrecision(e.getPrecisionModel()) : this.setComputationPrecision(n.getPrecisionModel()), this._arg = new Array(2).fill(null), this._arg[0] = new ef(0, e, i), this._arg[1] = new ef(1, n, i) } else if (3 === arguments.length) { var r = arguments[0], o = arguments[1], s = arguments[2]; r.getPrecisionModel().compareTo(o.getPrecisionModel()) >= 0 ? this.setComputationPrecision(r.getPrecisionModel()) : this.setComputationPrecision(o.getPrecisionModel()), this._arg = new Array(2).fill(null), this._arg[0] = new ef(0, r, s), this._arg[1] = new ef(1, o, s) } }; nf.prototype.getArgGeometry = function (t) { return this._arg[t].getGeometry() }, nf.prototype.setComputationPrecision = function (t) { this._resultPrecisionModel = t, this._li.setPrecisionModel(this._resultPrecisionModel) }, nf.prototype.interfaces_ = function () { return [] }, nf.prototype.getClass = function () { return nf }; var rf = function () { }; rf.prototype.interfaces_ = function () { return [] }, rf.prototype.getClass = function () { return rf }, rf.map = function () { if (arguments[0] instanceof zu && uu(arguments[1], rf.MapOp)) { for (var t = arguments[0], e = arguments[1], n = new nl, i = 0; i < t.getNumGeometries(); i++) { var r = e.map(t.getGeometryN(i)); null !== r && n.add(r) } return t.getFactory().buildGeometry(n) } if (uu(arguments[0], Ku) && uu(arguments[1], rf.MapOp)) { for (var o = arguments[0], s = arguments[1], a = new nl, u = o.iterator(); u.hasNext();) { var l = u.next(), c = s.map(l); null !== c && a.add(c) } return a } }, rf.MapOp = function () { }; var of = function (t) { function e() { var e = arguments[0], n = arguments[1]; t.call(this, e, n), this._ptLocator = new ip, this._geomFact = null, this._resultGeom = null, this._graph = null, this._edgeList = new Dh, this._resultPolyList = new nl, this._resultLineList = new nl, this._resultPointList = new nl, this._graph = new Ec(new Eh), this._geomFact = e.getFactory() } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.insertUniqueEdge = function (t) { var e = this._edgeList.findEqualEdge(t); if (null !== e) { var n = e.getLabel(), i = t.getLabel(); e.isPointwiseEqual(t) || (i = new hc(t.getLabel())).flip(); var r = e.getDepth(); r.isNull() && r.add(n), r.add(i), n.merge(i) } else this._edgeList.add(t) }, e.prototype.getGraph = function () { return this._graph }, e.prototype.cancelDuplicateResultEdges = function () { for (var t = this._graph.getEdgeEnds().iterator(); t.hasNext();) { var e = t.next(), n = e.getSym(); e.isInResult() && n.isInResult() && (e.setInResult(!1), n.setInResult(!1)) } }, e.prototype.isCoveredByLA = function (t) { return !!this.isCovered(t, this._resultLineList) || !!this.isCovered(t, this._resultPolyList) }, e.prototype.computeGeometry = function (t, n, i, r) { var o = new nl; return o.addAll(t), o.addAll(n), o.addAll(i), o.isEmpty() ? e.createEmptyResult(r, this._arg[0].getGeometry(), this._arg[1].getGeometry(), this._geomFact) : this._geomFact.buildGeometry(o) }, e.prototype.mergeSymLabels = function () { for (var t = this._graph.getNodes().iterator(); t.hasNext();)t.next().getEdges().mergeSymLabels() }, e.prototype.isCovered = function (t, e) { for (var n = e.iterator(); n.hasNext();) { var i = n.next(); if (this._ptLocator.locate(t, i) !== su.EXTERIOR) return !0 } return !1 }, e.prototype.replaceCollapsedEdges = function () { for (var t = new nl, e = this._edgeList.iterator(); e.hasNext();) { var n = e.next(); n.isCollapsed() && (e.remove(), t.add(n.getCollapsedEdge())) } this._edgeList.addAll(t) }, e.prototype.updateNodeLabelling = function () { for (var t = this._graph.getNodes().iterator(); t.hasNext();) { var e = t.next(), n = e.getEdges().getLabel(); e.getLabel().merge(n) } }, e.prototype.getResultGeometry = function (t) { return this.computeOverlay(t), this._resultGeom }, e.prototype.insertUniqueEdges = function (t) { for (var e = t.iterator(); e.hasNext();) { var n = e.next(); this.insertUniqueEdge(n) } }, e.prototype.computeOverlay = function (t) { this.copyPoints(0), this.copyPoints(1), this._arg[0].computeSelfNodes(this._li, !1), this._arg[1].computeSelfNodes(this._li, !1), this._arg[0].computeEdgeIntersections(this._arg[1], this._li, !0); var e = new nl; this._arg[0].computeSplitEdges(e), this._arg[1].computeSplitEdges(e), this.insertUniqueEdges(e), this.computeLabelsFromDepths(), this.replaceCollapsedEdges(), xp.checkValid(this._edgeList.getEdges()), this._graph.addEdges(this._edgeList.getEdges()), this.computeLabelling(), this.labelIncompleteNodes(), this.findResultAreaEdges(t), this.cancelDuplicateResultEdges(); var n = new Cc(this._geomFact); n.add(this._graph), this._resultPolyList = n.getPolygons(); var i = new Cp(this, this._geomFact, this._ptLocator); this._resultLineList = i.build(t); var r = new Dp(this, this._geomFact, this._ptLocator); this._resultPointList = r.build(t), this._resultGeom = this.computeGeometry(this._resultPointList, this._resultLineList, this._resultPolyList, t) }, e.prototype.labelIncompleteNode = function (t, e) { var n = this._ptLocator.locate(t.getCoordinate(), this._arg[e].getGeometry()); t.getLabel().setLocation(e, n) }, e.prototype.copyPoints = function (t) { for (var e = this._arg[t].getNodeIterator(); e.hasNext();) { var n = e.next(); this._graph.addNode(n.getCoordinate()).setLabel(t, n.getLabel().getLocation(t)) } }, e.prototype.findResultAreaEdges = function (t) { for (var n = this._graph.getEdgeEnds().iterator(); n.hasNext();) { var i = n.next(), r = i.getLabel(); r.isArea() && !i.isInteriorAreaEdge() && e.isResultOfOp(r.getLocation(0, rc.RIGHT), r.getLocation(1, rc.RIGHT), t) && i.setInResult(!0) } }, e.prototype.computeLabelsFromDepths = function () { for (var t = this._edgeList.iterator(); t.hasNext();) { var e = t.next(), n = e.getLabel(), i = e.getDepth(); if (!i.isNull()) { i.normalize(); for (var r = 0; r < 2; r++)n.isNull(r) || !n.isArea() || i.isNull(r) || (0 === i.getDelta(r) ? n.toLine(r) : (Lu.isTrue(!i.isNull(r, rc.LEFT), "depth of LEFT side has not been initialized"), n.setLocation(r, rc.LEFT, i.getLocation(r, rc.LEFT)), Lu.isTrue(!i.isNull(r, rc.RIGHT), "depth of RIGHT side has not been initialized"), n.setLocation(r, rc.RIGHT, i.getLocation(r, rc.RIGHT)))) } } }, e.prototype.computeLabelling = function () { for (var t = this._graph.getNodes().iterator(); t.hasNext();)t.next().getEdges().computeLabelling(this._arg); this.mergeSymLabels(), this.updateNodeLabelling() }, e.prototype.labelIncompleteNodes = function () { for (var t = this._graph.getNodes().iterator(); t.hasNext();) { var e = t.next(), n = e.getLabel(); e.isIsolated() && (n.isNull(0) ? this.labelIncompleteNode(e, 0) : this.labelIncompleteNode(e, 1)), e.getEdges().updateLabelling(n) } }, e.prototype.isCoveredByA = function (t) { return !!this.isCovered(t, this._resultPolyList) }, e.prototype.interfaces_ = function () { return [] }, e.prototype.getClass = function () { return e }, e }(nf); of.overlayOp = function (t, e, n) { return new of(t, e).getResultGeometry(n) }, of.intersection = function (t, e) { if (t.isEmpty() || e.isEmpty()) return of.createEmptyResult(of.INTERSECTION, t, e, t.getFactory()); if (t.isGeometryCollection()) { var n = e; return Ep.map(t, { interfaces_: function () { return [rf.MapOp] }, map: function (t) { return t.intersection(n) } }) } return t.checkNotGeometryCollection(t), t.checkNotGeometryCollection(e), Rp.overlayOp(t, e, of.INTERSECTION) }, of.symDifference = function (t, e) { if (t.isEmpty() || e.isEmpty()) { if (t.isEmpty() && e.isEmpty()) return of.createEmptyResult(of.SYMDIFFERENCE, t, e, t.getFactory()); if (t.isEmpty()) return e.copy(); if (e.isEmpty()) return t.copy() } return t.checkNotGeometryCollection(t), t.checkNotGeometryCollection(e), Rp.overlayOp(t, e, of.SYMDIFFERENCE) }, of.resultDimension = function (t, e, n) { var i = e.getDimension(), r = n.getDimension(), o = -1; switch (t) { case of.INTERSECTION: o = Math.min(i, r); break; case of.UNION: o = Math.max(i, r); break; case of.DIFFERENCE: o = i; break; case of.SYMDIFFERENCE: o = Math.max(i, r) }return o }, of.createEmptyResult = function (t, e, n, i) { var r = null; switch (of.resultDimension(t, e, n)) { case -1: r = i.createGeometryCollection(new Array(0).fill(null)); break; case 0: r = i.createPoint(); break; case 1: r = i.createLineString(); break; case 2: r = i.createPolygon() }return r }, of.difference = function (t, e) { return t.isEmpty() ? of.createEmptyResult(of.DIFFERENCE, t, e, t.getFactory()) : e.isEmpty() ? t.copy() : (t.checkNotGeometryCollection(t), t.checkNotGeometryCollection(e), Rp.overlayOp(t, e, of.DIFFERENCE)) }, of.isResultOfOp = function () { if (2 === arguments.length) { var t = arguments[0], e = arguments[1], n = t.getLocation(0), i = t.getLocation(1); return of.isResultOfOp(n, i, e) } if (3 === arguments.length) { var r = arguments[0], o = arguments[1], s = arguments[2]; switch (r === su.BOUNDARY && (r = su.INTERIOR), o === su.BOUNDARY && (o = su.INTERIOR), s) { case of.INTERSECTION: return r === su.INTERIOR && o === su.INTERIOR; case of.UNION: return r === su.INTERIOR || o === su.INTERIOR; case of.DIFFERENCE: return r === su.INTERIOR && o !== su.INTERIOR; case of.SYMDIFFERENCE: return r === su.INTERIOR && o !== su.INTERIOR || r !== su.INTERIOR && o === su.INTERIOR }return !1 } }, of.INTERSECTION = 1, of.UNION = 2, of.DIFFERENCE = 3, of.SYMDIFFERENCE = 4; var sf = function () { this._g = null, this._boundaryDistanceTolerance = null, this._linework = null, this._ptLocator = new ip, this._seg = new Xc; var t = arguments[0], e = arguments[1]; this._g = t, this._boundaryDistanceTolerance = e, this._linework = this.extractLinework(t) }; sf.prototype.isWithinToleranceOfBoundary = function (t) { for (var e = 0; e < this._linework.getNumGeometries(); e++)for (var n = this._linework.getGeometryN(e).getCoordinateSequence(), i = 0; i < n.size() - 1; i++)if (n.getCoordinate(i, this._seg.p0), n.getCoordinate(i + 1, this._seg.p1), this._seg.distance(t) <= this._boundaryDistanceTolerance) return !0; return !1 }, sf.prototype.getLocation = function (t) { return this.isWithinToleranceOfBoundary(t) ? su.BOUNDARY : this._ptLocator.locate(t, this._g) }, sf.prototype.extractLinework = function (t) { var e = new af; t.apply(e); var n = e.getLinework(), i = Jl.toLineStringArray(n); return t.getFactory().createMultiLineString(i) }, sf.prototype.interfaces_ = function () { return [] }, sf.prototype.getClass = function () { return sf }; var af = function () { this._linework = null, this._linework = new nl }; af.prototype.getLinework = function () { return this._linework }, af.prototype.filter = function (t) { if (t instanceof Ml) { var e = t; this._linework.add(e.getExteriorRing()); for (var n = 0; n < e.getNumInteriorRing(); n++)this._linework.add(e.getInteriorRingN(n)) } }, af.prototype.interfaces_ = function () { return [_l] }, af.prototype.getClass = function () { return af }; var uf = function () { this._g = null, this._doLeft = !0, this._doRight = !0; var t = arguments[0]; this._g = t }; uf.prototype.extractPoints = function (t, e, n) { for (var i = t.getCoordinates(), r = 0; r < i.length - 1; r++)this.computeOffsetPoints(i[r], i[r + 1], e, n) }, uf.prototype.setSidesToGenerate = function (t, e) { this._doLeft = t, this._doRight = e }, uf.prototype.getPoints = function (t) { for (var e = new nl, n = np.getLines(this._g).iterator(); n.hasNext();) { var i = n.next(); this.extractPoints(i, t, e) } return e }, uf.prototype.computeOffsetPoints = function (t, e, n, i) { var r = e.x - t.x, o = e.y - t.y, s = Math.sqrt(r * r + o * o), a = n * r / s, u = n * o / s, l = (e.x + t.x) / 2, c = (e.y + t.y) / 2; if (this._doLeft) { var h = new nu(l - u, c + a); i.add(h) } if (this._doRight) { var p = new nu(l + u, c - a); i.add(p) } }, uf.prototype.interfaces_ = function () { return [] }, uf.prototype.getClass = function () { return uf }; var lf = function t() { this._geom = null, this._locFinder = null, this._location = new Array(3).fill(null), this._invalidLocation = null, this._boundaryDistanceTolerance = t.TOLERANCE, this._testCoords = new nl; var e = arguments[0], n = arguments[1], i = arguments[2]; this._boundaryDistanceTolerance = t.computeBoundaryDistanceTolerance(e, n), this._geom = [e, n, i], this._locFinder = [new sf(this._geom[0], this._boundaryDistanceTolerance), new sf(this._geom[1], this._boundaryDistanceTolerance), new sf(this._geom[2], this._boundaryDistanceTolerance)] }, cf = { TOLERANCE: { configurable: !0 } }; lf.prototype.reportResult = function (t, e, n) { xu.out.println("Overlay result invalid - A:" + su.toLocationSymbol(e[0]) + " B:" + su.toLocationSymbol(e[1]) + " expected:" + (n ? "i" : "e") + " actual:" + su.toLocationSymbol(e[2])) }, lf.prototype.isValid = function (t) { return this.addTestPts(this._geom[0]), this.addTestPts(this._geom[1]), this.checkValid(t) }, lf.prototype.checkValid = function () { if (1 === arguments.length) { for (var t = arguments[0], e = 0; e < this._testCoords.size(); e++) { var n = this._testCoords.get(e); if (!this.checkValid(t, n)) return this._invalidLocation = n, !1 } return !0 } if (2 === arguments.length) { var i = arguments[0], r = arguments[1]; return this._location[0] = this._locFinder[0].getLocation(r), this._location[1] = this._locFinder[1].getLocation(r), this._location[2] = this._locFinder[2].getLocation(r), !!lf.hasLocation(this._location, su.BOUNDARY) || this.isValidResult(i, this._location) } }, lf.prototype.addTestPts = function (t) { var e = new uf(t); this._testCoords.addAll(e.getPoints(5 * this._boundaryDistanceTolerance)) }, lf.prototype.isValidResult = function (t, e) { var n = of.isResultOfOp(e[0], e[1], t), i = !(n ^ e[2] === su.INTERIOR); return i || this.reportResult(t, e, n), i }, lf.prototype.getInvalidLocation = function () { return this._invalidLocation }, lf.prototype.interfaces_ = function () { return [] }, lf.prototype.getClass = function () { return lf }, lf.hasLocation = function (t, e) { for (var n = 0; n < 3; n++)if (t[n] === e) return !0; return !1 }, lf.computeBoundaryDistanceTolerance = function (t, e) { return Math.min(Ip.computeSizeBasedSnapTolerance(t), Ip.computeSizeBasedSnapTolerance(e)) }, lf.isValid = function (t, e, n, i) { return new lf(t, e, i).isValid(n) }, cf.TOLERANCE.get = function () { return 1e-6 }, Object.defineProperties(lf, cf); var hf = function t(e) { this._geomFactory = null, this._skipEmpty = !1, this._inputGeoms = null, this._geomFactory = t.extractFactory(e), this._inputGeoms = e }; hf.prototype.extractElements = function (t, e) { if (null === t) return null; for (var n = 0; n < t.getNumGeometries(); n++) { var i = t.getGeometryN(n); this._skipEmpty && i.isEmpty() || e.add(i) } }, hf.prototype.combine = function () { for (var t = new nl, e = this._inputGeoms.iterator(); e.hasNext();) { var n = e.next(); this.extractElements(n, t) } return 0 === t.size() ? null !== this._geomFactory ? this._geomFactory.createGeometryCollection(null) : null : this._geomFactory.buildGeometry(t) }, hf.prototype.interfaces_ = function () { return [] }, hf.prototype.getClass = function () { return hf }, hf.combine = function () { if (1 === arguments.length) { var t = arguments[0]; return new hf(t).combine() } if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; return new hf(hf.createList(e, n)).combine() } if (3 === arguments.length) { var i = arguments[0], r = arguments[1], o = arguments[2]; return new hf(hf.createList(i, r, o)).combine() } }, hf.extractFactory = function (t) { return t.isEmpty() ? null : t.iterator().next().getFactory() }, hf.createList = function () { if (2 === arguments.length) { var t = arguments[0], e = arguments[1], n = new nl; return n.add(t), n.add(e), n } if (3 === arguments.length) { var i = arguments[0], r = arguments[1], o = arguments[2], s = new nl; return s.add(i), s.add(r), s.add(o), s } }; var pf = function () { this._inputPolys = null, this._geomFactory = null; var t = arguments[0]; this._inputPolys = t, null === this._inputPolys && (this._inputPolys = new nl) }, ff = { STRTREE_NODE_CAPACITY: { configurable: !0 } }; pf.prototype.reduceToGeometries = function (t) { for (var e = new nl, n = t.iterator(); n.hasNext();) { var i = n.next(), r = null; uu(i, el) ? r = this.unionTree(i) : i instanceof zu && (r = i), e.add(r) } return e }, pf.prototype.extractByEnvelope = function (t, e, n) { for (var i = new nl, r = 0; r < e.getNumGeometries(); r++) { var o = e.getGeometryN(r); o.getEnvelopeInternal().intersects(t) ? i.add(o) : n.add(o) } return this._geomFactory.buildGeometry(i) }, pf.prototype.unionOptimized = function (t, e) { var n = t.getEnvelopeInternal(), i = e.getEnvelopeInternal(); if (!n.intersects(i)) return hf.combine(t, e); if (t.getNumGeometries() <= 1 && e.getNumGeometries() <= 1) return this.unionActual(t, e); var r = n.intersection(i); return this.unionUsingEnvelopeIntersection(t, e, r) }, pf.prototype.union = function () { if (null === this._inputPolys) throw new Error("union() method cannot be called twice"); if (this._inputPolys.isEmpty()) return null; this._geomFactory = this._inputPolys.iterator().next().getFactory(); for (var t = new qc(pf.STRTREE_NODE_CAPACITY), e = this._inputPolys.iterator(); e.hasNext();) { var n = e.next(); t.insert(n.getEnvelopeInternal(), n) } this._inputPolys = null; var i = t.itemsTree(); return this.unionTree(i) }, pf.prototype.binaryUnion = function () { if (1 === arguments.length) { var t = arguments[0]; return this.binaryUnion(t, 0, t.size()) } if (3 === arguments.length) { var e = arguments[0], n = arguments[1], i = arguments[2]; if (i - n <= 1) { var r = pf.getGeometry(e, n); return this.unionSafe(r, null) } if (i - n == 2) return this.unionSafe(pf.getGeometry(e, n), pf.getGeometry(e, n + 1)); var o = Math.trunc((i + n) / 2), s = this.binaryUnion(e, n, o), a = this.binaryUnion(e, o, i); return this.unionSafe(s, a) } }, pf.prototype.repeatedUnion = function (t) { for (var e = null, n = t.iterator(); n.hasNext();) { var i = n.next(); e = null === e ? i.copy() : e.union(i) } return e }, pf.prototype.unionSafe = function (t, e) { return null === t && null === e ? null : null === t ? e.copy() : null === e ? t.copy() : this.unionOptimized(t, e) }, pf.prototype.unionActual = function (t, e) { return pf.restrictToPolygons(t.union(e)) }, pf.prototype.unionTree = function (t) { var e = this.reduceToGeometries(t); return this.binaryUnion(e) }, pf.prototype.unionUsingEnvelopeIntersection = function (t, e, n) { var i = new nl, r = this.extractByEnvelope(n, t, i), o = this.extractByEnvelope(n, e, i), s = this.unionActual(r, o); return i.add(s), hf.combine(i) }, pf.prototype.bufferUnion = function () { if (1 === arguments.length) { var t = arguments[0]; return t.get(0).getFactory().buildGeometry(t).buffer(0) } if (2 === arguments.length) { var e = arguments[0], n = arguments[1]; return e.getFactory().createGeometryCollection([e, n]).buffer(0) } }, pf.prototype.interfaces_ = function () { return [] }, pf.prototype.getClass = function () { return pf }, pf.restrictToPolygons = function (t) { if (uu(t, Al)) return t; var e = ep.getPolygons(t); return 1 === e.size() ? e.get(0) : t.getFactory().createMultiPolygon(Jl.toPolygonArray(e)) }, pf.getGeometry = function (t, e) { return e >= t.size() ? null : t.get(e) }, pf.union = function (t) { return new pf(t).union() }, ff.STRTREE_NODE_CAPACITY.get = function () { return 4 }, Object.defineProperties(pf, ff); var df = function () { }; df.prototype.interfaces_ = function () { return [] }, df.prototype.getClass = function () { return df }, df.union = function (t, e) { if (t.isEmpty() || e.isEmpty()) { if (t.isEmpty() && e.isEmpty()) return of.createEmptyResult(of.UNION, t, e, t.getFactory()); if (t.isEmpty()) return e.copy(); if (e.isEmpty()) return t.copy() } return t.checkNotGeometryCollection(t), t.checkNotGeometryCollection(e), Rp.overlayOp(t, e, of.UNION) }; var gf = function () { return new Lr }; Lr.prototype = { constructor: Lr, reset: function () { this.s = this.t = 0 }, add: function (t) { Or(yf, t, this.t), Or(this, yf.s, this.s), this.s ? this.t += yf.t : this.s = yf.t }, valueOf: function () { return this.s } }; var yf = new Lr, mf = 1e-6, vf = Math.PI, _f = vf / 2, bf = vf / 4, wf = 2 * vf, xf = 180 / vf, Ef = vf / 180, Cf = Math.abs, Df = Math.atan, Sf = Math.atan2, Tf = Math.cos, If = Math.exp, Nf = Math.log, Pf = Math.sin, Af = Math.sqrt, Mf = Math.tan, Lf = { Feature: function (t, e) { Rr(t.geometry, e) }, FeatureCollection: function (t, e) { for (var n = t.features, i = -1, r = n.length; ++i < r;)Rr(n[i].geometry, e) } }, Of = { Sphere: function (t, e) { e.sphere() }, Point: function (t, e) { t = t.coordinates, e.point(t[0], t[1], t[2]) }, MultiPoint: function (t, e) { for (var n = t.coordinates, i = -1, r = n.length; ++i < r;)t = n[i], e.point(t[0], t[1], t[2]) }, LineString: function (t, e) { qr(t.coordinates, e, 0) }, MultiLineString: function (t, e) { for (var n = t.coordinates, i = -1, r = n.length; ++i < r;)qr(n[i], e, 0) }, Polygon: function (t, e) { jr(t.coordinates, e) }, MultiPolygon: function (t, e) { for (var n = t.coordinates, i = -1, r = n.length; ++i < r;)jr(n[i], e) }, GeometryCollection: function (t, e) { for (var n = t.geometries, i = -1, r = n.length; ++i < r;)Rr(n[i], e) } }, kf = function (t, e) { t && Lf.hasOwnProperty(t.type) ? Lf[t.type](t, e) : Rr(t, e) }, Ff = (gf(), gf(), gf(), function (t, e) { function n(n, i) { return n = t(n, i), e(n[0], n[1]) } return t.invert && e.invert && (n.invert = function (n, i) { return (n = e.invert(n, i)) && t.invert(n[0], n[1]) }), n }); Xr.invert = Xr; var Rf = function () { var t, e = []; return { point: function (e, n) { t.push([e, n]) }, lineStart: function () { e.push(t = []) }, lineEnd: Fr, rejoin: function () { e.length > 1 && e.push(e.pop().concat(e.shift())) }, result: function () { var n = e; return e = [], t = null, n } } }, qf = function (t, e, n, i, r, o) { var s, a = t[0], u = t[1], l = 0, c = 1, h = e[0] - a, p = e[1] - u; if (s = n - a, h || !(s > 0)) { if (s /= h, h < 0) { if (s < l) return; s < c && (c = s) } else if (h > 0) { if (s > c) return; s > l && (l = s) } if (s = r - a, h || !(s < 0)) { if (s /= h, h < 0) { if (s > c) return; s > l && (l = s) } else if (h > 0) { if (s < l) return; s < c && (c = s) } if (s = i - u, p || !(s > 0)) { if (s /= p, p < 0) { if (s < l) return; s < c && (c = s) } else if (p > 0) { if (s > c) return; s > l && (l = s) } if (s = o - u, p || !(s < 0)) { if (s /= p, p < 0) { if (s > c) return; s > l && (l = s) } else if (p > 0) { if (s < l) return; s < c && (c = s) } return l > 0 && (t[0] = a + l * h, t[1] = u + l * p), c < 1 && (e[0] = a + c * h, e[1] = u + c * p), !0 } } } } }, jf = function (t, e) { return Cf(t[0] - e[0]) < mf && Cf(t[1] - e[1]) < mf }, Bf = function (t, e, n, i, r) { var o, s, a = [], u = []; if (t.forEach((function (t) { if (!((e = t.length - 1) <= 0)) { var e, n, i = t[0], s = t[e]; if (jf(i, s)) { for (r.lineStart(), o = 0; o < e; ++o)r.point((i = t[o])[0], i[1]); r.lineEnd() } else a.push(n = new Qr(i, t, null, !0)), u.push(n.o = new Qr(i, null, n, !1)), a.push(n = new Qr(s, t, null, !1)), u.push(n.o = new Qr(s, null, n, !0)) } })), a.length) { for (u.sort(e), to(a), to(u), o = 0, s = u.length; o < s; ++o)u[o].e = n = !n; for (var l, c, h = a[0]; ;) { for (var p = h, f = !0; p.v;)if ((p = p.n) === h) return; l = p.z, r.lineStart(); do { if (p.v = p.o.v = !0, p.e) { if (f) for (o = 0, s = l.length; o < s; ++o)r.point((c = l[o])[0], c[1]); else i(p.x, p.n.x, 1, r); p = p.n } else { if (f) for (l = p.p.z, o = l.length - 1; o >= 0; --o)r.point((c = l[o])[0], c[1]); else i(p.x, p.p.x, -1, r); p = p.p } l = (p = p.o).z, f = !f } while (!p.v); r.lineEnd() } } }, $f = function (t, e) { return t < e ? -1 : t > e ? 1 : t >= e ? 0 : NaN }, zf = (function (t) { 1 === t.length && (t = function (t) { return function (e, n) { return $f(t(e), n) } }(t)) }($f), function (t) { for (var e, n, i, r = t.length, o = -1, s = 0; ++o < r;)s += t[o].length; for (n = new Array(s); --r >= 0;)for (e = (i = t[r]).length; --e >= 0;)n[--s] = i[e]; return n }), Vf = 1e9, Uf = -Vf, Hf = gf(), Gf = (gf(), function (t) { return t }), Xf = (gf(), gf(), 1 / 0), Yf = Xf, Wf = -Xf, Jf = Wf, Zf = { point: function (t, e) { t < Xf && (Xf = t), t > Wf && (Wf = t), e < Yf && (Yf = e), e > Jf && (Jf = e) }, lineStart: Fr, lineEnd: Fr, polygonStart: Fr, polygonEnd: Fr, result: function () { var t = [[Xf, Yf], [Wf, Jf]]; return Wf = Jf = -(Yf = Xf = 1 / 0), t } }, Kf = (gf(), function (t, e, n, i) { return function (r, o) { function s(e, n) { var i = r(e, n); t(e = i[0], n = i[1]) && o.point(e, n) } function a(t, e) { var n = r(t, e); y.point(n[0], n[1]) } function u() { w.point = a, y.lineStart() } function l() { w.point = s, y.lineEnd() } function c(t, e) { g.push([t, e]); var n = r(t, e); _.point(n[0], n[1]) } function h() { _.lineStart(), g = [] } function p() { c(g[0][0], g[0][1]), _.lineEnd(); var t, e, n, i, r = _.clean(), s = v.result(), a = s.length; if (g.pop(), f.push(g), g = null, a) if (1 & r) { if ((e = (n = s[0]).length - 1) > 0) { for (b || (o.polygonStart(), b = !0), o.lineStart(), t = 0; t < e; ++t)o.point((i = n[t])[0], i[1]); o.lineEnd() } } else a > 1 && 2 & r && s.push(s.pop().concat(s.shift())), d.push(s.filter(no)) } var f, d, g, y = e(o), m = r.invert(i[0], i[1]), v = Rf(), _ = e(v), b = !1, w = { point: s, lineStart: u, lineEnd: l, polygonStart: function () { w.point = c, w.lineStart = h, w.lineEnd = p, d = [], f = [] }, polygonEnd: function () { w.point = s, w.lineStart = u, w.lineEnd = l, d = zf(d); var t = function (t, e) { var n = e[0], i = e[1], r = [Pf(n), -Tf(n), 0], o = 0, s = 0; Hf.reset(); for (var a = 0, u = t.length; a < u; ++a)if (c = (l = t[a]).length) for (var l, c, h = l[c - 1], p = h[0], f = h[1] / 2 + bf, d = Pf(f), g = Tf(f), y = 0; y < c; ++y, p = v, d = b, g = w, h = m) { var m = l[y], v = m[0], _ = m[1] / 2 + bf, b = Pf(_), w = Tf(_), x = v - p, E = x >= 0 ? 1 : -1, C = E * x, D = C > vf, S = d * b; if (Hf.add(Sf(S * E * Pf(C), g * w + S * Tf(C))), o += D ? x + E * wf : x, D ^ p >= n ^ v >= n) { var T = Vr($r(h), $r(m)); Gr(T); var I = Vr(r, T); Gr(I); var N = (D ^ x >= 0 ? -1 : 1) * kr(I[2]); (i > N || i === N && (T[0] || T[1])) && (s += D ^ x >= 0 ? 1 : -1) } } return (o < -mf || o < mf && Hf < -mf) ^ 1 & s }(f, m); d.length ? (b || (o.polygonStart(), b = !0), Bf(d, io, t, n, o)) : t && (b || (o.polygonStart(), b = !0), o.lineStart(), n(null, null, 1, o), o.lineEnd()), b && (o.polygonEnd(), b = !1), d = f = null }, sphere: function () { o.polygonStart(), o.lineStart(), n(null, null, 1, o), o.lineEnd(), o.polygonEnd() } }; return w } }), Qf = Kf((function () { return !0 }), (function (t) { var e, n = NaN, i = NaN, r = NaN; return { lineStart: function () { t.lineStart(), e = 1 }, point: function (o, s) { var a = o > 0 ? vf : -vf, u = Cf(o - n); Cf(u - vf) < mf ? (t.point(n, i = (i + s) / 2 > 0 ? _f : -_f), t.point(r, i), t.lineEnd(), t.lineStart(), t.point(a, i), t.point(o, i), e = 0) : r !== a && u >= vf && (Cf(n - r) < mf && (n -= r * mf), Cf(o - a) < mf && (o -= a * mf), i = function (t, e, n, i) { var r, o, s = Pf(t - n); return Cf(s) > mf ? Df((Pf(e) * (o = Tf(i)) * Pf(n) - Pf(i) * (r = Tf(e)) * Pf(t)) / (r * o * s)) : (e + i) / 2 }(n, i, o, s), t.point(r, i), t.lineEnd(), t.lineStart(), t.point(a, i), e = 0), t.point(n = o, i = s), r = a }, lineEnd: function () { t.lineEnd(), n = i = NaN }, clean: function () { return 2 - e } } }), (function (t, e, n, i) { var r; if (null == t) r = n * _f, i.point(-vf, r), i.point(0, r), i.point(vf, r), i.point(vf, 0), i.point(vf, -r), i.point(0, -r), i.point(-vf, -r), i.point(-vf, 0), i.point(-vf, r); else if (Cf(t[0] - e[0]) > mf) { var o = t[0] < e[0] ? vf : -vf; r = n * o / 2, i.point(-o, r), i.point(0, r), i.point(o, r) } else i.point(e[0], e[1]) }), [-vf, -_f]), td = function (t, e) { function n(t, e) { return Tf(t) * Tf(e) > o } function i(t, e, n) { var i = [1, 0, 0], r = Vr($r(t), $r(e)), s = zr(r, r), a = r[0], u = s - a * a; if (!u) return !n && t; var l = o * s / u, c = -o * a / u, h = Vr(i, r), p = Hr(i, l); Ur(p, Hr(r, c)); var f = h, d = zr(p, f), g = zr(f, f), y = d * d - g * (zr(p, p) - 1); if (!(y < 0)) { var m = Af(y), v = Hr(f, (-d - m) / g); if (Ur(v, p), v = Br(v), !n) return v; var _, b = t[0], w = e[0], x = t[1], E = e[1]; w < b && (_ = b, b = w, w = _); var C = w - b, D = Cf(C - vf) < mf; if (!D && E < x && (_ = x, x = E, E = _), D || C < mf ? D ? x + E > 0 ^ v[1] < (Cf(v[0] - b) < mf ? x : E) : x <= v[1] && v[1] <= E : C > vf ^ (b <= v[0] && v[0] <= w)) { var S = Hr(f, (-d + m) / g); return Ur(S, p), [v, Br(S)] } } } function r(e, n) { var i = s ? t : vf - t, r = 0; return e < -i ? r |= 1 : e > i && (r |= 2), n < -i ? r |= 4 : n > i && (r |= 8), r } var o = Tf(t), s = o > 0, a = Cf(o) > mf; return Kf(n, (function (t) { var e, o, u, l, c; return { lineStart: function () { l = u = !1, c = 1 }, point: function (h, p) { var f, d = [h, p], g = n(h, p), y = s ? g ? 0 : r(h, p) : g ? r(h + (h < 0 ? vf : -vf), p) : 0; if (!e && (l = u = g) && t.lineStart(), g !== u && (!(f = i(e, d)) || jf(e, f) || jf(d, f)) && (d[0] += mf, d[1] += mf, g = n(d[0], d[1])), g !== u) c = 0, g ? (t.lineStart(), f = i(d, e), t.point(f[0], f[1])) : (f = i(e, d), t.point(f[0], f[1]), t.lineEnd()), e = f; else if (a && e && s ^ g) { var m; y & o || !(m = i(d, e, !0)) || (c = 0, s ? (t.lineStart(), t.point(m[0][0], m[0][1]), t.point(m[1][0], m[1][1]), t.lineEnd()) : (t.point(m[1][0], m[1][1]), t.lineEnd(), t.lineStart(), t.point(m[0][0], m[0][1]))) } !g || e && jf(e, d) || t.point(d[0], d[1]), e = d, u = g, o = y }, lineEnd: function () { u && t.lineEnd(), e = null }, clean: function () { return c | (l && u) << 1 } } }), (function (n, i, r, o) { !function (t, e, n, i, r, o) { if (n) { var s = Tf(e), a = Pf(e), u = i * n; null == r ? (r = e + i * wf, o = e - u / 2) : (r = Kr(s, r), o = Kr(s, o), (i > 0 ? r < o : r > o) && (r += i * wf)); for (var l, c = r; i > 0 ? c > o : c < o; c -= u)l = Br([s, -a * Tf(c), -a * Pf(c)]), t.point(l[0], l[1]) } }(o, t, e, r, n, i) }), s ? [0, -t] : [-vf, t - vf]) }; oo.prototype = { constructor: oo, point: function (t, e) { this.stream.point(t, e) }, sphere: function () { this.stream.sphere() }, lineStart: function () { this.stream.lineStart() }, lineEnd: function () { this.stream.lineEnd() }, polygonStart: function () { this.stream.polygonStart() }, polygonEnd: function () { this.stream.polygonEnd() } }; var ed = Tf(30 * Ef), nd = function (t, e) { return +e ? function (t, e) { function n(i, r, o, s, a, u, l, c, h, p, f, d, g, y) { var m = l - i, v = c - r, _ = m * m + v * v; if (_ > 4 * e && g--) { var b = s + p, w = a + f, x = u + d, E = Af(b * b + w * w + x * x), C = kr(x /= E), D = Cf(Cf(x) - 1) < mf || Cf(o - h) < mf ? (o + h) / 2 : Sf(w, b), S = t(D, C), T = S[0], I = S[1], N = T - i, P = I - r, A = v * N - m * P; (A * A / _ > e || Cf((m * N + v * P) / _ - .5) > .3 || s * p + a * f + u * d < ed) && (n(i, r, o, s, a, u, T, I, D, b /= E, w /= E, x, g, y), y.point(T, I), n(T, I, D, b, w, x, l, c, h, p, f, d, g, y)) } } return function (e) { function i(n, i) { n = t(n, i), e.point(n[0], n[1]) } function r() { m = NaN, x.point = o, e.lineStart() } function o(i, r) { var o = $r([i, r]), s = t(i, r); n(m, v, y, _, b, w, m = s[0], v = s[1], y = i, _ = o[0], b = o[1], w = o[2], 16, e), e.point(m, v) } function s() { x.point = i, e.lineEnd() } function a() { r(), x.point = u, x.lineEnd = l } function u(t, e) { o(c = t, e), h = m, p = v, f = _, d = b, g = w, x.point = o } function l() { n(m, v, y, _, b, w, h, p, c, f, d, g, 16, e), x.lineEnd = s, s() } var c, h, p, f, d, g, y, m, v, _, b, w, x = { point: i, lineStart: r, lineEnd: s, polygonStart: function () { e.polygonStart(), x.lineStart = a }, polygonEnd: function () { e.polygonEnd(), x.lineStart = r } }; return x } }(t, e) : function (t) { return ro({ point: function (e, n) { e = t(e, n), this.stream.point(e[0], e[1]) } }) }(t) }, id = ro({ point: function (t, e) { this.stream.point(t * Ef, e * Ef) } }); ao.invert = function (t, e) { return [t, 2 * Df(If(e)) - _f] }, uo.invert = function (t, e) { return [-e, 2 * Df(If(t)) - _f] }; var rd = function () { var t = function (t) { function e() { var e = vf * a(), s = o(function (t) { function e(e) { return (e = t(e[0] * Ef, e[1] * Ef))[0] *= xf, e[1] *= xf, e } return t = Yr(t[0] * Ef, t[1] * Ef, t.length > 2 ? t[2] * Ef : 0), e.invert = function (e) { return (e = t.invert(e[0] * Ef, e[1] * Ef))[0] *= xf, e[1] *= xf, e }, e }(o.rotate()).invert([0, 0])); return l(null == c ? [[s[0] - e, s[1] - e], [s[0] + e, s[1] + e]] : t === ao ? [[Math.max(s[0] - e, c), n], [Math.min(s[0] + e, i), r]] : [[c, Math.max(s[1] - e, n)], [i, Math.min(s[1] + e, r)]]) } var n, i, r, o = function (t) { return function (t) { function e(t) { return [(t = l(t[0] * Ef, t[1] * Ef))[0] * g + s, a - t[1] * g] } function n(t, e) { return [(t = o(t, e))[0] * g + s, a - t[1] * g] } function i() { l = Ff(u = Yr(b, w, x), o); var t = o(v, _); return s = y - t[0] * g, a = m + t[1] * g, r() } function r() { return f = d = null, e } var o, s, a, u, l, c, h, p, f, d, g = 150, y = 480, m = 250, v = 0, _ = 0, b = 0, w = 0, x = 0, E = null, C = Qf, D = null, S = Gf, T = .5, I = nd(n, T); return e.stream = function (t) { return f && d === t ? f : f = id(C(u, I(S(d = t)))) }, e.clipAngle = function (t) { return arguments.length ? (C = +t ? td(E = t * Ef, 6 * Ef) : (E = null, Qf), r()) : E * xf }, e.clipExtent = function (t) { return arguments.length ? (S = null == t ? (D = c = h = p = null, Gf) : eo(D = +t[0][0], c = +t[0][1], h = +t[1][0], p = +t[1][1]), r()) : null == D ? null : [[D, c], [h, p]] }, e.scale = function (t) { return arguments.length ? (g = +t, i()) : g }, e.translate = function (t) { return arguments.length ? (y = +t[0], m = +t[1], i()) : [y, m] }, e.center = function (t) { return arguments.length ? (v = t[0] % 360 * Ef, _ = t[1] % 360 * Ef, i()) : [v * xf, _ * xf] }, e.rotate = function (t) { return arguments.length ? (b = t[0] % 360 * Ef, w = t[1] % 360 * Ef, x = t.length > 2 ? t[2] % 360 * Ef : 0, i()) : [b * xf, w * xf, x * xf] }, e.precision = function (t) { return arguments.length ? (I = nd(n, T = t * t), r()) : Af(T) }, e.fitExtent = function (t, n) { return so(e, t, n) }, e.fitSize = function (t, n) { return function (t, e, n) { return so(t, [[0, 0], e], n) }(e, t, n) }, function () { return o = t.apply(this, arguments), e.invert = o.invert && function (t) { return (t = l.invert((t[0] - s) / g, (a - t[1]) / g)) && [t[0] * xf, t[1] * xf] }, i() } }((function () { return t }))() }(t), s = o.center, a = o.scale, u = o.translate, l = o.clipExtent, c = null; return o.scale = function (t) { return arguments.length ? (a(t), e()) : a() }, o.translate = function (t) { return arguments.length ? (u(t), e()) : u() }, o.center = function (t) { return arguments.length ? (s(t), e()) : s() }, o.clipExtent = function (t) { return arguments.length ? (null == t ? c = n = i = r = null : (c = +t[0][0], n = +t[0][1], i = +t[1][0], r = +t[1][1]), e()) : null == c ? null : [[c, n], [i, r]] }, e() }(uo), e = t.center, n = t.rotate; return t.center = function (t) { return arguments.length ? e([-t[1], t[0]]) : [(t = e())[1], -t[0]] }, t.rotate = function (t) { return arguments.length ? n([t[0], t[1], t.length > 2 ? t[2] + 90 : 90]) : [(t = n())[0], t[1], t[2] - 90] }, n([0, 0, 90]).scale(159.155) }; t.projection = cs, t.random = Xa, t.clusters = Ya, t.helpers = So, t.invariant = Io, t.meta = To, t.isolines = function (t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var i = n.zProperty || "elevation", r = n.commonProperties || {}, o = n.breaksProperties || []; if (Y(t, "Point", "Input must contain Points"), !e) throw new Error("breaks is required"); if (!Array.isArray(e)) throw new Error("breaks must be an Array"); if (!C(r)) throw new Error("commonProperties must be an Object"); if (!Array.isArray(o)) throw new Error("breaksProperties must be an Array"); var s = function (t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.zProperty || "elevation", i = e.flip, r = e.flags; Y(t, "Point", "input must contain Points"); for (var o = function (t, e) { var n = {}; return A(t, (function (t) { var e = U(t)[1]; n[e] || (n[e] = []), n[e].push(t) })), Object.keys(n).map((function (t) { return n[t].sort((function (t, e) { return U(t)[0] - U(e)[0] })) })).sort((function (t, n) { return e ? U(t[0])[1] - U(n[0])[1] : U(n[0])[1] - U(t[0])[1] })) }(t, i), s = [], a = 0; a < o.length; a++) { for (var u = o[a], l = [], c = 0; c < u.length; c++) { var h = u[c]; h.properties[n] ? l.push(h.properties[n]) : l.push(0), !0 === r && (h.properties.matrixPosition = [a, c]) } s.push(l) } return s }(t, { zProperty: i, flip: !0 }); return l(function (t, e, n) { var i = z(n), r = i[2] - i[0], o = i[3] - i[1], s = i[0], a = i[1], u = e[0].length - 1, l = e.length - 1, c = r / u, h = o / l, p = function (t) { t[0] = t[0] * c + s, t[1] = t[1] * h + a }; return t.forEach((function (t) { T(t, p) })), t }(function (t, e, n, i, r) { for (var o = [], s = 1; s < e.length; s++) { var a = +e[s], u = Object.assign({}, i, r[s]); u[n] = a; var l = c(K(t, a), u); o.push(l) } return o }(s, e, i, r, o), s, t)) }, t.convex = Tt, t.pointsWithinPolygon = Pt, t.concave = function (t, n) { if (!C(n = n || {})) throw new Error("options is invalid"); if (!t) throw new Error("points is required"); var i = n.maxEdge || 1 / 0; if (!E(i)) throw new Error("maxEdge is invalid"); var r = At(function (t) { var e = [], n = {}; return A(t, (function (t) { if (t.geometry) { var i = t.geometry.coordinates.join("-"); n.hasOwnProperty(i) || (e.push(t), n[i] = !0) } })), l(e) }(t)); if (r.features = r.features.filter((function (t) { var e = t.geometry.coordinates[0][0], r = t.geometry.coordinates[0][1], o = t.geometry.coordinates[0][2], s = kt(e, r, n), a = kt(r, o, n), u = kt(e, o, n); return s <= i && a <= i && u <= i })), r.features.length < 1) return null; var o = Yt(r, n); return 1 === o.coordinates.length && (o.coordinates = o.coordinates[0], o.type = "Polygon"), e(o) }, t.collect = function (t, e, n, i) { var r = Mo(6), o = e.features.map((function (t) { return { minX: t.geometry.coordinates[0], minY: t.geometry.coordinates[1], maxX: t.geometry.coordinates[0], maxY: t.geometry.coordinates[1], property: t.properties[n] } })); return r.load(o), t.features.forEach((function (t) { t.properties || (t.properties = {}); var e = z(t), n = []; r.search({ minX: e[0], minY: e[1], maxX: e[2], maxY: e[3] }).forEach((function (e) { It([e.minX, e.minY], t) && n.push(e.property) })), t.properties[i] = n })), t }, t.flip = function (t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.mutate; if (!t) throw new Error("geojson is required"); return !1 !== n && void 0 !== n || (t = Ft(t)), T(t, (function (t) { var e = t[0], n = t[1]; t[0] = n, t[1] = e })), t }, t.simplify = function (t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = void 0 !== e.tolerance ? e.tolerance : 1, i = e.highQuality || !1, r = e.mutate || !1; if (!t) throw new Error("geojson is required"); if (n && n < 0) throw new Error("invalid tolerance"); return !0 !== r && (t = Ft(t)), O(t, (function (t) { !function (t, e, n) { var i = t.type; if ("Point" === i || "MultiPoint" === i) return t; Wt(t, !0); var r = t.coordinates; switch (i) { case "LineString": t.coordinates = te(r, e, n); break; case "MultiLineString": t.coordinates = r.map((function (t) { return te(t, e, n) })); break; case "Polygon": t.coordinates = ee(r, e, n); break; case "MultiPolygon": t.coordinates = r.map((function (t) { return ee(t, e, n) })) } }(t, n, i) })), t }, t.bezierSpline = ne, t.tag = function (t, e, n, i) { return t = Ft(t), e = Ft(e), A(t, (function (t) { t.properties || (t.properties = {}), A(e, (function (e) { void 0 === t.properties[i] && It(t, e) && (t.properties[i] = e.properties[n]) })) })), t }, t.sample = function (t, e) { if (!t) throw new Error("featurecollection is required"); if (null == e) throw new Error("num is required"); if ("number" != typeof e) throw new Error("num must be a number"); return l(function (t, e) { for (var n, i, r = t.slice(0), o = t.length, s = o - e; o-- > s;)n = r[i = Math.floor((o + 1) * Math.random())], r[i] = r[o], r[o] = n; return r.slice(s) }(t.features, e)) }, t.envelope = re, t.square = oe, t.circle = ae, t.midpoint = function (t, e) { return se(t, kt(t, e) / 2, ue(t, e)) }, t.center = le, t.centerOfMass = function t(e, n) { switch (Z(e)) { case "Point": return e; case "Polygon": var r = []; T(e, (function (t) { r.push(t) })); var o, s, a, u, l, c, h, p, f = ce(e, n), d = f.geometry.coordinates, g = 0, y = 0, m = 0, v = r.map((function (t) { return [t[0] - d[0], t[1] - d[1]] })); for (o = 0; o < r.length - 1; o++)u = (s = v[o])[0], c = s[1], l = (a = v[o + 1])[0], m += p = u * (h = a[1]) - l * c, g += (u + l) * p, y += (c + h) * p; if (0 === m) return f; var _ = 1 / (.5 * m * 6); return i([d[0] + _ * g, d[1] + _ * y], n); default: var b = Tt(e); return b ? t(b, n) : ce(e, n) } }, t.centroid = ce, t.combine = function (t) { function n(t, e, n) { n ? i[e].coordinates = i[e].coordinates.concat(t.geometry.coordinates) : i[e].coordinates.push(t.geometry.coordinates), i[e].properties.push(t.properties) } var i = { MultiPoint: { coordinates: [], properties: [] }, MultiLineString: { coordinates: [], properties: [] }, MultiPolygon: { coordinates: [], properties: [] } }, r = Object.keys(i).reduce((function (t, e) { return t[e.replace("Multi", "")] = e, t }), {}); return A(t, (function (t) { t.geometry && (i[t.geometry.type] ? n(t, t.geometry.type, !0) : r[t.geometry.type] && n(t, r[t.geometry.type], !1)) })), l(Object.keys(i).filter((function (t) { return i[t].coordinates.length })).sort().map((function (t) { return e({ type: t, coordinates: i[t].coordinates }, { collectedProperties: i[t].properties }) }))) }, t.distance = kt, t.explode = he, t.bbox = z, t.tesselate = function (t) { if (!t.geometry || "Polygon" !== t.geometry.type && "MultiPolygon" !== t.geometry.type) throw new Error("input must be a Polygon or MultiPolygon"); var e = { type: "FeatureCollection", features: [] }; return "Polygon" === t.geometry.type ? e.features = Te(t.geometry.coordinates) : t.geometry.coordinates.forEach((function (t) { e.features = e.features.concat(Te(t)) })), e }, t.bboxPolygon = ie, t.booleanPointInPolygon = It, t.nearestPoint = Ie, t.nearestPointOnLine = We, t.nearestPointToLine = function (t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var i = n.units, r = n.properties || {}; if (!t) throw new Error("points is required"); if (!(t = function (t) { var e = []; switch (t.geometry ? t.geometry.type : t.type) { case "GeometryCollection": return O(t, (function (t) { "Point" === t.type && e.push({ type: "Feature", properties: {}, geometry: t }) })), { type: "FeatureCollection", features: e }; case "FeatureCollection": return t.features = t.features.filter((function (t) { return "Point" === t.geometry.type })), t; default: throw new Error("points must be a Point Collection") } }(t)).features.length) throw new Error("points must contain features"); if (!e) throw new Error("line is required"); if ("LineString" !== Z(e)) throw new Error("line must be a LineString"); var o = 1 / 0, s = null; return A(t, (function (t) { var n = on(t, e, { units: i }); n < o && (o = n, s = t) })), s && (s.properties = Object.assign({ dist: o }, s.properties, r)), s }, t.planepoint = function (t, e) { var n = V(t), i = W(e).coordinates[0]; if (i.length < 4) throw new Error("OuterRing of a Polygon must have 4 or more Positions."); var r = e.properties || {}, o = r.a, s = r.b, a = r.c, u = n[0], l = n[1], c = i[0][0], h = i[0][1], p = void 0 !== o ? o : i[0][2], f = i[1][0], d = i[1][1], g = void 0 !== s ? s : i[1][2], y = i[2][0], m = i[2][1], v = void 0 !== a ? a : i[2][2]; return (v * (u - c) * (l - d) + p * (u - f) * (l - m) + g * (u - y) * (l - h) - g * (u - c) * (l - m) - v * (u - f) * (l - h) - p * (u - y) * (l - d)) / ((u - c) * (l - d) + (u - f) * (l - m) + (u - y) * (l - h) - (u - c) * (l - m) - (u - f) * (l - h) - (u - y) * (l - d)) }, t.tin = At, t.bearing = ue, t.destination = se, t.kinks = function (t) { var e, n, r = { type: "FeatureCollection", features: [] }; if ("LineString" === (n = "Feature" === t.type ? t.geometry : t).type) e = [n.coordinates]; else if ("MultiLineString" === n.type) e = n.coordinates; else if ("MultiPolygon" === n.type) e = [].concat.apply([], n.coordinates); else { if ("Polygon" !== n.type) throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry"); e = n.coordinates } return e.forEach((function (t) { e.forEach((function (e) { for (var n = 0; n < t.length - 1; n++)for (var o = n; o < e.length - 1; o++) { if (t === e) { if (1 === Math.abs(n - o)) continue; if (0 === n && o === t.length - 2 && t[n][0] === t[t.length - 1][0] && t[n][1] === t[t.length - 1][1]) continue } var s = function (t, e, n, i, r, o, s, a) { var u, l, c, h, p = { x: null, y: null, onLine1: !1, onLine2: !1 }; return 0 == (u = (a - o) * (n - t) - (s - r) * (i - e)) ? null !== p.x && null !== p.y && p : (h = (n - t) * (l = e - o) - (i - e) * (c = t - r), l = ((s - r) * l - (a - o) * c) / u, c = h / u, p.x = t + l * (n - t), p.y = e + l * (i - e), l >= 0 && l <= 1 && (p.onLine1 = !0), c >= 0 && c <= 1 && (p.onLine2 = !0), !(!p.onLine1 || !p.onLine2) && [p.x, p.y]) }(t[n][0], t[n][1], t[n + 1][0], t[n + 1][1], e[o][0], e[o][1], e[o + 1][0], e[o + 1][1]); s && r.features.push(i([s[0], s[1]])) } })) })), r }, t.pointOnFeature = an, t.area = ln, t.along = function (t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var r; if ("Feature" === t.type) r = t.geometry.coordinates; else { if ("LineString" !== t.type) throw new Error("input must be a LineString Feature or Geometry"); r = t.coordinates } if (!E(e)) throw new Error("distance must be a number"); for (var o = 0, s = 0; s < r.length && !(e >= o && s === r.length - 1); s++) { if (o >= e) { var a = e - o; if (a) { var u = ue(r[s], r[s - 1]) - 180; return se(r[s], a, u, n) } return i(r[s]) } o += kt(r[s], r[s + 1], n) } return i(r[r.length - 1]) }, t.length = fn, t.lineSlice = function (t, e, n) { var i = U(n); if ("LineString" !== Z(n)) throw new Error("line must be a LineString"); for (var r, o = We(n, t), s = We(n, e), u = [(r = o.properties.index <= s.properties.index ? [o, s] : [s, o])[0].geometry.coordinates], l = r[0].properties.index + 1; l < r[1].properties.index + 1; l++)u.push(i[l]); return u.push(r[1].geometry.coordinates), a(u, n.properties) }, t.lineSliceAlong = dn, t.pointGrid = _n, t.truncate = bn, t.flatten = function (t) { if (!t) throw new Error("geojson is required"); var e = []; return F(t, (function (t) { e.push(t) })), l(e) }, t.lineIntersect = Xe, t.lineChunk = function (t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var i = n.units, r = n.reverse; if (!t) throw new Error("geojson is required"); if (e <= 0) throw new Error("segmentLength must be greater than 0"); var o = []; return F(t, (function (t) { r && (t.geometry.coordinates = t.geometry.coordinates.reverse()), function (t, e, n, i) { var r = fn(t, { units: n }); if (r <= e) return i(t); var o = r / e; Number.isInteger(o) || (o = Math.floor(o) + 1); for (var s = 0; s < o; s++)i(dn(t, e * s, e * (s + 1), { units: n })) }(t, e, i, (function (t) { o.push(t) })) })), l(o) }, t.unkinkPolygon = function (t) { var e = []; return F(t, (function (t) { "Polygon" === t.geometry.type && A(ps(t), (function (n) { e.push(o(n.geometry.coordinates, t.properties)) })) })), l(e) }, t.greatCircle = function (t, e, n) { if ("object" != typeof (n = n || {})) throw new Error("options is invalid"); var i = n.properties, r = n.npoints, o = n.offset; return t = V(t), e = V(e), i = i || {}, r = r || 100, o = o || 10, new bs({ x: t[0], y: t[1] }, { x: e[0], y: e[1] }, i).Arc(r, { offset: o }).json() }, t.lineSegment = Ge, t.lineSplit = function (t, e) { if (!t) throw new Error("line is required"); if (!e) throw new Error("splitter is required"); var n = Z(t), i = Z(e); if ("LineString" !== n) throw new Error("line must be LineString"); if ("FeatureCollection" === i) throw new Error("splitter cannot be a FeatureCollection"); if ("GeometryCollection" === i) throw new Error("splitter cannot be a GeometryCollection"); var r = bn(e, { precision: 7 }); switch (i) { case "Point": return Dn(t, r); case "MultiPoint": return Cn(t, r); case "LineString": case "MultiLineString": case "Polygon": case "MultiPolygon": return Cn(t, Xe(t, r)) } }, t.lineArc = In, t.polygonToLine = Pn, t.lineToPolygon = Mn, t.bboxClip = function (t, e) { var n = function (t) { return t.geometry ? t.geometry.type : t.type }(t), i = U(t), r = t.properties; switch (n) { case "LineString": case "MultiLineString": var s = []; return "LineString" === n && (i = [i]), i.forEach((function (t) { ws(t, e, s) })), 1 === s.length ? a(s[0], r) : c(s, r); case "Polygon": return o(qn(i, e), r); case "MultiPolygon": return p(i.map((function (t) { return qn(t, e) })), r); default: throw new Error("geometry " + n + " not supported") } }, t.lineOverlap = Vn, t.sector = function (t, e, n, i, r) { if (!C(r = r || {})) throw new Error("options is invalid"); if (!t) throw new Error("center is required"); if (null == n) throw new Error("bearing1 is required"); if (null == i) throw new Error("bearing2 is required"); if (!e) throw new Error("radius is required"); if ("object" != typeof r) throw new Error("options must be an object"); if (Hn(n) === Hn(i)) return ae(t, e, r); var s = U(t), a = [[s]]; return T(In(t, e, n, i, r), (function (t) { a[0].push(t) })), a[0].push(s), o(a) }, t.rhumbBearing = Je, t.rhumbDistance = Ke, t.rhumbDestination = Gn, t.polygonTangents = function (t, e) { var n, r, o, s = U(t), a = U(e); switch (Z(e)) { case "Polygon": n = a[0][0], r = a[0][0], o = Yn(a[0][0], a[0][a[0].length - 1], s); var u = Xn(a[0], s, o, void 0, n, r); n = u[0], r = u[1]; break; case "MultiPolygon": n = a[0][0][0], r = a[0][0][0], o = Yn(a[0][0][0], a[0][0][a[0][0].length - 1], s), a.forEach((function (t) { var e = Xn(t[0], s, o, void 0, n, r); n = e[0], r = e[1] })) }return l([i(n), i(r)]) }, t.rewind = function (t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.reverse || !1, i = e.mutate || !1; if (!t) throw new Error("<geojson> is required"); if ("boolean" != typeof n) throw new Error("<reverse> must be a boolean"); if ("boolean" != typeof i) throw new Error("<mutate> must be a boolean"); !1 === i && (t = Ft(t)); var r = []; switch (t.type) { case "GeometryCollection": return O(t, (function (t) { Jn(t, n) })), t; case "FeatureCollection": return A(t, (function (t) { A(Jn(t, n), (function (t) { r.push(t) })) })), l(r) }return Jn(t, n) }, t.isobands = function (t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var i = n.zProperty || "elevation", r = n.commonProperties || {}, s = n.breaksProperties || []; if (Y(t, "Point", "Input must contain Points"), !e) throw new Error("breaks is required"); if (!Array.isArray(e)) throw new Error("breaks is not an Array"); if (!C(r)) throw new Error("commonProperties is not an Object"); if (!Array.isArray(s)) throw new Error("breaksProperties is not an Array"); var a = function (t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.zProperty || "elevation", i = e.flip, r = e.flags; Y(t, "Point", "input must contain Points"); for (var o = function (t, e) { var n = {}; return A(t, (function (t) { var e = U(t)[1]; n[e] || (n[e] = []), n[e].push(t) })), Object.keys(n).map((function (t) { return n[t].sort((function (t, e) { return U(t)[0] - U(e)[0] })) })).sort((function (t, n) { return e ? U(t[0])[1] - U(n[0])[1] : U(n[0])[1] - U(t[0])[1] })) }(t, i), s = [], a = 0; a < o.length; a++) { for (var u = o[a], l = [], c = 0; c < u.length; c++) { var h = u[c]; h.properties[n] ? l.push(h.properties[n]) : l.push(0), !0 === r && (h.properties.matrixPosition = [a, c]) } s.push(l) } return s }(t, { zProperty: i, flip: !0 }), u = function (t, e, n) { for (var i = [], r = 1; r < e.length; r++) { var s = +e[r - 1], a = +e[r], u = function (t) { for (var e = t.map((function (t) { return { lrCoordinates: t, grouped: !1 } })), n = []; !function (t) { for (var e = 0; e < t.length; e++)if (!1 === t[e].grouped) return !1; return !0 }(e);)for (var i = 0; i < e.length; i++)if (!e[i].grouped) { var r = []; r.push(e[i].lrCoordinates), e[i].grouped = !0; for (var s = o([e[i].lrCoordinates]), a = i + 1; a < e.length; a++)e[a].grouped || function (t, e) { for (var n = he(t), i = 0; i < n.features.length; i++)if (!It(n.features[i], e)) return !1; return !0 }(o([e[a].lrCoordinates]), s) && (r.push(e[a].lrCoordinates), e[a].grouped = !0); n.push(r) } return n }(function (t) { var e = [], n = []; t.forEach((function (t) { var i = ln(o([t])); n.push(i), e.push({ ring: t, area: i }) })), n.sort((function (t, e) { return e - t })); var i = []; return n.forEach((function (t) { for (var n = 0; n < e.length; n++)if (e[n].area === t) { i.push(e[n].ring), e.splice(n, 1); break } })), i }(Qn(t, s, a - s))), l = {}; l.groupedRings = u, l[n] = s + "-" + a, i.push(l) } return i }(a, e, i); return l((u = function (t, e, n) { var i = z(n), r = i[2] - i[0], o = i[3] - i[1], s = i[0], a = i[1], u = e[0].length - 1, l = e.length - 1, c = r / u, h = o / l, p = function (t) { t[0] = t[0] * c + s, t[1] = t[1] * h + a }; return t.forEach((function (t) { t.groupedRings.forEach((function (t) { t.forEach((function (t) { t.forEach(p) })) })) })), t }(u, a, t)).map((function (t, e) { if (s[e] && !C(s[e])) throw new Error("Each mappedProperty is required to be an Object"); var n = Object.assign({}, r, s[e]); return n[i] = t[i], p(t.groupedRings, n) }))) }, t.transformRotate = ni, t.transformScale = ii, t.transformTranslate = function (t, e, n, i) { if (!C(i = i || {})) throw new Error("options is invalid"); var r = i.units, o = i.zTranslation, s = i.mutate; if (!t) throw new Error("geojson is required"); if (null == e || isNaN(e)) throw new Error("distance is required"); if (o && "number" != typeof o && isNaN(o)) throw new Error("zTranslation is not a number"); if (o = void 0 !== o ? o : 0, 0 === e && 0 === o) return t; if (null == n || isNaN(n)) throw new Error("direction is required"); return e < 0 && (e = -e, n = -n), !1 !== s && void 0 !== s || (t = Ft(t)), T(t, (function (t) { var i = U(Gn(t, e, n, { units: r })); t[0] = i[0], t[1] = i[1], o && 3 === t.length && (t[2] += o) })), t }, t.lineOffset = function (t, e, n) { if (!C(n = n || {})) throw new Error("options is invalid"); var i = n.units; if (!t) throw new Error("geojson is required"); if (null == e || isNaN(e)) throw new Error("distance is required"); var r = Z(t), o = t.properties; switch (r) { case "LineString": return ai(t, e, i); case "MultiLineString": var s = []; return F(t, (function (t) { s.push(ai(t, e, i).geometry.coordinates) })), c(s, o); default: throw new Error("geometry " + r + " is not supported") } }, t.polygonize = function (t) { var e = ba.fromGeoJson(t); e.deleteDangles(), e.deleteCutEdges(); var n = [], i = []; return e.getEdgeRings().filter((function (t) { return t.isValid() })).forEach((function (t) { t.isHole() ? n.push(t) : i.push(t) })), n.forEach((function (t) { va.findEdgeRingContaining(t, i) && i.push(t) })), l(i.map((function (t) { return t.toPolygon() }))) }, t.booleanDisjoint = function (t, e) { var n; return F(t, (function (t) { F(e, (function (e) { if (!1 === n) return !1; n = function (t, e) { switch (t.type) { case "Point": switch (e.type) { case "Point": return !function (t, e) { return t[0] === e[0] && t[1] === e[1] }(t.coordinates, e.coordinates); case "LineString": return !ci(e, t); case "Polygon": return !It(t, e) }break; case "LineString": switch (e.type) { case "Point": return !ci(t, e); case "LineString": return !function (t, e) { return Xe(t, e).features.length > 0 }(t, e); case "Polygon": return !hi(e, t) }break; case "Polygon": switch (e.type) { case "Point": return !It(e, t); case "LineString": return !hi(t, e); case "Polygon": return !function (t, e) { for (var n = 0; n < t.coordinates[0].length; n++)if (It(t.coordinates[0][n], e)) return !0; for (var i = 0; i < e.coordinates[0].length; i++)if (It(e.coordinates[0][i], t)) return !0; return !1 }(e, t) } } }(t.geometry, e.geometry) })) })), n }, t.booleanContains = function (t, e) { var n = Z(t), i = Z(e), r = W(t), o = W(e), s = U(t), a = U(e); switch (n) { case "Point": switch (i) { case "Point": return fi(s, a); default: throw new Error("feature2 " + i + " geometry not supported") }case "MultiPoint": switch (i) { case "Point": return function (t, e) { var n, i = !1; for (n = 0; n < t.coordinates.length; n++)if (fi(t.coordinates[n], e.coordinates)) { i = !0; break } return i }(r, o); case "MultiPoint": return function (t, e) { for (var n = 0; n < e.coordinates.length; n++) { for (var i = !1, r = 0; r < t.coordinates.length; r++)if (fi(e.coordinates[n], t.coordinates[r])) { i = !0; break } if (!i) return !1 } return !0 }(r, o); default: throw new Error("feature2 " + i + " geometry not supported") }case "LineString": switch (i) { case "Point": return gn(o, r, { ignoreEndVertices: !0 }); case "LineString": return function (t, e) { for (var n = !1, i = 0; i < e.coordinates.length; i++)if (gn({ type: "Point", coordinates: e.coordinates[i] }, t, { ignoreEndVertices: !0 }) && (n = !0), !gn({ type: "Point", coordinates: e.coordinates[i] }, t, { ignoreEndVertices: !1 })) return !1; return n }(r, o); case "MultiPoint": return function (t, e) { for (var n = !1, i = 0; i < e.coordinates.length; i++)if (gn(e.coordinates[i], t, { ignoreEndVertices: !0 }) && (n = !0), !gn(e.coordinates[i], t)) return !1; return !!n }(r, o); default: throw new Error("feature2 " + i + " geometry not supported") }case "Polygon": switch (i) { case "Point": return It(o, r, { ignoreBoundary: !0 }); case "LineString": return function (t, e) { var n = !1, i = 0; if (!pi(z(t), z(e))) return !1; for (; i < e.coordinates.length - 1; i++)if (It({ type: "Point", coordinates: function (t, e) { return [(t[0] + e[0]) / 2, (t[1] + e[1]) / 2] }(e.coordinates[i], e.coordinates[i + 1]) }, t, { ignoreBoundary: !0 })) { n = !0; break } return n }(r, o); case "Polygon": return function (t, e) { if (!pi(z(t), z(e))) return !1; for (var n = 0; n < e.coordinates[0].length; n++)if (!It(e.coordinates[0][n], t)) return !1; return !0 }(r, o); case "MultiPoint": return function (t, e) { for (var n = 0; n < e.coordinates.length; n++)if (!It(e.coordinates[n], t, { ignoreBoundary: !0 })) return !1; return !0 }(r, o); default: throw new Error("feature2 " + i + " geometry not supported") }default: throw new Error("feature1 " + n + " geometry not supported") } }, t.booleanCrosses = function (t, e) { var n = Z(t), i = Z(e), r = W(t), o = W(e); switch (n) { case "MultiPoint": switch (i) { case "LineString": return di(r, o); case "Polygon": return yi(r, o); default: throw new Error("feature2 " + i + " geometry not supported") }case "LineString": switch (i) { case "MultiPoint": return di(o, r); case "LineString": return function (t, e) { if (Xe(t, e).features.length > 0) for (var n = 0; n < t.coordinates.length - 1; n++)for (var i = 0; i < e.coordinates.length - 1; i++) { var r = !0; if (0 !== i && i !== e.coordinates.length - 2 || (r = !1), mi(t.coordinates[n], t.coordinates[n + 1], e.coordinates[i], r)) return !0 } return !1 }(r, o); case "Polygon": return gi(r, o); default: throw new Error("feature2 " + i + " geometry not supported") }case "Polygon": switch (i) { case "MultiPoint": return yi(o, r); case "LineString": return gi(o, r); default: throw new Error("feature2 " + i + " geometry not supported") }default: throw new Error("feature1 " + n + " geometry not supported") } }, t.booleanClockwise = Wn, t.booleanOverlap = wi, t.booleanPointOnLine = gn, t.booleanEqual = function (t, e) { if (!t) throw new Error("feature1 is required"); if (!e) throw new Error("feature2 is required"); return Z(t) === Z(e) && new Da({ precision: 6 }).compare(Wt(t), Wt(e)) }, t.booleanWithin = yn, t.clone = Ft, t.cleanCoords = Wt, t.clustersDbscan = function (t, e, n) { if ("object" != typeof (n = n || {})) throw new Error("options is invalid"); var i = n.minPoints, r = n.units; if (Y(t, "Point", "Input must contain Points"), null == e) throw new Error("maxDistance is required"); if (!(Math.sign(e) > 0)) throw new Error("Invalid maxDistance"); if (!(null == i || Math.sign(i) > 0)) throw new Error("Invalid minPoints"); t = Ft(t), i = i || 3; var o = new Pa.DBSCAN, s = -1; return o.run(L(t), w(e, r), i, kt).forEach((function (e) { s++, e.forEach((function (e) { var n = t.features[e]; n.properties || (n.properties = {}), n.properties.cluster = s, n.properties.dbscan = "core" })) })), o.noise.forEach((function (e) { var n = t.features[e]; n.properties || (n.properties = {}), n.properties.cluster ? n.properties.dbscan = "edge" : n.properties.dbscan = "noise" })), t }, t.clustersKmeans = function (t, e) { if ("object" != typeof (e = e || {})) throw new Error("options is invalid"); var n = e.numberOfClusters, i = e.mutate; Y(t, "Point", "Input must contain Points"); var r = t.features.length; (n = n || Math.round(Math.sqrt(r / 2))) > r && (n = r), !1 !== i && void 0 !== i || (t = Ft(t)); var o = L(t), s = o.slice(0, n), a = ka(o, n, s), u = {}; return a.centroids.forEach((function (t, e) { u[e] = t })), A(t, (function (t, e) { var n = a.idxs[e]; t.properties.cluster = n, t.properties.centroid = u[n] })), t }, t.pointToLineDistance = on, t.booleanParallel = function (t, e) { if (!t) throw new Error("line1 is required"); if (!e) throw new Error("line2 is required"); if ("LineString" !== Ei(t, "line1")) throw new Error("line1 must be a LineString"); if ("LineString" !== Ei(e, "line2")) throw new Error("line2 must be a LineString"); for (var n = Ge(Wt(t)).features, i = Ge(Wt(e)).features, r = 0; r < n.length; r++) { var o = n[r].geometry.coordinates; if (!i[r]) break; if (!function (t, e) { return v(Je(t[0], t[1])) === v(Je(e[0], e[1])) }(o, i[r].geometry.coordinates)) return !1 } return !0 }, t.shortestPath = function (t, n, r) { if (!C(r = r || {})) throw new Error("options is invalid"); var o = r.resolution, s = r.minDistance, u = r.obstacles || l([]); if (!t) throw new Error("start is required"); if (!n) throw new Error("end is required"); if (o && !E(o) || o <= 0) throw new Error("options.resolution must be a number, greater than 0"); if (s) throw new Error("options.minDistance is not yet implemented"); var c = V(t), h = V(n); switch (t = i(c), n = i(h), Z(u)) { case "FeatureCollection": if (0 === u.features.length) return a([c, h]); break; case "Polygon": u = l([e(W(u))]); break; default: throw new Error("invalid obstacles") }var p = u; p.features.push(t), p.features.push(n); var f = z(ii(ie(z(p)), 1.15)); o || (o = kt([f[0], f[1]], [f[2], f[1]], r) / 100), p.features.pop(), p.features.pop(); for (var d = f[0], g = f[1], y = f[2], m = f[3], v = o / kt([d, g], [y, g], r) * (y - d), _ = o / kt([d, g], [d, m], r) * (m - g), b = y - d, w = m - g, x = (b - Math.floor(b / v) * v) / 2, D = [], S = [], T = [], I = [], N = 1 / 0, P = 1 / 0, A = m - (w - Math.floor(w / _) * _) / 2, M = 0; A >= g;) { for (var L = [], O = [], k = d + x, F = 0; k <= y;) { var R = i([k, A]), q = function (t, e) { for (var n = 0; n < e.features.length; n++)if (It(t, e.features[n])) return !0; return !1 }(R, u); L.push(q ? 0 : 1), O.push(k + "|" + A); var j = kt(R, t); !q && j < N && (N = j, T = { x: F, y: M }); var B = kt(R, n); !q && B < P && (P = B, I = { x: F, y: M }), k += v, F++ } S.push(L), D.push(O), A -= _, M++ } var $ = new Di(S, { diagonal: !0 }), U = $.grid[T.y][T.x], H = $.grid[I.y][I.x], G = [c]; return Fa.search($, U, H).forEach((function (t) { var e = D[t.x][t.y].split("|"); G.push([+e[0], +e[1]]) })), G.push(h), Wt(a(G)) }, t.voronoi = function (t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.bbox || [-180, -85, 180, 85]; if (!t) throw new Error("points is required"); if (!Array.isArray(n)) throw new Error("bbox is invalid"); return Y(t, "Point", "points"), l(function () { function t(t) { return new Ki(t.map((function (i, r) { var o = [Math.round(e(i, r, t) / Ha) * Ha, Math.round(n(i, r, t) / Ha) * Ha]; return o.index = r, o.data = i, o })), i) } var e = Ii, n = Ni, i = null; return t.polygons = function (e) { return t(e).polygons() }, t.links = function (e) { return t(e).links() }, t.triangles = function (e) { return t(e).triangles() }, t.x = function (n) { return arguments.length ? (e = "function" == typeof n ? n : Ra(+n), t) : e }, t.y = function (e) { return arguments.length ? (n = "function" == typeof e ? e : Ra(+e), t) : n }, t.extent = function (e) { return arguments.length ? (i = null == e ? null : [[+e[0][0], +e[0][1]], [+e[1][0], +e[1][1]]], t) : i && [[i[0][0], i[0][1]], [i[1][0], i[1][1]]] }, t.size = function (e) { return arguments.length ? (i = null == e ? null : [[0, 0], [+e[0], +e[1]]], t) : i && [i[1][0] - i[0][0], i[1][1] - i[0][1]] }, t }().x((function (t) { return t.geometry.coordinates[0] })).y((function (t) { return t.geometry.coordinates[1] })).extent([[n[0], n[1]], [n[2], n[3]]]).polygons(t.features).map(Qi)) }, t.ellipse = tr, t.centerMean = nr, t.centerMedian = function (t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.counter || 10; if (!E(n)) throw new Error("counter must be a number"); var i = e.weight, r = nr(t, { weight: e.weight }), o = l([]); return A(t, (function (t) { o.features.push(ce(t, { weight: t.properties[i] })) })), o.properties = { tolerance: e.tolerance, medianCandidates: [] }, ir(r.geometry.coordinates, [0, 0], o, n) }, t.standardDeviationalEllipse = function (t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.steps || 64, i = e.weight, r = e.properties || {}; if (!E(n)) throw new Error("steps must be a number"); if (!C(r)) throw new Error("properties must be a number"); var o = L(t).length, s = nr(t, { weight: i }), a = 0, u = 0, c = 0; A(t, (function (t) { var e = t.properties[i] || 1, n = rr(U(t), U(s)); a += Math.pow(n.x, 2) * e, u += Math.pow(n.y, 2) * e, c += n.x * n.y * e })); var h = a - u, p = Math.sqrt(Math.pow(h, 2) + 4 * Math.pow(c, 2)), f = 2 * c, d = Math.atan((h + p) / f), g = 180 * d / Math.PI, y = 0, m = 0, v = 0; A(t, (function (t) { var e = t.properties[i] || 1, n = rr(U(t), U(s)); y += Math.pow(n.x * Math.cos(d) - n.y * Math.sin(d), 2) * e, m += Math.pow(n.x * Math.sin(d) + n.y * Math.cos(d), 2) * e, v += e })); var _ = Math.sqrt(2 * y / v), b = Math.sqrt(2 * m / v), w = tr(s, _, b, { units: "degrees", angle: g, steps: n, properties: r }), x = Pt(t, l([w])), D = { meanCenterCoordinates: U(s), semiMajorAxis: _, semiMinorAxis: b, numberOfFeatures: o, angle: g, percentageWithinEllipse: 100 * L(x).length / o }; return w.properties.standardDeviationalEllipse = D, w }, t.difference = function (t, n) { var i = W(t), r = W(n), o = t.properties || {}; if (i = Mr(i), r = Mr(r), !i) return null; if (!r) return e(i, o); var s = new nc, a = s.read(i), u = s.read(r), l = of.difference(a, u); return l.isEmpty() ? null : e((new ic).write(l), o) }, t.buffer = function (t, e, n) { var i = (n = n || {}).units, r = n.steps || 64; if (!t) throw new Error("geojson is required"); if ("object" != typeof n) throw new Error("options must be an object"); if ("number" != typeof r) throw new Error("steps must be an number"); if (void 0 === e) throw new Error("radius is required"); if (r <= 0) throw new Error("steps must be greater than 0"); r = r || 64, i = i || "kilometers"; var o = []; switch (t.type) { case "GeometryCollection": return O(t, (function (t) { var n = lo(t, e, i, r); n && o.push(n) })), l(o); case "FeatureCollection": return A(t, (function (t) { var n = lo(t, e, i, r); n && A(n, (function (t) { t && o.push(t) })) })), l(o) }return lo(t, e, i, r) }, t.union = fo, t.intersect = go, t.dissolve = function (t, e) { if (!C(e = e || {})) throw new Error("options is invalid"); var n = e.propertyName; Y(t, "Polygon", "dissolve"); var i = Ft(t), r = i.features, o = []; r.forEach((function (t, e) { t.properties.origIndexPosition = e })); var s = Ve(); for (var u in s.load(i), r) { var l = r[u], c = !1; if (s.search(l).features.forEach((function (t) { l = r[u]; var e = t.properties.origIndexPosition; if (o.length > 0 && 0 !== e) if (e > o[o.length - 1]) e -= o.length; else { var i = yo(e, o); 0 !== i && (e -= i) } if (e !== +u) { var h = r[e]; h && l && (void 0 !== n && h.properties[n] !== l.properties[n] || wi(l, h) && function (t, e) { return Xe(a(L(t)), a(L(e))).features.length > 0 }(l, h) && (r[u] = fo(l, h), o.push(t.properties.origIndexPosition), o.sort((function (t, e) { return t - e })), s.remove(t), r.splice(e, 1), l.properties.origIndexPosition = u, s.remove(l, (function (t, e) { return t.properties.origIndexPosition === e.properties.origIndexPosition })), c = !0)) } })), c) { if (!l) continue; l.properties.origIndexPosition = u, s.insert(l), u-- } } return r.forEach((function (t) { delete t.properties.origIndexPosition, delete t.bbox })), i }, t.hexGrid = mo, t.mask = function (t, e) { var n = function (t) { return o(t && t.geometry.coordinates || [[[180, 90], [-180, 90], [-180, -90], [180, -90], [180, 90]]]) }(e), i = function (t) { var e = [], n = []; return F(t, (function (t) { var i = t.geometry.coordinates, r = i[0], s = i.slice(1); e.push(o([r])), s.forEach((function (t) { n.push(o([t])) })) })), [l(e), l(n)] }(t), r = i[0], s = i[1]; return function (t, e, n) { var i = []; return i.push(t.geometry.coordinates[0]), F(e, (function (t) { i.push(t.geometry.coordinates[0]) })), F(n, (function (t) { i.push(t.geometry.coordinates[0]) })), o(i) }(n, r = vo(r), s = vo(s)) }, t.squareGrid = bo, t.triangleGrid = wo, t.interpolate = function (t, e, n) { if ("object" != typeof (n = n || {})) throw new Error("options is invalid"); var i = n.gridType, r = n.property, o = n.weight; if (!t) throw new Error("points is required"); if (Y(t, "Point", "input must contain Points"), !e) throw new Error("cellSize is required"); if (void 0 !== o && "number" != typeof o) throw new Error("weight must be a number"); r = r || "elevation", i = i || "square", o = o || 1; var s, a = z(t); switch (i) { case "point": case "points": s = _n(a, e, n); break; case "square": case "squares": s = bo(a, e, n); break; case "hex": case "hexes": s = mo(a, e, n); break; case "triangle": case "triangles": s = wo(a, e, n); break; default: throw new Error("invalid gridType") }var u = []; return A(s, (function (e) { var s = 0, a = 0; A(t, (function (t) { var u, l = kt("point" === i ? e : ce(e), t, n); if (void 0 !== r && (u = t.properties[r]), void 0 === u && (u = t.geometry.coordinates[2]), void 0 === u) throw new Error("zValue is missing"); 0 === l && (s = u); var c = 1 / Math.pow(l, o); a += c, s += c * u })); var l = Ft(e); l.properties[r] = s / a, u.push(l) })), l(u) }, t.pointOnSurface = an, t.polygonToLineString = Pn, t.lineStringToPolygon = Mn, t.inside = It, t.within = Pt, t.bezier = ne, t.nearest = Ie, t.pointOnLine = We, t.lineDistance = fn, t.radians2degrees = _, t.degrees2radians = b, t.distanceToDegrees = m, t.distanceToRadians = y, t.radiansToDistance = g, t.bearingToAngle = v, t.convertDistance = w, t.toMercator = Qe, t.toWgs84 = tn, t.randomPosition = or, t.randomPoint = sr, t.randomPolygon = ar, t.randomLineString = ur, t.getCluster = cr, t.clusterEach = hr, t.clusterReduce = pr, t.createBins = fr, t.applyFilter = dr, t.propertiesContainsFilter = gr, t.filterProperties = yr, t.earthRadius = xo, t.factors = Eo, t.unitsFactors = Co, t.areaFactors = Do, t.feature = e, t.geometry = n, t.point = i, t.points = r, t.polygon = o, t.polygons = s, t.lineString = a, t.lineStrings = u, t.featureCollection = l, t.multiLineString = c, t.multiPoint = h, t.multiPolygon = p, t.geometryCollection = f, t.round = d, t.radiansToLength = g, t.lengthToRadians = y, t.lengthToDegrees = m, t.bearingToAzimuth = v, t.radiansToDegrees = _, t.degreesToRadians = b, t.convertLength = w, t.convertArea = x, t.isNumber = E, t.isObject = C, t.validateBBox = D, t.validateId = S, t.getCoord = V, t.getCoords = U, t.containsNumber = H, t.geojsonType = G, t.featureOf = X, t.collectionOf = Y, t.getGeom = W, t.getGeomType = J, t.getType = Z, t.coordEach = T, t.coordReduce = I, t.propEach = N, t.propReduce = P, t.featureEach = A, t.featureReduce = M, t.coordAll = L, t.geomEach = O, t.geomReduce = k, t.flattenEach = F, t.flattenReduce = R, t.segmentEach = q, t.segmentReduce = j, t.lineEach = B, t.lineReduce = $, Object.defineProperty(t, "__esModule", { value: !0 }) }(e) }, YL1s: function (t, e, n) { "use strict"; (function (t) { var i = n("3rzb"), r = n.n(i), o = n("bzVz"), s = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; s.prototype.init = function () { var e = this; this.$quoteSlider = this.options.$el.find(".quote-slider"), this.$quoteSlider.slick({ arrows: !1, fade: !0, speed: 450, slidesToShow: 1, infinite: !0, autoplay: !0, autoplaySpeed: 8e3 }), this.slideEq = new o.a(e.options.$el.find(".quote-slider .quote-slide .slide-content-wrapper")), this.slideEq.equalizeHeights(), r.a.subscribe("resized", (function () { e.slideEq.equalizeHeights() })), this.options.$el.find(".slider-dots-nav .nav-dot").on("click", (function () { e.$quoteSlider.slick("slickGoTo", t(this).data("slideNumber") - 1) })), this.$quoteSlider.on("beforeChange", (function (t, n, i, r) { var o = r + 1; e.options.$el.find(".nav-dot").removeClass("active"), e.options.$el.find('.nav-dot[data-slide-number="' + o + '"]').addClass("active") })) }, e.a = s }).call(this, n("EVdn")) }, YPiy: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, Yxhv: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, ZLor: function (t, e, n) { "use strict"; (function (t) { var i = n("3rzb"), r = n.n(i), o = (n("Zej/"), n("bzVz")), s = n("gYfQ"); n.n(s)()(t); var a = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; a.prototype.init = function () { var e = this; this.$leftImageSlider = this.options.$el.find(".left-image-slider"), this.$rightImageSlider = this.options.$el.find(".right-image-slider"), this.$leftImageSlider.slick({ arrows: !1, fade: !1, infinite: !0, speed: 450, swipe: !1 }), this.$rightImageSlider.slick({ arrows: !1, fade: !1, infinite: !0, speed: 450, swipe: !1, initialSlide: 1 }), this.options.$el.find(".next-image-button").on("click", (function () { e.restartAutoplay(), e.nextSlide() })), this.options.$el.on("swiperight", (function () { e.restartAutoplay(), e.previousSlide() })), this.options.$el.on("swipeleft", (function () { e.restartAutoplay(), e.nextSlide() })), this.slideCounterEq = new o.a(e.options.$el.find(".slide-counter .active-slide, .slide-counter .active-slide .slide-number")), this.alignSlideCounter(), t(window).on("load", (function () { e.alignSlideCounter() })), r.a.subscribe("resized", (function () { e.alignSlideCounter() })), this.$leftImageSlider.on("beforeChange", (function (t, n, i, r) { e.updateSlideCounter(r + 1) })), this.sliderAutoplayInterval = window.setInterval((function () { e.nextSlide() }), 8e3) }, a.prototype.restartAutoplay = function () { var t = this; clearInterval(t.sliderAutoplayInterval), t.sliderAutoplayInterval = window.setInterval((function () { t.nextSlide() }), 8e3) }, a.prototype.updateSlideCounter = function (t) { this.options.$el.find(".slide-number").removeClass("active"), this.options.$el.find('.slide-number[data-slide-number="' + t + '"]').addClass("active") }, a.prototype.alignSlideCounter = function () { var e = this; this.slideCounterEq.equalizeHeights(), this.maxWidth = 0, this.options.$el.find(".slide-number").each((function () { t(this).outerWidth() > e.maxWidth && (e.maxWidth = t(this).outerWidth()) })), this.options.$el.find(".active-slide").css("width", e.maxWidth); var n = this.options.$el.find(".slide-counter .active-slide").width() - this.options.$el.find(".slide-counter .active-slide").height(); this.options.$el.find(".active-slide").css("transform", "translateY(" + -1 * n / 2 + "px) rotate(90deg)"); var i = this.options.$el.find(".slide-counter .total-slides").width() - this.options.$el.find(".slide-counter .total-slides").height(); this.options.$el.find(".slide-counter .total-slides").css("transform", "translateY(" + -1 * i / 2 + "px) rotate(90deg)") }, a.prototype.nextSlide = function () { this.$leftImageSlider.slick("slickNext"), this.$rightImageSlider.slick("slickNext") }, a.prototype.previousSlide = function () { this.$leftImageSlider.slick("slickPrev"), this.$rightImageSlider.slick("slickPrev") }, e.a = a }).call(this, n("EVdn")) }, "Zej/": function (t, e, n) { var i, r, o; !function (s) { "use strict"; r = [n("EVdn")], void 0 === (o = "function" == typeof (i = function (t) { var e = window.Slick || {}; (n = 0, e = function (e, i) { var r, o = this; o.defaults = { accessibility: !0, adaptiveHeight: !1, appendArrows: t(e), appendDots: t(e), arrows: !0, asNavFor: null, prevArrow: '<button class="slick-prev" aria-label="Previous" type="button">Previous</button>', nextArrow: '<button class="slick-next" aria-label="Next" type="button">Next</button>', autoplay: !1, autoplaySpeed: 3e3, centerMode: !1, centerPadding: "50px", cssEase: "ease", customPaging: function (e, n) { return t('<button type="button" />').text(n + 1) }, dots: !1, dotsClass: "slick-dots", draggable: !0, easing: "linear", edgeFriction: .35, fade: !1, focusOnSelect: !1, focusOnChange: !1, infinite: !0, initialSlide: 0, lazyLoad: "ondemand", mobileFirst: !1, pauseOnHover: !0, pauseOnFocus: !0, pauseOnDotsHover: !1, respondTo: "window", responsive: null, rows: 1, rtl: !1, slide: "", slidesPerRow: 1, slidesToShow: 1, slidesToScroll: 1, speed: 500, swipe: !0, swipeToSlide: !1, touchMove: !0, touchThreshold: 5, useCSS: !0, useTransform: !0, variableWidth: !1, vertical: !1, verticalSwiping: !1, waitForAnimate: !0, zIndex: 1e3 }, o.initials = { animating: !1, dragging: !1, autoPlayTimer: null, currentDirection: 0, currentLeft: null, currentSlide: 0, direction: 1, $dots: null, listWidth: null, listHeight: null, loadIndex: 0, $nextArrow: null, $prevArrow: null, scrolling: !1, slideCount: null, slideWidth: null, $slideTrack: null, $slides: null, sliding: !1, slideOffset: 0, swipeLeft: null, swiping: !1, $list: null, touchObject: {}, transformsEnabled: !1, unslicked: !1 }, t.extend(o, o.initials), o.activeBreakpoint = null, o.animType = null, o.animProp = null, o.breakpoints = [], o.breakpointSettings = [], o.cssTransitions = !1, o.focussed = !1, o.interrupted = !1, o.hidden = "hidden", o.paused = !0, o.positionProp = null, o.respondTo = null, o.rowCount = 1, o.shouldClick = !0, o.$slider = t(e), o.$slidesCache = null, o.transformType = null, o.transitionType = null, o.visibilityChange = "visibilitychange", o.windowWidth = 0, o.windowTimer = null, r = t(e).data("slick") || {}, o.options = t.extend({}, o.defaults, i, r), o.currentSlide = o.options.initialSlide, o.originalSettings = o.options, void 0 !== document.mozHidden ? (o.hidden = "mozHidden", o.visibilityChange = "mozvisibilitychange") : void 0 !== document.webkitHidden && (o.hidden = "webkitHidden", o.visibilityChange = "webkitvisibilitychange"), o.autoPlay = t.proxy(o.autoPlay, o), o.autoPlayClear = t.proxy(o.autoPlayClear, o), o.autoPlayIterator = t.proxy(o.autoPlayIterator, o), o.changeSlide = t.proxy(o.changeSlide, o), o.clickHandler = t.proxy(o.clickHandler, o), o.selectHandler = t.proxy(o.selectHandler, o), o.setPosition = t.proxy(o.setPosition, o), o.swipeHandler = t.proxy(o.swipeHandler, o), o.dragHandler = t.proxy(o.dragHandler, o), o.keyHandler = t.proxy(o.keyHandler, o), o.instanceUid = n++, o.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/, o.registerBreakpoints(), o.init(!0) }).prototype.activateADA = function () { this.$slideTrack.find(".slick-active").attr({ "aria-hidden": "false" }).find("a, input, button, select").attr({ tabindex: "0" }) }, e.prototype.addSlide = e.prototype.slickAdd = function (e, n, i) { var r = this; if ("boolean" == typeof n) i = n, n = null; else if (n < 0 || n >= r.slideCount) return !1; r.unload(), "number" == typeof n ? 0 === n && 0 === r.$slides.length ? t(e).appendTo(r.$slideTrack) : i ? t(e).insertBefore(r.$slides.eq(n)) : t(e).insertAfter(r.$slides.eq(n)) : !0 === i ? t(e).prependTo(r.$slideTrack) : t(e).appendTo(r.$slideTrack), r.$slides = r.$slideTrack.children(this.options.slide), r.$slideTrack.children(this.options.slide).detach(), r.$slideTrack.append(r.$slides), r.$slides.each((function (e, n) { t(n).attr("data-slick-index", e) })), r.$slidesCache = r.$slides, r.reinit() }, e.prototype.animateHeight = function () { var t = this; if (1 === t.options.slidesToShow && !0 === t.options.adaptiveHeight && !1 === t.options.vertical) { var e = t.$slides.eq(t.currentSlide).outerHeight(!0); t.$list.animate({ height: e }, t.options.speed) } }, e.prototype.animateSlide = function (e, n) { var i = {}, r = this; r.animateHeight(), !0 === r.options.rtl && !1 === r.options.vertical && (e = -e), !1 === r.transformsEnabled ? !1 === r.options.vertical ? r.$slideTrack.animate({ left: e }, r.options.speed, r.options.easing, n) : r.$slideTrack.animate({ top: e }, r.options.speed, r.options.easing, n) : !1 === r.cssTransitions ? (!0 === r.options.rtl && (r.currentLeft = -r.currentLeft), t({ animStart: r.currentLeft }).animate({ animStart: e }, { duration: r.options.speed, easing: r.options.easing, step: function (t) { t = Math.ceil(t), !1 === r.options.vertical ? (i[r.animType] = "translate(" + t + "px, 0px)", r.$slideTrack.css(i)) : (i[r.animType] = "translate(0px," + t + "px)", r.$slideTrack.css(i)) }, complete: function () { n && n.call() } })) : (r.applyTransition(), e = Math.ceil(e), !1 === r.options.vertical ? i[r.animType] = "translate3d(" + e + "px, 0px, 0px)" : i[r.animType] = "translate3d(0px," + e + "px, 0px)", r.$slideTrack.css(i), n && setTimeout((function () { r.disableTransition(), n.call() }), r.options.speed)) }, e.prototype.getNavTarget = function () { var e = this.options.asNavFor; return e && null !== e && (e = t(e).not(this.$slider)), e }, e.prototype.asNavFor = function (e) { var n = this.getNavTarget(); null !== n && "object" == typeof n && n.each((function () { var n = t(this).slick("getSlick"); n.unslicked || n.slideHandler(e, !0) })) }, e.prototype.applyTransition = function (t) { var e = this, n = {}; !1 === e.options.fade ? n[e.transitionType] = e.transformType + " " + e.options.speed + "ms " + e.options.cssEase : n[e.transitionType] = "opacity " + e.options.speed + "ms " + e.options.cssEase, !1 === e.options.fade ? e.$slideTrack.css(n) : e.$slides.eq(t).css(n) }, e.prototype.autoPlay = function () { var t = this; t.autoPlayClear(), t.slideCount > t.options.slidesToShow && (t.autoPlayTimer = setInterval(t.autoPlayIterator, t.options.autoplaySpeed)) }, e.prototype.autoPlayClear = function () { this.autoPlayTimer && clearInterval(this.autoPlayTimer) }, e.prototype.autoPlayIterator = function () { var t = this, e = t.currentSlide + t.options.slidesToScroll; t.paused || t.interrupted || t.focussed || (!1 === t.options.infinite && (1 === t.direction && t.currentSlide + 1 === t.slideCount - 1 ? t.direction = 0 : 0 === t.direction && (e = t.currentSlide - t.options.slidesToScroll, t.currentSlide - 1 == 0 && (t.direction = 1))), t.slideHandler(e)) }, e.prototype.buildArrows = function () { var e = this; !0 === e.options.arrows && (e.$prevArrow = t(e.options.prevArrow).addClass("slick-arrow"), e.$nextArrow = t(e.options.nextArrow).addClass("slick-arrow"), e.slideCount > e.options.slidesToShow ? (e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), e.htmlExpr.test(e.options.prevArrow) && e.$prevArrow.prependTo(e.options.appendArrows), e.htmlExpr.test(e.options.nextArrow) && e.$nextArrow.appendTo(e.options.appendArrows), !0 !== e.options.infinite && e.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true")) : e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({ "aria-disabled": "true", tabindex: "-1" })) }, e.prototype.buildDots = function () { var e, n, i = this; if (!0 === i.options.dots && i.slideCount > i.options.slidesToShow) { for (i.$slider.addClass("slick-dotted"), n = t("<ul />").addClass(i.options.dotsClass), e = 0; e <= i.getDotCount(); e += 1)n.append(t("<li />").append(i.options.customPaging.call(this, i, e))); i.$dots = n.appendTo(i.options.appendDots), i.$dots.find("li").first().addClass("slick-active") } }, e.prototype.buildOut = function () { var e = this; e.$slides = e.$slider.children(e.options.slide + ":not(.slick-cloned)").addClass("slick-slide"), e.slideCount = e.$slides.length, e.$slides.each((function (e, n) { t(n).attr("data-slick-index", e).data("originalStyling", t(n).attr("style") || "") })), e.$slider.addClass("slick-slider"), e.$slideTrack = 0 === e.slideCount ? t('<div class="slick-track"/>').appendTo(e.$slider) : e.$slides.wrapAll('<div class="slick-track"/>').parent(), e.$list = e.$slideTrack.wrap('<div class="slick-list"/>').parent(), e.$slideTrack.css("opacity", 0), !0 !== e.options.centerMode && !0 !== e.options.swipeToSlide || (e.options.slidesToScroll = 1), t("img[data-lazy]", e.$slider).not("[src]").addClass("slick-loading"), e.setupInfinite(), e.buildArrows(), e.buildDots(), e.updateDots(), e.setSlideClasses("number" == typeof e.currentSlide ? e.currentSlide : 0), !0 === e.options.draggable && e.$list.addClass("draggable") }, e.prototype.buildRows = function () { var t, e, n, i, r, o, s, a = this; if (i = document.createDocumentFragment(), o = a.$slider.children(), a.options.rows > 0) { for (s = a.options.slidesPerRow * a.options.rows, r = Math.ceil(o.length / s), t = 0; t < r; t++) { var u = document.createElement("div"); for (e = 0; e < a.options.rows; e++) { var l = document.createElement("div"); for (n = 0; n < a.options.slidesPerRow; n++) { var c = t * s + (e * a.options.slidesPerRow + n); o.get(c) && l.appendChild(o.get(c)) } u.appendChild(l) } i.appendChild(u) } a.$slider.empty().append(i), a.$slider.children().children().children().css({ width: 100 / a.options.slidesPerRow + "%", display: "inline-block" }) } }, e.prototype.checkResponsive = function (e, n) { var i, r, o, s = this, a = !1, u = s.$slider.width(), l = window.innerWidth || t(window).width(); if ("window" === s.respondTo ? o = l : "slider" === s.respondTo ? o = u : "min" === s.respondTo && (o = Math.min(l, u)), s.options.responsive && s.options.responsive.length && null !== s.options.responsive) { for (i in r = null, s.breakpoints) s.breakpoints.hasOwnProperty(i) && (!1 === s.originalSettings.mobileFirst ? o < s.breakpoints[i] && (r = s.breakpoints[i]) : o > s.breakpoints[i] && (r = s.breakpoints[i])); null !== r ? null !== s.activeBreakpoint ? (r !== s.activeBreakpoint || n) && (s.activeBreakpoint = r, "unslick" === s.breakpointSettings[r] ? s.unslick(r) : (s.options = t.extend({}, s.originalSettings, s.breakpointSettings[r]), !0 === e && (s.currentSlide = s.options.initialSlide), s.refresh(e)), a = r) : (s.activeBreakpoint = r, "unslick" === s.breakpointSettings[r] ? s.unslick(r) : (s.options = t.extend({}, s.originalSettings, s.breakpointSettings[r]), !0 === e && (s.currentSlide = s.options.initialSlide), s.refresh(e)), a = r) : null !== s.activeBreakpoint && (s.activeBreakpoint = null, s.options = s.originalSettings, !0 === e && (s.currentSlide = s.options.initialSlide), s.refresh(e), a = r), e || !1 === a || s.$slider.trigger("breakpoint", [s, a]) } }, e.prototype.changeSlide = function (e, n) { var i, r, o = this, s = t(e.currentTarget); switch (s.is("a") && e.preventDefault(), s.is("li") || (s = s.closest("li")), i = o.slideCount % o.options.slidesToScroll != 0 ? 0 : (o.slideCount - o.currentSlide) % o.options.slidesToScroll, e.data.message) { case "previous": r = 0 === i ? o.options.slidesToScroll : o.options.slidesToShow - i, o.slideCount > o.options.slidesToShow && o.slideHandler(o.currentSlide - r, !1, n); break; case "next": r = 0 === i ? o.options.slidesToScroll : i, o.slideCount > o.options.slidesToShow && o.slideHandler(o.currentSlide + r, !1, n); break; case "index": var a = 0 === e.data.index ? 0 : e.data.index || s.index() * o.options.slidesToScroll; o.slideHandler(o.checkNavigable(a), !1, n), s.children().trigger("focus"); break; default: return } }, e.prototype.checkNavigable = function (t) { var e, n; if (n = 0, t > (e = this.getNavigableIndexes())[e.length - 1]) t = e[e.length - 1]; else for (var i in e) { if (t < e[i]) { t = n; break } n = e[i] } return t }, e.prototype.cleanUpEvents = function () { var e = this; e.options.dots && null !== e.$dots && (t("li", e.$dots).off("click.slick", e.changeSlide).off("mouseenter.slick", t.proxy(e.interrupt, e, !0)).off("mouseleave.slick", t.proxy(e.interrupt, e, !1)), !0 === e.options.accessibility && e.$dots.off("keydown.slick", e.keyHandler)), e.$slider.off("focus.slick blur.slick"), !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow && e.$prevArrow.off("click.slick", e.changeSlide), e.$nextArrow && e.$nextArrow.off("click.slick", e.changeSlide), !0 === e.options.accessibility && (e.$prevArrow && e.$prevArrow.off("keydown.slick", e.keyHandler), e.$nextArrow && e.$nextArrow.off("keydown.slick", e.keyHandler))), e.$list.off("touchstart.slick mousedown.slick", e.swipeHandler), e.$list.off("touchmove.slick mousemove.slick", e.swipeHandler), e.$list.off("touchend.slick mouseup.slick", e.swipeHandler), e.$list.off("touchcancel.slick mouseleave.slick", e.swipeHandler), e.$list.off("click.slick", e.clickHandler), t(document).off(e.visibilityChange, e.visibility), e.cleanUpSlideEvents(), !0 === e.options.accessibility && e.$list.off("keydown.slick", e.keyHandler), !0 === e.options.focusOnSelect && t(e.$slideTrack).children().off("click.slick", e.selectHandler), t(window).off("orientationchange.slick.slick-" + e.instanceUid, e.orientationChange), t(window).off("resize.slick.slick-" + e.instanceUid, e.resize), t("[draggable!=true]", e.$slideTrack).off("dragstart", e.preventDefault), t(window).off("load.slick.slick-" + e.instanceUid, e.setPosition) }, e.prototype.cleanUpSlideEvents = function () { var e = this; e.$list.off("mouseenter.slick", t.proxy(e.interrupt, e, !0)), e.$list.off("mouseleave.slick", t.proxy(e.interrupt, e, !1)) }, e.prototype.cleanUpRows = function () { var t, e = this; e.options.rows > 0 && ((t = e.$slides.children().children()).removeAttr("style"), e.$slider.empty().append(t)) }, e.prototype.clickHandler = function (t) { !1 === this.shouldClick && (t.stopImmediatePropagation(), t.stopPropagation(), t.preventDefault()) }, e.prototype.destroy = function (e) { var n = this; n.autoPlayClear(), n.touchObject = {}, n.cleanUpEvents(), t(".slick-cloned", n.$slider).detach(), n.$dots && n.$dots.remove(), n.$prevArrow && n.$prevArrow.length && (n.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), n.htmlExpr.test(n.options.prevArrow) && n.$prevArrow.remove()), n.$nextArrow && n.$nextArrow.length && (n.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), n.htmlExpr.test(n.options.nextArrow) && n.$nextArrow.remove()), n.$slides && (n.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each((function () { t(this).attr("style", t(this).data("originalStyling")) })), n.$slideTrack.children(this.options.slide).detach(), n.$slideTrack.detach(), n.$list.detach(), n.$slider.append(n.$slides)), n.cleanUpRows(), n.$slider.removeClass("slick-slider"), n.$slider.removeClass("slick-initialized"), n.$slider.removeClass("slick-dotted"), n.unslicked = !0, e || n.$slider.trigger("destroy", [n]) }, e.prototype.disableTransition = function (t) { var e = this, n = {}; n[e.transitionType] = "", !1 === e.options.fade ? e.$slideTrack.css(n) : e.$slides.eq(t).css(n) }, e.prototype.fadeSlide = function (t, e) { var n = this; !1 === n.cssTransitions ? (n.$slides.eq(t).css({ zIndex: n.options.zIndex }), n.$slides.eq(t).animate({ opacity: 1 }, n.options.speed, n.options.easing, e)) : (n.applyTransition(t), n.$slides.eq(t).css({ opacity: 1, zIndex: n.options.zIndex }), e && setTimeout((function () { n.disableTransition(t), e.call() }), n.options.speed)) }, e.prototype.fadeSlideOut = function (t) { var e = this; !1 === e.cssTransitions ? e.$slides.eq(t).animate({ opacity: 0, zIndex: e.options.zIndex - 2 }, e.options.speed, e.options.easing) : (e.applyTransition(t), e.$slides.eq(t).css({ opacity: 0, zIndex: e.options.zIndex - 2 })) }, e.prototype.filterSlides = e.prototype.slickFilter = function (t) { var e = this; null !== t && (e.$slidesCache = e.$slides, e.unload(), e.$slideTrack.children(this.options.slide).detach(), e.$slidesCache.filter(t).appendTo(e.$slideTrack), e.reinit()) }, e.prototype.focusHandler = function () { var e = this; e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick", "*", (function (n) { n.stopImmediatePropagation(); var i = t(this); setTimeout((function () { e.options.pauseOnFocus && (e.focussed = i.is(":focus"), e.autoPlay()) }), 0) })) }, e.prototype.getCurrent = e.prototype.slickCurrentSlide = function () { return this.currentSlide }, e.prototype.getDotCount = function () { var t = this, e = 0, n = 0, i = 0; if (!0 === t.options.infinite) if (t.slideCount <= t.options.slidesToShow) ++i; else for (; e < t.slideCount;)++i, e = n + t.options.slidesToScroll, n += t.options.slidesToScroll <= t.options.slidesToShow ? t.options.slidesToScroll : t.options.slidesToShow; else if (!0 === t.options.centerMode) i = t.slideCount; else if (t.options.asNavFor) for (; e < t.slideCount;)++i, e = n + t.options.slidesToScroll, n += t.options.slidesToScroll <= t.options.slidesToShow ? t.options.slidesToScroll : t.options.slidesToShow; else i = 1 + Math.ceil((t.slideCount - t.options.slidesToShow) / t.options.slidesToScroll); return i - 1 }, e.prototype.getLeft = function (t) { var e, n, i, r, o = this, s = 0; return o.slideOffset = 0, n = o.$slides.first().outerHeight(!0), !0 === o.options.infinite ? (o.slideCount > o.options.slidesToShow && (o.slideOffset = o.slideWidth * o.options.slidesToShow * -1, r = -1, !0 === o.options.vertical && !0 === o.options.centerMode && (2 === o.options.slidesToShow ? r = -1.5 : 1 === o.options.slidesToShow && (r = -2)), s = n * o.options.slidesToShow * r), o.slideCount % o.options.slidesToScroll != 0 && t + o.options.slidesToScroll > o.slideCount && o.slideCount > o.options.slidesToShow && (t > o.slideCount ? (o.slideOffset = (o.options.slidesToShow - (t - o.slideCount)) * o.slideWidth * -1, s = (o.options.slidesToShow - (t - o.slideCount)) * n * -1) : (o.slideOffset = o.slideCount % o.options.slidesToScroll * o.slideWidth * -1, s = o.slideCount % o.options.slidesToScroll * n * -1))) : t + o.options.slidesToShow > o.slideCount && (o.slideOffset = (t + o.options.slidesToShow - o.slideCount) * o.slideWidth, s = (t + o.options.slidesToShow - o.slideCount) * n), o.slideCount <= o.options.slidesToShow && (o.slideOffset = 0, s = 0), !0 === o.options.centerMode && o.slideCount <= o.options.slidesToShow ? o.slideOffset = o.slideWidth * Math.floor(o.options.slidesToShow) / 2 - o.slideWidth * o.slideCount / 2 : !0 === o.options.centerMode && !0 === o.options.infinite ? o.slideOffset += o.slideWidth * Math.floor(o.options.slidesToShow / 2) - o.slideWidth : !0 === o.options.centerMode && (o.slideOffset = 0, o.slideOffset += o.slideWidth * Math.floor(o.options.slidesToShow / 2)), e = !1 === o.options.vertical ? t * o.slideWidth * -1 + o.slideOffset : t * n * -1 + s, !0 === o.options.variableWidth && (i = o.slideCount <= o.options.slidesToShow || !1 === o.options.infinite ? o.$slideTrack.children(".slick-slide").eq(t) : o.$slideTrack.children(".slick-slide").eq(t + o.options.slidesToShow), e = !0 === o.options.rtl ? i[0] ? -1 * (o.$slideTrack.width() - i[0].offsetLeft - i.width()) : 0 : i[0] ? -1 * i[0].offsetLeft : 0, !0 === o.options.centerMode && (i = o.slideCount <= o.options.slidesToShow || !1 === o.options.infinite ? o.$slideTrack.children(".slick-slide").eq(t) : o.$slideTrack.children(".slick-slide").eq(t + o.options.slidesToShow + 1), e = !0 === o.options.rtl ? i[0] ? -1 * (o.$slideTrack.width() - i[0].offsetLeft - i.width()) : 0 : i[0] ? -1 * i[0].offsetLeft : 0, e += (o.$list.width() - i.outerWidth()) / 2)), e }, e.prototype.getOption = e.prototype.slickGetOption = function (t) { return this.options[t] }, e.prototype.getNavigableIndexes = function () { var t, e = this, n = 0, i = 0, r = []; for (!1 === e.options.infinite ? t = e.slideCount : (n = -1 * e.options.slidesToScroll, i = -1 * e.options.slidesToScroll, t = 2 * e.slideCount); n < t;)r.push(n), n = i + e.options.slidesToScroll, i += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow; return r }, e.prototype.getSlick = function () { return this }, e.prototype.getSlideCount = function () { var e, n, i = this; return n = !0 === i.options.centerMode ? i.slideWidth * Math.floor(i.options.slidesToShow / 2) : 0, !0 === i.options.swipeToSlide ? (i.$slideTrack.find(".slick-slide").each((function (r, o) { if (o.offsetLeft - n + t(o).outerWidth() / 2 > -1 * i.swipeLeft) return e = o, !1 })), Math.abs(t(e).attr("data-slick-index") - i.currentSlide) || 1) : i.options.slidesToScroll }, e.prototype.goTo = e.prototype.slickGoTo = function (t, e) { this.changeSlide({ data: { message: "index", index: parseInt(t) } }, e) }, e.prototype.init = function (e) { var n = this; t(n.$slider).hasClass("slick-initialized") || (t(n.$slider).addClass("slick-initialized"), n.buildRows(), n.buildOut(), n.setProps(), n.startLoad(), n.loadSlider(), n.initializeEvents(), n.updateArrows(), n.updateDots(), n.checkResponsive(!0), n.focusHandler()), e && n.$slider.trigger("init", [n]), !0 === n.options.accessibility && n.initADA(), n.options.autoplay && (n.paused = !1, n.autoPlay()) }, e.prototype.initADA = function () { var e = this, n = Math.ceil(e.slideCount / e.options.slidesToShow), i = e.getNavigableIndexes().filter((function (t) { return t >= 0 && t < e.slideCount })); e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({ "aria-hidden": "true", tabindex: "-1" }).find("a, input, button, select").attr({ tabindex: "-1" }), null !== e.$dots && (e.$slides.not(e.$slideTrack.find(".slick-cloned")).each((function (n) { var r = i.indexOf(n); if (t(this).attr({ role: "tabpanel", id: "slick-slide" + e.instanceUid + n, tabindex: -1 }), -1 !== r) { var o = "slick-slide-control" + e.instanceUid + r; t("#" + o).length && t(this).attr({ "aria-describedby": o }) } })), e.$dots.attr("role", "tablist").find("li").each((function (r) { var o = i[r]; t(this).attr({ role: "presentation" }), t(this).find("button").first().attr({ role: "tab", id: "slick-slide-control" + e.instanceUid + r, "aria-controls": "slick-slide" + e.instanceUid + o, "aria-label": r + 1 + " of " + n, "aria-selected": null, tabindex: "-1" }) })).eq(e.currentSlide).find("button").attr({ "aria-selected": "true", tabindex: "0" }).end()); for (var r = e.currentSlide, o = r + e.options.slidesToShow; r < o; r++)e.options.focusOnChange ? e.$slides.eq(r).attr({ tabindex: "0" }) : e.$slides.eq(r).removeAttr("tabindex"); e.activateADA() }, e.prototype.initArrowEvents = function () { var t = this; !0 === t.options.arrows && t.slideCount > t.options.slidesToShow && (t.$prevArrow.off("click.slick").on("click.slick", { message: "previous" }, t.changeSlide), t.$nextArrow.off("click.slick").on("click.slick", { message: "next" }, t.changeSlide), !0 === t.options.accessibility && (t.$prevArrow.on("keydown.slick", t.keyHandler), t.$nextArrow.on("keydown.slick", t.keyHandler))) }, e.prototype.initDotEvents = function () { var e = this; !0 === e.options.dots && e.slideCount > e.options.slidesToShow && (t("li", e.$dots).on("click.slick", { message: "index" }, e.changeSlide), !0 === e.options.accessibility && e.$dots.on("keydown.slick", e.keyHandler)), !0 === e.options.dots && !0 === e.options.pauseOnDotsHover && e.slideCount > e.options.slidesToShow && t("li", e.$dots).on("mouseenter.slick", t.proxy(e.interrupt, e, !0)).on("mouseleave.slick", t.proxy(e.interrupt, e, !1)) }, e.prototype.initSlideEvents = function () { var e = this; e.options.pauseOnHover && (e.$list.on("mouseenter.slick", t.proxy(e.interrupt, e, !0)), e.$list.on("mouseleave.slick", t.proxy(e.interrupt, e, !1))) }, e.prototype.initializeEvents = function () { var e = this; e.initArrowEvents(), e.initDotEvents(), e.initSlideEvents(), e.$list.on("touchstart.slick mousedown.slick", { action: "start" }, e.swipeHandler), e.$list.on("touchmove.slick mousemove.slick", { action: "move" }, e.swipeHandler), e.$list.on("touchend.slick mouseup.slick", { action: "end" }, e.swipeHandler), e.$list.on("touchcancel.slick mouseleave.slick", { action: "end" }, e.swipeHandler), e.$list.on("click.slick", e.clickHandler), t(document).on(e.visibilityChange, t.proxy(e.visibility, e)), !0 === e.options.accessibility && e.$list.on("keydown.slick", e.keyHandler), !0 === e.options.focusOnSelect && t(e.$slideTrack).children().on("click.slick", e.selectHandler), t(window).on("orientationchange.slick.slick-" + e.instanceUid, t.proxy(e.orientationChange, e)), t(window).on("resize.slick.slick-" + e.instanceUid, t.proxy(e.resize, e)), t("[draggable!=true]", e.$slideTrack).on("dragstart", e.preventDefault), t(window).on("load.slick.slick-" + e.instanceUid, e.setPosition), t(e.setPosition) }, e.prototype.initUI = function () { var t = this; !0 === t.options.arrows && t.slideCount > t.options.slidesToShow && (t.$prevArrow.show(), t.$nextArrow.show()), !0 === t.options.dots && t.slideCount > t.options.slidesToShow && t.$dots.show() }, e.prototype.keyHandler = function (t) { var e = this; t.target.tagName.match("TEXTAREA|INPUT|SELECT") || (37 === t.keyCode && !0 === e.options.accessibility ? e.changeSlide({ data: { message: !0 === e.options.rtl ? "next" : "previous" } }) : 39 === t.keyCode && !0 === e.options.accessibility && e.changeSlide({ data: { message: !0 === e.options.rtl ? "previous" : "next" } })) }, e.prototype.lazyLoad = function () { var e, n, i, r = this; function o(e) { t("img[data-lazy]", e).each((function () { var e = t(this), n = t(this).attr("data-lazy"), i = t(this).attr("data-srcset"), o = t(this).attr("data-sizes") || r.$slider.attr("data-sizes"), s = document.createElement("img"); s.onload = function () { e.animate({ opacity: 0 }, 100, (function () { i && (e.attr("srcset", i), o && e.attr("sizes", o)), e.attr("src", n).animate({ opacity: 1 }, 200, (function () { e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading") })), r.$slider.trigger("lazyLoaded", [r, e, n]) })) }, s.onerror = function () { e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"), r.$slider.trigger("lazyLoadError", [r, e, n]) }, s.src = n })) } if (!0 === r.options.centerMode ? !0 === r.options.infinite ? i = (n = r.currentSlide + (r.options.slidesToShow / 2 + 1)) + r.options.slidesToShow + 2 : (n = Math.max(0, r.currentSlide - (r.options.slidesToShow / 2 + 1)), i = r.options.slidesToShow / 2 + 1 + 2 + r.currentSlide) : (n = r.options.infinite ? r.options.slidesToShow + r.currentSlide : r.currentSlide, i = Math.ceil(n + r.options.slidesToShow), !0 === r.options.fade && (n > 0 && n--, i <= r.slideCount && i++)), e = r.$slider.find(".slick-slide").slice(n, i), "anticipated" === r.options.lazyLoad) for (var s = n - 1, a = i, u = r.$slider.find(".slick-slide"), l = 0; l < r.options.slidesToScroll; l++)s < 0 && (s = r.slideCount - 1), e = (e = e.add(u.eq(s))).add(u.eq(a)), s--, a++; o(e), r.slideCount <= r.options.slidesToShow ? o(r.$slider.find(".slick-slide")) : r.currentSlide >= r.slideCount - r.options.slidesToShow ? o(r.$slider.find(".slick-cloned").slice(0, r.options.slidesToShow)) : 0 === r.currentSlide && o(r.$slider.find(".slick-cloned").slice(-1 * r.options.slidesToShow)) }, e.prototype.loadSlider = function () { var t = this; t.setPosition(), t.$slideTrack.css({ opacity: 1 }), t.$slider.removeClass("slick-loading"), t.initUI(), "progressive" === t.options.lazyLoad && t.progressiveLazyLoad() }, e.prototype.next = e.prototype.slickNext = function () { this.changeSlide({ data: { message: "next" } }) }, e.prototype.orientationChange = function () { this.checkResponsive(), this.setPosition() }, e.prototype.pause = e.prototype.slickPause = function () { this.autoPlayClear(), this.paused = !0 }, e.prototype.play = e.prototype.slickPlay = function () { var t = this; t.autoPlay(), t.options.autoplay = !0, t.paused = !1, t.focussed = !1, t.interrupted = !1 }, e.prototype.postSlide = function (e) { var n = this; n.unslicked || (n.$slider.trigger("afterChange", [n, e]), n.animating = !1, n.slideCount > n.options.slidesToShow && n.setPosition(), n.swipeLeft = null, n.options.autoplay && n.autoPlay(), !0 === n.options.accessibility && (n.initADA(), n.options.focusOnChange && t(n.$slides.get(n.currentSlide)).attr("tabindex", 0).focus())) }, e.prototype.prev = e.prototype.slickPrev = function () { this.changeSlide({ data: { message: "previous" } }) }, e.prototype.preventDefault = function (t) { t.preventDefault() }, e.prototype.progressiveLazyLoad = function (e) { e = e || 1; var n, i, r, o, s, a = this, u = t("img[data-lazy]", a.$slider); u.length ? (n = u.first(), i = n.attr("data-lazy"), r = n.attr("data-srcset"), o = n.attr("data-sizes") || a.$slider.attr("data-sizes"), (s = document.createElement("img")).onload = function () { r && (n.attr("srcset", r), o && n.attr("sizes", o)), n.attr("src", i).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"), !0 === a.options.adaptiveHeight && a.setPosition(), a.$slider.trigger("lazyLoaded", [a, n, i]), a.progressiveLazyLoad() }, s.onerror = function () { e < 3 ? setTimeout((function () { a.progressiveLazyLoad(e + 1) }), 500) : (n.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"), a.$slider.trigger("lazyLoadError", [a, n, i]), a.progressiveLazyLoad()) }, s.src = i) : a.$slider.trigger("allImagesLoaded", [a]) }, e.prototype.refresh = function (e) { var n, i, r = this; i = r.slideCount - r.options.slidesToShow, !r.options.infinite && r.currentSlide > i && (r.currentSlide = i), r.slideCount <= r.options.slidesToShow && (r.currentSlide = 0), n = r.currentSlide, r.destroy(!0), t.extend(r, r.initials, { currentSlide: n }), r.init(), e || r.changeSlide({ data: { message: "index", index: n } }, !1) }, e.prototype.registerBreakpoints = function () { var e, n, i, r = this, o = r.options.responsive || null; if ("array" === t.type(o) && o.length) { for (e in r.respondTo = r.options.respondTo || "window", o) if (i = r.breakpoints.length - 1, o.hasOwnProperty(e)) { for (n = o[e].breakpoint; i >= 0;)r.breakpoints[i] && r.breakpoints[i] === n && r.breakpoints.splice(i, 1), i--; r.breakpoints.push(n), r.breakpointSettings[n] = o[e].settings } r.breakpoints.sort((function (t, e) { return r.options.mobileFirst ? t - e : e - t })) } }, e.prototype.reinit = function () { var e = this; e.$slides = e.$slideTrack.children(e.options.slide).addClass("slick-slide"), e.slideCount = e.$slides.length, e.currentSlide >= e.slideCount && 0 !== e.currentSlide && (e.currentSlide = e.currentSlide - e.options.slidesToScroll), e.slideCount <= e.options.slidesToShow && (e.currentSlide = 0), e.registerBreakpoints(), e.setProps(), e.setupInfinite(), e.buildArrows(), e.updateArrows(), e.initArrowEvents(), e.buildDots(), e.updateDots(), e.initDotEvents(), e.cleanUpSlideEvents(), e.initSlideEvents(), e.checkResponsive(!1, !0), !0 === e.options.focusOnSelect && t(e.$slideTrack).children().on("click.slick", e.selectHandler), e.setSlideClasses("number" == typeof e.currentSlide ? e.currentSlide : 0), e.setPosition(), e.focusHandler(), e.paused = !e.options.autoplay, e.autoPlay(), e.$slider.trigger("reInit", [e]) }, e.prototype.resize = function () { var e = this; t(window).width() !== e.windowWidth && (clearTimeout(e.windowDelay), e.windowDelay = window.setTimeout((function () { e.windowWidth = t(window).width(), e.checkResponsive(), e.unslicked || e.setPosition() }), 50)) }, e.prototype.removeSlide = e.prototype.slickRemove = function (t, e, n) { var i = this; if (t = "boolean" == typeof t ? !0 === (e = t) ? 0 : i.slideCount - 1 : !0 === e ? --t : t, i.slideCount < 1 || t < 0 || t > i.slideCount - 1) return !1; i.unload(), !0 === n ? i.$slideTrack.children().remove() : i.$slideTrack.children(this.options.slide).eq(t).remove(), i.$slides = i.$slideTrack.children(this.options.slide), i.$slideTrack.children(this.options.slide).detach(), i.$slideTrack.append(i.$slides), i.$slidesCache = i.$slides, i.reinit() }, e.prototype.setCSS = function (t) { var e, n, i = this, r = {}; !0 === i.options.rtl && (t = -t), e = "left" == i.positionProp ? Math.ceil(t) + "px" : "0px", n = "top" == i.positionProp ? Math.ceil(t) + "px" : "0px", r[i.positionProp] = t, !1 === i.transformsEnabled ? i.$slideTrack.css(r) : (r = {}, !1 === i.cssTransitions ? (r[i.animType] = "translate(" + e + ", " + n + ")", i.$slideTrack.css(r)) : (r[i.animType] = "translate3d(" + e + ", " + n + ", 0px)", i.$slideTrack.css(r))) }, e.prototype.setDimensions = function () { var t = this; !1 === t.options.vertical ? !0 === t.options.centerMode && t.$list.css({ padding: "0px " + t.options.centerPadding }) : (t.$list.height(t.$slides.first().outerHeight(!0) * t.options.slidesToShow), !0 === t.options.centerMode && t.$list.css({ padding: t.options.centerPadding + " 0px" })), t.listWidth = t.$list.width(), t.listHeight = t.$list.height(), !1 === t.options.vertical && !1 === t.options.variableWidth ? (t.slideWidth = Math.ceil(t.listWidth / t.options.slidesToShow), t.$slideTrack.width(Math.ceil(t.slideWidth * t.$slideTrack.children(".slick-slide").length))) : !0 === t.options.variableWidth ? t.$slideTrack.width(5e3 * t.slideCount) : (t.slideWidth = Math.ceil(t.listWidth), t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0) * t.$slideTrack.children(".slick-slide").length))); var e = t.$slides.first().outerWidth(!0) - t.$slides.first().width(); !1 === t.options.variableWidth && t.$slideTrack.children(".slick-slide").width(t.slideWidth - e) }, e.prototype.setFade = function () { var e, n = this; n.$slides.each((function (i, r) { e = n.slideWidth * i * -1, !0 === n.options.rtl ? t(r).css({ position: "relative", right: e, top: 0, zIndex: n.options.zIndex - 2, opacity: 0 }) : t(r).css({ position: "relative", left: e, top: 0, zIndex: n.options.zIndex - 2, opacity: 0 }) })), n.$slides.eq(n.currentSlide).css({ zIndex: n.options.zIndex - 1, opacity: 1 }) }, e.prototype.setHeight = function () { var t = this; if (1 === t.options.slidesToShow && !0 === t.options.adaptiveHeight && !1 === t.options.vertical) { var e = t.$slides.eq(t.currentSlide).outerHeight(!0); t.$list.css("height", e) } }, e.prototype.setOption = e.prototype.slickSetOption = function () { var e, n, i, r, o, s = this, a = !1; if ("object" === t.type(arguments[0]) ? (i = arguments[0], a = arguments[1], o = "multiple") : "string" === t.type(arguments[0]) && (i = arguments[0], r = arguments[1], a = arguments[2], "responsive" === arguments[0] && "array" === t.type(arguments[1]) ? o = "responsive" : void 0 !== arguments[1] && (o = "single")), "single" === o) s.options[i] = r; else if ("multiple" === o) t.each(i, (function (t, e) { s.options[t] = e })); else if ("responsive" === o) for (n in r) if ("array" !== t.type(s.options.responsive)) s.options.responsive = [r[n]]; else { for (e = s.options.responsive.length - 1; e >= 0;)s.options.responsive[e].breakpoint === r[n].breakpoint && s.options.responsive.splice(e, 1), e--; s.options.responsive.push(r[n]) } a && (s.unload(), s.reinit()) }, e.prototype.setPosition = function () { var t = this; t.setDimensions(), t.setHeight(), !1 === t.options.fade ? t.setCSS(t.getLeft(t.currentSlide)) : t.setFade(), t.$slider.trigger("setPosition", [t]) }, e.prototype.setProps = function () { var t = this, e = document.body.style; t.positionProp = !0 === t.options.vertical ? "top" : "left", "top" === t.positionProp ? t.$slider.addClass("slick-vertical") : t.$slider.removeClass("slick-vertical"), void 0 === e.WebkitTransition && void 0 === e.MozTransition && void 0 === e.msTransition || !0 === t.options.useCSS && (t.cssTransitions = !0), t.options.fade && ("number" == typeof t.options.zIndex ? t.options.zIndex < 3 && (t.options.zIndex = 3) : t.options.zIndex = t.defaults.zIndex), void 0 !== e.OTransform && (t.animType = "OTransform", t.transformType = "-o-transform", t.transitionType = "OTransition", void 0 === e.perspectiveProperty && void 0 === e.webkitPerspective && (t.animType = !1)), void 0 !== e.MozTransform && (t.animType = "MozTransform", t.transformType = "-moz-transform", t.transitionType = "MozTransition", void 0 === e.perspectiveProperty && void 0 === e.MozPerspective && (t.animType = !1)), void 0 !== e.webkitTransform && (t.animType = "webkitTransform", t.transformType = "-webkit-transform", t.transitionType = "webkitTransition", void 0 === e.perspectiveProperty && void 0 === e.webkitPerspective && (t.animType = !1)), void 0 !== e.msTransform && (t.animType = "msTransform", t.transformType = "-ms-transform", t.transitionType = "msTransition", void 0 === e.msTransform && (t.animType = !1)), void 0 !== e.transform && !1 !== t.animType && (t.animType = "transform", t.transformType = "transform", t.transitionType = "transition"), t.transformsEnabled = t.options.useTransform && null !== t.animType && !1 !== t.animType }, e.prototype.setSlideClasses = function (t) { var e, n, i, r, o = this; if (n = o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden", "true"), o.$slides.eq(t).addClass("slick-current"), !0 === o.options.centerMode) { var s = o.options.slidesToShow % 2 == 0 ? 1 : 0; e = Math.floor(o.options.slidesToShow / 2), !0 === o.options.infinite && (t >= e && t <= o.slideCount - 1 - e ? o.$slides.slice(t - e + s, t + e + 1).addClass("slick-active").attr("aria-hidden", "false") : (i = o.options.slidesToShow + t, n.slice(i - e + 1 + s, i + e + 2).addClass("slick-active").attr("aria-hidden", "false")), 0 === t ? n.eq(n.length - 1 - o.options.slidesToShow).addClass("slick-center") : t === o.slideCount - 1 && n.eq(o.options.slidesToShow).addClass("slick-center")), o.$slides.eq(t).addClass("slick-center") } else t >= 0 && t <= o.slideCount - o.options.slidesToShow ? o.$slides.slice(t, t + o.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false") : n.length <= o.options.slidesToShow ? n.addClass("slick-active").attr("aria-hidden", "false") : (r = o.slideCount % o.options.slidesToShow, i = !0 === o.options.infinite ? o.options.slidesToShow + t : t, o.options.slidesToShow == o.options.slidesToScroll && o.slideCount - t < o.options.slidesToShow ? n.slice(i - (o.options.slidesToShow - r), i + r).addClass("slick-active").attr("aria-hidden", "false") : n.slice(i, i + o.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false")); "ondemand" !== o.options.lazyLoad && "anticipated" !== o.options.lazyLoad || o.lazyLoad() }, e.prototype.setupInfinite = function () { var e, n, i, r = this; if (!0 === r.options.fade && (r.options.centerMode = !1), !0 === r.options.infinite && !1 === r.options.fade && (n = null, r.slideCount > r.options.slidesToShow)) { for (i = !0 === r.options.centerMode ? r.options.slidesToShow + 1 : r.options.slidesToShow, e = r.slideCount; e > r.slideCount - i; e -= 1)n = e - 1, t(r.$slides[n]).clone(!0).attr("id", "").attr("data-slick-index", n - r.slideCount).prependTo(r.$slideTrack).addClass("slick-cloned"); for (e = 0; e < i + r.slideCount; e += 1)n = e, t(r.$slides[n]).clone(!0).attr("id", "").attr("data-slick-index", n + r.slideCount).appendTo(r.$slideTrack).addClass("slick-cloned"); r.$slideTrack.find(".slick-cloned").find("[id]").each((function () { t(this).attr("id", "") })) } }, e.prototype.interrupt = function (t) { t || this.autoPlay(), this.interrupted = t }, e.prototype.selectHandler = function (e) { var n = this, i = t(e.target).is(".slick-slide") ? t(e.target) : t(e.target).parents(".slick-slide"), r = parseInt(i.attr("data-slick-index")); r || (r = 0), n.slideCount <= n.options.slidesToShow ? n.slideHandler(r, !1, !0) : n.slideHandler(r) }, e.prototype.slideHandler = function (t, e, n) { var i, r, o, s, a, u, l = this; if (e = e || !1, !(!0 === l.animating && !0 === l.options.waitForAnimate || !0 === l.options.fade && l.currentSlide === t)) if (!1 === e && l.asNavFor(t), i = t, a = l.getLeft(i), s = l.getLeft(l.currentSlide), l.currentLeft = null === l.swipeLeft ? s : l.swipeLeft, !1 === l.options.infinite && !1 === l.options.centerMode && (t < 0 || t > l.getDotCount() * l.options.slidesToScroll)) !1 === l.options.fade && (i = l.currentSlide, !0 !== n && l.slideCount > l.options.slidesToShow ? l.animateSlide(s, (function () { l.postSlide(i) })) : l.postSlide(i)); else if (!1 === l.options.infinite && !0 === l.options.centerMode && (t < 0 || t > l.slideCount - l.options.slidesToScroll)) !1 === l.options.fade && (i = l.currentSlide, !0 !== n && l.slideCount > l.options.slidesToShow ? l.animateSlide(s, (function () { l.postSlide(i) })) : l.postSlide(i)); else { if (l.options.autoplay && clearInterval(l.autoPlayTimer), r = i < 0 ? l.slideCount % l.options.slidesToScroll != 0 ? l.slideCount - l.slideCount % l.options.slidesToScroll : l.slideCount + i : i >= l.slideCount ? l.slideCount % l.options.slidesToScroll != 0 ? 0 : i - l.slideCount : i, l.animating = !0, l.$slider.trigger("beforeChange", [l, l.currentSlide, r]), o = l.currentSlide, l.currentSlide = r, l.setSlideClasses(l.currentSlide), l.options.asNavFor && (u = (u = l.getNavTarget()).slick("getSlick")).slideCount <= u.options.slidesToShow && u.setSlideClasses(l.currentSlide), l.updateDots(), l.updateArrows(), !0 === l.options.fade) return !0 !== n ? (l.fadeSlideOut(o), l.fadeSlide(r, (function () { l.postSlide(r) }))) : l.postSlide(r), void l.animateHeight(); !0 !== n && l.slideCount > l.options.slidesToShow ? l.animateSlide(a, (function () { l.postSlide(r) })) : l.postSlide(r) } }, e.prototype.startLoad = function () { var t = this; !0 === t.options.arrows && t.slideCount > t.options.slidesToShow && (t.$prevArrow.hide(), t.$nextArrow.hide()), !0 === t.options.dots && t.slideCount > t.options.slidesToShow && t.$dots.hide(), t.$slider.addClass("slick-loading") }, e.prototype.swipeDirection = function () { var t, e, n, i, r = this; return t = r.touchObject.startX - r.touchObject.curX, e = r.touchObject.startY - r.touchObject.curY, n = Math.atan2(e, t), (i = Math.round(180 * n / Math.PI)) < 0 && (i = 360 - Math.abs(i)), i <= 45 && i >= 0 || i <= 360 && i >= 315 ? !1 === r.options.rtl ? "left" : "right" : i >= 135 && i <= 225 ? !1 === r.options.rtl ? "right" : "left" : !0 === r.options.verticalSwiping ? i >= 35 && i <= 135 ? "down" : "up" : "vertical" }, e.prototype.swipeEnd = function (t) { var e, n, i = this; if (i.dragging = !1, i.swiping = !1, i.scrolling) return i.scrolling = !1, !1; if (i.interrupted = !1, i.shouldClick = !(i.touchObject.swipeLength > 10), void 0 === i.touchObject.curX) return !1; if (!0 === i.touchObject.edgeHit && i.$slider.trigger("edge", [i, i.swipeDirection()]), i.touchObject.swipeLength >= i.touchObject.minSwipe) { switch (n = i.swipeDirection()) { case "left": case "down": e = i.options.swipeToSlide ? i.checkNavigable(i.currentSlide + i.getSlideCount()) : i.currentSlide + i.getSlideCount(), i.currentDirection = 0; break; case "right": case "up": e = i.options.swipeToSlide ? i.checkNavigable(i.currentSlide - i.getSlideCount()) : i.currentSlide - i.getSlideCount(), i.currentDirection = 1 }"vertical" != n && (i.slideHandler(e), i.touchObject = {}, i.$slider.trigger("swipe", [i, n])) } else i.touchObject.startX !== i.touchObject.curX && (i.slideHandler(i.currentSlide), i.touchObject = {}) }, e.prototype.swipeHandler = function (t) { var e = this; if (!(!1 === e.options.swipe || "ontouchend" in document && !1 === e.options.swipe || !1 === e.options.draggable && -1 !== t.type.indexOf("mouse"))) switch (e.touchObject.fingerCount = t.originalEvent && void 0 !== t.originalEvent.touches ? t.originalEvent.touches.length : 1, e.touchObject.minSwipe = e.listWidth / e.options.touchThreshold, !0 === e.options.verticalSwiping && (e.touchObject.minSwipe = e.listHeight / e.options.touchThreshold), t.data.action) { case "start": e.swipeStart(t); break; case "move": e.swipeMove(t); break; case "end": e.swipeEnd(t) } }, e.prototype.swipeMove = function (t) { var e, n, i, r, o, s, a = this; return o = void 0 !== t.originalEvent ? t.originalEvent.touches : null, !(!a.dragging || a.scrolling || o && 1 !== o.length) && (e = a.getLeft(a.currentSlide), a.touchObject.curX = void 0 !== o ? o[0].pageX : t.clientX, a.touchObject.curY = void 0 !== o ? o[0].pageY : t.clientY, a.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(a.touchObject.curX - a.touchObject.startX, 2))), s = Math.round(Math.sqrt(Math.pow(a.touchObject.curY - a.touchObject.startY, 2))), !a.options.verticalSwiping && !a.swiping && s > 4 ? (a.scrolling = !0, !1) : (!0 === a.options.verticalSwiping && (a.touchObject.swipeLength = s), n = a.swipeDirection(), void 0 !== t.originalEvent && a.touchObject.swipeLength > 4 && (a.swiping = !0, t.preventDefault()), r = (!1 === a.options.rtl ? 1 : -1) * (a.touchObject.curX > a.touchObject.startX ? 1 : -1), !0 === a.options.verticalSwiping && (r = a.touchObject.curY > a.touchObject.startY ? 1 : -1), i = a.touchObject.swipeLength, a.touchObject.edgeHit = !1, !1 === a.options.infinite && (0 === a.currentSlide && "right" === n || a.currentSlide >= a.getDotCount() && "left" === n) && (i = a.touchObject.swipeLength * a.options.edgeFriction, a.touchObject.edgeHit = !0), !1 === a.options.vertical ? a.swipeLeft = e + i * r : a.swipeLeft = e + i * (a.$list.height() / a.listWidth) * r, !0 === a.options.verticalSwiping && (a.swipeLeft = e + i * r), !0 !== a.options.fade && !1 !== a.options.touchMove && (!0 === a.animating ? (a.swipeLeft = null, !1) : void a.setCSS(a.swipeLeft)))) }, e.prototype.swipeStart = function (t) { var e, n = this; if (n.interrupted = !0, 1 !== n.touchObject.fingerCount || n.slideCount <= n.options.slidesToShow) return n.touchObject = {}, !1; void 0 !== t.originalEvent && void 0 !== t.originalEvent.touches && (e = t.originalEvent.touches[0]), n.touchObject.startX = n.touchObject.curX = void 0 !== e ? e.pageX : t.clientX, n.touchObject.startY = n.touchObject.curY = void 0 !== e ? e.pageY : t.clientY, n.dragging = !0 }, e.prototype.unfilterSlides = e.prototype.slickUnfilter = function () { var t = this; null !== t.$slidesCache && (t.unload(), t.$slideTrack.children(this.options.slide).detach(), t.$slidesCache.appendTo(t.$slideTrack), t.reinit()) }, e.prototype.unload = function () { var e = this; t(".slick-cloned", e.$slider).remove(), e.$dots && e.$dots.remove(), e.$prevArrow && e.htmlExpr.test(e.options.prevArrow) && e.$prevArrow.remove(), e.$nextArrow && e.htmlExpr.test(e.options.nextArrow) && e.$nextArrow.remove(), e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden", "true").css("width", "") }, e.prototype.unslick = function (t) { var e = this; e.$slider.trigger("unslick", [e, t]), e.destroy() }, e.prototype.updateArrows = function () { var t = this; Math.floor(t.options.slidesToShow / 2), !0 === t.options.arrows && t.slideCount > t.options.slidesToShow && !t.options.infinite && (t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), 0 === t.currentSlide ? (t.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true"), t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : (t.currentSlide >= t.slideCount - t.options.slidesToShow && !1 === t.options.centerMode || t.currentSlide >= t.slideCount - 1 && !0 === t.options.centerMode) && (t.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false"))) }, e.prototype.updateDots = function () { var t = this; null !== t.$dots && (t.$dots.find("li").removeClass("slick-active").end(), t.$dots.find("li").eq(Math.floor(t.currentSlide / t.options.slidesToScroll)).addClass("slick-active")) }, e.prototype.visibility = function () { var t = this; t.options.autoplay && (document[t.hidden] ? t.interrupted = !0 : t.interrupted = !1) }, t.fn.slick = function () { var t, n, i = this, r = arguments[0], o = Array.prototype.slice.call(arguments, 1), s = i.length; for (t = 0; t < s; t++)if ("object" == typeof r || void 0 === r ? i[t].slick = new e(i[t], r) : n = i[t].slick[r].apply(i[t].slick, o), void 0 !== n) return n; return i }; var n }) ? i.apply(e, r) : i) || (t.exports = o) }() }, bzVz: function (t, e, n) { "use strict"; (function (t) { var n = function (t) { this.itemsToEqualize = t }; n.prototype.init = function () { console.log("equalizer init") }, n.prototype.equalizeHeights = function () { var e = 0; this.itemsToEqualize.each((function () { t(this).css("min-height", "0px"); var n = t(this).outerHeight(); n > e && (e = n) })), this.itemsToEqualize.css("min-height", e) }, n.prototype.equalizeWidths = function () { var e = 0; this.itemsToEqualize.each((function () { t(this).css("min-width", "0px"); var n = t(this).outerWidth(); n > e && (e = n) })), this.itemsToEqualize.css("min-width", e) }, e.a = n }).call(this, n("EVdn")) }, dSmP: function (t, e, n) { "use strict"; (function (t) { var i = n("3rzb"), r = n.n(i), o = n("WVt+"), s = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; s.prototype.init = function () { var e = this; this.$mapTypeControls = this.options.$el.find(".map-type-control"), this.mapboxMarkers = [], this.initMap(), this.options.$el.find("#map-container").on("click", ".marker .icon-wrapper, .marker div.marker-detail-wrapper", (function () { var n = t(this).closest(".marker").data("markerLat"), i = t(this).closest(".marker").data("markerLng"), r = Number(n), o = Number(i) + .0022; e.map.flyTo({ center: [o, r], zoom: 15 }) })), this.options.$el.find("#map-container").on("mouseenter", ".marker .icon-wrapper", (function () { t(this).closest(".marker").addClass("active") })), this.options.$el.find("#map-container").on("mouseleave", ".marker", (function () { t(this).removeClass("active") })) }, s.prototype.initMap = function () { var e = this; mapboxgl.accessToken = "pk.eyJ1IjoiYXV0aGVudGljZmYiLCJhIjoiUmtjWTY2byJ9.QeHZuWdaMRJlobq_RgXngw"; var n = this.options.$el.data("componentId"), i = n + "MapInitSettings"; this.mapInitSettings = window[i], console.log("map init"), console.log(this.mapInitSettings), this.geoJson = window[n]; var o = !0; window.screen.width <= 768 && (o = !1), console.log("zoom"), console.log(e.mapInitSettings.startZoom), this.map = new mapboxgl.Map({ container: e.options.$el.find("#map-container")[0], style: "mapbox://styles/authenticff/cjzk06an60ekk1csazdas0bm3", dragPan: o, center: [e.mapInitSettings.centerLng, e.mapInitSettings.centerLat], zoom: e.mapInitSettings.startZoom }), this.map.scrollZoom.disable(), this.map.resize(), this.map.addControl(new mapboxgl.NavigationControl), this.addPOIs(), this.centerMapAroundMarkers(), r.a.subscribe("resized", (function () { e.centerMapAroundMarkers() })), this.$mapTypeControls.on("click", (function () { t(this).hasClass("active") || (e.$mapTypeControls.removeClass("active"), t(this).addClass("active"), "road" == t(this).data("style") ? e.map.setStyle("mapbox://styles/authenticff/cjzk06an60ekk1csazdas0bm3") : "satellite" == t(this).data("style") && e.map.setStyle("mapbox://styles/mapbox/satellite-v9")) })) }, s.prototype.centerMapAroundMarkers = function () { var e = o.bbox({ type: "FeatureCollection", features: this.geoJson.features }); if (t(window).width() <= 480) var n = { top: 80, bottom: 30, left: 30, right: 80 }; else if (t(window).width() <= 768) n = { top: 100, bottom: 50, left: 50, right: 100 }; else n = { top: 200, bottom: 150, left: 150, right: 200 }; this.geoJson.features.length > 1 ? this.map.fitBounds(e, { padding: n }) : 1 == this.geoJson.features.length && this.map.flyTo({ center: this.geoJson.features[0].geometry.coordinates }) }, s.prototype.addPOIs = function () { var e = this; this.geoJson.features.forEach((function (n) { console.log("add marker"), console.log(n); var i = document.createElement("div"); i.className = "marker", i.id = n.properties.markerId, i.dataset.markerLng = n.geometry.coordinates[0], i.dataset.markerLat = n.geometry.coordinates[1]; var r = t('<div class="marker-content-wrapper"></div>'); if ("" != n.properties.markerLink) var o = t('<a href="' + n.properties.markerLink + '" class="marker-detail-wrapper"></a>'); else o = t('<div class="marker-detail-wrapper"></div>'); var s = t('<div class="marker-detail"></div>'), a = t('<div class="marker-title">' + n.properties.markerTitle + "</div>"), u = t('<div class="marker-address">' + n.properties.markerSubtitle + "</div>"), l = t('<div class="marker-detail-wrapper-placeholder"></div>'); if (s.append(a), "" != n.properties.markerSubtitle && s.append(u), o.append(s), l.append(s.clone()), n.properties.icon.match(/.*\.svg/)) t.ajax({ url: n.properties.icon, dataType: "xml", success: function (e) { var n = t('<div class="inline-svg-wrapper"></div>'), s = t(e).find("svg"); if (s.attr("height") && s.attr("width")) var a = t('<canvas class="svg-frame" height="' + s.attr("height") + '" width="' + s.attr("width") + '"></canvas>'); else a = t('<canvas class="svg-frame" height="1" width="1"></canvas>'); n.append(a), "undefined" != typeof imgID && (s = s.attr("id", imgID)), "undefined" != typeof imgClass && (s = s.attr("class", imgClass + " replaced-svg")), !(s = s.removeAttr("xmlns:a")).attr("viewBox") && s.attr("height") && s.attr("width") && s.attr("viewBox", "0 0 " + s.attr("height") + " " + s.attr("width")), s.removeAttr("height"), s.removeAttr("width"), n.append(s); var u = t('<div class="icon-wrapper"></div>'); u.append(n), r.append(u), r.append(o), r.append(l), i.appendChild(r[0]) } }); else { var c = document.createElement("img"); c.src = n.properties.icon; var h = t('<div class="icon-wrapper"></div>'); h.append(t(c)), r.append(h), r.append(o), r.append(l), i.appendChild(r[0]) } t(i).find("marker-detail-wrapper-placeholder").height(); var p = new mapboxgl.Marker({ element: i, offset: [119, -48] }).setLngLat(n.geometry.coordinates).addTo(e.map); e.mapboxMarkers.push(p) })), this.setMarkerOffsetsInterval = window.setInterval((function () { var n = !0; t.each(e.mapboxMarkers, (function () { var e = t(this._element).outerHeight(), i = t(this._element).outerWidth(), r = i / 2, o = -1 * (e / 2 + 16); 0 == e || 0 == i ? n = !1 : this.setOffset([r, o]) })), n && window.clearInterval(e.setMarkerOffsetsInterval) }), 100) }, e.a = s }).call(this, n("EVdn")) }, dgZT: function (t, e, n) { "use strict"; (function (t) { var i = n("3rzb"), r = n.n(i), o = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; o.prototype.init = function () { this.options.$el.find(".hamburger").on("click", (function () { r.a.publish("NavOverlay:show") })) }, e.a = o }).call(this, n("EVdn")) }, e931: function (t, e, n) { "use strict"; (function (t) { var i = n("3rzb"), r = n.n(i), o = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; o.prototype.init = function () { var t = this; this.positionRightSideText(), r.a.subscribe("resized", (function () { t.positionRightSideText() })) }, o.prototype.positionRightSideText = function () { var t = this.options.$el.find(".right-side-text"), e = this.options.$el.find(".content-wrapper"), n = t.width(), i = t.height(), r = e.outerHeight(), o = e.width(), s = r / 2 - i / 2; t.css("top", s); var a = n / 2 * -1 + i / 2 + .035 * o; t.css("right", a) }, e.a = o }).call(this, n("EVdn")) }, "eg/h": function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, em3R: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, fKsX: function (t, e, n) { t.exports = function t(e, n, i) { function r(s, a) { if (!n[s]) { if (!e[s]) { if (o) return o(s, !0); var u = new Error("Cannot find module '" + s + "'"); throw u.code = "MODULE_NOT_FOUND", u } var l = n[s] = { exports: {} }; e[s][0].call(l.exports, (function (t) { var n = e[s][1][t]; return r(n || t) }), l, l.exports, t, e, n, i) } return n[s].exports } for (var o = !1, s = 0; s < i.length; s++)r(i[s]); return r }({ 1: [function (t, e, n) { "use strict"; var i = Object.assign || function (t) { for (var e = 1; e < arguments.length; e++) { var n = arguments[e]; for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, r = function () { function t(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } return function (e, n, i) { return n && t(e.prototype, n), i && t(e, i), e } }(), o = function () { function t(e, n) { (function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") })(this, t), this.options = i({}, t.defaults, n), this.element = e || document.querySelector(".cocoen"), this.init() } return r(t, [{ key: "init", value: function () { this.createElements(), this.addEventListeners(), this.dimensions() } }, { key: "createElements", value: function () { var t = document.createElement("span"); t.className = this.options.dragElementSelector.replace(".", ""), this.element.appendChild(t); var e = document.createElement("div"), n = this.element.querySelector("img:first-child"); e.appendChild(n.cloneNode(!0)), n.parentNode.replaceChild(e, n), this.dragElement = this.element.querySelector(this.options.dragElementSelector), this.beforeElement = this.element.querySelector("div:first-child"), this.beforeImage = this.beforeElement.querySelector("img") } }, { key: "addEventListeners", value: function () { this.element.addEventListener("click", this.onTap.bind(this)), this.element.addEventListener("mousemove", this.onDrag.bind(this)), this.element.addEventListener("touchmove", this.onDrag.bind(this)), this.dragElement.addEventListener("mousedown", this.onDragStart.bind(this)), this.dragElement.addEventListener("touchstart", this.onDragStart.bind(this)), window.addEventListener("mouseup", this.onDragEnd.bind(this)), window.addEventListener("resize", this.dimensions.bind(this)) } }, { key: "dimensions", value: function () { this.elementWidth = parseInt(window.getComputedStyle(this.element).width, 10), this.elementOffsetLeft = this.element.getBoundingClientRect().left + document.body.scrollLeft, this.beforeImage.style.width = this.elementWidth + "px", this.dragElementWidth = parseInt(window.getComputedStyle(this.dragElement).width, 10), this.minLeftPos = this.elementOffsetLeft + 10, this.maxLeftPos = this.elementOffsetLeft + this.elementWidth - this.dragElementWidth - 10 } }, { key: "onTap", value: function (t) { t.preventDefault(), this.leftPos = t.pageX ? t.pageX : t.touches[0].pageX, this.requestDrag() } }, { key: "onDragStart", value: function (t) { t.preventDefault(); var e = t.pageX ? t.pageX : t.touches[0].pageX, n = this.dragElement.getBoundingClientRect().left + document.body.scrollLeft; this.posX = n + this.dragElementWidth - e, this.isDragging = !0 } }, { key: "onDragEnd", value: function (t) { t.preventDefault(), this.isDragging = !1 } }, { key: "onDrag", value: function (t) { t.preventDefault(), this.isDragging && (this.moveX = t.pageX ? t.pageX : t.touches[0].pageX, this.leftPos = this.moveX + this.posX - this.dragElementWidth, this.requestDrag()) } }, { key: "drag", value: function () { this.leftPos < this.minLeftPos ? this.leftPos = this.minLeftPos : this.leftPos > this.maxLeftPos && (this.leftPos = this.maxLeftPos); var t = this.leftPos + this.dragElementWidth / 2 - this.elementOffsetLeft, e = 100 * (t /= this.elementWidth) + "%"; this.dragElement.style.left = e, this.beforeElement.style.width = e, this.options.dragCallback && this.options.dragCallback(t) } }, { key: "requestDrag", value: function () { window.requestAnimationFrame(this.drag.bind(this)) } }]), t }(); o.defaults = { dragElementSelector: ".cocoen-drag", dragCallback: null }, e.exports = o }, {}] }, {}, [1])(1) }, gSSN: function (t, e, n) { "use strict"; (function (t, i) { var r = n("3rzb"), o = n.n(r), s = function () { }; s.prototype.init = function () { this.initEvents(), this.initSelectDropdowns(), this.inlineSvgs() }, s.prototype.initEvents = function () { var e = t.throttle((function (t) { o.a.publish("resize") }), 0, { trailing: !1 }); window.addEventListener("resize", e, !1); var n = t.debounce((function (t) { o.a.publish("resized") }), 400); window.addEventListener("resize", n, !1) }, s.prototype.initSelectDropdowns = function () { i("select").on("change", (function () { i(this).removeClass("value-selected"), "" != i(this).val() && i(this).addClass("value-selected") })) }, s.prototype.inlineSvgs = function () { i("img:not(.no-svg-replace)").filter((function () { return this.src.match(/.*\.svg/) })).each((function () { var t = i(this), e = t.attr("id"), n = t.attr("class"); if ((r = t[0].src).indexOf("?") >= 0) var r = r + "&from-js=true"; else r = r + "?from-js=true"; i.ajax({ url: r, dataType: "xml", success: function (r) { var o = i('<div class="inline-svg-wrapper"></div>').insertBefore(t), s = i(r).find("svg"); if (s.attr("height") && s.attr("width")) var a = i('<canvas class="svg-frame" height="' + s.attr("height") + '" width="' + s.attr("width") + '"></canvas>'); else a = i('<canvas class="svg-frame" height="1" width="1"></canvas>'); o.append(a), void 0 !== e && (s = s.attr("id", e)), void 0 !== n && (s = s.attr("class", n + " replaced-svg")), !(s = s.removeAttr("xmlns:a")).attr("viewBox") && s.attr("height") && s.attr("width") && s.attr("viewBox", "0 0 " + s.attr("height") + " " + s.attr("width")), s.removeAttr("height"), s.removeAttr("width"), o.append(s), t.remove() }, complete: function (t) { o.a.publish("Sitewide:inlineSvgs:svgReplaced") } }) })) }, e.a = s }).call(this, n("xG9w"), n("EVdn")) }, gYfQ: function (t, e, n) { (function (e) { t.exports = function (t) { var i = e.$ || window.$ || t || n("EVdn"); i.attrFn = i.attrFn || {}; var r = navigator.userAgent.toLowerCase(), o = r.indexOf("chrome") > -1 && (r.indexOf("windows") > -1 || r.indexOf("macintosh") > -1 || r.indexOf("linux") > -1) && r.indexOf("mobile") < 0 && r.indexOf("android") < 0, s = { tap_pixel_range: 5, swipe_h_threshold: 50, swipe_v_threshold: 50, taphold_threshold: 750, doubletap_int: 500, touch_capable: "ontouchstart" in window && !o, orientation_support: "orientation" in window && "onorientationchange" in window, startevent: "ontouchstart" in window && !o ? "touchstart" : "mousedown", endevent: "ontouchstart" in window && !o ? "touchend" : "mouseup", moveevent: "ontouchstart" in window && !o ? "touchmove" : "mousemove", tapevent: "ontouchstart" in window && !o ? "tap" : "click", scrollevent: "ontouchstart" in window && !o ? "touchmove" : "scroll", hold_timer: null, tap_timer: null }; i.isTouchCapable = function () { return s.touch_capable }, i.getStartEvent = function () { return s.startevent }, i.getEndEvent = function () { return s.endevent }, i.getMoveEvent = function () { return s.moveevent }, i.getTapEvent = function () { return s.tapevent }, i.getScrollEvent = function () { return s.scrollevent }, i.each(["tapstart", "tapend", "tapmove", "tap", "tap2", "tap3", "tap4", "singletap", "doubletap", "taphold", "swipe", "swipeup", "swiperight", "swipedown", "swipeleft", "swipeend", "scrollstart", "scrollend", "orientationchange"], (function (t, e) { i.fn[e] = function (t) { return t ? this.on(e, t) : this.trigger(e) }, i.attrFn[e] = !0 })), i.event.special.tapstart = { setup: function () { var t = this, e = i(t); e.on(s.startevent, (function n(i) { if (e.data("callee", n), i.which && 1 !== i.which) return !1; var r = i.originalEvent, o = { position: { x: s.touch_capable ? r.touches[0].screenX : i.screenX, y: s.touch_capable ? r.touches[0].screenY : i.screenY }, offset: { x: s.touch_capable ? Math.round(r.changedTouches[0].pageX - (e.offset() ? e.offset().left : 0)) : Math.round(i.pageX - (e.offset() ? e.offset().left : 0)), y: s.touch_capable ? Math.round(r.changedTouches[0].pageY - (e.offset() ? e.offset().top : 0)) : Math.round(i.pageY - (e.offset() ? e.offset().top : 0)) }, time: Date.now(), target: i.target }; return w(t, "tapstart", i, o), !0 })) }, remove: function () { i(this).off(s.startevent, i(this).data.callee) } }, i.event.special.tapmove = { setup: function () { var t = this, e = i(t); e.on(s.moveevent, (function n(i) { e.data("callee", n); var r = i.originalEvent, o = { position: { x: s.touch_capable ? r.touches[0].screenX : i.screenX, y: s.touch_capable ? r.touches[0].screenY : i.screenY }, offset: { x: s.touch_capable ? Math.round(r.changedTouches[0].pageX - (e.offset() ? e.offset().left : 0)) : Math.round(i.pageX - (e.offset() ? e.offset().left : 0)), y: s.touch_capable ? Math.round(r.changedTouches[0].pageY - (e.offset() ? e.offset().top : 0)) : Math.round(i.pageY - (e.offset() ? e.offset().top : 0)) }, time: Date.now(), target: i.target }; return w(t, "tapmove", i, o), !0 })) }, remove: function () { i(this).off(s.moveevent, i(this).data.callee) } }, i.event.special.tapend = { setup: function () { var t = this, e = i(t); e.on(s.endevent, (function n(i) { e.data("callee", n); var r = i.originalEvent, o = { position: { x: s.touch_capable ? r.changedTouches[0].screenX : i.screenX, y: s.touch_capable ? r.changedTouches[0].screenY : i.screenY }, offset: { x: s.touch_capable ? Math.round(r.changedTouches[0].pageX - (e.offset() ? e.offset().left : 0)) : Math.round(i.pageX - (e.offset() ? e.offset().left : 0)), y: s.touch_capable ? Math.round(r.changedTouches[0].pageY - (e.offset() ? e.offset().top : 0)) : Math.round(i.pageY - (e.offset() ? e.offset().top : 0)) }, time: Date.now(), target: i.target }; return w(t, "tapend", i, o), !0 })) }, remove: function () { i(this).off(s.endevent, i(this).data.callee) } }, i.event.special.taphold = { setup: function () { var t, e = this, n = i(e), r = { x: 0, y: 0 }, o = 0, a = 0; n.on(s.startevent, (function i(u) { if (u.which && 1 !== u.which) return !1; n.data("tapheld", !1), t = u.target; var l = u.originalEvent, c = Date.now(), h = { x: s.touch_capable ? l.touches[0].screenX : u.screenX, y: s.touch_capable ? l.touches[0].screenY : u.screenY }, p = { x: s.touch_capable ? l.touches[0].pageX - l.touches[0].target.offsetLeft : u.offsetX, y: s.touch_capable ? l.touches[0].pageY - l.touches[0].target.offsetTop : u.offsetY }; return r.x = u.originalEvent.targetTouches ? u.originalEvent.targetTouches[0].pageX : u.pageX, r.y = u.originalEvent.targetTouches ? u.originalEvent.targetTouches[0].pageY : u.pageY, o = r.x, a = r.y, s.hold_timer = window.setTimeout((function () { var f = r.x - o, d = r.y - a; if (u.target == t && (r.x == o && r.y == a || f >= -s.tap_pixel_range && f <= s.tap_pixel_range && d >= -s.tap_pixel_range && d <= s.tap_pixel_range)) { n.data("tapheld", !0); var g = Date.now(), y = { x: s.touch_capable ? l.touches[0].screenX : u.screenX, y: s.touch_capable ? l.touches[0].screenY : u.screenY }, m = { x: s.touch_capable ? Math.round(l.changedTouches[0].pageX - (n.offset() ? n.offset().left : 0)) : Math.round(u.pageX - (n.offset() ? n.offset().left : 0)), y: s.touch_capable ? Math.round(l.changedTouches[0].pageY - (n.offset() ? n.offset().top : 0)) : Math.round(u.pageY - (n.offset() ? n.offset().top : 0)) }, v = { startTime: c, endTime: g, startPosition: h, startOffset: p, endPosition: y, endOffset: m, duration: g - c, target: u.target }; n.data("callee1", i), w(e, "taphold", u, v) } }), s.taphold_threshold), !0 })).on(s.endevent, (function t() { n.data("callee2", t), n.data("tapheld", !1), window.clearTimeout(s.hold_timer) })).on(s.moveevent, (function t(e) { n.data("callee3", t), o = e.originalEvent.targetTouches ? e.originalEvent.targetTouches[0].pageX : e.pageX, a = e.originalEvent.targetTouches ? e.originalEvent.targetTouches[0].pageY : e.pageY })) }, remove: function () { i(this).off(s.startevent, i(this).data.callee1).off(s.endevent, i(this).data.callee2).off(s.moveevent, i(this).data.callee3) } }, i.event.special.doubletap = { setup: function () { var t, e, n, r = this, o = i(r), a = null, u = !1; o.on(s.startevent, (function e(i) { return (!i.which || 1 === i.which) && (o.data("doubletapped", !1), t = i.target, o.data("callee1", e), n = i.originalEvent, a || (a = { position: { x: s.touch_capable ? n.touches[0].screenX : i.screenX, y: s.touch_capable ? n.touches[0].screenY : i.screenY }, offset: { x: s.touch_capable ? Math.round(n.changedTouches[0].pageX - (o.offset() ? o.offset().left : 0)) : Math.round(i.pageX - (o.offset() ? o.offset().left : 0)), y: s.touch_capable ? Math.round(n.changedTouches[0].pageY - (o.offset() ? o.offset().top : 0)) : Math.round(i.pageY - (o.offset() ? o.offset().top : 0)) }, time: Date.now(), target: i.target }), !0) })).on(s.endevent, (function i(l) { var c = Date.now(), h = c - (o.data("lastTouch") || c + 1); if (window.clearTimeout(e), o.data("callee2", i), h < s.doubletap_int && l.target == t && h > 100) { o.data("doubletapped", !0), window.clearTimeout(s.tap_timer); var p = { position: { x: s.touch_capable ? l.originalEvent.changedTouches[0].screenX : l.screenX, y: s.touch_capable ? l.originalEvent.changedTouches[0].screenY : l.screenY }, offset: { x: s.touch_capable ? Math.round(n.changedTouches[0].pageX - (o.offset() ? o.offset().left : 0)) : Math.round(l.pageX - (o.offset() ? o.offset().left : 0)), y: s.touch_capable ? Math.round(n.changedTouches[0].pageY - (o.offset() ? o.offset().top : 0)) : Math.round(l.pageY - (o.offset() ? o.offset().top : 0)) }, time: Date.now(), target: l.target }, f = { firstTap: a, secondTap: p, interval: p.time - a.time }; u || (w(r, "doubletap", l, f), a = null), u = !0, window.setTimeout((function () { u = !1 }), s.doubletap_int) } else o.data("lastTouch", c), e = window.setTimeout((function () { a = null, window.clearTimeout(e) }), s.doubletap_int, [l]); o.data("lastTouch", c) })) }, remove: function () { i(this).off(s.startevent, i(this).data.callee1).off(s.endevent, i(this).data.callee2) } }, i.event.special.singletap = { setup: function () { var t = this, e = i(t), n = null, r = null, o = { x: 0, y: 0 }; e.on(s.startevent, (function t(i) { return (!i.which || 1 === i.which) && (r = Date.now(), n = i.target, e.data("callee1", t), o.x = i.originalEvent.targetTouches ? i.originalEvent.targetTouches[0].pageX : i.pageX, o.y = i.originalEvent.targetTouches ? i.originalEvent.targetTouches[0].pageY : i.pageY, !0) })).on(s.endevent, (function i(a) { if (e.data("callee2", i), a.target == n) { var u = a.originalEvent.changedTouches ? a.originalEvent.changedTouches[0].pageX : a.pageX, l = a.originalEvent.changedTouches ? a.originalEvent.changedTouches[0].pageY : a.pageY; s.tap_timer = window.setTimeout((function () { var n = o.x - u, i = o.y - l; if (!e.data("doubletapped") && !e.data("tapheld") && (o.x == u && o.y == l || n >= -s.tap_pixel_range && n <= s.tap_pixel_range && i >= -s.tap_pixel_range && i <= s.tap_pixel_range)) { var c = a.originalEvent, h = { position: { x: s.touch_capable ? c.changedTouches[0].screenX : a.screenX, y: s.touch_capable ? c.changedTouches[0].screenY : a.screenY }, offset: { x: s.touch_capable ? Math.round(c.changedTouches[0].pageX - (e.offset() ? e.offset().left : 0)) : Math.round(a.pageX - (e.offset() ? e.offset().left : 0)), y: s.touch_capable ? Math.round(c.changedTouches[0].pageY - (e.offset() ? e.offset().top : 0)) : Math.round(a.pageY - (e.offset() ? e.offset().top : 0)) }, time: Date.now(), target: a.target }; h.time - r < s.taphold_threshold && w(t, "singletap", a, h) } }), s.doubletap_int) } })) }, remove: function () { i(this).off(s.startevent, i(this).data.callee1).off(s.endevent, i(this).data.callee2) } }, i.event.special.tap = { setup: function () { var t, e, n = this, r = i(n), o = !1, a = null, u = { x: 0, y: 0 }; r.on(s.startevent, (function n(i) { return r.data("callee1", n), (!i.which || 1 === i.which) && (o = !0, u.x = i.originalEvent.targetTouches ? i.originalEvent.targetTouches[0].pageX : i.pageX, u.y = i.originalEvent.targetTouches ? i.originalEvent.targetTouches[0].pageY : i.pageY, t = Date.now(), a = i.target, e = i.originalEvent.targetTouches ? i.originalEvent.targetTouches : [i], !0) })).on(s.endevent, (function i(l) { r.data("callee2", i); var c = l.originalEvent.targetTouches ? l.originalEvent.changedTouches[0].pageX : l.pageX, h = l.originalEvent.targetTouches ? l.originalEvent.changedTouches[0].pageY : l.pageY, p = u.x - c, f = u.y - h; if (a == l.target && o && Date.now() - t < s.taphold_threshold && (u.x == c && u.y == h || p >= -s.tap_pixel_range && p <= s.tap_pixel_range && f >= -s.tap_pixel_range && f <= s.tap_pixel_range)) { for (var d = l.originalEvent, g = [], y = 0; y < e.length; y++) { var m = { position: { x: s.touch_capable ? d.changedTouches[y].screenX : l.screenX, y: s.touch_capable ? d.changedTouches[y].screenY : l.screenY }, offset: { x: s.touch_capable ? Math.round(d.changedTouches[y].pageX - (r.offset() ? r.offset().left : 0)) : Math.round(l.pageX - (r.offset() ? r.offset().left : 0)), y: s.touch_capable ? Math.round(d.changedTouches[y].pageY - (r.offset() ? r.offset().top : 0)) : Math.round(l.pageY - (r.offset() ? r.offset().top : 0)) }, time: Date.now(), target: l.target }; g.push(m) } w(n, "tap", l, g) } })) }, remove: function () { i(this).off(s.startevent, i(this).data.callee1).off(s.endevent, i(this).data.callee2) } }, i.event.special.swipe = { setup: function () { var t, e = i(this), n = !1, r = !1, o = { x: 0, y: 0 }, a = { x: 0, y: 0 }; e.on(s.startevent, (function r(u) { (e = i(u.currentTarget)).data("callee1", r), o.x = u.originalEvent.targetTouches ? u.originalEvent.targetTouches[0].pageX : u.pageX, o.y = u.originalEvent.targetTouches ? u.originalEvent.targetTouches[0].pageY : u.pageY, a.x = o.x, a.y = o.y, n = !0; var l = u.originalEvent; t = { position: { x: s.touch_capable ? l.touches[0].screenX : u.screenX, y: s.touch_capable ? l.touches[0].screenY : u.screenY }, offset: { x: s.touch_capable ? Math.round(l.changedTouches[0].pageX - (e.offset() ? e.offset().left : 0)) : Math.round(u.pageX - (e.offset() ? e.offset().left : 0)), y: s.touch_capable ? Math.round(l.changedTouches[0].pageY - (e.offset() ? e.offset().top : 0)) : Math.round(u.pageY - (e.offset() ? e.offset().top : 0)) }, time: Date.now(), target: u.target } })), e.on(s.moveevent, (function u(l) { var c; (e = i(l.currentTarget)).data("callee2", u), a.x = l.originalEvent.targetTouches ? l.originalEvent.targetTouches[0].pageX : l.pageX, a.y = l.originalEvent.targetTouches ? l.originalEvent.targetTouches[0].pageY : l.pageY; var h = e.parent().data("xthreshold") ? e.parent().data("xthreshold") : e.data("xthreshold"), p = e.parent().data("ythreshold") ? e.parent().data("ythreshold") : e.data("ythreshold"), f = void 0 !== h && !1 !== h && parseInt(h) ? parseInt(h) : s.swipe_h_threshold, d = void 0 !== p && !1 !== p && parseInt(p) ? parseInt(p) : s.swipe_v_threshold; if (o.y > a.y && o.y - a.y > d && (c = "swipeup"), o.x < a.x && a.x - o.x > f && (c = "swiperight"), o.y < a.y && a.y - o.y > d && (c = "swipedown"), o.x > a.x && o.x - a.x > f && (c = "swipeleft"), null != c && n) { o.x = 0, o.y = 0, a.x = 0, a.y = 0, n = !1; var g = l.originalEvent, y = { position: { x: s.touch_capable ? g.touches[0].screenX : l.screenX, y: s.touch_capable ? g.touches[0].screenY : l.screenY }, offset: { x: s.touch_capable ? Math.round(g.changedTouches[0].pageX - (e.offset() ? e.offset().left : 0)) : Math.round(l.pageX - (e.offset() ? e.offset().left : 0)), y: s.touch_capable ? Math.round(g.changedTouches[0].pageY - (e.offset() ? e.offset().top : 0)) : Math.round(l.pageY - (e.offset() ? e.offset().top : 0)) }, time: Date.now(), target: l.target }, m = Math.abs(t.position.x - y.position.x), v = Math.abs(t.position.y - y.position.y), _ = { startEvnt: t, endEvnt: y, direction: c.replace("swipe", ""), xAmount: m, yAmount: v, duration: y.time - t.time }; r = !0, e.trigger("swipe", _).trigger(c, _) } })), e.on(s.endevent, (function o(a) { var u = ""; if ((e = i(a.currentTarget)).data("callee3", o), r) { var l = e.data("xthreshold"), c = e.data("ythreshold"), h = void 0 !== l && !1 !== l && parseInt(l) ? parseInt(l) : s.swipe_h_threshold, p = void 0 !== c && !1 !== c && parseInt(c) ? parseInt(c) : s.swipe_v_threshold, f = a.originalEvent, d = { position: { x: s.touch_capable ? f.changedTouches[0].screenX : a.screenX, y: s.touch_capable ? f.changedTouches[0].screenY : a.screenY }, offset: { x: s.touch_capable ? Math.round(f.changedTouches[0].pageX - (e.offset() ? e.offset().left : 0)) : Math.round(a.pageX - (e.offset() ? e.offset().left : 0)), y: s.touch_capable ? Math.round(f.changedTouches[0].pageY - (e.offset() ? e.offset().top : 0)) : Math.round(a.pageY - (e.offset() ? e.offset().top : 0)) }, time: Date.now(), target: a.target }; t.position.y > d.position.y && t.position.y - d.position.y > p && (u = "swipeup"), t.position.x < d.position.x && d.position.x - t.position.x > h && (u = "swiperight"), t.position.y < d.position.y && d.position.y - t.position.y > p && (u = "swipedown"), t.position.x > d.position.x && t.position.x - d.position.x > h && (u = "swipeleft"); var g = Math.abs(t.position.x - d.position.x), y = Math.abs(t.position.y - d.position.y), m = { startEvnt: t, endEvnt: d, direction: u.replace("swipe", ""), xAmount: g, yAmount: y, duration: d.time - t.time }; e.trigger("swipeend", m) } n = !1, r = !1 })) }, remove: function () { i(this).off(s.startevent, i(this).data.callee1).off(s.moveevent, i(this).data.callee2).off(s.endevent, i(this).data.callee3) } }, i.event.special.scrollstart = { setup: function () { var t, e, n = this, r = i(n); function o(e, i) { w(n, (t = i) ? "scrollstart" : "scrollend", e) } r.on(s.scrollevent, (function n(i) { r.data("callee", n), t || o(i, !0), clearTimeout(e), e = setTimeout((function () { o(i, !1) }), 50) })) }, remove: function () { i(this).off(s.scrollevent, i(this).data.callee) } }; var a, u, l, c, h = i(window), p = { 0: !0, 180: !0 }; if (s.orientation_support) { var f = window.innerWidth || h.width(), d = window.innerHeight || h.height(); l = f > d && f - d > 50, c = p[window.orientation], (l && c || !l && !c) && (p = { "-90": !0, 90: !0 }) } function g() { var t = a(); t !== u && (u = t, h.trigger("orientationchange")) } i.event.special.orientationchange = { setup: function () { return !s.orientation_support && (u = a(), h.on("throttledresize", g), !0) }, teardown: function () { return !s.orientation_support && (h.off("throttledresize", g), !0) }, add: function (t) { var e = t.handler; t.handler = function (t) { return t.orientation = a(), e.apply(this, arguments) } } }, i.event.special.orientationchange.orientation = a = function () { var t = document.documentElement; return (s.orientation_support ? p[window.orientation] : t && t.clientWidth / t.clientHeight < 1.1) ? "portrait" : "landscape" }, i.event.special.throttledresize = { setup: function () { i(this).on("resize", _) }, teardown: function () { i(this).off("resize", _) } }; var y, m, v, _ = function () { m = Date.now(), (v = m - b) >= 250 ? (b = m, i(this).trigger("throttledresize")) : (y && window.clearTimeout(y), y = window.setTimeout(g, 250 - v)) }, b = 0; function w(t, e, n, r) { var o = n.type; n.type = e, i.event.dispatch.call(t, n, r), n.type = o } i.each({ scrollend: "scrollstart", swipeup: "swipe", swiperight: "swipe", swipedown: "swipe", swipeleft: "swipe", swipeend: "swipe", tap2: "tap" }, (function (t, e) { i.event.special[t] = { setup: function () { i(this).on(e, i.noop) } } })) } }).call(this, n("yLpj")) }, hnjw: function (t, e) { }, hplV: function (t, e, n) { "use strict"; (function (t) { var i = n("3rzb"), r = n.n(i), o = (n("Zej/"), function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }); o.prototype.init = function () { var t = this; this.$imageSlider = this.options.$el.find(".image-background-slider"), this.$textSlider = this.options.$el.find(".text-slider"), this.$imageSlider.slick({ arrows: !1, fade: !0, speed: 800, asNavFor: t.$textSlider[0] }), this.$textSlider.slick({ arrows: !1, fade: !0, speed: 200, asNavFor: t.$imageSlider[0] }), this.positionRightSideText(), r.a.subscribe("resized", (function () { t.positionRightSideText() })), this.options.$el.find(".next-image").on("click", (function () { t.$textSlider.slick("slickNext"), t.startAutoplay() })), this.startAutoplay() }, o.prototype.startAutoplay = function () { var t = this; this.autoplayInterval, window.clearInterval(t.autoplayInterval), this.autoplayInterval = window.setInterval((function () { console.log("here"), t.$textSlider.slick("slickNext") }), 8e3) }, o.prototype.positionRightSideText = function () { var t = this.options.$el.find(".right-side-text"), e = this.options.$el, n = t.width(), i = t.height(), r = e.outerHeight(), o = e.width(), s = r / 2 - i / 2; t.css("top", s); var a = n / 2 * -1 + i / 2 + .04 * o; t.css("right", a) }, e.a = o }).call(this, n("EVdn")) }, hy0z: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, j4iJ: function (t, e, n) { (function (e, i) { var r; r = function (t) { "use strict"; function n(t) { return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t })(t) } function r() { return (r = Object.assign || function (t) { for (var e = 1; e < arguments.length; e++) { var n = arguments[e]; for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }).apply(this, arguments) } function o(t, e) { return function (t) { if (Array.isArray(t)) return t }(t) || function (t, e) { if (Symbol.iterator in Object(t) || "[object Arguments]" === Object.prototype.toString.call(t)) { var n = [], i = !0, r = !1, o = void 0; try { for (var s, a = t[Symbol.iterator](); !(i = (s = a.next()).done) && (n.push(s.value), !e || n.length !== e); i = !0); } catch (t) { r = !0, o = t } finally { try { i || null == a.return || a.return() } finally { if (r) throw o } } return n } }(t, e) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance") }() } function s(t) { return function (t) { if (Array.isArray(t)) { for (var e = 0, n = new Array(t.length); e < t.length; e++)n[e] = t[e]; return n } }(t) || function (t) { if (Symbol.iterator in Object(t) || "[object Arguments]" === Object.prototype.toString.call(t)) return Array.from(t) }(t) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance") }() } var a = 1, u = {}, l = { attr: function (t, e, n) { var i, r, o, s = new RegExp("^" + e, "i"); if (void 0 === n) n = {}; else for (i in n) n.hasOwnProperty(i) && delete n[i]; if (!t) return n; for (i = (o = t.attributes).length; i--;)(r = o[i]) && r.specified && s.test(r.name) && (n[this.camelize(r.name.slice(e.length))] = this.deserializeValue(r.value)); return n }, checkAttr: function (t, e, n) { return t.hasAttribute(e + n) }, setAttr: function (t, e, n, i) { t.setAttribute(this.dasherize(e + n), String(i)) }, getType: function (t) { return t.getAttribute("type") || "text" }, generateID: function () { return "" + a++ }, deserializeValue: function (t) { var e; try { return t ? "true" == t || "false" != t && ("null" == t ? null : isNaN(e = Number(t)) ? /^[\[\{]/.test(t) ? JSON.parse(t) : t : e) : t } catch (e) { return t } }, camelize: function (t) { return t.replace(/-+(.)?/g, (function (t, e) { return e ? e.toUpperCase() : "" })) }, dasherize: function (t) { return t.replace(/::/g, "/").replace(/([A-Z]+)([A-Z][a-z])/g, "$1_$2").replace(/([a-z\d])([A-Z])/g, "$1_$2").replace(/_/g, "-").toLowerCase() }, warn: function () { var t; window.console && "function" == typeof window.console.warn && (t = window.console).warn.apply(t, arguments) }, warnOnce: function (t) { u[t] || (u[t] = !0, this.warn.apply(this, arguments)) }, _resetWarnings: function () { u = {} }, trimString: function (t) { return t.replace(/^\s+|\s+$/g, "") }, parse: { date: function (t) { var e = t.match(/^(\d{4,})-(\d\d)-(\d\d)$/); if (!e) return null; var n = o(e.map((function (t) { return parseInt(t, 10) })), 4), i = (n[0], n[1]), r = n[2], s = n[3], a = new Date(i, r - 1, s); return a.getFullYear() !== i || a.getMonth() + 1 !== r || a.getDate() !== s ? null : a }, string: function (t) { return t }, integer: function (t) { return isNaN(t) ? null : parseInt(t, 10) }, number: function (t) { if (isNaN(t)) throw null; return parseFloat(t) }, boolean: function (t) { return !/^\s*false\s*$/i.test(t) }, object: function (t) { return l.deserializeValue(t) }, regexp: function (t) { var e = ""; return /^\/.*\/(?:[gimy]*)$/.test(t) ? (e = t.replace(/.*\/([gimy]*)$/, "$1"), t = t.replace(new RegExp("^/(.*?)/" + e + "$"), "$1")) : t = "^" + t + "$", new RegExp(t, e) } }, parseRequirement: function (t, e) { var n = this.parse[t || "string"]; if (!n) throw 'Unknown requirement specification: "' + t + '"'; var i = n(e); if (null === i) throw "Requirement is not a ".concat(t, ': "').concat(e, '"'); return i }, namespaceEvents: function (e, n) { return (e = this.trimString(e || "").split(/\s+/))[0] ? t.map(e, (function (t) { return "".concat(t, ".").concat(n) })).join(" ") : "" }, difference: function (e, n) { var i = []; return t.each(e, (function (t, e) { -1 == n.indexOf(e) && i.push(e) })), i }, all: function (e) { return t.when.apply(t, s(e).concat([42, 42])) }, objectCreate: Object.create || function () { var t = function () { }; return function (e) { if (arguments.length > 1) throw Error("Second argument not supported"); if ("object" != n(e)) throw TypeError("Argument must be an object"); t.prototype = e; var i = new t; return t.prototype = null, i } }(), _SubmitSelector: 'input[type="submit"], button:submit' }, c = { namespace: "data-parsley-", inputs: "input, textarea, select", excluded: "input[type=button], input[type=submit], input[type=reset], input[type=hidden]", priorityEnabled: !0, multiple: null, group: null, uiEnabled: !0, validationThreshold: 3, focus: "first", trigger: !1, triggerAfterFailure: "input", errorClass: "parsley-error", successClass: "parsley-success", classHandler: function (t) { }, errorsContainer: function (t) { }, errorsWrapper: '<ul class="parsley-errors-list"></ul>', errorTemplate: "<li></li>" }, h = function () { this.__id__ = l.generateID() }; h.prototype = { asyncSupport: !0, _pipeAccordingToValidationResult: function () { var e = this, n = function () { var n = t.Deferred(); return !0 !== e.validationResult && n.reject(), n.resolve().promise() }; return [n, n] }, actualizeOptions: function () { return l.attr(this.element, this.options.namespace, this.domOptions), this.parent && this.parent.actualizeOptions && this.parent.actualizeOptions(), this }, _resetOptions: function (t) { for (var e in this.domOptions = l.objectCreate(this.parent.options), this.options = l.objectCreate(this.domOptions), t) t.hasOwnProperty(e) && (this.options[e] = t[e]); this.actualizeOptions() }, _listeners: null, on: function (t, e) { return this._listeners = this._listeners || {}, (this._listeners[t] = this._listeners[t] || []).push(e), this }, subscribe: function (e, n) { t.listenTo(this, e.toLowerCase(), n) }, off: function (t, e) { var n = this._listeners && this._listeners[t]; if (n) if (e) for (var i = n.length; i--;)n[i] === e && n.splice(i, 1); else delete this._listeners[t]; return this }, unsubscribe: function (e, n) { t.unsubscribeTo(this, e.toLowerCase()) }, trigger: function (t, e, n) { e = e || this; var i, r = this._listeners && this._listeners[t]; if (r) for (var o = r.length; o--;)if (!1 === (i = r[o].call(e, e, n))) return i; return !this.parent || this.parent.trigger(t, e, n) }, asyncIsValid: function (t, e) { return l.warnOnce("asyncIsValid is deprecated; please use whenValid instead"), this.whenValid({ group: t, force: e }) }, _findRelated: function () { return this.options.multiple ? t(this.parent.element.querySelectorAll("[".concat(this.options.namespace, 'multiple="').concat(this.options.multiple, '"]'))) : this.$element } }; var p = function (e) { t.extend(!0, this, e) }; p.prototype = { validate: function (t, e) { if (this.fn) return arguments.length > 3 && (e = [].slice.call(arguments, 1, -1)), this.fn(t, e); if (Array.isArray(t)) { if (!this.validateMultiple) throw "Validator `" + this.name + "` does not handle multiple values"; return this.validateMultiple.apply(this, arguments) } var n = arguments[arguments.length - 1]; if (this.validateDate && n._isDateInput()) return arguments[0] = l.parse.date(arguments[0]), null !== arguments[0] && this.validateDate.apply(this, arguments); if (this.validateNumber) return !t || !isNaN(t) && (arguments[0] = parseFloat(arguments[0]), this.validateNumber.apply(this, arguments)); if (this.validateString) return this.validateString.apply(this, arguments); throw "Validator `" + this.name + "` only handles multiple values" }, parseRequirements: function (e, n) { if ("string" != typeof e) return Array.isArray(e) ? e : [e]; var i = this.requirementType; if (Array.isArray(i)) { for (var r = function (t, e) { var n = t.match(/^\s*\[(.*)\]\s*$/); if (!n) throw 'Requirement is not an array: "' + t + '"'; var i = n[1].split(",").map(l.trimString); if (i.length !== e) throw "Requirement has " + i.length + " values when " + e + " are needed"; return i }(e, i.length), o = 0; o < r.length; o++)r[o] = l.parseRequirement(i[o], r[o]); return r } return t.isPlainObject(i) ? function (t, e, n) { var i = null, r = {}; for (var o in t) if (o) { var s = n(o); "string" == typeof s && (s = l.parseRequirement(t[o], s)), r[o] = s } else i = l.parseRequirement(t[o], e); return [i, r] }(i, e, n) : [l.parseRequirement(i, e)] }, requirementType: "string", priority: 2 }; var f = function (t, e) { this.__class__ = "ValidatorRegistry", this.locale = "en", this.init(t || {}, e || {}) }, d = { email: /^((([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))$/, number: /^-?(\d*\.)?\d+(e[-+]?\d+)?$/i, integer: /^-?\d+$/, digits: /^\d+$/, alphanum: /^\w+$/i, date: { test: function (t) { return null !== l.parse.date(t) } }, url: new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-zA-Z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$") }; d.range = d.number; var g = function (t) { var e = ("" + t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/); return e ? Math.max(0, (e[1] ? e[1].length : 0) - (e[2] ? +e[2] : 0)) : 0 }, y = function (t, e) { return e.map(l.parse[t]) }, m = function (t, e) { return function (n) { for (var i = arguments.length, r = new Array(i > 1 ? i - 1 : 0), o = 1; o < i; o++)r[o - 1] = arguments[o]; return r.pop(), e.apply(void 0, [n].concat(s(y(t, r)))) } }, v = function (t) { return { validateDate: m("date", t), validateNumber: m("number", t), requirementType: t.length <= 2 ? "string" : ["string", "string"], priority: 30 } }; f.prototype = { init: function (t, e) { for (var n in this.catalog = e, this.validators = r({}, this.validators), t) this.addValidator(n, t[n].fn, t[n].priority); window.Parsley.trigger("parsley:validator:init") }, setLocale: function (t) { if (void 0 === this.catalog[t]) throw new Error(t + " is not available in the catalog"); return this.locale = t, this }, addCatalog: function (t, e, i) { return "object" === n(e) && (this.catalog[t] = e), !0 === i ? this.setLocale(t) : this }, addMessage: function (t, e, n) { return void 0 === this.catalog[t] && (this.catalog[t] = {}), this.catalog[t][e] = n, this }, addMessages: function (t, e) { for (var n in e) this.addMessage(t, n, e[n]); return this }, addValidator: function (t, e, n) { if (this.validators[t]) l.warn('Validator "' + t + '" is already defined.'); else if (c.hasOwnProperty(t)) return void l.warn('"' + t + '" is a restricted keyword and is not a valid validator name.'); return this._setValidator.apply(this, arguments) }, hasValidator: function (t) { return !!this.validators[t] }, updateValidator: function (t, e, n) { return this.validators[t] ? this._setValidator.apply(this, arguments) : (l.warn('Validator "' + t + '" is not already defined.'), this.addValidator.apply(this, arguments)) }, removeValidator: function (t) { return this.validators[t] || l.warn('Validator "' + t + '" is not defined.'), delete this.validators[t], this }, _setValidator: function (t, e, i) { for (var r in "object" !== n(e) && (e = { fn: e, priority: i }), e.validate || (e = new p(e)), this.validators[t] = e, e.messages || {}) this.addMessage(r, t, e.messages[r]); return this }, getErrorMessage: function (t) { return ("type" === t.name ? (this.catalog[this.locale][t.name] || {})[t.requirements] : this.formatMessage(this.catalog[this.locale][t.name], t.requirements)) || this.catalog[this.locale].defaultMessage || this.catalog.en.defaultMessage }, formatMessage: function (t, e) { if ("object" === n(e)) { for (var i in e) t = this.formatMessage(t, e[i]); return t } return "string" == typeof t ? t.replace(/%s/i, e) : "" }, validators: { notblank: { validateString: function (t) { return /\S/.test(t) }, priority: 2 }, required: { validateMultiple: function (t) { return t.length > 0 }, validateString: function (t) { return /\S/.test(t) }, priority: 512 }, type: { validateString: function (t, e) { var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i = n.step, r = void 0 === i ? "any" : i, o = n.base, s = void 0 === o ? 0 : o, a = d[e]; if (!a) throw new Error("validator type `" + e + "` is not supported"); if (!t) return !0; if (!a.test(t)) return !1; if ("number" === e && !/^any$/i.test(r || "")) { var u = Number(t), l = Math.max(g(r), g(s)); if (g(u) > l) return !1; var c = function (t) { return Math.round(t * Math.pow(10, l)) }; if ((c(u) - c(s)) % c(r) != 0) return !1 } return !0 }, requirementType: { "": "string", step: "string", base: "number" }, priority: 256 }, pattern: { validateString: function (t, e) { return !t || e.test(t) }, requirementType: "regexp", priority: 64 }, minlength: { validateString: function (t, e) { return !t || t.length >= e }, requirementType: "integer", priority: 30 }, maxlength: { validateString: function (t, e) { return t.length <= e }, requirementType: "integer", priority: 30 }, length: { validateString: function (t, e, n) { return !t || t.length >= e && t.length <= n }, requirementType: ["integer", "integer"], priority: 30 }, mincheck: { validateMultiple: function (t, e) { return t.length >= e }, requirementType: "integer", priority: 30 }, maxcheck: { validateMultiple: function (t, e) { return t.length <= e }, requirementType: "integer", priority: 30 }, check: { validateMultiple: function (t, e, n) { return t.length >= e && t.length <= n }, requirementType: ["integer", "integer"], priority: 30 }, min: v((function (t, e) { return t >= e })), max: v((function (t, e) { return t <= e })), range: v((function (t, e, n) { return t >= e && t <= n })), equalto: { validateString: function (e, n) { if (!e) return !0; var i = t(n); return i.length ? e === i.val() : e === n }, priority: 256 }, euvatin: { validateString: function (t, e) { return !t || /^[A-Z][A-Z][A-Za-z0-9 -]{2,}$/.test(t) }, priority: 30 } } }; var _ = {}; _.Form = { _actualizeTriggers: function () { var t = this; this.$element.on("submit.Parsley", (function (e) { t.onSubmitValidate(e) })), this.$element.on("click.Parsley", l._SubmitSelector, (function (e) { t.onSubmitButton(e) })), !1 !== this.options.uiEnabled && this.element.setAttribute("novalidate", "") }, focus: function () { if (this._focusedField = null, !0 === this.validationResult || "none" === this.options.focus) return null; for (var t = 0; t < this.fields.length; t++) { var e = this.fields[t]; if (!0 !== e.validationResult && e.validationResult.length > 0 && void 0 === e.options.noFocus && (this._focusedField = e.$element, "first" === this.options.focus)) break } return null === this._focusedField ? null : this._focusedField.focus() }, _destroyUI: function () { this.$element.off(".Parsley") } }, _.Field = { _reflowUI: function () { if (this._buildUI(), this._ui) { var t = function t(e, n, i) { for (var r = [], o = [], s = 0; s < e.length; s++) { for (var a = !1, u = 0; u < n.length; u++)if (e[s].assert.name === n[u].assert.name) { a = !0; break } a ? o.push(e[s]) : r.push(e[s]) } return { kept: o, added: r, removed: i ? [] : t(n, e, !0).added } }(this.validationResult, this._ui.lastValidationResult); this._ui.lastValidationResult = this.validationResult, this._manageStatusClass(), this._manageErrorsMessages(t), this._actualizeTriggers(), !t.kept.length && !t.added.length || this._failedOnce || (this._failedOnce = !0, this._actualizeTriggers()) } }, getErrorsMessages: function () { if (!0 === this.validationResult) return []; for (var t = [], e = 0; e < this.validationResult.length; e++)t.push(this.validationResult[e].errorMessage || this._getErrorMessage(this.validationResult[e].assert)); return t }, addError: function (t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n = e.message, i = e.assert, r = e.updateClass, o = void 0 === r || r; this._buildUI(), this._addError(t, { message: n, assert: i }), o && this._errorClass() }, updateError: function (t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n = e.message, i = e.assert, r = e.updateClass, o = void 0 === r || r; this._buildUI(), this._updateError(t, { message: n, assert: i }), o && this._errorClass() }, removeError: function (t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n = e.updateClass, i = void 0 === n || n; this._buildUI(), this._removeError(t), i && this._manageStatusClass() }, _manageStatusClass: function () { this.hasConstraints() && this.needsValidation() && !0 === this.validationResult ? this._successClass() : this.validationResult.length > 0 ? this._errorClass() : this._resetClass() }, _manageErrorsMessages: function (e) { if (void 0 === this.options.errorsMessagesDisabled) { if (void 0 !== this.options.errorMessage) return e.added.length || e.kept.length ? (this._insertErrorWrapper(), 0 === this._ui.$errorsWrapper.find(".parsley-custom-error-message").length && this._ui.$errorsWrapper.append(t(this.options.errorTemplate).addClass("parsley-custom-error-message")), this._ui.$errorClassHandler.attr("aria-describedby", this._ui.errorsWrapperId), this._ui.$errorsWrapper.addClass("filled").attr("aria-hidden", "false").find(".parsley-custom-error-message").html(this.options.errorMessage)) : (this._ui.$errorClassHandler.removeAttr("aria-describedby"), this._ui.$errorsWrapper.removeClass("filled").attr("aria-hidden", "true").find(".parsley-custom-error-message").remove()); for (var n = 0; n < e.removed.length; n++)this._removeError(e.removed[n].assert.name); for (n = 0; n < e.added.length; n++)this._addError(e.added[n].assert.name, { message: e.added[n].errorMessage, assert: e.added[n].assert }); for (n = 0; n < e.kept.length; n++)this._updateError(e.kept[n].assert.name, { message: e.kept[n].errorMessage, assert: e.kept[n].assert }) } }, _addError: function (e, n) { var i = n.message, r = n.assert; this._insertErrorWrapper(), this._ui.$errorClassHandler.attr("aria-describedby", this._ui.errorsWrapperId), this._ui.$errorsWrapper.addClass("filled").attr("aria-hidden", "false").append(t(this.options.errorTemplate).addClass("parsley-" + e).html(i || this._getErrorMessage(r))) }, _updateError: function (t, e) { var n = e.message, i = e.assert; this._ui.$errorsWrapper.addClass("filled").find(".parsley-" + t).html(n || this._getErrorMessage(i)) }, _removeError: function (t) { this._ui.$errorClassHandler.removeAttr("aria-describedby"), this._ui.$errorsWrapper.removeClass("filled").attr("aria-hidden", "true").find(".parsley-" + t).remove() }, _getErrorMessage: function (t) { var e = t.name + "Message"; return void 0 !== this.options[e] ? window.Parsley.formatMessage(this.options[e], t.requirements) : window.Parsley.getErrorMessage(t) }, _buildUI: function () { if (!this._ui && !1 !== this.options.uiEnabled) { var e = {}; this.element.setAttribute(this.options.namespace + "id", this.__id__), e.$errorClassHandler = this._manageClassHandler(), e.errorsWrapperId = "parsley-id-" + (this.options.multiple ? "multiple-" + this.options.multiple : this.__id__), e.$errorsWrapper = t(this.options.errorsWrapper).attr("id", e.errorsWrapperId), e.lastValidationResult = [], e.validationInformationVisible = !1, this._ui = e } }, _manageClassHandler: function () { if ("string" == typeof this.options.classHandler && t(this.options.classHandler).length) return t(this.options.classHandler); var i = this.options.classHandler; if ("string" == typeof this.options.classHandler && "function" == typeof window[this.options.classHandler] && (i = window[this.options.classHandler]), "function" == typeof i) { var r = i.call(this, this); if (void 0 !== r && r.length) return r } else { if ("object" === n(i) && i instanceof e && i.length) return i; i && l.warn("The class handler `" + i + "` does not exist in DOM nor as a global JS function") } return this._inputHolder() }, _inputHolder: function () { return this.options.multiple && "SELECT" !== this.element.nodeName ? this.$element.parent() : this.$element }, _insertErrorWrapper: function () { var e = this.options.errorsContainer; if (0 !== this._ui.$errorsWrapper.parent().length) return this._ui.$errorsWrapper.parent(); if ("string" == typeof e) { if (t(e).length) return t(e).append(this._ui.$errorsWrapper); "function" == typeof window[e] ? e = window[e] : l.warn("The errors container `" + e + "` does not exist in DOM nor as a global JS function") } return "function" == typeof e && (e = e.call(this, this)), "object" === n(e) && e.length ? e.append(this._ui.$errorsWrapper) : this._inputHolder().after(this._ui.$errorsWrapper) }, _actualizeTriggers: function () { var t, e = this, n = this._findRelated(); n.off(".Parsley"), this._failedOnce ? n.on(l.namespaceEvents(this.options.triggerAfterFailure, "Parsley"), (function () { e._validateIfNeeded() })) : (t = l.namespaceEvents(this.options.trigger, "Parsley")) && n.on(t, (function (t) { e._validateIfNeeded(t) })) }, _validateIfNeeded: function (t) { var e = this; t && /key|input/.test(t.type) && (!this._ui || !this._ui.validationInformationVisible) && this.getValue().length <= this.options.validationThreshold || (this.options.debounce ? (window.clearTimeout(this._debounced), this._debounced = window.setTimeout((function () { return e.validate() }), this.options.debounce)) : this.validate()) }, _resetUI: function () { this._failedOnce = !1, this._actualizeTriggers(), void 0 !== this._ui && (this._ui.$errorsWrapper.removeClass("filled").children().remove(), this._resetClass(), this._ui.lastValidationResult = [], this._ui.validationInformationVisible = !1) }, _destroyUI: function () { this._resetUI(), void 0 !== this._ui && this._ui.$errorsWrapper.remove(), delete this._ui }, _successClass: function () { this._ui.validationInformationVisible = !0, this._ui.$errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass) }, _errorClass: function () { this._ui.validationInformationVisible = !0, this._ui.$errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass) }, _resetClass: function () { this._ui.$errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass) } }; var b = function (e, n, i) { this.__class__ = "Form", this.element = e, this.$element = t(e), this.domOptions = n, this.options = i, this.parent = window.Parsley, this.fields = [], this.validationResult = null }, w = { pending: null, resolved: !0, rejected: !1 }; b.prototype = { onSubmitValidate: function (t) { var e = this; if (!0 !== t.parsley) { var n = this._submitSource || this.$element.find(l._SubmitSelector)[0]; if (this._submitSource = null, this.$element.find(".parsley-synthetic-submit-button").prop("disabled", !0), !n || null === n.getAttribute("formnovalidate")) { window.Parsley._remoteCache = {}; var i = this.whenValidate({ event: t }); "resolved" === i.state() && !1 !== this._trigger("submit") || (t.stopImmediatePropagation(), t.preventDefault(), "pending" === i.state() && i.done((function () { e._submit(n) }))) } } }, onSubmitButton: function (t) { this._submitSource = t.currentTarget }, _submit: function (e) { if (!1 !== this._trigger("submit")) { if (e) { var n = this.$element.find(".parsley-synthetic-submit-button").prop("disabled", !1); 0 === n.length && (n = t('<input class="parsley-synthetic-submit-button" type="hidden">').appendTo(this.$element)), n.attr({ name: e.getAttribute("name"), value: e.getAttribute("value") }) } this.$element.trigger(r(t.Event("submit"), { parsley: !0 })) } }, validate: function (e) { if (arguments.length >= 1 && !t.isPlainObject(e)) { l.warnOnce("Calling validate on a parsley form without passing arguments as an object is deprecated."); var n = Array.prototype.slice.call(arguments), i = n[0], r = n[1], o = n[2]; e = { group: i, force: r, event: o } } return w[this.whenValidate(e).state()] }, whenValidate: function () { var e, n = this, i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, o = i.group, a = i.force, u = i.event; this.submitEvent = u, u && (this.submitEvent = r({}, u, { preventDefault: function () { l.warnOnce("Using `this.submitEvent.preventDefault()` is deprecated; instead, call `this.validationResult = false`"), n.validationResult = !1 } })), this.validationResult = !0, this._trigger("validate"), this._refreshFields(); var c = this._withoutReactualizingFormOptions((function () { return t.map(n.fields, (function (t) { return t.whenValidate({ force: a, group: o }) })) })); return (e = l.all(c).done((function () { n._trigger("success") })).fail((function () { n.validationResult = !1, n.focus(), n._trigger("error") })).always((function () { n._trigger("validated") }))).pipe.apply(e, s(this._pipeAccordingToValidationResult())) }, isValid: function (e) { if (arguments.length >= 1 && !t.isPlainObject(e)) { l.warnOnce("Calling isValid on a parsley form without passing arguments as an object is deprecated."); var n = Array.prototype.slice.call(arguments), i = n[0], r = n[1]; e = { group: i, force: r } } return w[this.whenValid(e).state()] }, whenValid: function () { var e = this, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, i = n.group, r = n.force; this._refreshFields(); var o = this._withoutReactualizingFormOptions((function () { return t.map(e.fields, (function (t) { return t.whenValid({ group: i, force: r }) })) })); return l.all(o) }, refresh: function () { return this._refreshFields(), this }, reset: function () { for (var t = 0; t < this.fields.length; t++)this.fields[t].reset(); this._trigger("reset") }, destroy: function () { this._destroyUI(); for (var t = 0; t < this.fields.length; t++)this.fields[t].destroy(); this.$element.removeData("Parsley"), this._trigger("destroy") }, _refreshFields: function () { return this.actualizeOptions()._bindFields() }, _bindFields: function () { var e = this, n = this.fields; return this.fields = [], this.fieldsMappedById = {}, this._withoutReactualizingFormOptions((function () { e.$element.find(e.options.inputs).not(e.options.excluded).not("[".concat(e.options.namespace, "excluded=true]")).each((function (t, n) { var i = new window.Parsley.Factory(n, {}, e); if ("Field" === i.__class__ || "FieldMultiple" === i.__class__) { var r = i.__class__ + "-" + i.__id__; void 0 === e.fieldsMappedById[r] && (e.fieldsMappedById[r] = i, e.fields.push(i)) } })), t.each(l.difference(n, e.fields), (function (t, e) { e.reset() })) })), this }, _withoutReactualizingFormOptions: function (t) { var e = this.actualizeOptions; this.actualizeOptions = function () { return this }; var n = t(); return this.actualizeOptions = e, n }, _trigger: function (t) { return this.trigger("form:" + t) } }; var x = function (t, e, n, i, o) { var s = window.Parsley._validatorRegistry.validators[e], a = new p(s); r(this, { validator: a, name: e, requirements: n, priority: i = i || t.options[e + "Priority"] || a.priority, isDomConstraint: o = !0 === o }), this._parseRequirements(t.options) }; x.prototype = { validate: function (t, e) { var n; return (n = this.validator).validate.apply(n, [t].concat(s(this.requirementList), [e])) }, _parseRequirements: function (t) { var e = this; this.requirementList = this.validator.parseRequirements(this.requirements, (function (n) { return t[e.name + (i = n, i[0].toUpperCase() + i.slice(1))]; var i })) } }; var E = function (e, n, i, r) { this.__class__ = "Field", this.element = e, this.$element = t(e), void 0 !== r && (this.parent = r), this.options = i, this.domOptions = n, this.constraints = [], this.constraintsByName = {}, this.validationResult = !0, this._bindConstraints() }, C = { pending: null, resolved: !0, rejected: !1 }; E.prototype = { validate: function (e) { arguments.length >= 1 && !t.isPlainObject(e) && (l.warnOnce("Calling validate on a parsley field without passing arguments as an object is deprecated."), e = { options: e }); var n = this.whenValidate(e); if (!n) return !0; switch (n.state()) { case "pending": return null; case "resolved": return !0; case "rejected": return this.validationResult } }, whenValidate: function () { var t, e = this, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, i = n.force, r = n.group; if (this.refresh(), !r || this._isInGroup(r)) return this.value = this.getValue(), this._trigger("validate"), (t = this.whenValid({ force: i, value: this.value, _refreshed: !0 }).always((function () { e._reflowUI() })).done((function () { e._trigger("success") })).fail((function () { e._trigger("error") })).always((function () { e._trigger("validated") }))).pipe.apply(t, s(this._pipeAccordingToValidationResult())) }, hasConstraints: function () { return 0 !== this.constraints.length }, needsValidation: function (t) { return void 0 === t && (t = this.getValue()), !(!t.length && !this._isRequired() && void 0 === this.options.validateIfEmpty) }, _isInGroup: function (e) { return Array.isArray(this.options.group) ? -1 !== t.inArray(e, this.options.group) : this.options.group === e }, isValid: function (e) { if (arguments.length >= 1 && !t.isPlainObject(e)) { l.warnOnce("Calling isValid on a parsley field without passing arguments as an object is deprecated."); var n = Array.prototype.slice.call(arguments), i = n[0], r = n[1]; e = { force: i, value: r } } var o = this.whenValid(e); return !o || C[o.state()] }, whenValid: function () { var e = this, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, i = n.force, r = void 0 !== i && i, o = n.value, s = n.group, a = n._refreshed; if (a || this.refresh(), !s || this._isInGroup(s)) { if (this.validationResult = !0, !this.hasConstraints()) return t.when(); if (null == o && (o = this.getValue()), !this.needsValidation(o) && !0 !== r) return t.when(); var u = this._getGroupedConstraints(), c = []; return t.each(u, (function (n, i) { var r = l.all(t.map(i, (function (t) { return e._validateConstraint(o, t) }))); if (c.push(r), "rejected" === r.state()) return !1 })), l.all(c) } }, _validateConstraint: function (e, n) { var i = this, r = n.validate(e, this); return !1 === r && (r = t.Deferred().reject()), l.all([r]).fail((function (t) { i.validationResult instanceof Array || (i.validationResult = []), i.validationResult.push({ assert: n, errorMessage: "string" == typeof t && t }) })) }, getValue: function () { var t; return null == (t = "function" == typeof this.options.value ? this.options.value(this) : void 0 !== this.options.value ? this.options.value : this.$element.val()) ? "" : this._handleWhitespace(t) }, reset: function () { return this._resetUI(), this._trigger("reset") }, destroy: function () { this._destroyUI(), this.$element.removeData("Parsley"), this.$element.removeData("FieldMultiple"), this._trigger("destroy") }, refresh: function () { return this._refreshConstraints(), this }, _refreshConstraints: function () { return this.actualizeOptions()._bindConstraints() }, refreshConstraints: function () { return l.warnOnce("Parsley's refreshConstraints is deprecated. Please use refresh"), this.refresh() }, addConstraint: function (t, e, n, i) { if (window.Parsley._validatorRegistry.validators[t]) { var r = new x(this, t, e, n, i); "undefined" !== this.constraintsByName[r.name] && this.removeConstraint(r.name), this.constraints.push(r), this.constraintsByName[r.name] = r } return this }, removeConstraint: function (t) { for (var e = 0; e < this.constraints.length; e++)if (t === this.constraints[e].name) { this.constraints.splice(e, 1); break } return delete this.constraintsByName[t], this }, updateConstraint: function (t, e, n) { return this.removeConstraint(t).addConstraint(t, e, n) }, _bindConstraints: function () { for (var t = [], e = {}, n = 0; n < this.constraints.length; n++)!1 === this.constraints[n].isDomConstraint && (t.push(this.constraints[n]), e[this.constraints[n].name] = this.constraints[n]); for (var i in this.constraints = t, this.constraintsByName = e, this.options) this.addConstraint(i, this.options[i], void 0, !0); return this._bindHtml5Constraints() }, _bindHtml5Constraints: function () { null !== this.element.getAttribute("required") && this.addConstraint("required", !0, void 0, !0), null !== this.element.getAttribute("pattern") && this.addConstraint("pattern", this.element.getAttribute("pattern"), void 0, !0); var t = this.element.getAttribute("min"), e = this.element.getAttribute("max"); null !== t && null !== e ? this.addConstraint("range", [t, e], void 0, !0) : null !== t ? this.addConstraint("min", t, void 0, !0) : null !== e && this.addConstraint("max", e, void 0, !0), null !== this.element.getAttribute("minlength") && null !== this.element.getAttribute("maxlength") ? this.addConstraint("length", [this.element.getAttribute("minlength"), this.element.getAttribute("maxlength")], void 0, !0) : null !== this.element.getAttribute("minlength") ? this.addConstraint("minlength", this.element.getAttribute("minlength"), void 0, !0) : null !== this.element.getAttribute("maxlength") && this.addConstraint("maxlength", this.element.getAttribute("maxlength"), void 0, !0); var n = l.getType(this.element); return "number" === n ? this.addConstraint("type", ["number", { step: this.element.getAttribute("step") || "1", base: t || this.element.getAttribute("value") }], void 0, !0) : /^(email|url|range|date)$/i.test(n) ? this.addConstraint("type", n, void 0, !0) : this }, _isRequired: function () { return void 0 !== this.constraintsByName.required && !1 !== this.constraintsByName.required.requirements }, _trigger: function (t) { return this.trigger("field:" + t) }, _handleWhitespace: function (t) { return !0 === this.options.trimValue && l.warnOnce('data-parsley-trim-value="true" is deprecated, please use data-parsley-whitespace="trim"'), "squish" === this.options.whitespace && (t = t.replace(/\s{2,}/g, " ")), "trim" !== this.options.whitespace && "squish" !== this.options.whitespace && !0 !== this.options.trimValue || (t = l.trimString(t)), t }, _isDateInput: function () { var t = this.constraintsByName.type; return t && "date" === t.requirements }, _getGroupedConstraints: function () { if (!1 === this.options.priorityEnabled) return [this.constraints]; for (var t = [], e = {}, n = 0; n < this.constraints.length; n++) { var i = this.constraints[n].priority; e[i] || t.push(e[i] = []), e[i].push(this.constraints[n]) } return t.sort((function (t, e) { return e[0].priority - t[0].priority })), t } }; var D = function () { this.__class__ = "FieldMultiple" }; D.prototype = { addElement: function (t) { return this.$elements.push(t), this }, _refreshConstraints: function () { var e; if (this.constraints = [], "SELECT" === this.element.nodeName) return this.actualizeOptions()._bindConstraints(), this; for (var n = 0; n < this.$elements.length; n++)if (t("html").has(this.$elements[n]).length) { e = this.$elements[n].data("FieldMultiple")._refreshConstraints().constraints; for (var i = 0; i < e.length; i++)this.addConstraint(e[i].name, e[i].requirements, e[i].priority, e[i].isDomConstraint) } else this.$elements.splice(n, 1); return this }, getValue: function () { if ("function" == typeof this.options.value) return this.options.value(this); if (void 0 !== this.options.value) return this.options.value; if ("INPUT" === this.element.nodeName) { var e = l.getType(this.element); if ("radio" === e) return this._findRelated().filter(":checked").val() || ""; if ("checkbox" === e) { var n = []; return this._findRelated().filter(":checked").each((function () { n.push(t(this).val()) })), n } } return "SELECT" === this.element.nodeName && null === this.$element.val() ? [] : this.$element.val() }, _init: function () { return this.$elements = [this.$element], this } }; var S = function (e, i, o) { this.element = e, this.$element = t(e); var s = this.$element.data("Parsley"); if (s) return void 0 !== o && s.parent === window.Parsley && (s.parent = o, s._resetOptions(s.options)), "object" === n(i) && r(s.options, i), s; if (!this.$element.length) throw new Error("You must bind Parsley on an existing element."); if (void 0 !== o && "Form" !== o.__class__) throw new Error("Parent instance must be a Form instance"); return this.parent = o || window.Parsley, this.init(i) }; S.prototype = { init: function (t) { return this.__class__ = "Parsley", this.__version__ = "2.9.2", this.__id__ = l.generateID(), this._resetOptions(t), "FORM" === this.element.nodeName || l.checkAttr(this.element, this.options.namespace, "validate") && !this.$element.is(this.options.inputs) ? this.bind("parsleyForm") : this.isMultiple() ? this.handleMultiple() : this.bind("parsleyField") }, isMultiple: function () { var t = l.getType(this.element); return "radio" === t || "checkbox" === t || "SELECT" === this.element.nodeName && null !== this.element.getAttribute("multiple") }, handleMultiple: function () { var e, n, i = this; if (this.options.multiple = this.options.multiple || (e = this.element.getAttribute("name")) || this.element.getAttribute("id"), "SELECT" === this.element.nodeName && null !== this.element.getAttribute("multiple")) return this.options.multiple = this.options.multiple || this.__id__, this.bind("parsleyFieldMultiple"); if (!this.options.multiple) return l.warn("To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.", this.$element), this; this.options.multiple = this.options.multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g, ""), e && t('input[name="' + e + '"]').each((function (t, e) { var n = l.getType(e); "radio" !== n && "checkbox" !== n || e.setAttribute(i.options.namespace + "multiple", i.options.multiple) })); for (var r = this._findRelated(), o = 0; o < r.length; o++)if (void 0 !== (n = t(r.get(o)).data("Parsley"))) { this.$element.data("FieldMultiple") || n.addElement(this.$element); break } return this.bind("parsleyField", !0), n || this.bind("parsleyFieldMultiple") }, bind: function (e, n) { var i; switch (e) { case "parsleyForm": i = t.extend(new b(this.element, this.domOptions, this.options), new h, window.ParsleyExtend)._bindFields(); break; case "parsleyField": i = t.extend(new E(this.element, this.domOptions, this.options, this.parent), new h, window.ParsleyExtend); break; case "parsleyFieldMultiple": i = t.extend(new E(this.element, this.domOptions, this.options, this.parent), new D, new h, window.ParsleyExtend)._init(); break; default: throw new Error(e + "is not a supported Parsley type") }return this.options.multiple && l.setAttr(this.element, this.options.namespace, "multiple", this.options.multiple), void 0 !== n ? (this.$element.data("FieldMultiple", i), i) : (this.$element.data("Parsley", i), i._actualizeTriggers(), i._trigger("init"), i) } }; var T = t.fn.jquery.split("."); if (parseInt(T[0]) <= 1 && parseInt(T[1]) < 8) throw "The loaded version of jQuery is too old. Please upgrade to 1.8.x or better."; T.forEach || l.warn("Parsley requires ES5 to run properly. Please include https://github.com/es-shims/es5-shim"); var I = r(new h, { element: document, $element: t(document), actualizeOptions: null, _resetOptions: null, Factory: S, version: "2.9.2" }); r(E.prototype, _.Field, h.prototype), r(b.prototype, _.Form, h.prototype), r(S.prototype, h.prototype), t.fn.parsley = t.fn.psly = function (e) { if (this.length > 1) { var n = []; return this.each((function () { n.push(t(this).parsley(e)) })), n } if (0 != this.length) return new S(this[0], e) }, void 0 === window.ParsleyExtend && (window.ParsleyExtend = {}), I.options = r(l.objectCreate(c), window.ParsleyConfig), window.ParsleyConfig = I.options, window.Parsley = window.psly = I, I.Utils = l, window.ParsleyUtils = {}, t.each(l, (function (t, e) { "function" == typeof e && (window.ParsleyUtils[t] = function () { return l.warnOnce("Accessing `window.ParsleyUtils` is deprecated. Use `window.Parsley.Utils` instead."), l[t].apply(l, arguments) }) })); var N = window.Parsley._validatorRegistry = new f(window.ParsleyConfig.validators, window.ParsleyConfig.i18n); window.ParsleyValidator = {}, t.each("setLocale addCatalog addMessage addMessages getErrorMessage formatMessage addValidator updateValidator removeValidator hasValidator".split(" "), (function (t, e) { window.Parsley[e] = function () { return N[e].apply(N, arguments) }, window.ParsleyValidator[e] = function () { var t; return l.warnOnce("Accessing the method '".concat(e, "' through Validator is deprecated. Simply call 'window.Parsley.").concat(e, "(...)'")), (t = window.Parsley)[e].apply(t, arguments) } })), window.Parsley.UI = _, window.ParsleyUI = { removeError: function (t, e, n) { var i = !0 !== n; return l.warnOnce("Accessing UI is deprecated. Call 'removeError' on the instance directly. Please comment in issue 1073 as to your need to call this method."), t.removeError(e, { updateClass: i }) }, getErrorsMessages: function (t) { return l.warnOnce("Accessing UI is deprecated. Call 'getErrorsMessages' on the instance directly."), t.getErrorsMessages() } }, t.each("addError updateError".split(" "), (function (t, e) { window.ParsleyUI[e] = function (t, n, i, r, o) { var s = !0 !== o; return l.warnOnce("Accessing UI is deprecated. Call '".concat(e, "' on the instance directly. Please comment in issue 1073 as to your need to call this method.")), t[e](n, { message: i, assert: r, updateClass: s }) } })), !1 !== window.ParsleyConfig.autoBind && t((function () { t("[data-parsley-validate]").length && t("[data-parsley-validate]").parsley() })); var P = t({}), A = function () { l.warnOnce("Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley") }; function M(t, e) { return t.parsleyAdaptedCallback || (t.parsleyAdaptedCallback = function () { var n = Array.prototype.slice.call(arguments, 0); n.unshift(this), t.apply(e || P, n) }), t.parsleyAdaptedCallback } function L(t) { return 0 === t.lastIndexOf("parsley:", 0) ? t.substr("parsley:".length) : t } return t.listen = function (t, e) { var i; if (A(), "object" === n(arguments[1]) && "function" == typeof arguments[2] && (i = arguments[1], e = arguments[2]), "function" != typeof e) throw new Error("Wrong parameters"); window.Parsley.on(L(t), M(e, i)) }, t.listenTo = function (t, e, n) { if (A(), !(t instanceof E || t instanceof b)) throw new Error("Must give Parsley instance"); if ("string" != typeof e || "function" != typeof n) throw new Error("Wrong parameters"); t.on(L(e), M(n)) }, t.unsubscribe = function (t, e) { if (A(), "string" != typeof t || "function" != typeof e) throw new Error("Wrong arguments"); window.Parsley.off(L(t), e.parsleyAdaptedCallback) }, t.unsubscribeTo = function (t, e) { if (A(), !(t instanceof E || t instanceof b)) throw new Error("Must give Parsley instance"); t.off(L(e)) }, t.unsubscribeAll = function (e) { A(), window.Parsley.off(L(e)), t("form,input,textarea,select").each((function () { var n = t(this).data("Parsley"); n && n.off(L(e)) })) }, t.emit = function (t, e) { var n; A(); var i = e instanceof E || e instanceof b, r = Array.prototype.slice.call(arguments, i ? 2 : 1); r.unshift(L(t)), i || (e = window.Parsley), (n = e).trigger.apply(n, s(r)) }, t.extend(!0, I, { asyncValidators: { default: { fn: function (t) { return t.status >= 200 && t.status < 300 }, url: !1 }, reverse: { fn: function (t) { return t.status < 200 || t.status >= 300 }, url: !1 } }, addAsyncValidator: function (t, e, n, i) { return I.asyncValidators[t] = { fn: e, url: n || !1, options: i || {} }, this } }), I.addValidator("remote", { requirementType: { "": "string", validator: "string", reverse: "boolean", options: "object" }, validateString: function (e, n, i, r) { var o, s, a = {}, u = i.validator || (!0 === i.reverse ? "reverse" : "default"); if (void 0 === I.asyncValidators[u]) throw new Error("Calling an undefined async validator: `" + u + "`"); (n = I.asyncValidators[u].url || n).indexOf("{value}") > -1 ? n = n.replace("{value}", encodeURIComponent(e)) : a[r.element.getAttribute("name") || r.element.getAttribute("id")] = e; var l = t.extend(!0, i.options || {}, I.asyncValidators[u].options); o = t.extend(!0, {}, { url: n, data: a, type: "GET" }, l), r.trigger("field:ajaxoptions", r, o), s = t.param(o), void 0 === I._remoteCache && (I._remoteCache = {}); var c = I._remoteCache[s] = I._remoteCache[s] || t.ajax(o), h = function () { var e = I.asyncValidators[u].fn.call(r, c, n, i); return e || (e = t.Deferred().reject()), t.when(e) }; return c.then(h, h) }, priority: -1 }), I.on("form:submit", (function () { I._remoteCache = {} })), h.prototype.addAsyncValidator = function () { return l.warnOnce("Accessing the method `addAsyncValidator` through an instance is deprecated. Simply call `Parsley.addAsyncValidator(...)`"), I.addAsyncValidator.apply(I, arguments) }, I.addMessages("en", { defaultMessage: "This value seems to be invalid.", type: { email: "This value should be a valid email.", url: "This value should be a valid url.", number: "This value should be a valid number.", integer: "This value should be a valid integer.", digits: "This value should be digits.", alphanum: "This value should be alphanumeric." }, notblank: "This value should not be blank.", required: "This value is required.", pattern: "This value seems to be invalid.", min: "This value should be greater than or equal to %s.", max: "This value should be lower than or equal to %s.", range: "This value should be between %s and %s.", minlength: "This value is too short. It should have %s characters or more.", maxlength: "This value is too long. It should have %s characters or fewer.", length: "This value length is invalid. It should be between %s and %s characters long.", mincheck: "You must select at least %s choices.", maxcheck: "You must select %s choices or fewer.", check: "You must select between %s and %s choices.", equalto: "This value should be the same.", euvatin: "It's not a valid VAT Identification Number." }), I.setLocale("en"), (new function () { var e = this, n = window || i; r(this, { isNativeEvent: function (t) { return t.originalEvent && !1 !== t.originalEvent.isTrusted }, fakeInputEvent: function (n) { e.isNativeEvent(n) && t(n.target).trigger("input") }, misbehaves: function (n) { e.isNativeEvent(n) && (e.behavesOk(n), t(document).on("change.inputevent", n.data.selector, e.fakeInputEvent), e.fakeInputEvent(n)) }, behavesOk: function (n) { e.isNativeEvent(n) && t(document).off("input.inputevent", n.data.selector, e.behavesOk).off("change.inputevent", n.data.selector, e.misbehaves) }, install: function () { if (!n.inputEventPatched) { n.inputEventPatched = "0.0.3"; for (var i = 0, r = ["select", 'input[type="checkbox"]', 'input[type="radio"]', 'input[type="file"]']; i < r.length; i++) { var o = r[i]; t(document).on("input.inputevent", o, { selector: o }, e.behavesOk).on("change.inputevent", o, { selector: o }, e.misbehaves) } } }, uninstall: function () { delete n.inputEventPatched, t(document).off(".inputevent") } }) }).install(), I }, t.exports = r(n("EVdn")) }).call(this, n("EVdn"), n("yLpj")) }, jVFj: function (t, e, n) { "use strict"; (function (t) { var i = n("3rzb"), r = n.n(i), o = (n("Zej/"), function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }); o.prototype.init = function () { var t = this; this.$imageSlider = this.options.$el.find(".image-slider"), this.$textSlider = this.options.$el.find(".text-slider"), this.$imageSlider.slick({ arrows: !1, fade: !0, speed: 600, asNavFor: t.$textSlider[0] }), this.$textSlider.slick({ arrows: !1, fade: !0, speed: 200, asNavFor: t.$imageSlider[0], swipe: !1 }), this.positionRightSideText(), r.a.subscribe("resized", (function () { t.positionRightSideText() })), this.options.$el.find(".next-image").on("click", (function () { t.$textSlider.slick("slickNext"), t.startAutoplay() })), this.startAutoplay() }, o.prototype.startAutoplay = function () { var t = this; this.autoplayInterval, window.clearInterval(t.autoplayInterval), this.autoplayInterval = window.setInterval((function () { console.log("here"), t.$textSlider.slick("slickNext") }), 8e3) }, o.prototype.positionRightSideText = function () { var t = this.options.$el.find(".right-side-text"), e = this.options.$el.find(".right"), n = t.width(), i = t.height(), r = e.outerHeight(), o = e.width(), s = r / 2 - i / 2; t.css("top", s); var a = n / 2 * -1 + i / 2 + .065 * o; t.css("right", a) }, e.a = o }).call(this, n("EVdn")) }, lrQL: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, "m6+v": function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, mbPF: function (t, e, n) { "use strict"; (function (t) { n("3rzb"), n("j4iJ"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { var t = this; this.parsleyValidator = this.options.$el.find("form").parsley({ errorsContainer: function (t) { var e = t.$element, n = e.prop("type"); return "radio" == n || "checkbox" == n ? e.parent().parent() : t } }), this.options.$el.find("form").on("onSproutFormsSubmit", (function (e) { t.parsleyValidator.isValid() ? e.detail.submitHandler.handleFormSubmit() : e.preventDefault() })) }, e.a = i }).call(this, n("EVdn")) }, o86m: function (t, e, n) { "use strict"; (function (t) { n("3rzb"), n("Zej/"), n("bzVz"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { this.$imageSlider = this.options.$el.find(".image-slider"), this.$arrowPrev = this.options.$el.find(".arrow-prev"), this.$arrowNext = this.options.$el.find(".arrow-next"), this.$dots = this.options.$el.find(".dots"), this.$imageSlider.slick({ arrows: !1, fade: !0, speed: 450, autoplay: !1, prevArrow: this.$arrowPrev, nextArrow: this.$arrowNext, dots: !0, appendDots: this.$dots }) }, e.a = i }).call(this, n("EVdn")) }, oaNO: function (t, e) { }, r7fk: function (t, e, n) { "use strict"; n.d(e, "a", (function () { return C })), n.d(e, "b", (function () { return C })); var i = /([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/; var r, o, s, a = /(?:\r|\n|\t\t)/g, u = /(?:\s\s+)/g, l = function (t) { return o.getComputedStyle(t) }, c = Array.isArray, h = [].slice, p = function (t, e) { var n; return c(t) ? t : "string" == (n = typeof t) && !e && t ? h.call(r.querySelectorAll(t), 0) : t && "object" === n && "length" in t ? h.call(t, 0) : t ? [t] : [] }, f = function (t) { return "absolute" === t.position || !0 === t.absolute }, d = function (t, e) { for (var n, i = e.length; --i > -1;)if (n = e[i], t.substr(0, n.length) === n) return n.length }, g = function (t, e) { void 0 === t && (t = ""); var n = ~t.indexOf("++"), i = 1; return n && (t = t.split("++").join("")), function () { return "<" + e + " style='position:relative;display:inline-block;'" + (t ? " class='" + t + (n ? i++ : "") + "'>" : ">") } }, y = function t(e, n, i) { var r = e.nodeType; if (1 === r || 9 === r || 11 === r) for (e = e.firstChild; e; e = e.nextSibling)t(e, n, i); else 3 !== r && 4 !== r || (e.nodeValue = e.nodeValue.split(n).join(i)) }, m = function (t, e) { for (var n = e.length; --n > -1;)t.push(e[n]) }, v = function (t, e, n) { for (var i; t && t !== e;) { if (i = t._next || t.nextSibling) return i.textContent.charAt(0) === n; t = t.parentNode || t._parent } }, _ = function t(e) { var n, i, r = p(e.childNodes), o = r.length; for (n = 0; n < o; n++)(i = r[n])._isSplit ? t(i) : (n && 3 === i.previousSibling.nodeType ? i.previousSibling.nodeValue += 3 === i.nodeType ? i.nodeValue : i.firstChild.nodeValue : 3 !== i.nodeType && e.insertBefore(i.firstChild, i), e.removeChild(i)) }, b = function (t, e) { return parseFloat(e[t]) || 0 }, w = function (t, e, n, i, o, s, a) { var u, c, h, p, d, g, w, x, E, C, D, S, T = l(t), I = b("paddingLeft", T), N = -999, P = b("borderBottomWidth", T) + b("borderTopWidth", T), A = b("borderLeftWidth", T) + b("borderRightWidth", T), M = b("paddingTop", T) + b("paddingBottom", T), L = b("paddingLeft", T) + b("paddingRight", T), O = .2 * b("fontSize", T), k = T.textAlign, F = [], R = [], q = [], j = e.wordDelimiter || " ", B = e.tag ? e.tag : e.span ? "span" : "div", $ = e.type || e.split || "chars,words,lines", z = o && ~$.indexOf("lines") ? [] : null, V = ~$.indexOf("words"), U = ~$.indexOf("chars"), H = f(e), G = e.linesClass, X = ~(G || "").indexOf("++"), Y = []; for (X && (G = G.split("++").join("")), h = (c = t.getElementsByTagName("*")).length, d = [], u = 0; u < h; u++)d[u] = c[u]; if (z || H) for (u = 0; u < h; u++)((g = (p = d[u]).parentNode === t) || H || U && !V) && (S = p.offsetTop, z && g && Math.abs(S - N) > O && ("BR" !== p.nodeName || 0 === u) && (w = [], z.push(w), N = S), H && (p._x = p.offsetLeft, p._y = S, p._w = p.offsetWidth, p._h = p.offsetHeight), z && ((p._isSplit && g || !U && g || V && g || !V && p.parentNode.parentNode === t && !p.parentNode._isSplit) && (w.push(p), p._x -= I, v(p, t, j) && (p._wordEnd = !0)), "BR" === p.nodeName && (p.nextSibling && "BR" === p.nextSibling.nodeName || 0 === u) && z.push([]))); for (u = 0; u < h; u++)g = (p = d[u]).parentNode === t, "BR" !== p.nodeName ? (H && (E = p.style, V || g || (p._x += p.parentNode._x, p._y += p.parentNode._y), E.left = p._x + "px", E.top = p._y + "px", E.position = "absolute", E.display = "block", E.width = p._w + 1 + "px", E.height = p._h + "px"), !V && U ? p._isSplit ? (p._next = p.nextSibling, p.parentNode.appendChild(p)) : p.parentNode._isSplit ? (p._parent = p.parentNode, !p.previousSibling && p.firstChild && (p.firstChild._isFirst = !0), p.nextSibling && " " === p.nextSibling.textContent && !p.nextSibling.nextSibling && Y.push(p.nextSibling), p._next = p.nextSibling && p.nextSibling._isFirst ? null : p.nextSibling, p.parentNode.removeChild(p), d.splice(u--, 1), h--) : g || (S = !p.nextSibling && v(p.parentNode, t, j), p.parentNode._parent && p.parentNode._parent.appendChild(p), S && p.parentNode.appendChild(r.createTextNode(" ")), "span" === B && (p.style.display = "inline"), F.push(p)) : p.parentNode._isSplit && !p._isSplit && "" !== p.innerHTML ? R.push(p) : U && !p._isSplit && ("span" === B && (p.style.display = "inline"), F.push(p))) : z || H ? (p.parentNode && p.parentNode.removeChild(p), d.splice(u--, 1), h--) : V || t.appendChild(p); for (u = Y.length; --u > -1;)Y[u].parentNode.removeChild(Y[u]); if (z) { for (H && (C = r.createElement(B), t.appendChild(C), D = C.offsetWidth + "px", S = C.offsetParent === t ? 0 : t.offsetLeft, t.removeChild(C)), E = t.style.cssText, t.style.cssText = "display:none;"; t.firstChild;)t.removeChild(t.firstChild); for (x = " " === j && (!H || !V && !U), u = 0; u < z.length; u++) { for (w = z[u], (C = r.createElement(B)).style.cssText = "display:block;text-align:" + k + ";position:" + (H ? "absolute;" : "relative;"), G && (C.className = G + (X ? u + 1 : "")), q.push(C), h = w.length, c = 0; c < h; c++)"BR" !== w[c].nodeName && (p = w[c], C.appendChild(p), x && p._wordEnd && C.appendChild(r.createTextNode(" ")), H && (0 === c && (C.style.top = p._y + "px", C.style.left = I + S + "px"), p.style.top = "0px", S && (p.style.left = p._x - S + "px"))); 0 === h ? C.innerHTML = "&nbsp;" : V || U || (_(C), y(C, String.fromCharCode(160), " ")), H && (C.style.width = D, C.style.height = p._h + "px"), t.appendChild(C) } t.style.cssText = E } H && (a > t.clientHeight && (t.style.height = a - M + "px", t.clientHeight < a && (t.style.height = a + P + "px")), s > t.clientWidth && (t.style.width = s - L + "px", t.clientWidth < s && (t.style.width = s + A + "px"))), m(n, F), V && m(i, R), m(o, q) }, x = function (t, e, n, o) { var s, l, c, h, p, g, m, v, _ = e.tag ? e.tag : e.span ? "span" : "div", b = ~(e.type || e.split || "chars,words,lines").indexOf("chars"), w = f(e), x = e.wordDelimiter || " ", E = " " !== x ? "" : w ? "&#173; " : " ", C = "</" + _ + ">", D = 1, S = e.specialChars ? "function" == typeof e.specialChars ? e.specialChars : d : null, T = r.createElement("div"), I = t.parentNode; for (I.insertBefore(T, t), T.textContent = t.nodeValue, I.removeChild(t), m = -1 !== (s = function t(e) { var n = e.nodeType, i = ""; if (1 === n || 9 === n || 11 === n) { if ("string" == typeof e.textContent) return e.textContent; for (e = e.firstChild; e; e = e.nextSibling)i += t(e) } else if (3 === n || 4 === n) return e.nodeValue; return i }(t = T)).indexOf("<"), !1 !== e.reduceWhiteSpace && (s = s.replace(u, " ").replace(a, "")), m && (s = s.split("<").join("{{LT}}")), p = s.length, l = (" " === s.charAt(0) ? E : "") + n(), c = 0; c < p; c++)if (g = s.charAt(c), S && (v = S(s.substr(c), e.specialChars))) g = s.substr(c, v || 1), l += b && " " !== g ? o() + g + "</" + _ + ">" : g, c += v - 1; else if (g === x && s.charAt(c - 1) !== x && c) { for (l += D ? C : "", D = 0; s.charAt(c + 1) === x;)l += E, c++; c === p - 1 ? l += E : ")" !== s.charAt(c + 1) && (l += E + n(), D = 1) } else "{" === g && "{{LT}}" === s.substr(c, 6) ? (l += b ? o() + "{{LT}}</" + _ + ">" : "{{LT}}", c += 5) : g.charCodeAt(0) >= 55296 && g.charCodeAt(0) <= 56319 || s.charCodeAt(c + 1) >= 65024 && s.charCodeAt(c + 1) <= 65039 ? (h = ((s.substr(c, 12).split(i) || [])[1] || "").length || 2, l += b && " " !== g ? o() + s.substr(c, h) + "</" + _ + ">" : s.substr(c, h), c += h - 1) : l += b && " " !== g ? o() + g + "</" + _ + ">" : g; t.outerHTML = l + (D ? C : ""), m && y(I, "{{LT}}", "<") }, E = function t(e, n, i, r) { var o, s, a = p(e.childNodes), u = a.length, c = f(n); if (3 !== e.nodeType || u > 1) { for (n.absolute = !1, o = 0; o < u; o++)(3 !== (s = a[o]).nodeType || /\S+/.test(s.nodeValue)) && (c && 3 !== s.nodeType && "inline" === l(s).display && (s.style.display = "inline-block", s.style.position = "relative"), s._isSplit = !0, t(s, n, i, r)); return n.absolute = c, void (e._isSplit = !0) } x(e, n, i, r) }, C = function () { function t(t, e) { s || (r = document, o = window, s = 1), this.elements = p(t), this.chars = [], this.words = [], this.lines = [], this._originals = [], this.vars = e || {}, this.split(e) } var e = t.prototype; return e.split = function (t) { this.isSplit && this.revert(), this.vars = t = t || this.vars, this._originals.length = this.chars.length = this.words.length = this.lines.length = 0; for (var e, n, i, r = this.elements.length, o = t.tag ? t.tag : t.span ? "span" : "div", s = g(t.wordsClass, o), a = g(t.charsClass, o); --r > -1;)i = this.elements[r], this._originals[r] = i.innerHTML, e = i.clientHeight, n = i.clientWidth, E(i, t, s, a), w(i, t, this.chars, this.words, this.lines, n, e); return this.chars.reverse(), this.words.reverse(), this.lines.reverse(), this.isSplit = !0, this }, e.revert = function () { var t = this._originals; if (!t) throw "revert() call wasn't scoped properly."; return this.elements.forEach((function (e, n) { return e.innerHTML = t[n] })), this.chars = [], this.words = [], this.lines = [], this.isSplit = !1, this }, t.create = function (e, n) { return new t(e, n) }, t }(); C.version = "3.2.6" }, rDb1: function (t, e, n) { "use strict"; (function (t) { var i = n("3rzb"), r = n.n(i), o = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; o.prototype.init = function () { var e = this; this.positionRightSideText(), t(window).on("load", (function () { e.positionRightSideText() })), r.a.subscribe("resized", (function () { e.positionRightSideText() })) }, o.prototype.positionRightSideText = function () { var t = this.options.$el.find(".right-side-text"), e = this.options.$el, n = t.width(), i = t.height(), r = e.outerHeight(), o = e.width(); console.log("content wrapper height"), console.log(r); var s = r / 2 - i / 2; t.css("top", s); var a = n / 2 * -1 + i / 2 + .018 * o; t.css("right", a) }, e.a = o }).call(this, n("EVdn")) }, "rQ/Y": function (t, e, n) { "use strict"; (function (t) { var i = n("3rzb"), r = n.n(i), o = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; o.prototype.init = function () { var t = this; this.positionRightSideText(), r.a.subscribe("resized", (function () { t.positionRightSideText() })) }, o.prototype.positionRightSideText = function () { var t = this.options.$el.find(".right-side-text"), e = this.options.$el, n = t.width(), i = t.height(), r = e.outerHeight(), o = e.width(), s = r / 2 - i / 2; t.css("top", s); var a = n / 2 * -1 + i / 2 + .04 * o; t.css("right", a) }, e.a = o }).call(this, n("EVdn")) }, sl2N: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = n("JLJr"), r = n.n(i), o = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; o.prototype.init = function () { var e = this, n = this.options.$el.find("#video-player"); this.player = new r.a(n, { enabled: !0, controls: ["progress"], settings: ["captions", "quality", "speed", "loop"], autoplay: !1, muted: !1, clickToPlay: !0, hideControls: !1, resetOnEnd: !1, ratio: null }), this.options.$el.find(".play-button").on("click", (function () { t(this).hasClass("playing") ? (console.log("pause"), e.player.pause()) : (console.log("play"), e.player.play()) })), this.player.on("playing", (function (t) { t.detail.plyr; e.options.$el.find(".play-button").removeClass("paused").addClass("playing"), e.options.$el.removeClass("paused").addClass("playing") })), this.player.on("pause", (function (t) { t.detail.plyr; e.options.$el.find(".play-button").removeClass("playing").addClass("paused"), e.options.$el.removeClass("playing").addClass("paused") })) }, e.a = o }).call(this, n("EVdn")) }, u0CG: function (t, e, n) { "use strict"; (function (t) { var i = n("z/o8"), r = n("3nGU"), o = n("r7fk"), s = n("3rzb"), a = n.n(s), u = function () { this.$hamburger = t(".el-NavBarTransparentOverlay .hamburger"), this.$logo = t(".el-NavBarTransparentOverlay .logo"), this.$navLinks = t(".el-NavBarTransparentOverlay .nav-links-wrapper a"), this.$stateIcon = t(".el-NavBarTransparentOverlay .state-icon-wrapper"), this.$firstSlide = t(".comp-HeroBgImageCenteredSlider .text-slide:eq(0)"), this.$heading = this.$firstSlide.find(".slide-heading"), this.$subtext = this.$firstSlide.find(".subtext"), this.$button = this.$firstSlide.find(".cta-wrapper"), this.$button.css({ opacity: 0, transform: "translate3d(0,30px,0)" }), this.$arrowLeft = this.$firstSlide = t(".comp-HeroBgImageCenteredSlider .previous-button"), this.$arrowRight = this.$firstSlide = t(".comp-HeroBgImageCenteredSlider .next-button") }; u.prototype.init = function () { var e = this; e.splitHeading = new o.a(e.$heading[0], { type: "lines", linesClass: "line" }), e.splitSubtext = new o.a(e.$subtext[0], { type: "lines", linesClass: "line" }), this.wrapLines(), t(".comp-HeroBgImageCenteredSlider").removeClass("is-hidden"); var n = i.a.timeline({ paused: !0, onComplete: function () { e.unwrapLines(), a.a.publish("HeroBgImageCenteredSlider.startAutoplay") } }); n.fromTo([this.$hamburger, this.$logo, this.$navLinks, this.$stateIcon], { opacity: 0, y: 30 }, { duration: .5, ease: "expo.inout", y: 0, opacity: 1, stagger: .1 }), n.to([this.splitHeading.lines, this.splitSubtext.lines, this.$button], { duration: .5, ease: "expo.inout", y: 0, stagger: .1, opacity: 1 }, ".3"), n.to([this.$arrowLeft, this.$arrowRight], { duration: .5, ease: "expo.inout", y: 0, stagger: .1, opacity: 1 }, ".4"), n.play() }, u.prototype.wrapLines = function () { this.splitHeading.lines.forEach((function (t) { var e = document.createElement("div"); e.classList.add("line-container"), Object(r.b)(t, e) })), this.splitSubtext.lines.forEach((function (t) { var e = document.createElement("div"); e.classList.add("line-container"), Object(r.b)(t, e) })) }, u.prototype.unwrapLines = function () { this.splitHeading.lines.forEach((function (t) { Object(r.a)(t) })), this.splitHeading.revert(), this.splitSubtext.lines.forEach((function (t) { Object(r.a)(t) })), this.splitSubtext.revert() }, e.a = u }).call(this, n("EVdn")) }, v461: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, vC6g: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = n("fKsX"), r = n.n(i), o = (n("ve0y"), function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }); o.prototype.init = function () { var t = this; new r.a(t.options.$el.find(".cocoen")[0]), scrollMonitor.create(t.options.$el[0], 64).fullyEnterViewport((function () { t.options.$el.addClass("visible"), window.setTimeout((function () { t.options.$el.addClass("animation-complete") }), 1e3) })) }, e.a = o }).call(this, n("EVdn")) }, ve0y: function (t, e, n) { t.exports = function (t) { function e(i) { if (n[i]) return n[i].exports; var r = n[i] = { exports: {}, id: i, loaded: !1 }; return t[i].call(r.exports, r, r.exports, e), r.loaded = !0, r.exports } var n = {}; return e.m = t, e.c = n, e.p = "", e(0) }([function (t, e, n) { "use strict"; var i = n(1).isInBrowser, r = new (n(2))(i ? document.body : null); r.setStateFromDOM(null), r.listenToDOM(), i && (window.scrollMonitor = r), t.exports = r }, function (t, e) { "use strict"; e.VISIBILITYCHANGE = "visibilityChange", e.ENTERVIEWPORT = "enterViewport", e.FULLYENTERVIEWPORT = "fullyEnterViewport", e.EXITVIEWPORT = "exitViewport", e.PARTIALLYEXITVIEWPORT = "partiallyExitViewport", e.LOCATIONCHANGE = "locationChange", e.STATECHANGE = "stateChange", e.eventTypes = [e.VISIBILITYCHANGE, e.ENTERVIEWPORT, e.FULLYENTERVIEWPORT, e.EXITVIEWPORT, e.PARTIALLYEXITVIEWPORT, e.LOCATIONCHANGE, e.STATECHANGE], e.isOnServer = "undefined" == typeof window, e.isInBrowser = !e.isOnServer, e.defaultOffsets = { top: 0, bottom: 0 } }, function (t, e, n) { "use strict"; function i(t) { return a ? 0 : t === document.body ? window.innerHeight || document.documentElement.clientHeight : t.clientHeight } function r(t) { return a ? 0 : t === document.body ? Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.documentElement.clientHeight) : t.scrollHeight } function o(t) { return a ? 0 : t === document.body ? window.pageYOffset || document.documentElement && document.documentElement.scrollTop || document.body.scrollTop : t.scrollTop } var s = n(1), a = s.isOnServer, u = s.isInBrowser, l = s.eventTypes, c = n(3), h = !1; if (u) try { var p = Object.defineProperty({}, "passive", { get: function () { h = !0 } }); window.addEventListener("test", null, p) } catch (t) { } var f = !!h && { capture: !1, passive: !0 }, d = function () { function t(e, n) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t); var s, a, u, c = this; this.item = e, this.watchers = [], this.viewportTop = null, this.viewportBottom = null, this.documentHeight = r(e), this.viewportHeight = i(e), this.DOMListener = function () { t.prototype.DOMListener.apply(c, arguments) }, this.eventTypes = l, n && (this.containerWatcher = n.create(e)), this.update = function () { (function () { if (c.viewportTop = o(e), c.viewportBottom = c.viewportTop + c.viewportHeight, c.documentHeight = r(e), c.documentHeight !== s) { for (a = c.watchers.length; a--;)c.watchers[a].recalculateLocation(); s = c.documentHeight } })(), function () { for (u = c.watchers.length; u--;)c.watchers[u].update(); for (u = c.watchers.length; u--;)c.watchers[u].triggerCallbacks() }() }, this.recalculateLocations = function () { this.documentHeight = 0, this.update() } } return t.prototype.listenToDOM = function () { u && (window.addEventListener ? (this.item === document.body ? window.addEventListener("scroll", this.DOMListener, f) : this.item.addEventListener("scroll", this.DOMListener, f), window.addEventListener("resize", this.DOMListener)) : (this.item === document.body ? window.attachEvent("onscroll", this.DOMListener) : this.item.attachEvent("onscroll", this.DOMListener), window.attachEvent("onresize", this.DOMListener)), this.destroy = function () { window.addEventListener ? (this.item === document.body ? (window.removeEventListener("scroll", this.DOMListener, f), this.containerWatcher.destroy()) : this.item.removeEventListener("scroll", this.DOMListener, f), window.removeEventListener("resize", this.DOMListener)) : (this.item === document.body ? (window.detachEvent("onscroll", this.DOMListener), this.containerWatcher.destroy()) : this.item.detachEvent("onscroll", this.DOMListener), window.detachEvent("onresize", this.DOMListener)) }) }, t.prototype.destroy = function () { }, t.prototype.DOMListener = function (t) { this.setStateFromDOM(t) }, t.prototype.setStateFromDOM = function (t) { var e = o(this.item), n = i(this.item), s = r(this.item); this.setState(e, n, s, t) }, t.prototype.setState = function (t, e, n, i) { var r = e !== this.viewportHeight || n !== this.contentHeight; if (this.latestEvent = i, this.viewportTop = t, this.viewportHeight = e, this.viewportBottom = t + e, this.contentHeight = n, r) for (var o = this.watchers.length; o--;)this.watchers[o].recalculateLocation(); this.updateAndTriggerWatchers(i) }, t.prototype.updateAndTriggerWatchers = function (t) { for (var e = this.watchers.length; e--;)this.watchers[e].update(); for (e = this.watchers.length; e--;)this.watchers[e].triggerCallbacks(t) }, t.prototype.createCustomContainer = function () { return new t }, t.prototype.createContainer = function (e) { "string" == typeof e ? e = document.querySelector(e) : e && e.length > 0 && (e = e[0]); var n = new t(e, this); return n.setStateFromDOM(), n.listenToDOM(), n }, t.prototype.create = function (t, e) { "string" == typeof t ? t = document.querySelector(t) : t && t.length > 0 && (t = t[0]); var n = new c(this, t, e); return this.watchers.push(n), n }, t.prototype.beget = function (t, e) { return this.create(t, e) }, t }(); t.exports = d }, function (t, e, n) { "use strict"; function i(t, e, n) { function i(t, e) { if (0 !== t.length) for (m = t.length; m--;)(v = t[m]).callback.call(_, e, _), v.isOne && t.splice(m, 1) } var r, d, g, y, m, v, _ = this; this.watchItem = e, this.container = t, this.offsets = n ? n === +n ? { top: n, bottom: n } : { top: n.top || f.top, bottom: n.bottom || f.bottom } : f, this.callbacks = {}; for (var b = 0, w = p.length; b < w; b++)_.callbacks[p[b]] = []; this.locked = !1, this.triggerCallbacks = function (t) { switch (this.isInViewport && !r && i(this.callbacks[s], t), this.isFullyInViewport && !d && i(this.callbacks[a], t), this.isAboveViewport !== g && this.isBelowViewport !== y && (i(this.callbacks[o], t), d || this.isFullyInViewport || (i(this.callbacks[a], t), i(this.callbacks[l], t)), r || this.isInViewport || (i(this.callbacks[s], t), i(this.callbacks[u], t))), !this.isFullyInViewport && d && i(this.callbacks[l], t), !this.isInViewport && r && i(this.callbacks[u], t), this.isInViewport !== r && i(this.callbacks[o], t), !0) { case r !== this.isInViewport: case d !== this.isFullyInViewport: case g !== this.isAboveViewport: case y !== this.isBelowViewport: i(this.callbacks[h], t) }r = this.isInViewport, d = this.isFullyInViewport, g = this.isAboveViewport, y = this.isBelowViewport }, this.recalculateLocation = function () { if (!this.locked) { var t = this.top, e = this.bottom; if (this.watchItem.nodeName) { var n = this.watchItem.style.display; "none" === n && (this.watchItem.style.display = ""); for (var r = 0, o = this.container; o.containerWatcher;)r += o.containerWatcher.top - o.containerWatcher.container.viewportTop, o = o.containerWatcher.container; var s = this.watchItem.getBoundingClientRect(); this.top = s.top + this.container.viewportTop - r, this.bottom = s.bottom + this.container.viewportTop - r, "none" === n && (this.watchItem.style.display = n) } else this.watchItem === +this.watchItem ? this.watchItem > 0 ? this.top = this.bottom = this.watchItem : this.top = this.bottom = this.container.documentHeight - this.watchItem : (this.top = this.watchItem.top, this.bottom = this.watchItem.bottom); this.top -= this.offsets.top, this.bottom += this.offsets.bottom, this.height = this.bottom - this.top, void 0 === t && void 0 === e || this.top === t && this.bottom === e || i(this.callbacks[c], null) } }, this.recalculateLocation(), this.update(), r = this.isInViewport, d = this.isFullyInViewport, g = this.isAboveViewport, y = this.isBelowViewport } var r = n(1), o = r.VISIBILITYCHANGE, s = r.ENTERVIEWPORT, a = r.FULLYENTERVIEWPORT, u = r.EXITVIEWPORT, l = r.PARTIALLYEXITVIEWPORT, c = r.LOCATIONCHANGE, h = r.STATECHANGE, p = r.eventTypes, f = r.defaultOffsets; i.prototype = { on: function (t, e, n) { switch (!0) { case t === o && !this.isInViewport && this.isAboveViewport: case t === s && this.isInViewport: case t === a && this.isFullyInViewport: case t === u && this.isAboveViewport && !this.isInViewport: case t === l && this.isInViewport && this.isAboveViewport: if (e.call(this, this.container.latestEvent, this), n) return }if (!this.callbacks[t]) throw new Error("Tried to add a scroll monitor listener of type " + t + ". Your options are: " + p.join(", ")); this.callbacks[t].push({ callback: e, isOne: n || !1 }) }, off: function (t, e) { if (!this.callbacks[t]) throw new Error("Tried to remove a scroll monitor listener of type " + t + ". Your options are: " + p.join(", ")); for (var n, i = 0; n = this.callbacks[t][i]; i++)if (n.callback === e) { this.callbacks[t].splice(i, 1); break } }, one: function (t, e) { this.on(t, e, !0) }, recalculateSize: function () { this.height = this.watchItem.offsetHeight + this.offsets.top + this.offsets.bottom, this.bottom = this.top + this.height }, update: function () { this.isAboveViewport = this.top < this.container.viewportTop, this.isBelowViewport = this.bottom > this.container.viewportBottom, this.isInViewport = this.top < this.container.viewportBottom && this.bottom > this.container.viewportTop, this.isFullyInViewport = this.top >= this.container.viewportTop && this.bottom <= this.container.viewportBottom || this.isAboveViewport && this.isBelowViewport }, destroy: function () { var t = this.container.watchers.indexOf(this); this.container.watchers.splice(t, 1); for (var e = 0, n = p.length; e < n; e++)this.callbacks[p[e]].length = 0 }, lock: function () { this.locked = !0 }, unlock: function () { this.locked = !1 } }; for (var d = function (t) { return function (e, n) { this.on.call(this, t, e, n) } }, g = 0, y = p.length; g < y; g++) { var m = p[g]; i.prototype[m] = d(m) } t.exports = i }]) }, vxtE: function (t, e, n) { "use strict"; (function (t) { n("3rzb"), n("Zej/"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { var t = this; this.$imageSlider = this.options.$el.find(".image-slider"), this.$previousButton = this.options.$el.find(".arrow-buttons .previous"), this.$nextButton = this.options.$el.find(".arrow-buttons .next"), this.$imageSlider.slick({ arrows: !1, fade: !1, speed: 500, slidesToShow: 1, infinite: !0 }), this.$previousButton.on("click", (function () { t.$imageSlider.slick("slickPrev") })), this.$nextButton.on("click", (function () { t.$imageSlider.slick("slickNext") })) }, e.a = i }).call(this, n("EVdn")) }, xG9w: function (t, e, n) { "use strict"; n.r(e), n.d(e, "default", (function () { return xn })), n.d(e, "VERSION", (function () { return r.e })), n.d(e, "restArguments", (function () { return o })), n.d(e, "isObject", (function () { return s })), n.d(e, "isNull", (function () { return a })), n.d(e, "isUndefined", (function () { return u })), n.d(e, "isBoolean", (function () { return l })), n.d(e, "isElement", (function () { return c })), n.d(e, "isString", (function () { return p })), n.d(e, "isNumber", (function () { return f })), n.d(e, "isDate", (function () { return d })), n.d(e, "isRegExp", (function () { return g })), n.d(e, "isError", (function () { return y })), n.d(e, "isSymbol", (function () { return m })), n.d(e, "isArrayBuffer", (function () { return v })), n.d(e, "isDataView", (function () { return S })), n.d(e, "isArray", (function () { return T })), n.d(e, "isFunction", (function () { return w })), n.d(e, "isArguments", (function () { return P })), n.d(e, "isFinite", (function () { return A })), n.d(e, "isNaN", (function () { return M })), n.d(e, "isTypedArray", (function () { return j })), n.d(e, "isEmpty", (function () { return V })), n.d(e, "isMatch", (function () { return U })), n.d(e, "isEqual", (function () { return Y })), n.d(e, "isMap", (function () { return it })), n.d(e, "isWeakMap", (function () { return rt })), n.d(e, "isSet", (function () { return ot })), n.d(e, "isWeakSet", (function () { return st })), n.d(e, "keys", (function () { return z })), n.d(e, "allKeys", (function () { return W })), n.d(e, "values", (function () { return at })), n.d(e, "pairs", (function () { return ut })), n.d(e, "invert", (function () { return lt })), n.d(e, "functions", (function () { return ct })), n.d(e, "methods", (function () { return ct })), n.d(e, "extend", (function () { return pt })), n.d(e, "extendOwn", (function () { return ft })), n.d(e, "assign", (function () { return ft })), n.d(e, "defaults", (function () { return dt })), n.d(e, "create", (function () { return yt })), n.d(e, "clone", (function () { return mt })), n.d(e, "tap", (function () { return vt })), n.d(e, "get", (function () { return xt })), n.d(e, "has", (function () { return Et })), n.d(e, "mapObject", (function () { return At })), n.d(e, "identity", (function () { return Ct })), n.d(e, "constant", (function () { return L })), n.d(e, "noop", (function () { return Mt })), n.d(e, "toPath", (function () { return _t })), n.d(e, "property", (function () { return St })), n.d(e, "propertyOf", (function () { return Lt })), n.d(e, "matcher", (function () { return Dt })), n.d(e, "matches", (function () { return Dt })), n.d(e, "times", (function () { return Ot })), n.d(e, "random", (function () { return kt })), n.d(e, "now", (function () { return Ft })), n.d(e, "escape", (function () { return jt })), n.d(e, "unescape", (function () { return Bt })), n.d(e, "templateSettings", (function () { return $t })), n.d(e, "template", (function () { return Xt })), n.d(e, "result", (function () { return Yt })), n.d(e, "uniqueId", (function () { return Jt })), n.d(e, "chain", (function () { return Zt })), n.d(e, "iteratee", (function () { return Nt })), n.d(e, "partial", (function () { return te })), n.d(e, "bind", (function () { return ee })), n.d(e, "bindAll", (function () { return re })), n.d(e, "memoize", (function () { return oe })), n.d(e, "delay", (function () { return se })), n.d(e, "defer", (function () { return ae })), n.d(e, "throttle", (function () { return ue })), n.d(e, "debounce", (function () { return le })), n.d(e, "wrap", (function () { return ce })), n.d(e, "negate", (function () { return he })), n.d(e, "compose", (function () { return pe })), n.d(e, "after", (function () { return fe })), n.d(e, "before", (function () { return de })), n.d(e, "once", (function () { return ge })), n.d(e, "findKey", (function () { return ye })), n.d(e, "findIndex", (function () { return ve })), n.d(e, "findLastIndex", (function () { return _e })), n.d(e, "sortedIndex", (function () { return be })), n.d(e, "indexOf", (function () { return xe })), n.d(e, "lastIndexOf", (function () { return Ee })), n.d(e, "find", (function () { return Ce })), n.d(e, "detect", (function () { return Ce })), n.d(e, "findWhere", (function () { return De })), n.d(e, "each", (function () { return Se })), n.d(e, "forEach", (function () { return Se })), n.d(e, "map", (function () { return Te })), n.d(e, "collect", (function () { return Te })), n.d(e, "reduce", (function () { return Ne })), n.d(e, "foldl", (function () { return Ne })), n.d(e, "inject", (function () { return Ne })), n.d(e, "reduceRight", (function () { return Pe })), n.d(e, "foldr", (function () { return Pe })), n.d(e, "filter", (function () { return Ae })), n.d(e, "select", (function () { return Ae })), n.d(e, "reject", (function () { return Me })), n.d(e, "every", (function () { return Le })), n.d(e, "all", (function () { return Le })), n.d(e, "some", (function () { return Oe })), n.d(e, "any", (function () { return Oe })), n.d(e, "contains", (function () { return ke })), n.d(e, "includes", (function () { return ke })), n.d(e, "include", (function () { return ke })), n.d(e, "invoke", (function () { return Fe })), n.d(e, "pluck", (function () { return Re })), n.d(e, "where", (function () { return qe })), n.d(e, "max", (function () { return je })), n.d(e, "min", (function () { return Be })), n.d(e, "shuffle", (function () { return ze })), n.d(e, "sample", (function () { return $e })), n.d(e, "sortBy", (function () { return Ve })), n.d(e, "groupBy", (function () { return He })), n.d(e, "indexBy", (function () { return Ge })), n.d(e, "countBy", (function () { return Xe })), n.d(e, "partition", (function () { return Ye })), n.d(e, "toArray", (function () { return Je })), n.d(e, "size", (function () { return Ze })), n.d(e, "pick", (function () { return Qe })), n.d(e, "omit", (function () { return tn })), n.d(e, "first", (function () { return nn })), n.d(e, "head", (function () { return nn })), n.d(e, "take", (function () { return nn })), n.d(e, "initial", (function () { return en })), n.d(e, "last", (function () { return on })), n.d(e, "rest", (function () { return rn })), n.d(e, "tail", (function () { return rn })), n.d(e, "drop", (function () { return rn })), n.d(e, "compact", (function () { return sn })), n.d(e, "flatten", (function () { return an })), n.d(e, "without", (function () { return ln })), n.d(e, "uniq", (function () { return cn })), n.d(e, "unique", (function () { return cn })), n.d(e, "union", (function () { return hn })), n.d(e, "intersection", (function () { return pn })), n.d(e, "difference", (function () { return un })), n.d(e, "unzip", (function () { return fn })), n.d(e, "transpose", (function () { return fn })), n.d(e, "zip", (function () { return dn })), n.d(e, "object", (function () { return gn })), n.d(e, "range", (function () { return yn })), n.d(e, "chunk", (function () { return mn })), n.d(e, "mixin", (function () { return _n })); var i = {}; n.r(i), n.d(i, "VERSION", (function () { return r.e })), n.d(i, "restArguments", (function () { return o })), n.d(i, "isObject", (function () { return s })), n.d(i, "isNull", (function () { return a })), n.d(i, "isUndefined", (function () { return u })), n.d(i, "isBoolean", (function () { return l })), n.d(i, "isElement", (function () { return c })), n.d(i, "isString", (function () { return p })), n.d(i, "isNumber", (function () { return f })), n.d(i, "isDate", (function () { return d })), n.d(i, "isRegExp", (function () { return g })), n.d(i, "isError", (function () { return y })), n.d(i, "isSymbol", (function () { return m })), n.d(i, "isArrayBuffer", (function () { return v })), n.d(i, "isDataView", (function () { return S })), n.d(i, "isArray", (function () { return T })), n.d(i, "isFunction", (function () { return w })), n.d(i, "isArguments", (function () { return P })), n.d(i, "isFinite", (function () { return A })), n.d(i, "isNaN", (function () { return M })), n.d(i, "isTypedArray", (function () { return j })), n.d(i, "isEmpty", (function () { return V })), n.d(i, "isMatch", (function () { return U })), n.d(i, "isEqual", (function () { return Y })), n.d(i, "isMap", (function () { return it })), n.d(i, "isWeakMap", (function () { return rt })), n.d(i, "isSet", (function () { return ot })), n.d(i, "isWeakSet", (function () { return st })), n.d(i, "keys", (function () { return z })), n.d(i, "allKeys", (function () { return W })), n.d(i, "values", (function () { return at })), n.d(i, "pairs", (function () { return ut })), n.d(i, "invert", (function () { return lt })), n.d(i, "functions", (function () { return ct })), n.d(i, "methods", (function () { return ct })), n.d(i, "extend", (function () { return pt })), n.d(i, "extendOwn", (function () { return ft })), n.d(i, "assign", (function () { return ft })), n.d(i, "defaults", (function () { return dt })), n.d(i, "create", (function () { return yt })), n.d(i, "clone", (function () { return mt })), n.d(i, "tap", (function () { return vt })), n.d(i, "get", (function () { return xt })), n.d(i, "has", (function () { return Et })), n.d(i, "mapObject", (function () { return At })), n.d(i, "identity", (function () { return Ct })), n.d(i, "constant", (function () { return L })), n.d(i, "noop", (function () { return Mt })), n.d(i, "toPath", (function () { return _t })), n.d(i, "property", (function () { return St })), n.d(i, "propertyOf", (function () { return Lt })), n.d(i, "matcher", (function () { return Dt })), n.d(i, "matches", (function () { return Dt })), n.d(i, "times", (function () { return Ot })), n.d(i, "random", (function () { return kt })), n.d(i, "now", (function () { return Ft })), n.d(i, "escape", (function () { return jt })), n.d(i, "unescape", (function () { return Bt })), n.d(i, "templateSettings", (function () { return $t })), n.d(i, "template", (function () { return Xt })), n.d(i, "result", (function () { return Yt })), n.d(i, "uniqueId", (function () { return Jt })), n.d(i, "chain", (function () { return Zt })), n.d(i, "iteratee", (function () { return Nt })), n.d(i, "partial", (function () { return te })), n.d(i, "bind", (function () { return ee })), n.d(i, "bindAll", (function () { return re })), n.d(i, "memoize", (function () { return oe })), n.d(i, "delay", (function () { return se })), n.d(i, "defer", (function () { return ae })), n.d(i, "throttle", (function () { return ue })), n.d(i, "debounce", (function () { return le })), n.d(i, "wrap", (function () { return ce })), n.d(i, "negate", (function () { return he })), n.d(i, "compose", (function () { return pe })), n.d(i, "after", (function () { return fe })), n.d(i, "before", (function () { return de })), n.d(i, "once", (function () { return ge })), n.d(i, "findKey", (function () { return ye })), n.d(i, "findIndex", (function () { return ve })), n.d(i, "findLastIndex", (function () { return _e })), n.d(i, "sortedIndex", (function () { return be })), n.d(i, "indexOf", (function () { return xe })), n.d(i, "lastIndexOf", (function () { return Ee })), n.d(i, "find", (function () { return Ce })), n.d(i, "detect", (function () { return Ce })), n.d(i, "findWhere", (function () { return De })), n.d(i, "each", (function () { return Se })), n.d(i, "forEach", (function () { return Se })), n.d(i, "map", (function () { return Te })), n.d(i, "collect", (function () { return Te })), n.d(i, "reduce", (function () { return Ne })), n.d(i, "foldl", (function () { return Ne })), n.d(i, "inject", (function () { return Ne })), n.d(i, "reduceRight", (function () { return Pe })), n.d(i, "foldr", (function () { return Pe })), n.d(i, "filter", (function () { return Ae })), n.d(i, "select", (function () { return Ae })), n.d(i, "reject", (function () { return Me })), n.d(i, "every", (function () { return Le })), n.d(i, "all", (function () { return Le })), n.d(i, "some", (function () { return Oe })), n.d(i, "any", (function () { return Oe })), n.d(i, "contains", (function () { return ke })), n.d(i, "includes", (function () { return ke })), n.d(i, "include", (function () { return ke })), n.d(i, "invoke", (function () { return Fe })), n.d(i, "pluck", (function () { return Re })), n.d(i, "where", (function () { return qe })), n.d(i, "max", (function () { return je })), n.d(i, "min", (function () { return Be })), n.d(i, "shuffle", (function () { return ze })), n.d(i, "sample", (function () { return $e })), n.d(i, "sortBy", (function () { return Ve })), n.d(i, "groupBy", (function () { return He })), n.d(i, "indexBy", (function () { return Ge })), n.d(i, "countBy", (function () { return Xe })), n.d(i, "partition", (function () { return Ye })), n.d(i, "toArray", (function () { return Je })), n.d(i, "size", (function () { return Ze })), n.d(i, "pick", (function () { return Qe })), n.d(i, "omit", (function () { return tn })), n.d(i, "first", (function () { return nn })), n.d(i, "head", (function () { return nn })), n.d(i, "take", (function () { return nn })), n.d(i, "initial", (function () { return en })), n.d(i, "last", (function () { return on })), n.d(i, "rest", (function () { return rn })), n.d(i, "tail", (function () { return rn })), n.d(i, "drop", (function () { return rn })), n.d(i, "compact", (function () { return sn })), n.d(i, "flatten", (function () { return an })), n.d(i, "without", (function () { return ln })), n.d(i, "uniq", (function () { return cn })), n.d(i, "unique", (function () { return cn })), n.d(i, "union", (function () { return hn })), n.d(i, "intersection", (function () { return pn })), n.d(i, "difference", (function () { return un })), n.d(i, "unzip", (function () { return fn })), n.d(i, "transpose", (function () { return fn })), n.d(i, "zip", (function () { return dn })), n.d(i, "object", (function () { return gn })), n.d(i, "range", (function () { return yn })), n.d(i, "chunk", (function () { return mn })), n.d(i, "mixin", (function () { return _n })), n.d(i, "default", (function () { return bn })); var r = n("L0c3"); function o(t, e) { return e = null == e ? t.length - 1 : +e, function () { for (var n = Math.max(arguments.length - e, 0), i = Array(n), r = 0; r < n; r++)i[r] = arguments[r + e]; switch (e) { case 0: return t.call(this, i); case 1: return t.call(this, arguments[0], i); case 2: return t.call(this, arguments[0], arguments[1], i) }var o = Array(e + 1); for (r = 0; r < e; r++)o[r] = arguments[r]; return o[e] = i, t.apply(this, o) } } function s(t) { var e = typeof t; return "function" === e || "object" === e && !!t } function a(t) { return null === t } function u(t) { return void 0 === t } function l(t) { return !0 === t || !1 === t || "[object Boolean]" === r.t.call(t) } function c(t) { return !(!t || 1 !== t.nodeType) } function h(t) { var e = "[object " + t + "]"; return function (t) { return r.t.call(t) === e } } var p = h("String"), f = h("Number"), d = h("Date"), g = h("RegExp"), y = h("Error"), m = h("Symbol"), v = h("ArrayBuffer"), _ = h("Function"), b = r.p.document && r.p.document.childNodes; "object" != typeof Int8Array && "function" != typeof b && (_ = function (t) { return "function" == typeof t || !1 }); var w = _, x = h("Object"), E = r.s && x(new DataView(new ArrayBuffer(8))), C = "undefined" != typeof Map && x(new Map), D = h("DataView"); var S = E ? function (t) { return null != t && w(t.getInt8) && v(t.buffer) } : D, T = r.k || h("Array"); function I(t, e) { return null != t && r.i.call(t, e) } var N = h("Arguments"); !function () { N(arguments) || (N = function (t) { return I(t, "callee") }) }(); var P = N; function A(t) { return !m(t) && Object(r.f)(t) && !isNaN(parseFloat(t)) } function M(t) { return f(t) && Object(r.g)(t) } function L(t) { return function () { return t } } function O(t) { return function (e) { var n = t(e); return "number" == typeof n && n >= 0 && n <= r.b } } function k(t) { return function (e) { return null == e ? void 0 : e[t] } } var F = k("byteLength"), R = O(F), q = /\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/; var j = r.r ? function (t) { return r.l ? Object(r.l)(t) && !S(t) : R(t) && q.test(r.t.call(t)) } : L(!1), B = k("length"); function $(t, e) { e = function (t) { for (var e = {}, n = t.length, i = 0; i < n; ++i)e[t[i]] = !0; return { contains: function (t) { return e[t] }, push: function (n) { return e[n] = !0, t.push(n) } } }(e); var n = r.n.length, i = t.constructor, o = w(i) && i.prototype || r.c, s = "constructor"; for (I(t, s) && !e.contains(s) && e.push(s); n--;)(s = r.n[n]) in t && t[s] !== o[s] && !e.contains(s) && e.push(s) } function z(t) { if (!s(t)) return []; if (r.m) return Object(r.m)(t); var e = []; for (var n in t) I(t, n) && e.push(n); return r.h && $(t, e), e } function V(t) { if (null == t) return !0; var e = B(t); return "number" == typeof e && (T(t) || p(t) || P(t)) ? 0 === e : 0 === B(z(t)) } function U(t, e) { var n = z(e), i = n.length; if (null == t) return !i; for (var r = Object(t), o = 0; o < i; o++) { var s = n[o]; if (e[s] !== r[s] || !(s in r)) return !1 } return !0 } function H(t) { return t instanceof H ? t : this instanceof H ? void (this._wrapped = t) : new H(t) } function G(t) { return new Uint8Array(t.buffer || t, t.byteOffset || 0, F(t)) } H.VERSION = r.e, H.prototype.value = function () { return this._wrapped }, H.prototype.valueOf = H.prototype.toJSON = H.prototype.value, H.prototype.toString = function () { return String(this._wrapped) }; function X(t, e, n, i) { if (t === e) return 0 !== t || 1 / t == 1 / e; if (null == t || null == e) return !1; if (t != t) return e != e; var o = typeof t; return ("function" === o || "object" === o || "object" == typeof e) && function t(e, n, i, o) { e instanceof H && (e = e._wrapped); n instanceof H && (n = n._wrapped); var s = r.t.call(e); if (s !== r.t.call(n)) return !1; if (E && "[object Object]" == s && S(e)) { if (!S(n)) return !1; s = "[object DataView]" } switch (s) { case "[object RegExp]": case "[object String]": return "" + e == "" + n; case "[object Number]": return +e != +e ? +n != +n : 0 == +e ? 1 / +e == 1 / n : +e == +n; case "[object Date]": case "[object Boolean]": return +e == +n; case "[object Symbol]": return r.d.valueOf.call(e) === r.d.valueOf.call(n); case "[object ArrayBuffer]": case "[object DataView]": return t(G(e), G(n), i, o) }var a = "[object Array]" === s; if (!a && j(e)) { if (F(e) !== F(n)) return !1; if (e.buffer === n.buffer && e.byteOffset === n.byteOffset) return !0; a = !0 } if (!a) { if ("object" != typeof e || "object" != typeof n) return !1; var u = e.constructor, l = n.constructor; if (u !== l && !(w(u) && u instanceof u && w(l) && l instanceof l) && "constructor" in e && "constructor" in n) return !1 } o = o || []; var c = (i = i || []).length; for (; c--;)if (i[c] === e) return o[c] === n; if (i.push(e), o.push(n), a) { if ((c = e.length) !== n.length) return !1; for (; c--;)if (!X(e[c], n[c], i, o)) return !1 } else { var h, p = z(e); if (c = p.length, z(n).length !== c) return !1; for (; c--;)if (h = p[c], !I(n, h) || !X(e[h], n[h], i, o)) return !1 } return i.pop(), o.pop(), !0 }(t, e, n, i) } function Y(t, e) { return X(t, e) } function W(t) { if (!s(t)) return []; var e = []; for (var n in t) e.push(n); return r.h && $(t, e), e } function J(t) { var e = B(t); return function (n) { if (null == n) return !1; var i = W(n); if (B(i)) return !1; for (var r = 0; r < e; r++)if (!w(n[t[r]])) return !1; return t !== et || !w(n[Z]) } } var Z = "forEach", K = ["clear", "delete"], Q = ["get", "has", "set"], tt = K.concat(Z, Q), et = K.concat(Q), nt = ["add"].concat(K, Z, "has"), it = C ? J(tt) : h("Map"), rt = C ? J(et) : h("WeakMap"), ot = C ? J(nt) : h("Set"), st = h("WeakSet"); function at(t) { for (var e = z(t), n = e.length, i = Array(n), r = 0; r < n; r++)i[r] = t[e[r]]; return i } function ut(t) { for (var e = z(t), n = e.length, i = Array(n), r = 0; r < n; r++)i[r] = [e[r], t[e[r]]]; return i } function lt(t) { for (var e = {}, n = z(t), i = 0, r = n.length; i < r; i++)e[t[n[i]]] = n[i]; return e } function ct(t) { var e = []; for (var n in t) w(t[n]) && e.push(n); return e.sort() } function ht(t, e) { return function (n) { var i = arguments.length; if (e && (n = Object(n)), i < 2 || null == n) return n; for (var r = 1; r < i; r++)for (var o = arguments[r], s = t(o), a = s.length, u = 0; u < a; u++) { var l = s[u]; e && void 0 !== n[l] || (n[l] = o[l]) } return n } } var pt = ht(W), ft = ht(z), dt = ht(W, !0); function gt(t) { if (!s(t)) return {}; if (r.j) return Object(r.j)(t); var e = function () { }; e.prototype = t; var n = new e; return e.prototype = null, n } function yt(t, e) { var n = gt(t); return e && ft(n, e), n } function mt(t) { return s(t) ? T(t) ? t.slice() : pt({}, t) : t } function vt(t, e) { return e(t), t } function _t(t) { return T(t) ? t : [t] } function bt(t) { return H.toPath(t) } function wt(t, e) { for (var n = e.length, i = 0; i < n; i++) { if (null == t) return; t = t[e[i]] } return n ? t : void 0 } function xt(t, e, n) { var i = wt(t, bt(e)); return u(i) ? n : i } function Et(t, e) { for (var n = (e = bt(e)).length, i = 0; i < n; i++) { var r = e[i]; if (!I(t, r)) return !1; t = t[r] } return !!n } function Ct(t) { return t } function Dt(t) { return t = ft({}, t), function (e) { return U(e, t) } } function St(t) { return t = bt(t), function (e) { return wt(e, t) } } function Tt(t, e, n) { if (void 0 === e) return t; switch (null == n ? 3 : n) { case 1: return function (n) { return t.call(e, n) }; case 3: return function (n, i, r) { return t.call(e, n, i, r) }; case 4: return function (n, i, r, o) { return t.call(e, n, i, r, o) } }return function () { return t.apply(e, arguments) } } function It(t, e, n) { return null == t ? Ct : w(t) ? Tt(t, e, n) : s(t) && !T(t) ? Dt(t) : St(t) } function Nt(t, e) { return It(t, e, 1 / 0) } function Pt(t, e, n) { return H.iteratee !== Nt ? H.iteratee(t, e) : It(t, e, n) } function At(t, e, n) { e = Pt(e, n); for (var i = z(t), r = i.length, o = {}, s = 0; s < r; s++) { var a = i[s]; o[a] = e(t[a], a, t) } return o } function Mt() { } function Lt(t) { return null == t ? Mt : function (e) { return xt(t, e) } } function Ot(t, e, n) { var i = Array(Math.max(0, t)); e = Tt(e, n, 1); for (var r = 0; r < t; r++)i[r] = e(r); return i } function kt(t, e) { return null == e && (e = t, t = 0), t + Math.floor(Math.random() * (e - t + 1)) } H.toPath = _t, H.iteratee = Nt; var Ft = Date.now || function () { return (new Date).getTime() }; function Rt(t) { var e = function (e) { return t[e] }, n = "(?:" + z(t).join("|") + ")", i = RegExp(n), r = RegExp(n, "g"); return function (t) { return t = null == t ? "" : "" + t, i.test(t) ? t.replace(r, e) : t } } var qt = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;" }, jt = Rt(qt), Bt = Rt(lt(qt)), $t = H.templateSettings = { evaluate: /<%([\s\S]+?)%>/g, interpolate: /<%=([\s\S]+?)%>/g, escape: /<%-([\s\S]+?)%>/g }, zt = /(.)^/, Vt = { "'": "'", "\\": "\\", "\r": "r", "\n": "n", "\u2028": "u2028", "\u2029": "u2029" }, Ut = /\\|'|\r|\n|\u2028|\u2029/g; function Ht(t) { return "\\" + Vt[t] } var Gt = /^\s*(\w|\$)+\s*$/; function Xt(t, e, n) { !e && n && (e = n), e = dt({}, e, H.templateSettings); var i = RegExp([(e.escape || zt).source, (e.interpolate || zt).source, (e.evaluate || zt).source].join("|") + "|$", "g"), r = 0, o = "__p+='"; t.replace(i, (function (e, n, i, s, a) { return o += t.slice(r, a).replace(Ut, Ht), r = a + e.length, n ? o += "'+\n((__t=(" + n + "))==null?'':_.escape(__t))+\n'" : i ? o += "'+\n((__t=(" + i + "))==null?'':__t)+\n'" : s && (o += "';\n" + s + "\n__p+='"), e })), o += "';\n"; var s, a = e.variable; if (a) { if (!Gt.test(a)) throw new Error("variable is not a bare identifier: " + a) } else o = "with(obj||{}){\n" + o + "}\n", a = "obj"; o = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + o + "return __p;\n"; try { s = new Function(a, "_", o) } catch (t) { throw t.source = o, t } var u = function (t) { return s.call(this, t, H) }; return u.source = "function(" + a + "){\n" + o + "}", u } function Yt(t, e, n) { var i = (e = bt(e)).length; if (!i) return w(n) ? n.call(t) : n; for (var r = 0; r < i; r++) { var o = null == t ? void 0 : t[e[r]]; void 0 === o && (o = n, r = i), t = w(o) ? o.call(t) : o } return t } var Wt = 0; function Jt(t) { var e = ++Wt + ""; return t ? t + e : e } function Zt(t) { var e = H(t); return e._chain = !0, e } function Kt(t, e, n, i, r) { if (!(i instanceof e)) return t.apply(n, r); var o = gt(t.prototype), a = t.apply(o, r); return s(a) ? a : o } var Qt = o((function (t, e) { var n = Qt.placeholder, i = function () { for (var r = 0, o = e.length, s = Array(o), a = 0; a < o; a++)s[a] = e[a] === n ? arguments[r++] : e[a]; for (; r < arguments.length;)s.push(arguments[r++]); return Kt(t, i, this, this, s) }; return i })); Qt.placeholder = H; var te = Qt, ee = o((function (t, e, n) { if (!w(t)) throw new TypeError("Bind must be called on a function"); var i = o((function (r) { return Kt(t, i, e, this, n.concat(r)) })); return i })), ne = O(B); function ie(t, e, n, i) { if (i = i || [], e || 0 === e) { if (e <= 0) return i.concat(t) } else e = 1 / 0; for (var r = i.length, o = 0, s = B(t); o < s; o++) { var a = t[o]; if (ne(a) && (T(a) || P(a))) if (e > 1) ie(a, e - 1, n, i), r = i.length; else for (var u = 0, l = a.length; u < l;)i[r++] = a[u++]; else n || (i[r++] = a) } return i } var re = o((function (t, e) { var n = (e = ie(e, !1, !1)).length; if (n < 1) throw new Error("bindAll must be passed function names"); for (; n--;) { var i = e[n]; t[i] = ee(t[i], t) } return t })); function oe(t, e) { var n = function (i) { var r = n.cache, o = "" + (e ? e.apply(this, arguments) : i); return I(r, o) || (r[o] = t.apply(this, arguments)), r[o] }; return n.cache = {}, n } var se = o((function (t, e, n) { return setTimeout((function () { return t.apply(null, n) }), e) })), ae = te(se, H, 1); function ue(t, e, n) { var i, r, o, s, a = 0; n || (n = {}); var u = function () { a = !1 === n.leading ? 0 : Ft(), i = null, s = t.apply(r, o), i || (r = o = null) }, l = function () { var l = Ft(); a || !1 !== n.leading || (a = l); var c = e - (l - a); return r = this, o = arguments, c <= 0 || c > e ? (i && (clearTimeout(i), i = null), a = l, s = t.apply(r, o), i || (r = o = null)) : i || !1 === n.trailing || (i = setTimeout(u, c)), s }; return l.cancel = function () { clearTimeout(i), a = 0, i = r = o = null }, l } function le(t, e, n) { var i, r, s, a, u, l = function () { var o = Ft() - r; e > o ? i = setTimeout(l, e - o) : (i = null, n || (a = t.apply(u, s)), i || (s = u = null)) }, c = o((function (o) { return u = this, s = o, r = Ft(), i || (i = setTimeout(l, e), n && (a = t.apply(u, s))), a })); return c.cancel = function () { clearTimeout(i), i = s = u = null }, c } function ce(t, e) { return te(e, t) } function he(t) { return function () { return !t.apply(this, arguments) } } function pe() { var t = arguments, e = t.length - 1; return function () { for (var n = e, i = t[e].apply(this, arguments); n--;)i = t[n].call(this, i); return i } } function fe(t, e) { return function () { if (--t < 1) return e.apply(this, arguments) } } function de(t, e) { var n; return function () { return --t > 0 && (n = e.apply(this, arguments)), t <= 1 && (e = null), n } } var ge = te(de, 2); function ye(t, e, n) { e = Pt(e, n); for (var i, r = z(t), o = 0, s = r.length; o < s; o++)if (e(t[i = r[o]], i, t)) return i } function me(t) { return function (e, n, i) { n = Pt(n, i); for (var r = B(e), o = t > 0 ? 0 : r - 1; o >= 0 && o < r; o += t)if (n(e[o], o, e)) return o; return -1 } } var ve = me(1), _e = me(-1); function be(t, e, n, i) { for (var r = (n = Pt(n, i, 1))(e), o = 0, s = B(t); o < s;) { var a = Math.floor((o + s) / 2); n(t[a]) < r ? o = a + 1 : s = a } return o } function we(t, e, n) { return function (i, o, s) { var a = 0, u = B(i); if ("number" == typeof s) t > 0 ? a = s >= 0 ? s : Math.max(s + u, a) : u = s >= 0 ? Math.min(s + 1, u) : s + u + 1; else if (n && s && u) return i[s = n(i, o)] === o ? s : -1; if (o != o) return (s = e(r.q.call(i, a, u), M)) >= 0 ? s + a : -1; for (s = t > 0 ? a : u - 1; s >= 0 && s < u; s += t)if (i[s] === o) return s; return -1 } } var xe = we(1, ve, be), Ee = we(-1, _e); function Ce(t, e, n) { var i = (ne(t) ? ve : ye)(t, e, n); if (void 0 !== i && -1 !== i) return t[i] } function De(t, e) { return Ce(t, Dt(e)) } function Se(t, e, n) { var i, r; if (e = Tt(e, n), ne(t)) for (i = 0, r = t.length; i < r; i++)e(t[i], i, t); else { var o = z(t); for (i = 0, r = o.length; i < r; i++)e(t[o[i]], o[i], t) } return t } function Te(t, e, n) { e = Pt(e, n); for (var i = !ne(t) && z(t), r = (i || t).length, o = Array(r), s = 0; s < r; s++) { var a = i ? i[s] : s; o[s] = e(t[a], a, t) } return o } function Ie(t) { var e = function (e, n, i, r) { var o = !ne(e) && z(e), s = (o || e).length, a = t > 0 ? 0 : s - 1; for (r || (i = e[o ? o[a] : a], a += t); a >= 0 && a < s; a += t) { var u = o ? o[a] : a; i = n(i, e[u], u, e) } return i }; return function (t, n, i, r) { var o = arguments.length >= 3; return e(t, Tt(n, r, 4), i, o) } } var Ne = Ie(1), Pe = Ie(-1); function Ae(t, e, n) { var i = []; return e = Pt(e, n), Se(t, (function (t, n, r) { e(t, n, r) && i.push(t) })), i } function Me(t, e, n) { return Ae(t, he(Pt(e)), n) } function Le(t, e, n) { e = Pt(e, n); for (var i = !ne(t) && z(t), r = (i || t).length, o = 0; o < r; o++) { var s = i ? i[o] : o; if (!e(t[s], s, t)) return !1 } return !0 } function Oe(t, e, n) { e = Pt(e, n); for (var i = !ne(t) && z(t), r = (i || t).length, o = 0; o < r; o++) { var s = i ? i[o] : o; if (e(t[s], s, t)) return !0 } return !1 } function ke(t, e, n, i) { return ne(t) || (t = at(t)), ("number" != typeof n || i) && (n = 0), xe(t, e, n) >= 0 } var Fe = o((function (t, e, n) { var i, r; return w(e) ? r = e : (e = bt(e), i = e.slice(0, -1), e = e[e.length - 1]), Te(t, (function (t) { var o = r; if (!o) { if (i && i.length && (t = wt(t, i)), null == t) return; o = t[e] } return null == o ? o : o.apply(t, n) })) })); function Re(t, e) { return Te(t, St(e)) } function qe(t, e) { return Ae(t, Dt(e)) } function je(t, e, n) { var i, r, o = -1 / 0, s = -1 / 0; if (null == e || "number" == typeof e && "object" != typeof t[0] && null != t) for (var a = 0, u = (t = ne(t) ? t : at(t)).length; a < u; a++)null != (i = t[a]) && i > o && (o = i); else e = Pt(e, n), Se(t, (function (t, n, i) { ((r = e(t, n, i)) > s || r === -1 / 0 && o === -1 / 0) && (o = t, s = r) })); return o } function Be(t, e, n) { var i, r, o = 1 / 0, s = 1 / 0; if (null == e || "number" == typeof e && "object" != typeof t[0] && null != t) for (var a = 0, u = (t = ne(t) ? t : at(t)).length; a < u; a++)null != (i = t[a]) && i < o && (o = i); else e = Pt(e, n), Se(t, (function (t, n, i) { ((r = e(t, n, i)) < s || r === 1 / 0 && o === 1 / 0) && (o = t, s = r) })); return o } function $e(t, e, n) { if (null == e || n) return ne(t) || (t = at(t)), t[kt(t.length - 1)]; var i = ne(t) ? mt(t) : at(t), r = B(i); e = Math.max(Math.min(e, r), 0); for (var o = r - 1, s = 0; s < e; s++) { var a = kt(s, o), u = i[s]; i[s] = i[a], i[a] = u } return i.slice(0, e) } function ze(t) { return $e(t, 1 / 0) } function Ve(t, e, n) { var i = 0; return e = Pt(e, n), Re(Te(t, (function (t, n, r) { return { value: t, index: i++, criteria: e(t, n, r) } })).sort((function (t, e) { var n = t.criteria, i = e.criteria; if (n !== i) { if (n > i || void 0 === n) return 1; if (n < i || void 0 === i) return -1 } return t.index - e.index })), "value") } function Ue(t, e) { return function (n, i, r) { var o = e ? [[], []] : {}; return i = Pt(i, r), Se(n, (function (e, r) { var s = i(e, r, n); t(o, e, s) })), o } } var He = Ue((function (t, e, n) { I(t, n) ? t[n].push(e) : t[n] = [e] })), Ge = Ue((function (t, e, n) { t[n] = e })), Xe = Ue((function (t, e, n) { I(t, n) ? t[n]++ : t[n] = 1 })), Ye = Ue((function (t, e, n) { t[n ? 0 : 1].push(e) }), !0), We = /[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g; function Je(t) { return t ? T(t) ? r.q.call(t) : p(t) ? t.match(We) : ne(t) ? Te(t, Ct) : at(t) : [] } function Ze(t) { return null == t ? 0 : ne(t) ? t.length : z(t).length } function Ke(t, e, n) { return e in n } var Qe = o((function (t, e) { var n = {}, i = e[0]; if (null == t) return n; w(i) ? (e.length > 1 && (i = Tt(i, e[1])), e = W(t)) : (i = Ke, e = ie(e, !1, !1), t = Object(t)); for (var r = 0, o = e.length; r < o; r++) { var s = e[r], a = t[s]; i(a, s, t) && (n[s] = a) } return n })), tn = o((function (t, e) { var n, i = e[0]; return w(i) ? (i = he(i), e.length > 1 && (n = e[1])) : (e = Te(ie(e, !1, !1), String), i = function (t, n) { return !ke(e, n) }), Qe(t, i, n) })); function en(t, e, n) { return r.q.call(t, 0, Math.max(0, t.length - (null == e || n ? 1 : e))) } function nn(t, e, n) { return null == t || t.length < 1 ? null == e || n ? void 0 : [] : null == e || n ? t[0] : en(t, t.length - e) } function rn(t, e, n) { return r.q.call(t, null == e || n ? 1 : e) } function on(t, e, n) { return null == t || t.length < 1 ? null == e || n ? void 0 : [] : null == e || n ? t[t.length - 1] : rn(t, Math.max(0, t.length - e)) } function sn(t) { return Ae(t, Boolean) } function an(t, e) { return ie(t, e, !1) } var un = o((function (t, e) { return e = ie(e, !0, !0), Ae(t, (function (t) { return !ke(e, t) })) })), ln = o((function (t, e) { return un(t, e) })); function cn(t, e, n, i) { l(e) || (i = n, n = e, e = !1), null != n && (n = Pt(n, i)); for (var r = [], o = [], s = 0, a = B(t); s < a; s++) { var u = t[s], c = n ? n(u, s, t) : u; e && !n ? (s && o === c || r.push(u), o = c) : n ? ke(o, c) || (o.push(c), r.push(u)) : ke(r, u) || r.push(u) } return r } var hn = o((function (t) { return cn(ie(t, !0, !0)) })); function pn(t) { for (var e = [], n = arguments.length, i = 0, r = B(t); i < r; i++) { var o = t[i]; if (!ke(e, o)) { var s; for (s = 1; s < n && ke(arguments[s], o); s++); s === n && e.push(o) } } return e } function fn(t) { for (var e = t && je(t, B).length || 0, n = Array(e), i = 0; i < e; i++)n[i] = Re(t, i); return n } var dn = o(fn); function gn(t, e) { for (var n = {}, i = 0, r = B(t); i < r; i++)e ? n[t[i]] = e[i] : n[t[i][0]] = t[i][1]; return n } function yn(t, e, n) { null == e && (e = t || 0, t = 0), n || (n = e < t ? -1 : 1); for (var i = Math.max(Math.ceil((e - t) / n), 0), r = Array(i), o = 0; o < i; o++, t += n)r[o] = t; return r } function mn(t, e) { if (null == e || e < 1) return []; for (var n = [], i = 0, o = t.length; i < o;)n.push(r.q.call(t, i, i += e)); return n } function vn(t, e) { return t._chain ? H(e).chain() : e } function _n(t) { return Se(ct(t), (function (e) { var n = H[e] = t[e]; H.prototype[e] = function () { var t = [this._wrapped]; return r.o.apply(t, arguments), vn(this, n.apply(H, t)) } })), H } Se(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], (function (t) { var e = r.a[t]; H.prototype[t] = function () { var n = this._wrapped; return null != n && (e.apply(n, arguments), "shift" !== t && "splice" !== t || 0 !== n.length || delete n[0]), vn(this, n) } })), Se(["concat", "join", "slice"], (function (t) { var e = r.a[t]; H.prototype[t] = function () { var t = this._wrapped; return null != t && (t = e.apply(t, arguments)), vn(this, t) } })); var bn = H, wn = _n(i); wn._ = wn; var xn = wn }, y0fh: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, yLpj: function (t, e) { var n; n = function () { return this }(); try { n = n || new Function("return this")() } catch (t) { "object" == typeof window && (n = window) } t.exports = n }, yOwv: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) }, "z/o8": function (t, e, n) { "use strict"; function i(t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function r(t, e) { t.prototype = Object.create(e.prototype), t.prototype.constructor = t, t.__proto__ = e } n.d(e, "a", (function () { return wi })); var o, s, a, u, l, c, h, p, f, d, g, y, m, v, _, b, w, x, E, C, D, S, T, I, N, P = { autoSleep: 120, force3D: "auto", nullTargetWarn: 1, units: { lineHeight: "" } }, A = { duration: .5, overwrite: !1, delay: 0 }, M = 1e8, L = 2 * Math.PI, O = L / 4, k = 0, F = Math.sqrt, R = Math.cos, q = Math.sin, j = function (t) { return "string" == typeof t }, B = function (t) { return "function" == typeof t }, $ = function (t) { return "number" == typeof t }, z = function (t) { return void 0 === t }, V = function (t) { return "object" == typeof t }, U = function (t) { return !1 !== t }, H = function () { return "undefined" != typeof window }, G = function (t) { return B(t) || j(t) }, X = Array.isArray, Y = /(?:-?\.?\d|\.)+/gi, W = /[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g, J = /[-+=.]*\d+[.e-]*\d*[a-z%]*/g, Z = /[-+=.]*\d+(?:\.|e-|e)*\d*/gi, K = /\(([^()]+)\)/i, Q = /[+-]=-?[\.\d]+/, tt = /[#\-+.]*\b[a-z\d-=+%.]+/gi, et = {}, nt = {}, it = function (t) { return (nt = Nt(t, et)) && ln }, rt = function (t, e) { return console.warn("Invalid property", t, "set to", e, "Missing plugin? gsap.registerPlugin()") }, ot = function (t, e) { return !e && console.warn(t) }, st = function (t, e) { return t && (et[t] = e) && nt && (nt[t] = e) || et }, at = function () { return 0 }, ut = {}, lt = [], ct = {}, ht = {}, pt = {}, ft = 30, dt = [], gt = "", yt = function (t) { var e, n, i = t[0]; if (V(i) || B(i) || (t = [t]), !(e = (i._gsap || {}).harness)) { for (n = dt.length; n-- && !dt[n].targetTest(i);); e = dt[n] } for (n = t.length; n--;)t[n] && (t[n]._gsap || (t[n]._gsap = new Le(t[n], e))) || t.splice(n, 1); return t }, mt = function (t) { return t._gsap || yt(te(t))[0]._gsap }, vt = function (t, e) { var n = t[e]; return B(n) ? t[e]() : z(n) && t.getAttribute(e) || n }, _t = function (t, e) { return (t = t.split(",")).forEach(e) || t }, bt = function (t) { return Math.round(1e5 * t) / 1e5 || 0 }, wt = function (t, e) { for (var n = e.length, i = 0; t.indexOf(e[i]) < 0 && ++i < n;); return i < n }, xt = function (t, e, n) { var i, r = $(t[1]), o = (r ? 2 : 1) + (e < 2 ? 0 : 1), s = t[o]; if (r && (s.duration = t[1]), s.parent = n, e) { for (i = s; n && !("immediateRender" in i);)i = n.vars.defaults || {}, n = U(n.vars.inherit) && n.parent; s.immediateRender = U(i.immediateRender), e < 2 ? s.runBackwards = 1 : s.startAt = t[o - 1] } return s }, Et = function () { var t, e, n = lt.length, i = lt.slice(0); for (ct = {}, lt.length = 0, t = 0; t < n; t++)(e = i[t]) && e._lazy && (e.render(e._lazy[0], e._lazy[1], !0)._lazy = 0) }, Ct = function (t, e, n, i) { lt.length && Et(), t.render(e, n, i), lt.length && Et() }, Dt = function (t) { var e = parseFloat(t); return (e || 0 === e) && (t + "").match(tt).length < 2 ? e : t }, St = function (t) { return t }, Tt = function (t, e) { for (var n in e) n in t || (t[n] = e[n]); return t }, It = function (t, e) { for (var n in e) n in t || "duration" === n || "ease" === n || (t[n] = e[n]) }, Nt = function (t, e) { for (var n in e) t[n] = e[n]; return t }, Pt = function t(e, n) { for (var i in n) e[i] = V(n[i]) ? t(e[i] || (e[i] = {}), n[i]) : n[i]; return e }, At = function (t, e) { var n, i = {}; for (n in t) n in e || (i[n] = t[n]); return i }, Mt = function (t) { var e = t.parent || o, n = t.keyframes ? It : Tt; if (U(t.inherit)) for (; e;)n(t, e.vars.defaults), e = e.parent; return t }, Lt = function (t, e, n, i) { void 0 === n && (n = "_first"), void 0 === i && (i = "_last"); var r = e._prev, o = e._next; r ? r._next = o : t[n] === e && (t[n] = o), o ? o._prev = r : t[i] === e && (t[i] = r), e._next = e._prev = e.parent = null }, Ot = function (t, e) { !t.parent || e && !t.parent.autoRemoveChildren || t.parent.remove(t), t._act = 0 }, kt = function (t) { for (var e = t; e;)e._dirty = 1, e = e.parent; return t }, Ft = function (t) { for (var e = t.parent; e && e.parent;)e._dirty = 1, e.totalDuration(), e = e.parent; return t }, Rt = function (t) { return t._repeat ? qt(t._tTime, t = t.duration() + t._rDelay) * t : 0 }, qt = function (t, e) { return (t /= e) && ~~t === t ? ~~t - 1 : ~~t }, jt = function (t, e) { return (t - e._start) * e._ts + (e._ts >= 0 ? 0 : e._dirty ? e.totalDuration() : e._tDur) }, Bt = function (t) { return t._end = bt(t._start + (t._tDur / Math.abs(t._ts || t._rts || 1e-8) || 0)) }, $t = function (t, e) { var n; if ((e._time || e._initted && !e._dur) && (n = jt(t.rawTime(), e), (!e._dur || Wt(0, e.totalDuration(), n) - e._tTime > 1e-8) && e.render(n, !0)), kt(t)._dp && t._initted && t._time >= t._dur && t._ts) { if (t._dur < t.duration()) for (n = t; n._dp;)n.rawTime() >= 0 && n.totalTime(n._tTime), n = n._dp; t._zTime = -1e-8 } }, zt = function (t, e, n, i) { return e.parent && Ot(e), e._start = bt(n + e._delay), e._end = bt(e._start + (e.totalDuration() / Math.abs(e.timeScale()) || 0)), function (t, e, n, i, r) { void 0 === n && (n = "_first"), void 0 === i && (i = "_last"); var o, s = t[i]; if (r) for (o = e[r]; s && s[r] > o;)s = s._prev; s ? (e._next = s._next, s._next = e) : (e._next = t[n], t[n] = e), e._next ? e._next._prev = e : t[i] = e, e._prev = s, e.parent = e._dp = t }(t, e, "_first", "_last", t._sort ? "_start" : 0), t._recent = e, i || $t(t, e), t }, Vt = function (t, e, n, i) { return Be(t, e), t._initted ? !n && t._pt && (t._dur && !1 !== t.vars.lazy || !t._dur && t.vars.lazy) && c !== we.frame ? (lt.push(t), t._lazy = [e, i], 1) : void 0 : 1 }, Ut = function (t, e, n) { var i = t._repeat, r = bt(e) || 0; return t._dur = r, t._tDur = i ? i < 0 ? 1e12 : bt(r * (i + 1) + t._rDelay * i) : r, t._time > r && (t._time = r, t._tTime = Math.min(t._tTime, t._tDur)), !n && kt(t.parent), t.parent && Bt(t), t }, Ht = function (t) { return t instanceof ke ? kt(t) : Ut(t, t._dur) }, Gt = { _start: 0, endTime: at }, Xt = function t(e, n) { var i, r, o = e.labels, s = e._recent || Gt, a = e.duration() >= M ? s.endTime(!1) : e._dur; return j(n) && (isNaN(n) || n in o) ? "<" === (i = n.charAt(0)) || ">" === i ? ("<" === i ? s._start : s.endTime(s._repeat >= 0)) + (parseFloat(n.substr(1)) || 0) : (i = n.indexOf("=")) < 0 ? (n in o || (o[n] = a), o[n]) : (r = +(n.charAt(i - 1) + n.substr(i + 1)), i > 1 ? t(e, n.substr(0, i - 1)) + r : a + r) : null == n ? a : +n }, Yt = function (t, e) { return t || 0 === t ? e(t) : e }, Wt = function (t, e, n) { return n < t ? t : n > e ? e : n }, Jt = function (t) { return (t + "").substr((parseFloat(t) + "").length) }, Zt = [].slice, Kt = function (t, e) { return t && V(t) && "length" in t && (!e && !t.length || t.length - 1 in t && V(t[0])) && !t.nodeType && t !== s }, Qt = function (t, e, n) { return void 0 === n && (n = []), t.forEach((function (t) { var i; return j(t) && !e || Kt(t, 1) ? (i = n).push.apply(i, te(t)) : n.push(t) })) || n }, te = function (t, e) { return !j(t) || e || !a && xe() ? X(t) ? Qt(t, e) : Kt(t) ? Zt.call(t, 0) : t ? [t] : [] : Zt.call(u.querySelectorAll(t), 0) }, ee = function (t) { return t.sort((function () { return .5 - Math.random() })) }, ne = function (t) { if (B(t)) return t; var e = V(t) ? t : { each: t }, n = Ie(e.ease), i = e.from || 0, r = parseFloat(e.base) || 0, o = {}, s = i > 0 && i < 1, a = isNaN(i) || s, u = e.axis, l = i, c = i; return j(i) ? l = c = { center: .5, edges: .5, end: 1 }[i] || 0 : !s && a && (l = i[0], c = i[1]), function (t, s, h) { var p, f, d, g, y, m, v, _, b, w = (h || e).length, x = o[w]; if (!x) { if (!(b = "auto" === e.grid ? 0 : (e.grid || [1, M])[1])) { for (v = -M; v < (v = h[b++].getBoundingClientRect().left) && b < w;); b-- } for (x = o[w] = [], p = a ? Math.min(b, w) * l - .5 : i % b, f = a ? w * c / b - .5 : i / b | 0, v = 0, _ = M, m = 0; m < w; m++)d = m % b - p, g = f - (m / b | 0), x[m] = y = u ? Math.abs("y" === u ? g : d) : F(d * d + g * g), y > v && (v = y), y < _ && (_ = y); "random" === i && ee(x), x.max = v - _, x.min = _, x.v = w = (parseFloat(e.amount) || parseFloat(e.each) * (b > w ? w - 1 : u ? "y" === u ? w / b : b : Math.max(b, w / b)) || 0) * ("edges" === i ? -1 : 1), x.b = w < 0 ? r - w : r, x.u = Jt(e.amount || e.each) || 0, n = n && w < 0 ? Te(n) : n } return w = (x[t] - x.min) / x.max || 0, bt(x.b + (n ? n(w) : w) * x.v) + x.u } }, ie = function (t) { var e = t < 1 ? Math.pow(10, (t + "").length - 2) : 1; return function (n) { return ~~(Math.round(parseFloat(n) / t) * t * e) / e + ($(n) ? 0 : Jt(n)) } }, re = function (t, e) { var n, i, r = X(t); return !r && V(t) && (n = r = t.radius || M, t.values ? (t = te(t.values), (i = !$(t[0])) && (n *= n)) : t = ie(t.increment)), Yt(e, r ? B(t) ? function (e) { return i = t(e), Math.abs(i - e) <= n ? i : e } : function (e) { for (var r, o, s = parseFloat(i ? e.x : e), a = parseFloat(i ? e.y : 0), u = M, l = 0, c = t.length; c--;)(r = i ? (r = t[c].x - s) * r + (o = t[c].y - a) * o : Math.abs(t[c] - s)) < u && (u = r, l = c); return l = !n || u <= n ? t[l] : e, i || l === e || $(e) ? l : l + Jt(e) } : ie(t)) }, oe = function (t, e, n, i) { return Yt(X(t) ? !e : !0 === n ? !!(n = 0) : !i, (function () { return X(t) ? t[~~(Math.random() * t.length)] : (n = n || 1e-5) && (i = n < 1 ? Math.pow(10, (n + "").length - 2) : 1) && ~~(Math.round((t + Math.random() * (e - t)) / n) * n * i) / i })) }, se = function (t, e, n) { return Yt(n, (function (n) { return t[~~e(n)] })) }, ae = function (t) { for (var e, n, i, r, o = 0, s = ""; ~(e = t.indexOf("random(", o));)i = t.indexOf(")", e), r = "[" === t.charAt(e + 7), n = t.substr(e + 7, i - e - 7).match(r ? tt : Y), s += t.substr(o, e - o) + oe(r ? n : +n[0], +n[1], +n[2] || 1e-5), o = i + 1; return s + t.substr(o, t.length - o) }, ue = function (t, e, n, i, r) { var o = e - t, s = i - n; return Yt(r, (function (e) { return n + (e - t) / o * s })) }, le = function (t, e, n) { var i, r, o, s = t.labels, a = M; for (i in s) (r = s[i] - e) < 0 == !!n && r && a > (r = Math.abs(r)) && (o = i, a = r); return o }, ce = function (t, e, n) { var i, r, o = t.vars, s = o[e]; if (s) return i = o[e + "Params"], r = o.callbackScope || t, n && lt.length && Et(), i ? s.apply(r, i) : s.call(r) }, he = function (t) { return Ot(t), t.progress() < 1 && ce(t, "onInterrupt"), t }, pe = function (t) { var e = (t = !t.name && t.default || t).name, n = B(t), i = e && !n && t.init ? function () { this._props = [] } : t, r = { init: at, render: Qe, add: qe, kill: en, modifier: tn, rawVars: 0 }, o = { targetTest: 0, get: 0, getSetter: We, aliases: {}, register: 0 }; if (xe(), t !== i) { if (ht[e]) return; Tt(i, Tt(At(t, r), o)), Nt(i.prototype, Nt(r, At(t, o))), ht[i.prop = e] = i, t.targetTest && (dt.push(i), ut[e] = 1), e = ("css" === e ? "CSS" : e.charAt(0).toUpperCase() + e.substr(1)) + "Plugin" } st(e, i), t.register && t.register(ln, i, on) }, fe = { aqua: [0, 255, 255], lime: [0, 255, 0], silver: [192, 192, 192], black: [0, 0, 0], maroon: [128, 0, 0], teal: [0, 128, 128], blue: [0, 0, 255], navy: [0, 0, 128], white: [255, 255, 255], olive: [128, 128, 0], yellow: [255, 255, 0], orange: [255, 165, 0], gray: [128, 128, 128], purple: [128, 0, 128], green: [0, 128, 0], red: [255, 0, 0], pink: [255, 192, 203], cyan: [0, 255, 255], transparent: [255, 255, 255, 0] }, de = function (t, e, n) { return 255 * (6 * (t = t < 0 ? t + 1 : t > 1 ? t - 1 : t) < 1 ? e + (n - e) * t * 6 : t < .5 ? n : 3 * t < 2 ? e + (n - e) * (2 / 3 - t) * 6 : e) + .5 | 0 }, ge = function (t, e, n) { var i, r, o, s, a, u, l, c, h, p, f = t ? $(t) ? [t >> 16, t >> 8 & 255, 255 & t] : 0 : fe.black; if (!f) { if ("," === t.substr(-1) && (t = t.substr(0, t.length - 1)), fe[t]) f = fe[t]; else if ("#" === t.charAt(0)) 4 === t.length && (i = t.charAt(1), r = t.charAt(2), o = t.charAt(3), t = "#" + i + i + r + r + o + o), f = [(t = parseInt(t.substr(1), 16)) >> 16, t >> 8 & 255, 255 & t]; else if ("hsl" === t.substr(0, 3)) if (f = p = t.match(Y), e) { if (~t.indexOf("=")) return f = t.match(W), n && f.length < 4 && (f[3] = 1), f } else s = +f[0] % 360 / 360, a = +f[1] / 100, i = 2 * (u = +f[2] / 100) - (r = u <= .5 ? u * (a + 1) : u + a - u * a), f.length > 3 && (f[3] *= 1), f[0] = de(s + 1 / 3, i, r), f[1] = de(s, i, r), f[2] = de(s - 1 / 3, i, r); else f = t.match(Y) || fe.transparent; f = f.map(Number) } return e && !p && (i = f[0] / 255, r = f[1] / 255, o = f[2] / 255, u = ((l = Math.max(i, r, o)) + (c = Math.min(i, r, o))) / 2, l === c ? s = a = 0 : (h = l - c, a = u > .5 ? h / (2 - l - c) : h / (l + c), s = l === i ? (r - o) / h + (r < o ? 6 : 0) : l === r ? (o - i) / h + 2 : (i - r) / h + 4, s *= 60), f[0] = ~~(s + .5), f[1] = ~~(100 * a + .5), f[2] = ~~(100 * u + .5)), n && f.length < 4 && (f[3] = 1), f }, ye = function (t) { var e = [], n = [], i = -1; return t.split(ve).forEach((function (t) { var r = t.match(J) || []; e.push.apply(e, r), n.push(i += r.length + 1) })), e.c = n, e }, me = function (t, e, n) { var i, r, o, s, a = "", u = (t + a).match(ve), l = e ? "hsla(" : "rgba(", c = 0; if (!u) return t; if (u = u.map((function (t) { return (t = ge(t, e, 1)) && l + (e ? t[0] + "," + t[1] + "%," + t[2] + "%," + t[3] : t.join(",")) + ")" })), n && (o = ye(t), (i = n.c).join(a) !== o.c.join(a))) for (s = (r = t.replace(ve, "1").split(J)).length - 1; c < s; c++)a += r[c] + (~i.indexOf(c) ? u.shift() || l + "0,0,0,0)" : (o.length ? o : u.length ? u : n).shift()); if (!r) for (s = (r = t.split(ve)).length - 1; c < s; c++)a += r[c] + u[c]; return a + r[s] }, ve = function () { var t, e = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b"; for (t in fe) e += "|" + t + "\\b"; return new RegExp(e + ")", "gi") }(), _e = /hsl[a]?\(/, be = function (t) { var e, n = t.join(" "); if (ve.lastIndex = 0, ve.test(n)) return e = _e.test(n), t[1] = me(t[1], e), t[0] = me(t[0], e, ye(t[1])), !0 }, we = (m = Date.now, v = 500, _ = 33, b = m(), w = b, E = x = 1 / 240, D = function t(e) { var n, i, r = m() - w, o = !0 === e; r > v && (b += r - _), w += r, y.time = (w - b) / 1e3, ((n = y.time - E) > 0 || o) && (y.frame++, E += n + (n >= x ? .004 : x - n), i = 1), o || (f = d(t)), i && C.forEach((function (t) { return t(y.time, r, y.frame, e) })) }, y = { time: 0, frame: 0, tick: function () { D(!0) }, wake: function () { l && (!a && H() && (s = a = window, u = s.document || {}, et.gsap = ln, (s.gsapVersions || (s.gsapVersions = [])).push(ln.version), it(nt || s.GreenSockGlobals || !s.gsap && s || {}), g = s.requestAnimationFrame), f && y.sleep(), d = g || function (t) { return setTimeout(t, 1e3 * (E - y.time) + 1 | 0) }, p = 1, D(2)) }, sleep: function () { (g ? s.cancelAnimationFrame : clearTimeout)(f), p = 0, d = at }, lagSmoothing: function (t, e) { v = t || 1 / 1e-8, _ = Math.min(e, v, 0) }, fps: function (t) { x = 1 / (t || 240), E = y.time + x }, add: function (t) { C.indexOf(t) < 0 && C.push(t), xe() }, remove: function (t) { var e; ~(e = C.indexOf(t)) && C.splice(e, 1) }, _listeners: C = [] }), xe = function () { return !p && we.wake() }, Ee = {}, Ce = /^[\d.\-M][\d.\-,\s]/, De = /["']/g, Se = function (t) { for (var e, n, i, r = {}, o = t.substr(1, t.length - 3).split(":"), s = o[0], a = 1, u = o.length; a < u; a++)n = o[a], e = a !== u - 1 ? n.lastIndexOf(",") : n.length, i = n.substr(0, e), r[s] = isNaN(i) ? i.replace(De, "").trim() : +i, s = n.substr(e + 1).trim(); return r }, Te = function (t) { return function (e) { return 1 - t(1 - e) } }, Ie = function (t, e) { return t && (B(t) ? t : Ee[t] || function (t) { var e = (t + "").split("("), n = Ee[e[0]]; return n && e.length > 1 && n.config ? n.config.apply(null, ~t.indexOf("{") ? [Se(e[1])] : K.exec(t)[1].split(",").map(Dt)) : Ee._CE && Ce.test(t) ? Ee._CE("", t) : n }(t)) || e }, Ne = function (t, e, n, i) { void 0 === n && (n = function (t) { return 1 - e(1 - t) }), void 0 === i && (i = function (t) { return t < .5 ? e(2 * t) / 2 : 1 - e(2 * (1 - t)) / 2 }); var r, o = { easeIn: e, easeOut: n, easeInOut: i }; return _t(t, (function (t) { for (var e in Ee[t] = et[t] = o, Ee[r = t.toLowerCase()] = n, o) Ee[r + ("easeIn" === e ? ".in" : "easeOut" === e ? ".out" : ".inOut")] = Ee[t + "." + e] = o[e] })), o }, Pe = function (t) { return function (e) { return e < .5 ? (1 - t(1 - 2 * e)) / 2 : .5 + t(2 * (e - .5)) / 2 } }, Ae = function t(e, n, i) { var r = n >= 1 ? n : 1, o = (i || (e ? .3 : .45)) / (n < 1 ? n : 1), s = o / L * (Math.asin(1 / r) || 0), a = function (t) { return 1 === t ? 1 : r * Math.pow(2, -10 * t) * q((t - s) * o) + 1 }, u = "out" === e ? a : "in" === e ? function (t) { return 1 - a(1 - t) } : Pe(a); return o = L / o, u.config = function (n, i) { return t(e, n, i) }, u }, Me = function t(e, n) { void 0 === n && (n = 1.70158); var i = function (t) { return t ? --t * t * ((n + 1) * t + n) + 1 : 0 }, r = "out" === e ? i : "in" === e ? function (t) { return 1 - i(1 - t) } : Pe(i); return r.config = function (n) { return t(e, n) }, r }; _t("Linear,Quad,Cubic,Quart,Quint,Strong", (function (t, e) { var n = e < 5 ? e + 1 : e; Ne(t + ",Power" + (n - 1), e ? function (t) { return Math.pow(t, n) } : function (t) { return t }, (function (t) { return 1 - Math.pow(1 - t, n) }), (function (t) { return t < .5 ? Math.pow(2 * t, n) / 2 : 1 - Math.pow(2 * (1 - t), n) / 2 })) })), Ee.Linear.easeNone = Ee.none = Ee.Linear.easeIn, Ne("Elastic", Ae("in"), Ae("out"), Ae()), S = 7.5625, I = 1 / (T = 2.75), Ne("Bounce", (function (t) { return 1 - N(1 - t) }), N = function (t) { return t < I ? S * t * t : t < .7272727272727273 ? S * Math.pow(t - 1.5 / T, 2) + .75 : t < .9090909090909092 ? S * (t -= 2.25 / T) * t + .9375 : S * Math.pow(t - 2.625 / T, 2) + .984375 }), Ne("Expo", (function (t) { return t ? Math.pow(2, 10 * (t - 1)) : 0 })), Ne("Circ", (function (t) { return -(F(1 - t * t) - 1) })), Ne("Sine", (function (t) { return 1 - R(t * O) })), Ne("Back", Me("in"), Me("out"), Me()), Ee.SteppedEase = Ee.steps = et.SteppedEase = { config: function (t, e) { void 0 === t && (t = 1); var n = 1 / t, i = t + (e ? 0 : 1), r = e ? 1 : 0; return function (t) { return ((i * Wt(0, 1 - 1e-8, t) | 0) + r) * n } } }, A.ease = Ee["quad.out"], _t("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt", (function (t) { return gt += t + "," + t + "Params," })); var Le = function (t, e) { this.id = k++, t._gsap = this, this.target = t, this.harness = e, this.get = e ? e.get : vt, this.set = e ? e.getSetter : We }, Oe = function () { function t(t, e) { var n = t.parent || o; this.vars = t, this._delay = +t.delay || 0, (this._repeat = t.repeat || 0) && (this._rDelay = t.repeatDelay || 0, this._yoyo = !!t.yoyo || !!t.yoyoEase), this._ts = 1, Ut(this, +t.duration, 1), this.data = t.data, p || we.wake(), n && zt(n, this, e || 0 === e ? e : n._time, 1), t.reversed && this.reverse(), t.paused && this.paused(!0) } var e = t.prototype; return e.delay = function (t) { return t || 0 === t ? (this.parent && this.parent.smoothChildTiming && this.startTime(this._start + t - this._delay), this._delay = t, this) : this._delay }, e.duration = function (t) { return arguments.length ? this.totalDuration(this._repeat > 0 ? t + (t + this._rDelay) * this._repeat : t) : this.totalDuration() && this._dur }, e.totalDuration = function (t) { return arguments.length ? (this._dirty = 0, Ut(this, this._repeat < 0 ? t : (t - this._repeat * this._rDelay) / (this._repeat + 1))) : this._tDur }, e.totalTime = function (t, e) { if (xe(), !arguments.length) return this._tTime; var n = this.parent || this._dp; if (n && n.smoothChildTiming && this._ts) { for (this._start = bt(n._time - (this._ts > 0 ? t / this._ts : ((this._dirty ? this.totalDuration() : this._tDur) - t) / -this._ts)), Bt(this), n._dirty || kt(n); n.parent;)n.parent._time !== n._start + (n._ts >= 0 ? n._tTime / n._ts : (n.totalDuration() - n._tTime) / -n._ts) && n.totalTime(n._tTime, !0), n = n.parent; !this.parent && this._dp.autoRemoveChildren && zt(this._dp, this, this._start - this._delay) } return (this._tTime !== t || !this._dur && !e || this._initted && 1e-8 === Math.abs(this._zTime)) && (this._ts || (this._pTime = t), Ct(this, t, e)), this }, e.time = function (t, e) { return arguments.length ? this.totalTime(Math.min(this.totalDuration(), t + Rt(this)) % this._dur || (t ? this._dur : 0), e) : this._time }, e.totalProgress = function (t, e) { return arguments.length ? this.totalTime(this.totalDuration() * t, e) : this.totalDuration() ? Math.min(1, this._tTime / this._tDur) : this.ratio }, e.progress = function (t, e) { return arguments.length ? this.totalTime(this.duration() * (!this._yoyo || 1 & this.iteration() ? t : 1 - t) + Rt(this), e) : this.duration() ? Math.min(1, this._time / this._dur) : this.ratio }, e.iteration = function (t, e) { var n = this.duration() + this._rDelay; return arguments.length ? this.totalTime(this._time + (t - 1) * n, e) : this._repeat ? qt(this._tTime, n) + 1 : 1 }, e.timeScale = function (t) { if (!arguments.length) return -1e-8 === this._rts ? 0 : this._rts; if (this._rts === t) return this; var e = this.parent && this._ts ? jt(this.parent._time, this) : this._tTime; return this._rts = +t || 0, this._ts = this._ps || -1e-8 === t ? 0 : this._rts, Ft(this.totalTime(Wt(0, this._tDur, e), !0)) }, e.paused = function (t) { return arguments.length ? (this._ps !== t && (this._ps = t, t ? (this._pTime = this._tTime || Math.max(-this._delay, this.rawTime()), this._ts = this._act = 0) : (xe(), this._ts = this._rts, this.totalTime(this.parent && !this.parent.smoothChildTiming ? this.rawTime() : this._tTime || this._pTime, 1 === this.progress() && (this._tTime -= 1e-8) && 1e-8 !== Math.abs(this._zTime)))), this) : this._ps }, e.startTime = function (t) { if (arguments.length) { this._start = t; var e = this.parent || this._dp; return e && (e._sort || !this.parent) && zt(e, this, t - this._delay), this } return this._start }, e.endTime = function (t) { return this._start + (U(t) ? this.totalDuration() : this.duration()) / Math.abs(this._ts) }, e.rawTime = function (t) { var e = this.parent || this._dp; return e ? t && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : this._ts ? jt(e.rawTime(t), this) : this._tTime : this._tTime }, e.repeat = function (t) { return arguments.length ? (this._repeat = t, Ht(this)) : this._repeat }, e.repeatDelay = function (t) { return arguments.length ? (this._rDelay = t, Ht(this)) : this._rDelay }, e.yoyo = function (t) { return arguments.length ? (this._yoyo = t, this) : this._yoyo }, e.seek = function (t, e) { return this.totalTime(Xt(this, t), U(e)) }, e.restart = function (t, e) { return this.play().totalTime(t ? -this._delay : 0, U(e)) }, e.play = function (t, e) { return null != t && this.seek(t, e), this.reversed(!1).paused(!1) }, e.reverse = function (t, e) { return null != t && this.seek(t || this.totalDuration(), e), this.reversed(!0).paused(!1) }, e.pause = function (t, e) { return null != t && this.seek(t, e), this.paused(!0) }, e.resume = function () { return this.paused(!1) }, e.reversed = function (t) { return arguments.length ? (!!t !== this.reversed() && this.timeScale(-this._rts || (t ? -1e-8 : 0)), this) : this._rts < 0 }, e.invalidate = function () { return this._initted = 0, this._zTime = -1e-8, this }, e.isActive = function (t) { var e, n = this.parent || this._dp, i = this._start; return !(n && !(this._ts && (this._initted || !t) && n.isActive(t) && (e = n.rawTime(!0)) >= i && e < this.endTime(!0) - 1e-8)) }, e.eventCallback = function (t, e, n) { var i = this.vars; return arguments.length > 1 ? (e ? (i[t] = e, n && (i[t + "Params"] = n), "onUpdate" === t && (this._onUpdate = e)) : delete i[t], this) : i[t] }, e.then = function (t) { var e = this; return new Promise((function (n) { var i = B(t) ? t : St, r = function () { var t = e.then; e.then = null, B(i) && (i = i(e)) && (i.then || i === e) && (e.then = t), n(i), e.then = t }; e._initted && 1 === e.totalProgress() && e._ts >= 0 || !e._tTime && e._ts < 0 ? r() : e._prom = r })) }, e.kill = function () { he(this) }, t }(); Tt(Oe.prototype, { _time: 0, _start: 0, _end: 0, _tTime: 0, _tDur: 0, _dirty: 0, _repeat: 0, _yoyo: !1, parent: null, _initted: !1, _rDelay: 0, _ts: 1, _dp: 0, ratio: 0, _zTime: -1e-8, _prom: 0, _ps: !1, _rts: 1 }); var ke = function (t) { function e(e, n) { var r; return void 0 === e && (e = {}), (r = t.call(this, e, n) || this).labels = {}, r.smoothChildTiming = !!e.smoothChildTiming, r.autoRemoveChildren = !!e.autoRemoveChildren, r._sort = U(e.sortChildren), r.parent && $t(r.parent, i(r)), r } r(e, t); var n = e.prototype; return n.to = function (t, e, n) { return new Ue(t, xt(arguments, 0, this), Xt(this, $(e) ? arguments[3] : n)), this }, n.from = function (t, e, n) { return new Ue(t, xt(arguments, 1, this), Xt(this, $(e) ? arguments[3] : n)), this }, n.fromTo = function (t, e, n, i) { return new Ue(t, xt(arguments, 2, this), Xt(this, $(e) ? arguments[4] : i)), this }, n.set = function (t, e, n) { return e.duration = 0, e.parent = this, Mt(e).repeatDelay || (e.repeat = 0), e.immediateRender = !!e.immediateRender, new Ue(t, e, Xt(this, n), 1), this }, n.call = function (t, e, n) { return zt(this, Ue.delayedCall(0, t, e), Xt(this, n)) }, n.staggerTo = function (t, e, n, i, r, o, s) { return n.duration = e, n.stagger = n.stagger || i, n.onComplete = o, n.onCompleteParams = s, n.parent = this, new Ue(t, n, Xt(this, r)), this }, n.staggerFrom = function (t, e, n, i, r, o, s) { return n.runBackwards = 1, Mt(n).immediateRender = U(n.immediateRender), this.staggerTo(t, e, n, i, r, o, s) }, n.staggerFromTo = function (t, e, n, i, r, o, s, a) { return i.startAt = n, Mt(i).immediateRender = U(i.immediateRender), this.staggerTo(t, e, i, r, o, s, a) }, n.render = function (t, e, n) { var i, r, s, a, u, l, c, h, p, f, d, g, y = this._time, m = this._dirty ? this.totalDuration() : this._tDur, v = this._dur, _ = this !== o && t > m - 1e-8 && t >= 0 ? m : t < 1e-8 ? 0 : t, b = this._zTime < 0 != t < 0 && (this._initted || !v); if (_ !== this._tTime || n || b) { if (y !== this._time && v && (_ += this._time - y, t += this._time - y), i = _, p = this._start, l = !(h = this._ts), b && (v || (y = this._zTime), !t && e || (this._zTime = t)), this._repeat && (d = this._yoyo, u = v + this._rDelay, ((i = bt(_ % u)) > v || m === _) && (i = v), (a = ~~(_ / u)) && a === _ / u && (i = v, a--), d && 1 & a && (i = v - i, g = 1), a !== (f = qt(this._tTime, u)) && !this._lock)) { var w = d && 1 & f, x = w === (d && 1 & a); if (a < f && (w = !w), y = w ? 0 : v, this._lock = 1, this.render(y, e, !v)._lock = 0, !e && this.parent && ce(this, "onRepeat"), this.vars.repeatRefresh && !g && (this.invalidate()._lock = 1), y !== this._time || l !== !this._ts) return this; if (x && (this._lock = 2, y = w ? v + 1e-4 : -1e-4, this.render(y, !0), this.vars.repeatRefresh && !g && this.invalidate()), this._lock = 0, !this._ts && !l) return this } if (this._hasPause && !this._forcing && this._lock < 2 && (c = function (t, e, n) { var i; if (n > e) for (i = t._first; i && i._start <= n;) { if (!i._dur && "isPause" === i.data && i._start > e) return i; i = i._next } else for (i = t._last; i && i._start >= n;) { if (!i._dur && "isPause" === i.data && i._start < e) return i; i = i._prev } }(this, bt(y), bt(i))) && (_ -= i - (i = c._start)), this._tTime = _, this._time = i, this._act = !h, this._initted || (this._onUpdate = this.vars.onUpdate, this._initted = 1, this._zTime = t), y || !i || e || ce(this, "onStart"), i >= y && t >= 0) for (r = this._first; r;) { if (s = r._next, (r._act || i >= r._start) && r._ts && c !== r) { if (r.parent !== this) return this.render(t, e, n); if (r.render(r._ts > 0 ? (i - r._start) * r._ts : (r._dirty ? r.totalDuration() : r._tDur) + (i - r._start) * r._ts, e, n), i !== this._time || !this._ts && !l) { c = 0, s && (_ += this._zTime = -1e-8); break } } r = s } else { r = this._last; for (var E = t < 0 ? t : i; r;) { if (s = r._prev, (r._act || E <= r._end) && r._ts && c !== r) { if (r.parent !== this) return this.render(t, e, n); if (r.render(r._ts > 0 ? (E - r._start) * r._ts : (r._dirty ? r.totalDuration() : r._tDur) + (E - r._start) * r._ts, e, n), i !== this._time || !this._ts && !l) { c = 0, s && (_ += this._zTime = E ? -1e-8 : 1e-8); break } } r = s } } if (c && !e && (this.pause(), c.render(i >= y ? 0 : -1e-8)._zTime = i >= y ? 1 : -1, this._ts)) return this._start = p, Bt(this), this.render(t, e, n); this._onUpdate && !e && ce(this, "onUpdate", !0), (_ === m && m >= this.totalDuration() || !_ && this._ts < 0) && (p !== this._start && Math.abs(h) === Math.abs(this._ts) || this._lock || ((t || !v) && (t && this._ts > 0 || !_ && this._ts < 0) && Ot(this, 1), e || t < 0 && !y || (ce(this, _ === m ? "onComplete" : "onReverseComplete", !0), this._prom && this._prom()))) } return this }, n.add = function (t, e) { var n = this; if ($(e) || (e = Xt(this, e)), !(t instanceof Oe)) { if (X(t)) return t.forEach((function (t) { return n.add(t, e) })), kt(this); if (j(t)) return this.addLabel(t, e); if (!B(t)) return this; t = Ue.delayedCall(0, t) } return this !== t ? zt(this, t, e) : this }, n.getChildren = function (t, e, n, i) { void 0 === t && (t = !0), void 0 === e && (e = !0), void 0 === n && (n = !0), void 0 === i && (i = -M); for (var r = [], o = this._first; o;)o._start >= i && (o instanceof Ue ? e && r.push(o) : (n && r.push(o), t && r.push.apply(r, o.getChildren(!0, e, n)))), o = o._next; return r }, n.getById = function (t) { for (var e = this.getChildren(1, 1, 1), n = e.length; n--;)if (e[n].vars.id === t) return e[n] }, n.remove = function (t) { return j(t) ? this.removeLabel(t) : B(t) ? this.killTweensOf(t) : (Lt(this, t), t === this._recent && (this._recent = this._last), kt(this)) }, n.totalTime = function (e, n) { return arguments.length ? (this._forcing = 1, this.parent || this._dp || !this._ts || (this._start = bt(we.time - (this._ts > 0 ? e / this._ts : (this.totalDuration() - e) / -this._ts))), t.prototype.totalTime.call(this, e, n), this._forcing = 0, this) : this._tTime }, n.addLabel = function (t, e) { return this.labels[t] = Xt(this, e), this }, n.removeLabel = function (t) { return delete this.labels[t], this }, n.addPause = function (t, e, n) { var i = Ue.delayedCall(0, e || at, n); return i.data = "isPause", this._hasPause = 1, zt(this, i, Xt(this, t)) }, n.removePause = function (t) { var e = this._first; for (t = Xt(this, t); e;)e._start === t && "isPause" === e.data && Ot(e), e = e._next }, n.killTweensOf = function (t, e, n) { for (var i = this.getTweensOf(t, n), r = i.length; r--;)Fe !== i[r] && i[r].kill(t, e); return this }, n.getTweensOf = function (t, e) { for (var n, i = [], r = te(t), o = this._first; o;)o instanceof Ue ? !wt(o._targets, r) || e && !o.isActive("started" === e) || i.push(o) : (n = o.getTweensOf(r, e)).length && i.push.apply(i, n), o = o._next; return i }, n.tweenTo = function (t, e) { e = e || {}; var n = this, i = Xt(n, t), r = e, o = r.startAt, s = r.onStart, a = r.onStartParams, u = Ue.to(n, Tt(e, { ease: "none", lazy: !1, time: i, duration: e.duration || Math.abs((i - (o && "time" in o ? o.time : n._time)) / n.timeScale()) || 1e-8, onStart: function () { n.pause(); var t = e.duration || Math.abs((i - n._time) / n.timeScale()); u._dur !== t && Ut(u, t).render(u._time, !0, !0), s && s.apply(u, a || []) } })); return u }, n.tweenFromTo = function (t, e, n) { return this.tweenTo(e, Tt({ startAt: { time: Xt(this, t) } }, n)) }, n.recent = function () { return this._recent }, n.nextLabel = function (t) { return void 0 === t && (t = this._time), le(this, Xt(this, t)) }, n.previousLabel = function (t) { return void 0 === t && (t = this._time), le(this, Xt(this, t), 1) }, n.currentLabel = function (t) { return arguments.length ? this.seek(t, !0) : this.previousLabel(this._time + 1e-8) }, n.shiftChildren = function (t, e, n) { void 0 === n && (n = 0); for (var i, r = this._first, o = this.labels; r;)r._start >= n && (r._start += t), r = r._next; if (e) for (i in o) o[i] >= n && (o[i] += t); return kt(this) }, n.invalidate = function () { var e = this._first; for (this._lock = 0; e;)e.invalidate(), e = e._next; return t.prototype.invalidate.call(this) }, n.clear = function (t) { void 0 === t && (t = !0); for (var e, n = this._first; n;)e = n._next, this.remove(n), n = e; return this._time = this._tTime = 0, t && (this.labels = {}), kt(this) }, n.totalDuration = function (t) { var e, n, i, r, s = 0, a = this, u = a._last, l = M; if (arguments.length) return a.timeScale((a._repeat < 0 ? a.duration() : a.totalDuration()) / (a.reversed() ? -t : t)); if (a._dirty) { for (r = a.parent; u;)e = u._prev, u._dirty && u.totalDuration(), (i = u._start) > l && a._sort && u._ts && !a._lock ? (a._lock = 1, zt(a, u, i - u._delay, 1)._lock = 0) : l = i, i < 0 && u._ts && (s -= i, (!r && !a._dp || r && r.smoothChildTiming) && (a._start += i / a._ts, a._time -= i, a._tTime -= i), a.shiftChildren(-i, !1, -1e20), l = 0), (n = Bt(u)) > s && u._ts && (s = n), u = e; Ut(a, a === o && a._time > s ? a._time : Math.min(M, s), 1), a._dirty = 0 } return a._tDur }, e.updateRoot = function (t) { if (o._ts && (Ct(o, jt(t, o)), c = we.frame), we.frame >= ft) { ft += P.autoSleep || 120; var e = o._first; if ((!e || !e._ts) && P.autoSleep && we._listeners.length < 2) { for (; e && !e._ts;)e = e._next; e || we.sleep() } } }, e }(Oe); Tt(ke.prototype, { _lock: 0, _hasPause: 0, _forcing: 0 }); var Fe, Re = function (t, e, n, i, r, o, s) { var a, u, l, c, h, p, f, d, g = new on(this._pt, t, e, 0, 1, Ke, null, r), y = 0, m = 0; for (g.b = n, g.e = i, n += "", (f = ~(i += "").indexOf("random(")) && (i = ae(i)), o && (o(d = [n, i], t, e), n = d[0], i = d[1]), u = n.match(Z) || []; a = Z.exec(i);)c = a[0], h = i.substring(y, a.index), l ? l = (l + 1) % 5 : "rgba(" === h.substr(-5) && (l = 1), c !== u[m++] && (p = parseFloat(u[m - 1]) || 0, g._pt = { _next: g._pt, p: h || 1 === m ? h : ",", s: p, c: "=" === c.charAt(1) ? parseFloat(c.substr(2)) * ("-" === c.charAt(0) ? -1 : 1) : parseFloat(c) - p, m: l && l < 4 ? Math.round : 0 }, y = Z.lastIndex); return g.c = y < i.length ? i.substring(y, i.length) : "", g.fp = s, (Q.test(i) || f) && (g.e = 0), this._pt = g, g }, qe = function (t, e, n, i, r, o, s, a, u) { B(i) && (i = i(r || 0, t, o)); var l, c = t[e], h = "get" !== n ? n : B(c) ? u ? t[e.indexOf("set") || !B(t["get" + e.substr(3)]) ? e : "get" + e.substr(3)](u) : t[e]() : c, p = B(c) ? u ? Xe : Ge : He; if (j(i) && (~i.indexOf("random(") && (i = ae(i)), "=" === i.charAt(1) && (i = parseFloat(h) + parseFloat(i.substr(2)) * ("-" === i.charAt(0) ? -1 : 1) + (Jt(h) || 0))), h !== i) return isNaN(h + i) ? (!c && !(e in t) && rt(e, i), Re.call(this, t, e, h, i, p, a || P.stringFilter, u)) : (l = new on(this._pt, t, e, +h || 0, i - (h || 0), "boolean" == typeof c ? Ze : Je, 0, p), u && (l.fp = u), s && l.modifier(s, this, t), this._pt = l) }, je = function (t, e, n, i, r, o) { var s, a, u, l; if (ht[t] && !1 !== (s = new ht[t]).init(r, s.rawVars ? e[t] : function (t, e, n, i, r) { if (B(t) && (t = $e(t, r, e, n, i)), !V(t) || t.style && t.nodeType || X(t)) return j(t) ? $e(t, r, e, n, i) : t; var o, s = {}; for (o in t) s[o] = $e(t[o], r, e, n, i); return s }(e[t], i, r, o, n), n, i, o) && (n._pt = a = new on(n._pt, r, t, 0, 1, s.render, s, 0, s.priority), n !== h)) for (u = n._ptLookup[n._targets.indexOf(r)], l = s._props.length; l--;)u[s._props[l]] = a; return s }, Be = function t(e, n) { var i, r, s, a, u, l, c, h, p, f, d, g, y = e.vars, m = y.ease, v = y.startAt, _ = y.immediateRender, b = y.lazy, w = y.onUpdate, x = y.onUpdateParams, E = y.callbackScope, C = y.runBackwards, D = y.yoyoEase, S = y.keyframes, T = y.autoRevert, I = e._dur, N = e._startAt, P = e._targets, M = e.parent, L = M && "nested" === M.data ? M.parent._targets : P, O = "auto" === e._overwrite, k = e.timeline; if (!k || S && m || (m = "none"), e._ease = Ie(m, A.ease), e._yEase = D ? Te(Ie(!0 === D ? m : D, A.ease)) : 0, D && e._yoyo && !e._repeat && (D = e._yEase, e._yEase = e._ease, e._ease = D), !k) { if (N && N.render(-1, !0).kill(), v) { if (Ot(e._startAt = Ue.set(P, Tt({ data: "isStart", overwrite: !1, parent: M, immediateRender: !0, lazy: U(b), startAt: null, delay: 0, onUpdate: w, onUpdateParams: x, callbackScope: E, stagger: 0 }, v))), _) if (n > 0) !T && (e._startAt = 0); else if (I) return } else if (C && I) if (N) !T && (e._startAt = 0); else if (n && (_ = !1), Ot(e._startAt = Ue.set(P, Nt(At(y, ut), { overwrite: !1, data: "isFromStart", lazy: _ && U(b), immediateRender: _, stagger: 0, parent: M }))), _) { if (!n) return } else t(e._startAt, 1e-8); for (i = At(y, ut), e._pt = 0, g = (h = P[0] ? mt(P[0]).harness : 0) && y[h.prop], b = I && U(b) || b && !I, r = 0; r < P.length; r++) { if (c = (u = P[r])._gsap || yt(P)[r]._gsap, e._ptLookup[r] = f = {}, ct[c.id] && Et(), d = L === P ? r : L.indexOf(u), h && !1 !== (p = new h).init(u, g || i, e, d, L) && (e._pt = a = new on(e._pt, u, p.name, 0, 1, p.render, p, 0, p.priority), p._props.forEach((function (t) { f[t] = a })), p.priority && (l = 1)), !h || g) for (s in i) ht[s] && (p = je(s, i, e, d, u, L)) ? p.priority && (l = 1) : f[s] = a = qe.call(e, u, s, "get", i[s], d, L, 0, y.stringFilter); e._op && e._op[r] && e.kill(u, e._op[r]), O && e._pt && (Fe = e, o.killTweensOf(u, f, "started"), Fe = 0), e._pt && b && (ct[c.id] = 1) } l && rn(e), e._onInit && e._onInit(e) } e._from = !k && !!y.runBackwards, e._onUpdate = w, e._initted = 1 }, $e = function (t, e, n, i, r) { return B(t) ? t.call(e, n, i, r) : j(t) && ~t.indexOf("random(") ? ae(t) : t }, ze = gt + "repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase", Ve = (ze + ",id,stagger,delay,duration,paused").split(","), Ue = function (t) { function e(e, n, r, s) { var a; "number" == typeof n && (r.duration = n, n = r, r = null); var u, l, c, h, p, f, d, g, y = (a = t.call(this, s ? n : Mt(n), r) || this).vars, m = y.duration, v = y.delay, _ = y.immediateRender, b = y.stagger, w = y.overwrite, x = y.keyframes, E = y.defaults, C = a.parent, D = (X(e) ? $(e[0]) : "length" in n) ? [e] : te(e); if (a._targets = D.length ? yt(D) : ot("GSAP target " + e + " not found. https://greensock.com", !P.nullTargetWarn) || [], a._ptLookup = [], a._overwrite = w, x || b || G(m) || G(v)) { if (n = a.vars, (u = a.timeline = new ke({ data: "nested", defaults: E || {} })).kill(), u.parent = i(a), x) Tt(u.vars.defaults, { ease: "none" }), x.forEach((function (t) { return u.to(D, t, ">") })); else { if (h = D.length, d = b ? ne(b) : at, V(b)) for (p in b) ~ze.indexOf(p) && (g || (g = {}), g[p] = b[p]); for (l = 0; l < h; l++) { for (p in c = {}, n) Ve.indexOf(p) < 0 && (c[p] = n[p]); c.stagger = 0, g && Nt(c, g), n.yoyoEase && !n.repeat && (c.yoyoEase = n.yoyoEase), f = D[l], c.duration = +$e(m, i(a), l, f, D), c.delay = (+$e(v, i(a), l, f, D) || 0) - a._delay, !b && 1 === h && c.delay && (a._delay = v = c.delay, a._start += v, c.delay = 0), u.to(f, c, d(l, f, D)) } m = v = 0 } m || a.duration(m = u.duration()) } else a.timeline = 0; return !0 === w && (Fe = i(a), o.killTweensOf(D), Fe = 0), C && $t(C, i(a)), (_ || !m && !x && a._start === C._time && U(_) && function t(e) { return !e || e._ts && t(e.parent) }(i(a)) && "nested" !== C.data) && (a._tTime = -1e-8, a.render(Math.max(0, -v))), a } r(e, t); var n = e.prototype; return n.render = function (t, e, n) { var i, r, o, s, a, u, l, c, h, p = this._time, f = this._tDur, d = this._dur, g = t > f - 1e-8 && t >= 0 ? f : t < 1e-8 ? 0 : t; if (d) { if (g !== this._tTime || !t || n || this._startAt && this._zTime < 0 != t < 0) { if (i = g, c = this.timeline, this._repeat) { if (s = d + this._rDelay, ((i = bt(g % s)) > d || f === g) && (i = d), (o = ~~(g / s)) && o === g / s && (i = d, o--), (u = this._yoyo && 1 & o) && (h = this._yEase, i = d - i), a = qt(this._tTime, s), i === p && !n && this._initted) return this; o !== a && (!this.vars.repeatRefresh || u || this._lock || (this._lock = n = 1, this.render(s * o, !0).invalidate()._lock = 0)) } if (!this._initted) { if (Vt(this, i, n, e)) return this._tTime = 0, this; if (d !== this._dur) return this.render(t, e, n) } for (this._tTime = g, this._time = i, !this._act && this._ts && (this._act = 1, this._lazy = 0), this.ratio = l = (h || this._ease)(i / d), this._from && (this.ratio = l = 1 - l), p || !i || e || ce(this, "onStart"), r = this._pt; r;)r.r(l, r.d), r = r._next; c && c.render(t < 0 ? t : !i && u ? -1e-8 : c._dur * l, e, n) || this._startAt && (this._zTime = t), this._onUpdate && !e && (t < 0 && this._startAt && this._startAt.render(t, !0, n), ce(this, "onUpdate")), this._repeat && o !== a && this.vars.onRepeat && !e && this.parent && ce(this, "onRepeat"), g !== this._tDur && g || this._tTime !== g || (t < 0 && this._startAt && !this._onUpdate && this._startAt.render(t, !0, n), (t || !d) && (t && this._ts > 0 || !g && this._ts < 0) && Ot(this, 1), e || t < 0 && !p || g < f && this.timeScale() > 0 || (ce(this, g === f ? "onComplete" : "onReverseComplete", !0), this._prom && this._prom())) } } else !function (t, e, n, i) { var r, o = t._zTime < 0 ? 0 : 1, s = e < 0 ? 0 : 1, a = t._rDelay, u = 0; if (a && t._repeat && (u = Wt(0, t._tDur, e), qt(u, a) !== qt(t._tTime, a) && (o = 1 - s, t.vars.repeatRefresh && t._initted && t.invalidate())), (t._initted || !Vt(t, e, i, n)) && (s !== o || i || 1e-8 === t._zTime || !e && t._zTime)) { for (t._zTime = e || (n ? 1e-8 : 0), t.ratio = s, t._from && (s = 1 - s), t._time = 0, t._tTime = u, n || ce(t, "onStart"), r = t._pt; r;)r.r(s, r.d), r = r._next; !s && t._startAt && !t._onUpdate && t._start && t._startAt.render(e, !0, i), t._onUpdate && (n || ce(t, "onUpdate")), u && t._repeat && !n && t.parent && ce(t, "onRepeat"), (e >= t._tDur || e < 0) && t.ratio === s && (t.ratio && Ot(t, 1), n || (ce(t, t.ratio ? "onComplete" : "onReverseComplete", !0), t._prom && t._prom())) } }(this, t, e, n); return this }, n.targets = function () { return this._targets }, n.invalidate = function () { return this._pt = this._op = this._startAt = this._onUpdate = this._act = this._lazy = 0, this._ptLookup = [], this.timeline && this.timeline.invalidate(), t.prototype.invalidate.call(this) }, n.kill = function (t, e) { if (void 0 === e && (e = "all"), !(t || e && "all" !== e) && (this._lazy = 0, this.parent)) return he(this); if (this.timeline) return this.timeline.killTweensOf(t, e, Fe && !0 !== Fe.vars.overwrite), this; var n, i, r, o, s, a, u, l = this._targets, c = t ? te(t) : l, h = this._ptLookup, p = this._pt; if ((!e || "all" === e) && function (t, e) { for (var n = t.length, i = n === e.length; i && n-- && t[n] === e[n];); return n < 0 }(l, c)) return he(this); for (n = this._op = this._op || [], "all" !== e && (j(e) && (s = {}, _t(e, (function (t) { return s[t] = 1 })), e = s), e = function (t, e) { var n, i, r, o, s = t[0] ? mt(t[0]).harness : 0, a = s && s.aliases; if (!a) return e; for (i in n = Nt({}, e), a) if (i in n) for (r = (o = a[i].split(",")).length; r--;)n[o[r]] = n[i]; return n }(l, e)), u = l.length; u--;)if (~c.indexOf(l[u])) for (s in i = h[u], "all" === e ? (n[u] = e, o = i, r = {}) : (r = n[u] = n[u] || {}, o = e), o) (a = i && i[s]) && ("kill" in a.d && !0 !== a.d.kill(s) || Lt(this, a, "_pt"), delete i[s]), "all" !== r && (r[s] = 1); return this._initted && !this._pt && p && he(this), this }, e.to = function (t, n) { return new e(t, n, arguments[2]) }, e.from = function (t, n) { return new e(t, xt(arguments, 1)) }, e.delayedCall = function (t, n, i, r) { return new e(n, 0, { immediateRender: !1, lazy: !1, overwrite: !1, delay: t, onComplete: n, onReverseComplete: n, onCompleteParams: i, onReverseCompleteParams: i, callbackScope: r }) }, e.fromTo = function (t, n, i) { return new e(t, xt(arguments, 2)) }, e.set = function (t, n) { return n.duration = 0, n.repeatDelay || (n.repeat = 0), new e(t, n) }, e.killTweensOf = function (t, e, n) { return o.killTweensOf(t, e, n) }, e }(Oe); Tt(Ue.prototype, { _targets: [], _lazy: 0, _startAt: 0, _op: 0, _onInit: 0 }), _t("staggerTo,staggerFrom,staggerFromTo", (function (t) { Ue[t] = function () { var e = new ke, n = Zt.call(arguments, 0); return n.splice("staggerFromTo" === t ? 5 : 4, 0, 0), e[t].apply(e, n) } })); var He = function (t, e, n) { return t[e] = n }, Ge = function (t, e, n) { return t[e](n) }, Xe = function (t, e, n, i) { return t[e](i.fp, n) }, Ye = function (t, e, n) { return t.setAttribute(e, n) }, We = function (t, e) { return B(t[e]) ? Ge : z(t[e]) && t.setAttribute ? Ye : He }, Je = function (t, e) { return e.set(e.t, e.p, Math.round(1e4 * (e.s + e.c * t)) / 1e4, e) }, Ze = function (t, e) { return e.set(e.t, e.p, !!(e.s + e.c * t), e) }, Ke = function (t, e) { var n = e._pt, i = ""; if (!t && e.b) i = e.b; else if (1 === t && e.e) i = e.e; else { for (; n;)i = n.p + (n.m ? n.m(n.s + n.c * t) : Math.round(1e4 * (n.s + n.c * t)) / 1e4) + i, n = n._next; i += e.c } e.set(e.t, e.p, i, e) }, Qe = function (t, e) { for (var n = e._pt; n;)n.r(t, n.d), n = n._next }, tn = function (t, e, n, i) { for (var r, o = this._pt; o;)r = o._next, o.p === i && o.modifier(t, e, n), o = r }, en = function (t) { for (var e, n, i = this._pt; i;)n = i._next, i.p === t && !i.op || i.op === t ? Lt(this, i, "_pt") : i.dep || (e = 1), i = n; return !e }, nn = function (t, e, n, i) { i.mSet(t, e, i.m.call(i.tween, n, i.mt), i) }, rn = function (t) { for (var e, n, i, r, o = t._pt; o;) { for (e = o._next, n = i; n && n.pr > o.pr;)n = n._next; (o._prev = n ? n._prev : r) ? o._prev._next = o : i = o, (o._next = n) ? n._prev = o : r = o, o = e } t._pt = i }, on = function () { function t(t, e, n, i, r, o, s, a, u) { this.t = e, this.s = i, this.c = r, this.p = n, this.r = o || Je, this.d = s || this, this.set = a || He, this.pr = u || 0, this._next = t, t && (t._prev = this) } return t.prototype.modifier = function (t, e, n) { this.mSet = this.mSet || this.set, this.set = nn, this.m = t, this.mt = n, this.tween = e }, t }(); _t(gt + "parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert", (function (t) { return ut[t] = 1 })), et.TweenMax = et.TweenLite = Ue, et.TimelineLite = et.TimelineMax = ke, o = new ke({ sortChildren: !1, defaults: A, autoRemoveChildren: !0, id: "root", smoothChildTiming: !0 }), P.stringFilter = be; var sn = { registerPlugin: function () { for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; e.forEach((function (t) { return pe(t) })) }, timeline: function (t) { return new ke(t) }, getTweensOf: function (t, e) { return o.getTweensOf(t, e) }, getProperty: function (t, e, n, i) { j(t) && (t = te(t)[0]); var r = mt(t || {}).get, o = n ? St : Dt; return "native" === n && (n = ""), t ? e ? o((ht[e] && ht[e].get || r)(t, e, n, i)) : function (e, n, i) { return o((ht[e] && ht[e].get || r)(t, e, n, i)) } : t }, quickSetter: function (t, e, n) { if ((t = te(t)).length > 1) { var i = t.map((function (t) { return ln.quickSetter(t, e, n) })), r = i.length; return function (t) { for (var e = r; e--;)i[e](t) } } t = t[0] || {}; var o = ht[e], s = mt(t), a = o ? function (e) { var i = new o; h._pt = 0, i.init(t, n ? e + n : e, h, 0, [t]), i.render(1, i), h._pt && Qe(1, h) } : s.set(t, e); return o ? a : function (i) { return a(t, e, n ? i + n : i, s, 1) } }, isTweening: function (t) { return o.getTweensOf(t, !0).length > 0 }, defaults: function (t) { return t && t.ease && (t.ease = Ie(t.ease, A.ease)), Pt(A, t || {}) }, config: function (t) { return Pt(P, t || {}) }, registerEffect: function (t) { var e = t.name, n = t.effect, i = t.plugins, r = t.defaults, o = t.extendTimeline; (i || "").split(",").forEach((function (t) { return t && !ht[t] && !et[t] && ot(e + " effect requires " + t + " plugin.") })), pt[e] = function (t, e, i) { return n(te(t), Tt(e || {}, r), i) }, o && (ke.prototype[e] = function (t, n, i) { return this.add(pt[e](t, V(n) ? n : (i = n) && {}, this), i) }) }, registerEase: function (t, e) { Ee[t] = Ie(e) }, parseEase: function (t, e) { return arguments.length ? Ie(t, e) : Ee }, getById: function (t) { return o.getById(t) }, exportRoot: function (t, e) { void 0 === t && (t = {}); var n, i, r = new ke(t); for (r.smoothChildTiming = U(t.smoothChildTiming), o.remove(r), r._dp = 0, r._time = r._tTime = o._time, n = o._first; n;)i = n._next, !e && !n._dur && n instanceof Ue && n.vars.onComplete === n._targets[0] || zt(r, n, n._start - n._delay), n = i; return zt(o, r, 0), r }, utils: { wrap: function t(e, n, i) { var r = n - e; return X(e) ? se(e, t(0, e.length), n) : Yt(i, (function (t) { return (r + (t - e) % r) % r + e })) }, wrapYoyo: function t(e, n, i) { var r = n - e, o = 2 * r; return X(e) ? se(e, t(0, e.length - 1), n) : Yt(i, (function (t) { return e + ((t = (o + (t - e) % o) % o) > r ? o - t : t) })) }, distribute: ne, random: oe, snap: re, normalize: function (t, e, n) { return ue(t, e, 0, 1, n) }, getUnit: Jt, clamp: function (t, e, n) { return Yt(n, (function (n) { return Wt(t, e, n) })) }, splitColor: ge, toArray: te, mapRange: ue, pipe: function () { for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; return function (t) { return e.reduce((function (t, e) { return e(t) }), t) } }, unitize: function (t, e) { return function (n) { return t(parseFloat(n)) + (e || Jt(n)) } }, interpolate: function t(e, n, i, r) { var o = isNaN(e + n) ? 0 : function (t) { return (1 - t) * e + t * n }; if (!o) { var s, a, u, l, c, h = j(e), p = {}; if (!0 === i && (r = 1) && (i = null), h) e = { p: e }, n = { p: n }; else if (X(e) && !X(n)) { for (u = [], l = e.length, c = l - 2, a = 1; a < l; a++)u.push(t(e[a - 1], e[a])); l--, o = function (t) { t *= l; var e = Math.min(c, ~~t); return u[e](t - e) }, i = n } else r || (e = Nt(X(e) ? [] : {}, e)); if (!u) { for (s in n) qe.call(p, e, s, "get", n[s]); o = function (t) { return Qe(t, p) || (h ? e.p : e) } } } return Yt(i, o) }, shuffle: ee }, install: it, effects: pt, ticker: we, updateRoot: ke.updateRoot, plugins: ht, globalTimeline: o, core: { PropTween: on, globals: st, Tween: Ue, Timeline: ke, Animation: Oe, getCache: mt, _removeLinkedListItem: Lt } }; _t("to,from,fromTo,delayedCall,set,killTweensOf", (function (t) { return sn[t] = Ue[t] })), we.add(ke.updateRoot), h = sn.to({}, { duration: 0 }); var an = function (t, e) { for (var n = t._pt; n && n.p !== e && n.op !== e && n.fp !== e;)n = n._next; return n }, un = function (t, e) { return { name: t, rawVars: 1, init: function (t, n, i) { i._onInit = function (t) { var i, r; if (j(n) && (i = {}, _t(n, (function (t) { return i[t] = 1 })), n = i), e) { for (r in i = {}, n) i[r] = e(n[r]); n = i } !function (t, e) { var n, i, r, o = t._targets; for (n in e) for (i = o.length; i--;)(r = t._ptLookup[i][n]) && (r = r.d) && (r._pt && (r = an(r, n)), r && r.modifier && r.modifier(e[n], t, o[i], n)) }(t, n) } } } }, ln = sn.registerPlugin({ name: "attr", init: function (t, e, n, i, r) { for (var o in e) this.add(t, "setAttribute", (t.getAttribute(o) || 0) + "", e[o], i, r, 0, 0, o), this._props.push(o) } }, { name: "endArray", init: function (t, e) { for (var n = e.length; n--;)this.add(t, n, t[n] || 0, e[n]) } }, un("roundProps", ie), un("modifiers"), un("snap", re)) || sn; Ue.version = ke.version = ln.version = "3.2.6", l = 1, H() && xe(); Ee.Power0, Ee.Power1, Ee.Power2, Ee.Power3, Ee.Power4, Ee.Linear, Ee.Quad, Ee.Cubic, Ee.Quart, Ee.Quint, Ee.Strong, Ee.Elastic, Ee.Back, Ee.SteppedEase, Ee.Bounce, Ee.Sine, Ee.Expo, Ee.Circ; var cn, hn, pn, fn, dn, gn, yn, mn, vn = {}, _n = 180 / Math.PI, bn = Math.PI / 180, wn = Math.atan2, xn = /([A-Z])/g, En = /(?:left|right|width|margin|padding|x)/i, Cn = /[\s,\(]\S/, Dn = { autoAlpha: "opacity,visibility", scale: "scaleX,scaleY", alpha: "opacity" }, Sn = function (t, e) { return e.set(e.t, e.p, Math.round(1e4 * (e.s + e.c * t)) / 1e4 + e.u, e) }, Tn = function (t, e) { return e.set(e.t, e.p, 1 === t ? e.e : Math.round(1e4 * (e.s + e.c * t)) / 1e4 + e.u, e) }, In = function (t, e) { return e.set(e.t, e.p, t ? Math.round(1e4 * (e.s + e.c * t)) / 1e4 + e.u : e.b, e) }, Nn = function (t, e) { var n = e.s + e.c * t; e.set(e.t, e.p, ~~(n + (n < 0 ? -.5 : .5)) + e.u, e) }, Pn = function (t, e) { return e.set(e.t, e.p, t ? e.e : e.b, e) }, An = function (t, e) { return e.set(e.t, e.p, 1 !== t ? e.b : e.e, e) }, Mn = function (t, e, n) { return t.style[e] = n }, Ln = function (t, e, n) { return t.style.setProperty(e, n) }, On = function (t, e, n) { return t._gsap[e] = n }, kn = function (t, e, n) { return t._gsap.scaleX = t._gsap.scaleY = n }, Fn = function (t, e, n, i, r) { var o = t._gsap; o.scaleX = o.scaleY = n, o.renderTransform(r, o) }, Rn = function (t, e, n, i, r) { var o = t._gsap; o[e] = n, o.renderTransform(r, o) }, qn = "transform", jn = qn + "Origin", Bn = function (t, e) { var n = hn.createElementNS ? hn.createElementNS((e || "http://www.w3.org/1999/xhtml").replace(/^https/, "http"), t) : hn.createElement(t); return n.style ? n : hn.createElement(t) }, $n = function t(e, n, i) { var r = getComputedStyle(e); return r[n] || r.getPropertyValue(n.replace(xn, "-$1").toLowerCase()) || r.getPropertyValue(n) || !i && t(e, Vn(n) || n, 1) || "" }, zn = "O,Moz,ms,Ms,Webkit".split(","), Vn = function (t, e, n) { var i = (e || dn).style, r = 5; if (t in i && !n) return t; for (t = t.charAt(0).toUpperCase() + t.substr(1); r-- && !(zn[r] + t in i);); return r < 0 ? null : (3 === r ? "ms" : r >= 0 ? zn[r] : "") + t }, Un = function () { "undefined" != typeof window && (cn = window, hn = cn.document, pn = hn.documentElement, dn = Bn("div") || { style: {} }, gn = Bn("div"), qn = Vn(qn), jn = Vn(jn), dn.style.cssText = "border-width:0;line-height:0;position:absolute;padding:0", mn = !!Vn("perspective"), fn = 1) }, Hn = function t(e) { var n, i = Bn("svg", this.ownerSVGElement && this.ownerSVGElement.getAttribute("xmlns") || "http://www.w3.org/2000/svg"), r = this.parentNode, o = this.nextSibling, s = this.style.cssText; if (pn.appendChild(i), i.appendChild(this), this.style.display = "block", e) try { n = this.getBBox(), this._gsapBBox = this.getBBox, this.getBBox = t } catch (t) { } else this._gsapBBox && (n = this._gsapBBox()); return r && (o ? r.insertBefore(this, o) : r.appendChild(this)), pn.removeChild(i), this.style.cssText = s, n }, Gn = function (t, e) { for (var n = e.length; n--;)if (t.hasAttribute(e[n])) return t.getAttribute(e[n]) }, Xn = function (t) { var e; try { e = t.getBBox() } catch (n) { e = Hn.call(t, !0) } return e && (e.width || e.height) || t.getBBox === Hn || (e = Hn.call(t, !0)), !e || e.width || e.x || e.y ? e : { x: +Gn(t, ["x", "cx", "x1"]) || 0, y: +Gn(t, ["y", "cy", "y1"]) || 0, width: 0, height: 0 } }, Yn = function (t) { return !(!t.getCTM || t.parentNode && !t.ownerSVGElement || !Xn(t)) }, Wn = function (t, e) { if (e) { var n = t.style; e in vn && (e = qn), n.removeProperty ? ("ms" !== e.substr(0, 2) && "webkit" !== e.substr(0, 6) || (e = "-" + e), n.removeProperty(e.replace(xn, "-$1").toLowerCase())) : n.removeAttribute(e) } }, Jn = function (t, e, n, i, r, o) { var s = new on(t._pt, e, n, 0, 1, o ? An : Pn); return t._pt = s, s.b = i, s.e = r, t._props.push(n), s }, Zn = { deg: 1, rad: 1, turn: 1 }, Kn = function t(e, n, i, r) { var o, s, a, u, l = parseFloat(i) || 0, c = (i + "").trim().substr((l + "").length) || "px", h = dn.style, p = En.test(n), f = "svg" === e.tagName.toLowerCase(), d = (f ? "client" : "offset") + (p ? "Width" : "Height"), g = "px" === r, y = "%" === r; return r === c || !l || Zn[r] || Zn[c] ? l : ("px" !== c && !g && (l = t(e, n, i, "px")), u = e.getCTM && Yn(e), y && (vn[n] || ~n.indexOf("adius")) ? bt(l / (u ? e.getBBox()[p ? "width" : "height"] : e[d]) * 100) : (h[p ? "width" : "height"] = 100 + (g ? c : r), s = ~n.indexOf("adius") || "em" === r && e.appendChild && !f ? e : e.parentNode, u && (s = (e.ownerSVGElement || {}).parentNode), s && s !== hn && s.appendChild || (s = hn.body), (a = s._gsap) && y && a.width && p && a.time === we.time ? bt(l / a.width * 100) : ((y || "%" === c) && (h.position = $n(e, "position")), s === e && (h.position = "static"), s.appendChild(dn), o = dn[d], s.removeChild(dn), h.position = "absolute", p && y && ((a = mt(s)).time = we.time, a.width = s[d]), bt(g ? o * l / 100 : o && l ? 100 / o * l : 0)))) }, Qn = function (t, e, n, i) { var r; return fn || Un(), e in Dn && "transform" !== e && ~(e = Dn[e]).indexOf(",") && (e = e.split(",")[0]), vn[e] && "transform" !== e ? (r = ci(t, i), r = "transformOrigin" !== e ? r[e] : hi($n(t, jn)) + " " + r.zOrigin + "px") : (!(r = t.style[e]) || "auto" === r || i || ~(r + "").indexOf("calc(")) && (r = ii[e] && ii[e](t, e, n) || $n(t, e) || vt(t, e) || ("opacity" === e ? 1 : 0)), n && !~(r + "").indexOf(" ") ? Kn(t, e, r, n) + n : r }, ti = function (t, e, n, i) { if (!n || "none" === n) { var r = Vn(e, t, 1), o = r && $n(t, r, 1); o && o !== n && (e = r, n = o) } var s, a, u, l, c, h, p, f, d, g, y, m, v = new on(this._pt, t.style, e, 0, 1, Ke), _ = 0, b = 0; if (v.b = n, v.e = i, n += "", "auto" === (i += "") && (t.style[e] = i, i = $n(t, e) || i, t.style[e] = n), be(s = [n, i]), i = s[1], u = (n = s[0]).match(J) || [], (i.match(J) || []).length) { for (; a = J.exec(i);)p = a[0], d = i.substring(_, a.index), c ? c = (c + 1) % 5 : "rgba(" !== d.substr(-5) && "hsla(" !== d.substr(-5) || (c = 1), p !== (h = u[b++] || "") && (l = parseFloat(h) || 0, y = h.substr((l + "").length), (m = "=" === p.charAt(1) ? +(p.charAt(0) + "1") : 0) && (p = p.substr(2)), f = parseFloat(p), g = p.substr((f + "").length), _ = J.lastIndex - g.length, g || (g = g || P.units[e] || y, _ === i.length && (i += g, v.e += g)), y !== g && (l = Kn(t, e, h, g) || 0), v._pt = { _next: v._pt, p: d || 1 === b ? d : ",", s: l, c: m ? m * f : f - l, m: c && c < 4 ? Math.round : 0 }); v.c = _ < i.length ? i.substring(_, i.length) : "" } else v.r = "display" === e && "none" === i ? An : Pn; return Q.test(i) && (v.e = 0), this._pt = v, v }, ei = { top: "0%", bottom: "100%", left: "0%", right: "100%", center: "50%" }, ni = function (t, e) { if (e.tween && e.tween._time === e.tween._dur) { var n, i, r, o = e.t, s = o.style, a = e.u, u = o._gsap; if ("all" === a || !0 === a) s.cssText = "", i = 1; else for (r = (a = a.split(",")).length; --r > -1;)n = a[r], vn[n] && (i = 1, n = "transformOrigin" === n ? jn : qn), Wn(o, n); i && (Wn(o, qn), u && (u.svg && o.removeAttribute("transform"), ci(o, 1), u.uncache = 1)) } }, ii = { clearProps: function (t, e, n, i, r) { if ("isFromStart" !== r.data) { var o = t._pt = new on(t._pt, e, n, 0, 0, ni); return o.u = i, o.pr = -10, o.tween = r, t._props.push(n), 1 } } }, ri = [1, 0, 0, 1, 0, 0], oi = {}, si = function (t) { return "matrix(1, 0, 0, 1, 0, 0)" === t || "none" === t || !t }, ai = function (t) { var e = $n(t, qn); return si(e) ? ri : e.substr(7).match(W).map(bt) }, ui = function (t, e) { var n, i, r, o, s = t._gsap || mt(t), a = t.style, u = ai(t); return s.svg && t.getAttribute("transform") ? "1,0,0,1,0,0" === (u = [(r = t.transform.baseVal.consolidate().matrix).a, r.b, r.c, r.d, r.e, r.f]).join(",") ? ri : u : (u !== ri || t.offsetParent || t === pn || s.svg || (r = a.display, a.display = "block", (n = t.parentNode) && t.offsetParent || (o = 1, i = t.nextSibling, pn.appendChild(t)), u = ai(t), r ? a.display = r : Wn(t, "display"), o && (i ? n.insertBefore(t, i) : n ? n.appendChild(t) : pn.removeChild(t))), e && u.length > 6 ? [u[0], u[1], u[4], u[5], u[12], u[13]] : u) }, li = function (t, e, n, i, r, o) { var s, a, u, l = t._gsap, c = r || ui(t, !0), h = l.xOrigin || 0, p = l.yOrigin || 0, f = l.xOffset || 0, d = l.yOffset || 0, g = c[0], y = c[1], m = c[2], v = c[3], _ = c[4], b = c[5], w = e.split(" "), x = parseFloat(w[0]) || 0, E = parseFloat(w[1]) || 0; n ? c !== ri && (a = g * v - y * m) && (u = x * (-y / a) + E * (g / a) - (g * b - y * _) / a, x = x * (v / a) + E * (-m / a) + (m * b - v * _) / a, E = u) : (x = (s = Xn(t)).x + (~w[0].indexOf("%") ? x / 100 * s.width : x), E = s.y + (~(w[1] || w[0]).indexOf("%") ? E / 100 * s.height : E)), i || !1 !== i && l.smooth ? (_ = x - h, b = E - p, l.xOffset = f + (_ * g + b * m) - _, l.yOffset = d + (_ * y + b * v) - b) : l.xOffset = l.yOffset = 0, l.xOrigin = x, l.yOrigin = E, l.smooth = !!i, l.origin = e, l.originIsAbsolute = !!n, t.style[jn] = "0px 0px", o && (Jn(o, l, "xOrigin", h, x), Jn(o, l, "yOrigin", p, E), Jn(o, l, "xOffset", f, l.xOffset), Jn(o, l, "yOffset", d, l.yOffset)), t.setAttribute("data-svg-origin", x + " " + E) }, ci = function (t, e) { var n = t._gsap || new Le(t); if ("x" in n && !e && !n.uncache) return n; var i, r, o, s, a, u, l, c, h, p, f, d, g, y, m, v, _, b, w, x, E, C, D, S, T, I, N, A, M, L, O, k, F = t.style, R = n.scaleX < 0, q = $n(t, jn) || "0"; return i = r = o = u = l = c = h = p = f = 0, s = a = 1, n.svg = !(!t.getCTM || !Yn(t)), y = ui(t, n.svg), n.svg && (S = !n.uncache && t.getAttribute("data-svg-origin"), li(t, S || q, !!S || n.originIsAbsolute, !1 !== n.smooth, y)), d = n.xOrigin || 0, g = n.yOrigin || 0, y !== ri && (b = y[0], w = y[1], x = y[2], E = y[3], i = C = y[4], r = D = y[5], 6 === y.length ? (s = Math.sqrt(b * b + w * w), a = Math.sqrt(E * E + x * x), u = b || w ? wn(w, b) * _n : 0, (h = x || E ? wn(x, E) * _n + u : 0) && (a *= Math.cos(h * bn)), n.svg && (i -= d - (d * b + g * x), r -= g - (d * w + g * E))) : (k = y[6], L = y[7], N = y[8], A = y[9], M = y[10], O = y[11], i = y[12], r = y[13], o = y[14], l = (m = wn(k, M)) * _n, m && (S = C * (v = Math.cos(-m)) + N * (_ = Math.sin(-m)), T = D * v + A * _, I = k * v + M * _, N = C * -_ + N * v, A = D * -_ + A * v, M = k * -_ + M * v, O = L * -_ + O * v, C = S, D = T, k = I), c = (m = wn(-x, M)) * _n, m && (v = Math.cos(-m), O = E * (_ = Math.sin(-m)) + O * v, b = S = b * v - N * _, w = T = w * v - A * _, x = I = x * v - M * _), u = (m = wn(w, b)) * _n, m && (S = b * (v = Math.cos(m)) + w * (_ = Math.sin(m)), T = C * v + D * _, w = w * v - b * _, D = D * v - C * _, b = S, C = T), l && Math.abs(l) + Math.abs(u) > 359.9 && (l = u = 0, c = 180 - c), s = bt(Math.sqrt(b * b + w * w + x * x)), a = bt(Math.sqrt(D * D + k * k)), m = wn(C, D), h = Math.abs(m) > 2e-4 ? m * _n : 0, f = O ? 1 / (O < 0 ? -O : O) : 0), n.svg && (y = t.getAttribute("transform"), n.forceCSS = t.setAttribute("transform", "") || !si($n(t, qn)), y && t.setAttribute("transform", y))), Math.abs(h) > 90 && Math.abs(h) < 270 && (R ? (s *= -1, h += u <= 0 ? 180 : -180, u += u <= 0 ? 180 : -180) : (a *= -1, h += h <= 0 ? 180 : -180)), n.x = ((n.xPercent = i && Math.round(t.offsetWidth / 2) === Math.round(-i) ? -50 : 0) ? 0 : i) + "px", n.y = ((n.yPercent = r && Math.round(t.offsetHeight / 2) === Math.round(-r) ? -50 : 0) ? 0 : r) + "px", n.z = o + "px", n.scaleX = bt(s), n.scaleY = bt(a), n.rotation = bt(u) + "deg", n.rotationX = bt(l) + "deg", n.rotationY = bt(c) + "deg", n.skewX = h + "deg", n.skewY = p + "deg", n.transformPerspective = f + "px", (n.zOrigin = parseFloat(q.split(" ")[2]) || 0) && (F[jn] = hi(q)), n.xOffset = n.yOffset = 0, n.force3D = P.force3D, n.renderTransform = n.svg ? gi : mn ? di : fi, n.uncache = 0, n }, hi = function (t) { return (t = t.split(" "))[0] + " " + t[1] }, pi = function (t, e, n) { var i = Jt(e); return bt(parseFloat(e) + parseFloat(Kn(t, "x", n + "px", i))) + i }, fi = function (t, e) { e.z = "0px", e.rotationY = e.rotationX = "0deg", e.force3D = 0, di(t, e) }, di = function (t, e) { var n = e || this, i = n.xPercent, r = n.yPercent, o = n.x, s = n.y, a = n.z, u = n.rotation, l = n.rotationY, c = n.rotationX, h = n.skewX, p = n.skewY, f = n.scaleX, d = n.scaleY, g = n.transformPerspective, y = n.force3D, m = n.target, v = n.zOrigin, _ = "", b = "auto" === y && t && 1 !== t || !0 === y; if (v && ("0deg" !== c || "0deg" !== l)) { var w, x = parseFloat(l) * bn, E = Math.sin(x), C = Math.cos(x); x = parseFloat(c) * bn, w = Math.cos(x), o = pi(m, o, E * w * -v), s = pi(m, s, -Math.sin(x) * -v), a = pi(m, a, C * w * -v + v) } "0px" !== g && (_ += "perspective(" + g + ") "), (i || r) && (_ += "translate(" + i + "%, " + r + "%) "), (b || "0px" !== o || "0px" !== s || "0px" !== a) && (_ += "0px" !== a || b ? "translate3d(" + o + ", " + s + ", " + a + ") " : "translate(" + o + ", " + s + ") "), "0deg" !== u && (_ += "rotate(" + u + ") "), "0deg" !== l && (_ += "rotateY(" + l + ") "), "0deg" !== c && (_ += "rotateX(" + c + ") "), "0deg" === h && "0deg" === p || (_ += "skew(" + h + ", " + p + ") "), 1 === f && 1 === d || (_ += "scale(" + f + ", " + d + ") "), m.style[qn] = _ || "translate(0, 0)" }, gi = function (t, e) { var n, i, r, o, s, a = e || this, u = a.xPercent, l = a.yPercent, c = a.x, h = a.y, p = a.rotation, f = a.skewX, d = a.skewY, g = a.scaleX, y = a.scaleY, m = a.target, v = a.xOrigin, _ = a.yOrigin, b = a.xOffset, w = a.yOffset, x = a.forceCSS, E = parseFloat(c), C = parseFloat(h); p = parseFloat(p), f = parseFloat(f), (d = parseFloat(d)) && (f += d = parseFloat(d), p += d), p || f ? (p *= bn, f *= bn, n = Math.cos(p) * g, i = Math.sin(p) * g, r = Math.sin(p - f) * -y, o = Math.cos(p - f) * y, f && (d *= bn, s = Math.tan(f - d), r *= s = Math.sqrt(1 + s * s), o *= s, d && (s = Math.tan(d), n *= s = Math.sqrt(1 + s * s), i *= s)), n = bt(n), i = bt(i), r = bt(r), o = bt(o)) : (n = g, o = y, i = r = 0), (E && !~(c + "").indexOf("px") || C && !~(h + "").indexOf("px")) && (E = Kn(m, "x", c, "px"), C = Kn(m, "y", h, "px")), (v || _ || b || w) && (E = bt(E + v - (v * n + _ * r) + b), C = bt(C + _ - (v * i + _ * o) + w)), (u || l) && (s = m.getBBox(), E = bt(E + u / 100 * s.width), C = bt(C + l / 100 * s.height)), s = "matrix(" + n + "," + i + "," + r + "," + o + "," + E + "," + C + ")", m.setAttribute("transform", s), x && (m.style[qn] = s) }, yi = function (t, e, n, i, r, o) { var s, a, u = j(r), l = parseFloat(r) * (u && ~r.indexOf("rad") ? _n : 1), c = o ? l * o : l - i, h = i + c + "deg"; return u && ("short" === (s = r.split("_")[1]) && (c %= 360) !== c % 180 && (c += c < 0 ? 360 : -360), "cw" === s && c < 0 ? c = (c + 36e9) % 360 - 360 * ~~(c / 360) : "ccw" === s && c > 0 && (c = (c - 36e9) % 360 - 360 * ~~(c / 360))), t._pt = a = new on(t._pt, e, n, i, c, Tn), a.e = h, a.u = "deg", t._props.push(n), a }, mi = function (t, e, n) { var i, r, o, s, a, u, l, c = gn.style, h = n._gsap; for (r in c.cssText = getComputedStyle(n).cssText + ";position:absolute;display:block;", c[qn] = e, hn.body.appendChild(gn), i = ci(gn, 1), vn) (o = h[r]) !== (s = i[r]) && "perspective,force3D,transformOrigin,svgOrigin".indexOf(r) < 0 && (a = Jt(o) !== (l = Jt(s)) ? Kn(n, r, o, l) : parseFloat(o), u = parseFloat(s), t._pt = new on(t._pt, h, r, a, u - a, Sn), t._pt.u = l || 0, t._props.push(r)); hn.body.removeChild(gn) }; _t("padding,margin,Width,Radius", (function (t, e) { var n = "Top", i = "Right", r = "Bottom", o = "Left", s = (e < 3 ? [n, i, r, o] : [n + o, n + i, r + i, r + o]).map((function (n) { return e < 2 ? t + n : "border" + n + t })); ii[e > 1 ? "border" + t : t] = function (t, e, n, i, r) { var o, a; if (arguments.length < 4) return o = s.map((function (e) { return Qn(t, e, n) })), 5 === (a = o.join(" ")).split(o[0]).length ? o[0] : a; o = (i + "").split(" "), a = {}, s.forEach((function (t, e) { return a[t] = o[e] = o[e] || o[(e - 1) / 2 | 0] })), t.init(e, a, r) } })); var vi, _i, bi = { name: "css", register: Un, targetTest: function (t) { return t.style && t.nodeType }, init: function (t, e, n, i, r) { var o, s, a, u, l, c, h, p, f, d, g, y, m, v, _, b, w, x, E, C = this._props, D = t.style; for (h in fn || Un(), e) if ("autoRound" !== h && (s = e[h], !ht[h] || !je(h, e, n, i, t, r))) if (l = typeof s, c = ii[h], "function" === l && (l = typeof (s = s.call(n, i, t, r))), "string" === l && ~s.indexOf("random(") && (s = ae(s)), c) c(this, t, h, s, n) && (_ = 1); else if ("--" === h.substr(0, 2)) this.add(D, "setProperty", getComputedStyle(t).getPropertyValue(h) + "", s + "", i, r, 0, 0, h); else { if (o = Qn(t, h), u = parseFloat(o), (d = "string" === l && "=" === s.charAt(1) ? +(s.charAt(0) + "1") : 0) && (s = s.substr(2)), a = parseFloat(s), h in Dn && ("autoAlpha" === h && (1 === u && "hidden" === Qn(t, "visibility") && a && (u = 0), Jn(this, D, "visibility", u ? "inherit" : "hidden", a ? "inherit" : "hidden", !a)), "scale" !== h && "transform" !== h && ~(h = Dn[h]).indexOf(",") && (h = h.split(",")[0])), g = h in vn) if (y || ((m = t._gsap).renderTransform || ci(t), v = !1 !== e.smoothOrigin && m.smooth, (y = this._pt = new on(this._pt, D, qn, 0, 1, m.renderTransform, m, 0, -1)).dep = 1), "scale" === h) this._pt = new on(this._pt, m, "scaleY", m.scaleY, d ? d * a : a - m.scaleY), C.push("scaleY", h), h += "X"; else { if ("transformOrigin" === h) { w = void 0, x = void 0, E = void 0, w = (b = s).split(" "), x = w[0], E = w[1] || "50%", "top" !== x && "bottom" !== x && "left" !== E && "right" !== E || (b = x, x = E, E = b), w[0] = ei[x] || x, w[1] = ei[E] || E, s = w.join(" "), m.svg ? li(t, s, 0, v, 0, this) : ((f = parseFloat(s.split(" ")[2]) || 0) !== m.zOrigin && Jn(this, m, "zOrigin", m.zOrigin, f), Jn(this, D, h, hi(o), hi(s))); continue } if ("svgOrigin" === h) { li(t, s, 1, v, 0, this); continue } if (h in oi) { yi(this, m, h, u, s, d); continue } if ("smoothOrigin" === h) { Jn(this, m, "smooth", m.smooth, s); continue } if ("force3D" === h) { m[h] = s; continue } if ("transform" === h) { mi(this, s, t); continue } } else h in D || (h = Vn(h) || h); if (g || (a || 0 === a) && (u || 0 === u) && !Cn.test(s) && h in D) a || (a = 0), (p = (o + "").substr((u + "").length)) !== (f = (s + "").substr((a + "").length) || (h in P.units ? P.units[h] : p)) && (u = Kn(t, h, o, f)), this._pt = new on(this._pt, g ? m : D, h, u, d ? d * a : a - u, "px" !== f || !1 === e.autoRound || g ? Sn : Nn), this._pt.u = f || 0, p !== f && (this._pt.b = o, this._pt.r = In); else if (h in D) ti.call(this, t, h, o, s); else { if (!(h in t)) { rt(h, s); continue } this.add(t, h, t[h], s, i, r) } C.push(h) } _ && rn(this) }, get: Qn, aliases: Dn, getSetter: function (t, e, n) { var i = Dn[e]; return i && i.indexOf(",") < 0 && (e = i), e in vn && e !== jn && (t._gsap.x || Qn(t, "x")) ? n && yn === n ? "scale" === e ? kn : On : (yn = n || {}) && ("scale" === e ? Fn : Rn) : t.style && !z(t.style[e]) ? Mn : ~e.indexOf("-") ? Ln : We(t, e) }, core: { _removeProperty: Wn, _getMatrix: ui } }; ln.utils.checkPrefix = Vn, _i = _t("x,y,z,scale,scaleX,scaleY,xPercent,yPercent," + (vi = "rotation,rotationX,rotationY,skewX,skewY") + ",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective", (function (t) { vn[t] = 1 })), _t(vi, (function (t) { P.units[t] = "deg", oi[t] = 1 })), Dn[_i[13]] = "x,y,z,scale,scaleX,scaleY,xPercent,yPercent," + vi, _t("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY", (function (t) { var e = t.split(":"); Dn[e[1]] = _i[e[0]] })), _t("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective", (function (t) { P.units[t] = "px" })), ln.registerPlugin(bi); var wi = ln.registerPlugin(bi) || ln; wi.core.Tween }, zk27: function (t, e, n) { "use strict"; n.r(e), function (t) { n("oaNO"), n("3rzb"); var e = n("gSSN"), i = n("40Bf"), r = n("u0CG"), o = n("vxtE"), s = n("LEGP"), a = n("DkkF"), u = n("SQpw"), l = n("em3R"), c = n("yOwv"), h = n("IqVK"), p = n("81+h"), f = n("YPiy"), d = n("POyA"), g = n("m6+v"), y = n("2ltT"), m = n("vC6g"), v = n("v461"), _ = n("3A5M"), b = n("SmdU"), w = n("2GmB"), x = n("e931"), E = n("C8Kr"), C = n("dSmP"), D = n("YL1s"), S = n("7h5Y"), T = n("1iqW"), I = n("hy0z"), N = n("WANX"), P = n("4ZB7"), A = n("A1x7"), M = n("lrQL"), L = n("7wgh"), O = n("Q/IP"), k = n("3Okf"), F = n("VJ4P"), R = n("TbSm"), q = n("mbPF"), j = n("QTSV"), B = n("eg/h"), $ = n("ztje"), z = n("sl2N"), V = n("3nJQ"), U = n("ZLor"), H = n("W4kt"), G = n("90nL"), X = n("rDb1"), Y = n("IsM2"), W = n("o86m"), J = n("NUvY"), Z = n("Yxhv"), K = n("y0fh"), Q = n("Pp9c"), tt = n("rQ/Y"), et = n("1752"), nt = n("dgZT"), it = n("hplV"), rt = n("Pwth"), ot = n("1LHL"), st = n("jVFj"), at = n("Bvw5"), ut = n("K0DA"); window.easings = {}, window.easings.ease = "cubicBezier(0.25, 0.46, 0.45, 0.94)", window.easings.andrew = "cubicBezier(0.77, 0, 0.175, 1)", window.easings.feebles1 = "cubicBezier(.8,.03,.25,1)", window.easings.feebles2 = "cubicBezier(.72,.01,.25,1)", window.easings.ease2 = "cubicBezier(.48,.1,.48,.9)", window.Breakpoint = {}, Breakpoint.refreshValue = function () { this.value = window.getComputedStyle(document.querySelector("body"), ":before").getPropertyValue("content").replace(/\"/g, "") }, t(window).resize((function () { Breakpoint.refreshValue() })).resize(), t(document).ready((function () { var n = [{ handle: ".comp-GalleryFullWidthSlider", require: o.a }, { handle: ".comp-GallerySideBySide", require: s.a }, { handle: ".comp-HeroHomepage", require: a.a }, { handle: ".comp-HeroProject", require: u.a }, { handle: ".comp-ListingTwoUpProjects", require: l.a }, { handle: ".comp-FooterStandard", require: c.a }, { handle: ".comp-HeroStandard", require: h.a }, { handle: ".layout-LayoutInsightDetail", require: p.a }, { handle: ".comp-TextContent", require: f.a }, { handle: ".comp-FullWidthImage", require: d.a }, { handle: ".comp-InsightIntro", require: g.a }, { handle: ".comp-ListingInsights", require: y.a }, { handle: ".comp-GalleryBeforeAfter", require: m.a }, { handle: ".comp-ContentBackgroundImage", require: v.a }, { handle: ".comp-HeroBgImageWithSubheading", require: _.a }, { handle: ".comp-ListingFourUpProjects", require: b.a }, { handle: ".comp-FormWithTextContent", require: w.a }, { handle: ".comp-HeroContentImageExtended", require: x.a }, { handle: ".comp-HeroBgImageCenteredSlider", require: E.a }, { handle: ".comp-MapWithMarkersSimple", require: C.a }, { handle: ".comp-QuoteTallSlider", require: D.a }, { handle: ".comp-Logos", require: S.a }, { handle: ".comp-FooterSimple", require: T.a }, { handle: ".comp-QuoteShortWithIcon", require: I.a }, { handle: ".comp-ListingThreeUpImageCardSlider", require: N.a }, { handle: ".comp-ListingThreeUpImageItems", require: P.a }, { handle: ".comp-ListingTeamMembers", require: A.a }, { handle: ".comp-ListingThreeUpTextCards", require: M.a }, { handle: ".comp-ListingFiveUpProjectsSlider", require: L.a }, { handle: ".comp-FooterFull", require: O.a }, { handle: ".comp-ListingFourUpImageCardsLight", require: k.a }, { handle: ".comp-ListingFourUpImageCardsDark", require: F.a }, { handle: ".atom-ButtonOutline", require: R.a }, { handle: ".comp-FormWithBgImage", require: q.a }, { handle: ".comp-CtaNewsletterSignup", require: j.a }, { handle: ".comp-CtaFullWidthContent", require: B.a }, { handle: ".comp-HeroSimplePageHeading", require: $.a }, { handle: ".comp-VideoCentered", require: z.a }, { handle: ".comp-VideoFullWidth", require: V.a }, { handle: ".comp-GalleryTwoUp", require: U.a }, { handle: ".comp-GalleryWideSlider", require: H.a }, { handle: ".comp-GalleryGrid", require: G.a }, { handle: ".comp-ContentStaggeredImages", require: X.a }, { handle: ".comp-ContentImageSlideshowLeft", require: Y.a }, { handle: ".comp-ContentImageSlideshow", require: W.a }, { handle: ".comp-ContentHeadingLeftWithButton", require: J.a }, { handle: ".comp-ContentHeadingWithText", require: Z.a }, { handle: ".atom-ButtonPrimary", require: K.a }, { handle: ".comp-ContentButtonRight", require: Q.a }, { handle: ".comp-ContentSidebarLinks", require: tt.a }, { handle: ".comp-HeroBgImage", require: et.a }, { handle: ".el-NavBarTransparentOverlay", require: nt.a }, { handle: ".comp-HeroBgImageSlider", require: it.a }, { handle: ".comp-HeroContentImage", require: rt.a }, { handle: ".el-Breadcrumb", require: ot.a }, { handle: ".comp-HeroContentImageSlider", require: st.a }, { handle: ".comp-NavOverlay", require: at.a }, { handle: ".comp-NavBarStandalone", require: ut.a }]; window.sitewide = new e.a, window.sitewide.init(), new i.a({ components: n }).initScreen(), Breakpoint.refreshValue(); var lt = t(".comp-HeroBgImageCenteredSlider"), ct = t(".comp-HeroHomepage"); if (lt.length || ct.length) { var ht = new r.a; setTimeout((function () { ht.init() }), 500) } })) }.call(this, n("EVdn")) }, ztje: function (t, e, n) { "use strict"; (function (t) { n("3rzb"); var i = function (e) { this.options = { $el: !1 }, t.extend(!0, this.options, e) }; i.prototype.init = function () { }, e.a = i }).call(this, n("EVdn")) } });
//# sourceMappingURL=app.js.map